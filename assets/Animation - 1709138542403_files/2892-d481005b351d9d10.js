(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2892,1957],{77492:function(e,n,t){"use strict";t.d(n,{o:function(){return l}});var r=t(29901),o=t(24161),a=t(47642),i=t(47381),s=t(61250),l=r.forwardRef((function(e,n){var t=e.children,r=e.contentWrapperCssClasses,l=void 0===r?"flex-grow overflow-hidden":r,u=e.headerControl,c=e.headerWrapperCssClasses,d=void 0===c?"bg-white h-16 flex items-center px-6 border-b border-gray-100 flex-shrink-0":c,f=e.id,m=(0,o.useRecoilValue)(a.qx);return(0,s.jsxs)("div",{id:f,ref:n,"data-onboarding-watch":"create_menu_new_button",className:"absolute inset-0 flex flex-col w-full overflow-y-auto",children:[u&&(0,s.jsx)("div",{className:d,children:u}),m?(0,s.jsx)(i.a,{size:"lg"}):(0,s.jsx)("div",{className:l,children:t})]})}));l.displayName="PageScaffold"},96421:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var r=t(89303),o=(t(29901),t(24161)),a=t(36243),i=t(28725),s=t(61250),l=function(){var e=(0,o.useRecoilState)(a.Hw),n=(0,r.Z)(e,2),t=n[0],l=n[1];return(0,s.jsx)(i.n,{icon:"bounding-box",title:"Bounding box",onClick:function(){l(!t)},iconColorClass:t?"text-actionPrimary":"text-gray-600"})}},2892:function(e,n,t){"use strict";t.r(n);var r=t(89303),o=t(55312),a=t(24642),i=t.n(a),s=t(59715),l=t(71108),u=t(26766),c=t(62295),d=t(83849),f=t.n(d),m=t(79120),p=t(77179),v=t.n(p),h=t(53341),b=t(88406),x=t(26929),w=t(29901),g=t(34742),C=t(24161),E=t(389),k=t(53087),y=t(77492),j=t(96421),O=t(63738),S=t(40699),M=t(60919),I=t(28725),N=t(37576),F=t(1423),T=t(31380),P=t(20419),R=t(70553),L=t(93065),q=t(99729),_=t(83349),A=t(59407),U=t(36359),Z=t(48097),D=t(25044),G=t(73901),B=t(11957),V=t(98326),K=t(18807),z=t(9725),W=t(48612),H=t(36243),Q=t(13794),J=t(47642),Y=t(48319),X=t(24450),$=t(95334),ee=t(4844),ne=t(61250),te=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,68980)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[68980]},modules:["animation/[id].tsx -> @/components/features/onboarding/onboarding-modal"]}}),re=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(7870).then(t.bind(t,97870)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[97870]},modules:["animation/[id].tsx -> @/components/features/upload/editor-handback-container"]}}),oe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(6627),t.e(508),t.e(5571),t.e(1809)]).then(t.bind(t,99547)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[99547]},modules:["animation/[id].tsx -> @/components/features/palette-swapper/color-palette-confirmation-modal"]}}),ae=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(5150).then(t.bind(t,85150)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[85150]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-export-panel"]}}),ie=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4550),t.e(1666)]).then(t.bind(t,41666)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[41666]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-qr-code"]}}),se=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(2102)]).then(t.bind(t,82102)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[82102]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-embed"]}}),le=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(8833).then(t.bind(t,88833)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[88833]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-versions"]}}),ue=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(9288),t.e(7134),t.e(8560),t.e(5743)]).then(t.bind(t,5743)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[5743]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-segment-container"]}}),ce=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134),t.e(8560),t.e(8448)]).then(t.bind(t,59149)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[59149]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-panel"]}}),de=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(7713),t.e(249),t.e(4976)]).then(t.bind(t,84976)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[84976]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-color-palettes"]}}),fe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(243),t.e(8778),t.e(4270),t.e(5627),t.e(9455),t.e(6313),t.e(3040),t.e(3551)]).then(t.bind(t,33551)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[33551]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-file-info"]}}),me=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(t.bind(t,67508)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[67508]},modules:["animation/[id].tsx -> @/components/page/animation/comment/comment-pushover"]}}),pe=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.e(9268).then(t.bind(t,49268)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[49268]},modules:["animation/[id].tsx -> @/components/page/animation/background-color-control"]}}),ve=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(4588),t.e(70),t.e(7134)]).then(t.bind(t,87134)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[87134]},modules:["animation/[id].tsx -> @/components/features/lottie-in-context/lottie-mockup-preview"]}}),he=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(2330),t.e(2208)]).then(t.bind(t,62330)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[62330]},modules:["animation/[id].tsx -> @/components/page/animation/player/animation-player"]}}),be=(0,b.default)((0,o.Z)(i().mark((function e(){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([t.e(467),t.e(6660),t.e(4550),t.e(3020),t.e(5571),t.e(9421),t.e(8958),t.e(1989),t.e(9809)]).then(t.bind(t,79809)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[79809]},modules:["animation/[id].tsx -> @/components/ui/pushovers/animation-header"]}}),xe=function(){var e,n,t,o,a,i,d,p,b,k,xe,we,ge,Ce,Ee,ke,ye,je,Oe=(0,w.useState)(),Se=Oe[0],Me=Oe[1],Ie=(0,C.useRecoilState)(H.sI),Ne=(0,r.Z)(Ie,2),Fe=Ne[0],Te=Ne[1],Pe=(0,w.useState)(),Re=Pe[0],Le=Pe[1],qe=(0,w.useState)(),_e=qe[0],Ae=qe[1],Ue=(0,C.useSetRecoilState)(J.E4),Ze=(0,C.useSetRecoilState)(H.GG),De=(0,w.useState)(null),Ge=De[0],Be=De[1],Ve=(0,w.useState)(null),Ke=Ve[0],ze=Ve[1],We=(0,w.useState)(!1),He=We[0],Qe=We[1],Je=(0,C.useResetRecoilState)(H.h3),Ye=(0,C.useResetRecoilState)(H.m9),Xe=(0,C.useResetRecoilState)(H.lS),$e=(0,C.useSetRecoilState)(Y.QJ),en=(0,w.useState)(!1),nn=en[0],tn=en[1],rn=(0,w.useRef)(!1),on=(0,w.useRef)(!1),an=(0,C.useSetRecoilState)(J.qx),sn=(0,w.useState)(),ln=sn[0],un=sn[1],cn=(0,w.useState)(null),dn=cn[0],fn=cn[1],mn=(0,w.useRef)(!1),pn=(0,N.p)(),vn=(0,h.useRouter)(),hn=vn.query,bn=hn.frame,xn=hn.sort,wn=(0,G.k)(),gn=wn.canShowOnboarding,Cn=wn.start,En=vn.query,kn=En.handback_id,yn=En.id,jn=(0,q.a)(),On=(0,V.cF)(),Sn=On.activeWorkspaceId,Mn=On.setActiveWorkspace,In=On.workspaces,Nn=(0,s.SS)(c.AD.ENABLE_ANIMATION_NAVIGATION_SHORTCUTS),Fn=(0,E.aM)({query:K.wP,variables:{id:yn},pause:!yn}),Tn=(0,r.Z)(Fn,1)[0],Pn=(0,E.aM)({query:K.xQ,variables:{id:yn,sort:xn,folderId:null===(e=Tn.data)||void 0===e||null===(n=e.file.folder)||void 0===n?void 0:n.id},pause:!yn||!Tn.data||!Nn.on}),Rn=(0,r.Z)(Pn,1)[0],Ln=(0,U.w)(),qn=(0,r.Z)(Ln,2),_n=qn[0],An=qn[1],Un=(0,D._)("animation_sidebar_panel_state",{}),Zn=(0,r.Z)(Un,1)[0],Dn=(0,w.useCallback)((function(e){e?(Be(v()(e)),fn(v()(e))):(Be(null),fn(null))}),[]);(0,Z.Z)({key:"k",action:function(){var e;if(!Nn.off)if(null!==(e=Rn.data)&&void 0!==e&&e.fileAboveAndBelowId.nextAnimation)vn.query.id=Rn.data.fileAboveAndBelowId.nextAnimation,vn.push({pathname:vn.pathname,query:vn.query}),on.current=!1;else if(!rn.current){var n=(0,ne.jsx)("div",{children:"No more animations to go to"});null==pn||pn.pushCustom(n,1e3,"bg-gray-900","text-white"),rn.current=!0}},dependencies:[Rn,Nn.off],takesPrecedence:!0}),(0,Z.Z)({key:"j",action:function(){var e;if(!Nn.off)if(null!==(e=Rn.data)&&void 0!==e&&e.fileAboveAndBelowId.prevAnimation)vn.query.id=Rn.data.fileAboveAndBelowId.prevAnimation,vn.push({pathname:vn.pathname,query:vn.query}),rn.current=!1;else if(!on.current){var n=(0,ne.jsx)("div",{children:"No more animations to go to"});null==pn||pn.pushCustom(n,1e3,"bg-gray-900","text-white"),on.current=!0}},dependencies:[Rn,Nn.off],takesPrecedence:!0}),(0,w.useEffect)((function(){if(Rn.data&&Rn.data.fileAboveAndBelowId.nextAnimation&&!mn.current&&Nn.on){var e,n="next-prev-toast-".concat(null===(e=jn.user)||void 0===e?void 0:e.id),t=localStorage.getItem(n),r=(new Date).getTime();if(!t||r-parseInt(t,10)>12096e5){localStorage.setItem(n,r.toString());var o=(0,ne.jsxs)("div",{children:["Use the ",(0,ne.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"J"})," and"," ",(0,ne.jsx)("span",{className:"px-2 py-0.5 mx-1 bg-gray-500 rounded",children:"K"})," keys to go to the next or previous animation"]});null==pn||pn.pushCustom(o,3e3,"bg-gray-900","text-white")}mn.current=!0}}),[pn,Nn.on,null===(t=jn.user)||void 0===t?void 0:t.id,Rn.data]),(0,w.useEffect)((function(){if(Tn.data){var e,n,t,r=null===(e=Tn.data.file.folder)||void 0===e?void 0:e.id,o=null===(n=Tn.data.file.folder)||void 0===n?void 0:n.name,a=Tn.data.file.project.id,i=Tn.data.file.project.title,s=null!==(t=Tn.data.file.project.isPrivate)&&void 0!==t&&t,l=Tn.data.file.project.workspaceId,u=In.some((function(e){var n;return e.id===(null===(n=Tn.data)||void 0===n?void 0:n.file.project.workspaceId)}));l&&u&&l!==Sn&&Mn(l,!1),$e({type:r?"folder":"project",name:r?o:i,folderId:r,folderName:o,projectId:a,projectTitle:i,isPrivate:s,workspaceId:l})}}),[Tn.data,$e,Sn,Mn,In]);var Gn=(0,w.useState)("#f8fafc"),Bn=Gn[0],Vn=Gn[1],Kn=(0,C.useRecoilState)(H.h3),zn=(0,r.Z)(Kn,1)[0],Wn=(0,L.a)({scopes:(null==Fe?void 0:Fe.animationPermissionScopes)||[]}),Hn=Wn.canDownload,Qn=Wn.canFullAccess,Jn=Wn.canView,Yn=(0,w.useState)({id:"",showDescOnCollection:!1,description:"",descriptionModifiedBy:null}),Xn=Yn[0],$n=Yn[1];(0,w.useEffect)((function(){var e;if((Je(),Ye(),Tn.fetching&&an(!0),!Tn.fetching)&&(an(!1),_n===X.s.NONE))if(Zn&&null!==(e=jn.user)&&void 0!==e&&e.id&&Zn[jn.user.id]){var n=Zn[jn.user.id];n===X.s.LOTTIE_MOCKUP&&An(X.s.SEGMENT_MOCKUP),An(n)}else An(X.s.DOWNLOAD);return function(){}}),[Je,Ye,An,Tn]);var et=(0,w.useCallback)((function(e){try{void 0!==(0,m.H3)(e)&&Vn(e)}catch(e){Vn("#f8fafc")}}),[]);(0,w.useEffect)((function(){var e;if(null!=zn&&zn.fileObject){Me(zn.fileObject.url),Le(zn.fileObject.metadata),Ae(zn.fileObject.attributes),ze(zn.fileObject),un(zn.tags),et(zn.backgroundColor);var n=zn.fileObject.url,t=n.substring(n.lastIndexOf("/")+1,n.indexOf("?")).split(".").pop();Ze("lottie"===t)}else if(Tn.data&&!Tn.fetching){var r;Me(Tn.data.file.fileObject.url),Te(Tn.data.file),Ue({type:"project",id:Tn.data.file.project.id}),Le(Tn.data.file.fileObject.metadata),Ae(Tn.data.file.fileObject.attributes),ze(Tn.data.file.fileObject),un(Tn.data.file.currentVersion.tags),$n({id:Tn.data.file.id,showDescOnCollection:Tn.data.file.showDescOnCollection,description:Tn.data.file.description,descriptionUpdatedAt:null===(r=Tn.data.file)||void 0===r?void 0:r.descriptionUpdatedAt,descriptionModifiedBy:Tn.data.file.descriptionModifiedBy}),et(Tn.data.file.backgroundColor);var o=Tn.data.file.fileObject.url,a=o.substring(o.lastIndexOf("/")+1,o.indexOf("?")).split(".").pop();Ze("lottie"===a)}else if(Tn.error)throw console.log("error string: ",Tn.error.toString()),Tn.error.toString().toLowerCase().includes("access denied")?new T.J:Tn.error.toString().toLowerCase().includes("file not found")?new P.T:new Error(Tn.error.message);if(null!==(e=Tn.data)&&void 0!==e&&e.file.upgradeRequired)throw new R.K}),[Tn,zn,Ze,Te,Ue,et]),(0,w.useEffect)((function(){var e;null!==(e=Tn.data)&&void 0!==e&&e.file.id&&(0,u.Z9)(new u.Aj({fileId:Tn.data.file.id,projectId:Tn.data.file.project.id,workspaceId:Tn.data.file.project.workspaceId}))}),[null===(o=Tn.data)||void 0===o?void 0:o.file.id,null===(a=Tn.data)||void 0===a?void 0:a.file.project.id,null===(i=Tn.data)||void 0===i?void 0:i.file.project.workspaceId]);var nt=(0,w.useState)(!1),tt=nt[0],rt=nt[1],ot=(0,w.useState)(!1),at=ot[0],it=ot[1],st=(0,g.r)(),lt=(0,C.useRecoilState)(Q.vQ),ut=(0,r.Z)(lt,2)[1],ct=(0,w.useCallback)((function(){vn.query.comment&&(delete vn.query.comment,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))}),[vn]),dt=(0,w.useCallback)((function(){An(X.s.NONE),tn(!1),_n===X.s.COMMENTS&&ct(),vn.query.panel&&(delete vn.query.panel,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))}),[vn,_n,An,tn,ct]),ft=(0,w.useCallback)((function(e){return function(){_n===e?(e===X.s.FILE_INFO&&ut(!1),dt()):(_n===X.s.COLOR_PALETTES&&Dn(null),e!==X.s.FILE_INFO&&ut(!1),An(e),vn.query.panel!==e&&(vn.query.panel=e,vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0}))),_n===X.s.COMMENTS&&ct()}}),[vn,dt,_n,An,ut,ct,Dn]);(0,Z.Z)({key:"c",action:function(){_n!==X.s.COMMENTS?ft(X.s.COMMENTS):_n===X.s.COMMENTS&&dt()},dependencies:[ft,dt,_n]});var mt=(0,E.aM)({query:z.g,variables:{id:kn},pause:!kn}),pt=(0,r.Z)(mt,1)[0];(0,w.useEffect)((function(){Tn.data&&Fe&&(_n!==X.s.COMMENTS&&vn.query.comment&&(ft(X.s.COMMENTS)(),vn.push({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0})),Hn()||_n!==X.s.DOWNLOAD||ft(X.s.COMMENTS)(),Hn()||_n!==X.s.EMBED||ft(X.s.COMMENTS)(),vn.query.edit_description&&(_n!==X.s.FILE_INFO&&ft(X.s.FILE_INFO)(),tn(!0),delete vn.query.edit_description,vn.replace({pathname:vn.pathname,query:vn.query},void 0,{shallow:!0})))}),[Fe,_n,vn,ft,nn,Hn,Tn.data]);var vt=(0,w.useCallback)((function(){tt?(rt(!1),st.exit()):(rt(!0),dt(),st.enter())}),[dt,st,tt]),ht=(0,w.useCallback)((function(e,n){n===st&&rt(!!e)}),[st]);(0,w.useEffect)((function(){Fe&&Cn([F._r,F.T8,F.qO,F.fA,F.rG,F.Mx,F.QT])}),[Fe]);var bt=(0,w.useCallback)((function(){it(!at)}),[at,it]),xt=(0,w.useRef)(null),wt=(0,w.useMemo)((function(){return(null==zn?void 0:zn.id)||(null==Fe?void 0:Fe.currentVersionId)||""}),[null==zn?void 0:zn.id,null==Fe?void 0:Fe.currentVersionId]),gt=(0,w.useMemo)((function(){var e,n;return{entityId:wt,entityGroupId:(null==Fe?void 0:Fe.id)||yn,isEnabled:null==zn||!zn.id||zn.id===(null==Fe?void 0:Fe.currentVersionId),workspaceId:(null==Fe||null===(e=Fe.project)||void 0===e||null===(n=e.workspace)||void 0===n?void 0:n.id)||""}}),[wt,null==zn?void 0:zn.id,null==Fe?void 0:Fe.currentVersionId,null==Fe?void 0:Fe.id,null==Fe||null===(d=Fe.project)||void 0===d||null===(p=d.workspace)||void 0===p?void 0:p.id,yn]),Ct=(0,_.X0)(gt),Et=(0,_.us)(gt),kt=(0,_.es)(gt),yt=(0,_.VP)(gt),jt=(0,_.UR)(gt),Ot=(0,_.OL)(gt),St=(0,_._i)(gt),Mt=(0,A.M)({entityId:_n===X.s.COMMENTS?wt:"",entityType:$.TY.FileVersion}),It=Mt.canFetchMoreComments,Nt=Mt.commentsQuery,Ft=Mt.onFetchMoreComments,Tt=Mt.onHideReplies,Pt=Mt.onShowReplies,Rt=Mt.parentComment,Lt=Mt.pushoverMode;(0,w.useEffect)((function(){bn&&Tt(null)}),[bn,Tt]);var qt=(0,w.useMemo)((function(){return(0,m.H3)(Bn||"#f8fafc")<.5}),[Bn]),_t=(0,E.aM)({query:W.mT,variables:{id:yn},pause:!yn||_n!==X.s.COMMENTS}),At=(0,r.Z)(_t,1)[0],Ut=(0,w.useState)(!1),Zt=Ut[0],Dt=Ut[1],Gt=(0,w.useCallback)((function(){return Dt(!0)}),[]),Bt=(0,w.useCallback)((function(){return Dt(!1)}),[]);(0,w.useEffect)((function(){Bt()}),[Lt,Bt]);var Vt=(0,w.useCallback)((function(e){return function(){_n!==e&&((0,u.Z9)(new u.lF({location:e})),ft(e)())}}),[_n,ft]);return(0,ne.jsxs)(ne.Fragment,{children:[(0,ne.jsx)(x.default,{children:(0,ne.jsx)("title",{children:(null==Fe?void 0:Fe.name)||"Animation"})}),(0,ne.jsxs)(y.o,{headerControl:(0,ne.jsx)(B.s,{features:null==Fe?void 0:Fe.features,children:(0,ne.jsx)(be,{animation:Fe,animationFetching:Tn.fetching})}),contentWrapperCssClasses:"flex overflow-hidden flex-grow",children:[Fe&&(0,ne.jsxs)(B.s,{features:Fe.features,children:[(0,ne.jsxs)(g.I,{className:f()({"flex flex-grow":!0}),handle:st,onChange:ht,children:[(0,ne.jsx)("div",{className:f()({"relative flex flex-grow ":!0,"transparency-grid":at}),children:(0,ne.jsxs)("div",{className:"relative flex w-full h-full",children:[(0,ne.jsx)("div",{className:f()({"absolute inset-0 flex flex-grow ":!0,"transparency-grid":at}),style:{background:Bn}}),_n===X.s.LOTTIE_MOCKUP?(0,ne.jsx)("div",{className:"relative flex items-center justify-center w-full h-full overflow-auto pr-80",children:(0,ne.jsx)(ve,{animation:Fe,canEdit:Qn()})}):(0,ne.jsxs)("div",{className:f()("relative flex items-center justify-center w-full h-full overflow-auto",{"pr-80":_n!==X.s.NONE}),children:[Se&&!Ge&&(0,ne.jsx)(he,{showComments:!0,canComment:!zn,mentionables:null===(b=At.data)||void 0===b?void 0:b.commentMentionableUsers,portalRoot:xt.current,animationUrl:Se,currentDiscussion:Rt,currentUserId:null===(k=jn.user)||void 0===k?void 0:k.id,entityId:wt,entityType:$.TY.FileVersion,controls:!tt,isLight:qt,onDeleteComment:Ct,onEditComment:Et,onPostComment:kt,onReplyToComment:yt,onResolveComment:jt,onSelectReaction:Ot,onUnresolveComment:St}),Se&&dn&&(0,ne.jsx)(he,{portalRoot:xt.current,animationUrl:dn,controls:!tt,isLight:qt}),!tt&&(0,ne.jsxs)("div",{className:f()("absolute top-0 bottom-0 flex flex-col pt-8 pr-8 pb-14 ",{"right-0":_n===X.s.NONE,"right-86":_n!==X.s.NONE}),children:[(0,ne.jsxs)("div",{className:"flex flex-col space-y-2","data-onboarding-id":"anim-panel-btn",children:[Jn()&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-comment-btn",children:(0,ne.jsx)(I.n,{icon:"comment",title:"Comments",shortcut:(0,ne.jsx)(M.z,{keys:["C"]}),onClick:Vt(X.s.COMMENTS),iconColorClass:_n===X.s.COMMENTS?"text-actionPrimary":"text-gray-600"})}),(0,ne.jsx)(I.n,{icon:"info",title:"Animation information",onClick:Vt(X.s.FILE_INFO),iconColorClass:_n===X.s.FILE_INFO?"text-actionPrimary":"text-gray-600"}),Qn()&&!zn&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-color-palette-btn",children:(0,ne.jsx)(I.n,{icon:"color-palette",title:"Color Palette",onClick:Vt(X.s.COLOR_PALETTES),iconColorClass:_n===X.s.COLOR_PALETTES?"text-actionPrimary":"text-gray-600"})}),!zn&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-segment-btn",children:(0,ne.jsx)(I.n,{icon:"segment-mockup",title:"Segments & Mockups",onClick:Vt(X.s.SEGMENT_MOCKUP),iconColorClass:_n===X.s.SEGMENT_MOCKUP?"text-actionPrimary":"text-gray-600"})}),Qn()&&(0,ne.jsx)("div",{"data-onboarding-id":"anim-version-btn",children:(0,ne.jsx)(I.n,{icon:"history",title:"Version History",onClick:Vt(X.s.VERSIONS),iconColorClass:_n===X.s.VERSIONS?"text-actionPrimary":"text-gray-600"})}),Hn()&&!zn&&(0,ne.jsx)(I.n,{icon:"embed",title:"Handoff & Embed",iconColorClass:_n===X.s.EMBED?"text-actionPrimary":"text-gray-600",onClick:Vt(X.s.EMBED)})]}),(0,ne.jsxs)("div",{className:"flex flex-col mt-auto space-y-2",children:[(0,ne.jsx)(j.s,{}),(0,ne.jsx)(I.n,{icon:"grid",title:"Transparency grid",onClick:bt,iconColorClass:at?"text-actionPrimary":"text-gray-600"}),(0,ne.jsx)(pe,{animationBackgroundColor:Bn,canUpdate:Qn(),onChange:function(e){Vn(e)},fileId:Fe.id,portalRoot:xt.current}),(0,ne.jsx)(I.n,{icon:"full-screen",title:"Full screen",onClick:vt,iconColorClass:tt?"text-actionPrimary":"text-gray-600"}),(0,ne.jsx)(O.L,{})]})]})]})]})}),(0,ne.jsx)("div",{className:"absolute bottom-0 right-0 flex flex-grow overflow-hidden top-16","data-onboarding-watch":"side_panel",children:(0,ne.jsxs)(l.uT,{show:_n!==X.s.NONE,className:"relative flex flex-col bg-white border-l border-gray-100 w-86",enter:"transform transition ease-in-out duration-50",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"transform transition ease-in-out duration-50",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",children:[_n!==X.s.LOTTIE_MOCKUP&&(0,ne.jsx)("div",{className:"absolute right-6 top-6",children:(0,ne.jsx)(S.h,{name:"cross",onClick:dt,small:!0,iconLighter:!0})}),_n===X.s.COMMENTS&&(0,ne.jsx)(me,{currentUserId:null===(xe=jn.user)||void 0===xe?void 0:xe.id,discussions:null===(we=Nt.data)||void 0===we||null===(ge=we.comments)||void 0===ge?void 0:ge.edges,isFetchingDiscussions:Nt.fetching,isInputExpanded:Zt,mentionables:null===(Ce=At.data)||void 0===Ce?void 0:Ce.commentMentionableUsers,mode:Lt,parentDiscussion:Rt,canFetchMoreComments:It,onCollapseInput:Bt,onFetchMoreComments:Ft,onExpandInput:Gt,onDelete:Ct,onEdit:Et,onPost:kt,onReply:yt,onReplyClick:Pt,onResolve:jt,onSelectReaction:Ot,onUnresolve:St}),_n===X.s.FILE_INFO&&Re&&(0,ne.jsx)(fe,{fileMetaData:Re,basicMetadata:_e,fileData:Xn,canEdit:Qn(),canDownload:Hn(),isEditing:Boolean(Qn()&&nn),fileUrl:Se,tags:ln,fileId:Fe.id,fileKey:null==Ke?void 0:Ke.key,pageSource:"animation details page",thumbnailUrl:null==Ke||null===(Ee=Ke.thumbnails)||void 0===Ee||null===(ke=Ee.png)||void 0===ke||null===(ye=ke.medium)||void 0===ye?void 0:ye.url,animation:Fe,workspaceId:Fe.project.workspaceId}),_n===X.s.COLOR_PALETTES&&(0,ne.jsx)(de,{animationUrl:Se,portalRoot:xt.current,workspaceId:Fe.project.workspaceId,setColorModifiedLottie:Dn,setOpenColorPaletteModal:Qe}),_n===X.s.LOTTIE_MOCKUP&&(0,ne.jsx)(ce,{canEdit:Qn(),animation:Fe,onBackToLottieMockupList:Vt(X.s.SEGMENT_MOCKUP)}),_n===X.s.SEGMENT_MOCKUP&&(0,ne.jsx)(ue,{animation:Fe,showLottieMockup:Vt(X.s.LOTTIE_MOCKUP)}),_n===X.s.VERSIONS&&(0,ne.jsx)(le,{onVersionSelected:function(){Be(null),Xe()},animation:Fe}),_n===X.s.EMBED&&(0,ne.jsx)(se,{canUpdatePublicAsset:Qn(),fileId:Fe.id,currentVersionId:Fe.currentVersionId,workspaceId:Fe.project.workspaceId}),_n===X.s.QRCODE&&(0,ne.jsx)(ie,{fileUrl:Fe.fileObject.url}),_n===X.s.DOWNLOAD&&_e&&(0,ne.jsx)(ae,{animation:Fe,basicMetadata:_e,fileMetaData:Re,source:"animation"})]})}),(0,ne.jsx)("div",{ref:xt})]}),He&&Ge&&Ke&&(0,ne.jsx)(oe,{currentFile:Ke,currentFileId:null==Fe?void 0:Fe.id,projectId:null==Fe||null===(je=Fe.project)||void 0===je?void 0:je.id,lottieAnimation:v()(Ge),closeCallback:function(){Qe(!1)},animationName:null==Fe?void 0:Fe.name,currentBackgroundColor:(null==Fe?void 0:Fe.backgroundColor)||"none",show:!0})]}),Fe&&kn&&!pt.fetching&&pt.data&&(0,ne.jsx)(re,{animation:Fe,handback:pt.data.fileHandback})]}),(0,ne.jsx)(te,{illustrationURL:"/images/onboarding-animation.png",show:gn(ee.yM.INTRO_ANIM_SEQUENCE),title:"A fresh new look for animation pages",description:"We’ve redesigned the animation pages from the ground up so you can easily get to the tools you’ll need and enjoy a better overall experience. Check out what we’ve changed!",buttonContent:"Let's go",onClose:function(){return Cn([F.p9])}})]})};xe.getLayout=function(e){return(0,ne.jsx)(k.By,{collapsed:!0,children:e})},n.default=xe},11957:function(e,n,t){"use strict";t.d(n,{s:function(){return s},w:function(){return l}});var r=t(62295),o=t(29901),a=t(61250),i=o.createContext({features:[]}),s=function(e){var n=e.children,t=e.features;return(0,a.jsx)(i.Provider,{value:{features:t},children:n})},l=function(){var e=o.useContext(i).features;return e?new r.UZ(e):new r.UZ([])}},26929:function(e,n,t){e.exports=t(95798)},34742:function(e,n,t){"use strict";t.d(n,{I:function(){return f},r:function(){return d}});var r=t(29901),o={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5,fullscreen:6},a=["webkitFullscreenEnabled","webkitFullscreenElement","webkitRequestFullscreen","webkitExitFullscreen","webkitfullscreenchange","webkitfullscreenerror","-webkit-full-screen"],i=["mozFullScreenEnabled","mozFullScreenElement","mozRequestFullScreen","mozCancelFullScreen","mozfullscreenchange","mozfullscreenerror","-moz-full-screen"],s=["msFullscreenEnabled","msFullscreenElement","msRequestFullscreen","msExitFullscreen","MSFullscreenChange","MSFullscreenError","-ms-fullscreen"],l="undefined"!=typeof window&&void 0!==window.document?window.document:{},u="fullscreenEnabled"in l&&Object.keys(o)||a[0]in l&&a||i[0]in l&&i||s[0]in l&&s||[],c={requestFullscreen:function(e){return e[u[o.requestFullscreen]]()},requestFullscreenFunction:function(e){return e[u[o.requestFullscreen]]},get exitFullscreen(){return l[u[o.exitFullscreen]].bind(l)},get fullscreenPseudoClass(){return":"+u[o.fullscreen]},addEventListener:function(e,n,t){return l.addEventListener(u[o[e]],n,t)},removeEventListener:function(e,n,t){return l.removeEventListener(u[o[e]],n,t)},get fullscreenEnabled(){return Boolean(l[u[o.fullscreenEnabled]])},set fullscreenEnabled(e){},get fullscreenElement(){return l[u[o.fullscreenElement]]},set fullscreenElement(e){},get onfullscreenchange(){return l[("on"+u[o.fullscreenchange]).toLowerCase()]},set onfullscreenchange(e){return l[("on"+u[o.fullscreenchange]).toLowerCase()]=e},get onfullscreenerror(){return l[("on"+u[o.fullscreenerror]).toLowerCase()]},set onfullscreenerror(e){return l[("on"+u[o.fullscreenerror]).toLowerCase()]=e}};function d(){var e=(0,r.useState)(!1),n=e[0],t=e[1],o=(0,r.useRef)(null);(0,r.useEffect)((function(){var e=function(){t(c.fullscreenElement===o.current)};return c.addEventListener("fullscreenchange",e),function(){return c.removeEventListener("fullscreenchange",e)}}),[]);var a=(0,r.useCallback)((function(){return c.fullscreenElement?c.exitFullscreen().then((function(){return c.requestFullscreen(o.current)})):o.current?c.requestFullscreen(o.current):void 0}),[]),i=(0,r.useCallback)((function(){return c.fullscreenElement===o.current?c.exitFullscreen():Promise.resolve()}),[]);return(0,r.useMemo)((function(){return{active:n,enter:a,exit:i,node:o}}),[n,a,i])}var f=function(e){var n=e.handle,t=e.onChange,o=e.children,a=e.className,i=[];return a&&i.push(a),i.push("fullscreen"),n.active&&i.push("fullscreen-enabled"),(0,r.useEffect)((function(){t&&t(n.active,n)}),[n.active]),r.createElement("div",{className:i.join(" "),ref:n.node,style:n.active?{height:"100%",width:"100%"}:void 0},o)}}}]);