"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6087],{20291:function(e,n,r){r.d(n,{p:function(){return a}});r(29901);var t=r(61250),a=function(e){var n=e.small;return void 0!==n&&n?(0,t.jsx)("svg",{width:"32",height:"29",viewBox:"0 0 32 29",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M29.4449 0C20.5349 0 17.2461 6.37426 14.5967 11.4968L12.8645 14.7707C10.0552 20.2036 7.95873 23.5038 2.55507 23.5038C2.21944 23.5034 1.88705 23.5695 1.5769 23.6982C1.26675 23.827 0.984928 24.0158 0.747598 24.2539C0.510269 24.4921 0.322077 24.7749 0.193794 25.0861C0.065512 25.3973 -0.000343424 25.7309 1.34674e-06 26.0677C-0.000343424 26.4045 0.065512 26.738 0.193794 27.0492C0.322077 27.3605 0.510269 27.6432 0.747598 27.8814C0.984928 28.1195 1.26675 28.3084 1.5769 28.4371C1.88705 28.5658 2.21944 28.6319 2.55507 28.6316C11.4651 28.6316 14.7513 22.2573 17.4033 17.1348L19.1329 13.8609C21.9448 8.42801 24.0413 5.12781 29.4449 5.12781C30.1226 5.12781 30.7725 4.85769 31.2516 4.37686C31.7308 3.89604 32 3.2439 32 2.56391C32 1.88392 31.7308 1.23178 31.2516 0.750952C30.7725 0.270126 30.1226 0 29.4449 0Z",fill:"#DAE1E7"})}):(0,t.jsxs)("svg",{width:"74",height:"84",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,t.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M34.5 53.533l-.17-4.325-6.628 3.815.422-7.32-.897.224C20.37 57.661 14.285 63.511 9.943 63.185c-2.783-.208-5.206 1.91-5.412 4.73-.204 2.822 1.885 5.28 4.667 5.489 8.551.64 16.746-5.948 25.302-19.87zM29.02 39.543l2.76-.352-1.288 7.252 7.064-3.02-.153 1.927a152.31 152.31 0 005.294-6.682c10.698-14.26 19.19-20.644 23.89-19.112 2.654.86 5.507-.62 6.371-3.316v.002c.865-2.695-.586-5.575-3.24-6.44-10.023-3.262-21.313 4.37-35.06 22.692a136.35 136.35 0 01-5.637 7.05z",fill:"#DAE1E7"}),(0,t.jsx)("path",{d:"M23.536 40.332l-6.792-5.97c-.448-.395-1.233-.382-1.619.103-.386.486-.378 1.195.104 1.619l6.793 5.97c.448.394 1.233.381 1.619-.104.386-.485.378-1.194-.105-1.618zM25.877 37.821l-.42-5.252c-.04-.511-.633-.914-1.123-.812-.556.117-.855.576-.813 1.123.14 1.748.278 3.497.42 5.251.04.512.632.915 1.123.813.555-.117.854-.576.813-1.123zM22.596 44.933l-5.28-.811c-.514-.08-1.09.335-1.14.776-.055.5.304.858.853.944 1.757.27 3.515.541 5.28.811.514.08 1.09-.336 1.14-.777.054-.5-.304-.857-.853-.943zM40.515 55.434c-.63-1.068-1.259-2.135-1.892-3.205-.183-.313-.684-.385-.964-.169-.316.246-.364.63-.169.965l1.892 3.204c.183.313.684.386.964.169.316-.246.364-.63.169-.965zM40.786 49.91c1.742.2 3.485.402 5.233.602.51.059 1.02-.444 1.015-.945-.008-.568-.4-.95-.945-1.014-1.743-.201-3.485-.403-5.234-.602-.51-.06-1.02.444-1.014.945.008.567.4.95.945 1.014z",fill:"#DAE1E7"})]})}},38887:function(e,n,r){r.d(n,{W:function(){return s}});r(29901);var t=r(34916),a=r(61250),s=[{label:"Shipped",value:t.nT.Shipped,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 mr-2 rounded-full bg-blue-500"})},{label:"Approved",value:t.nT.Approved,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 mr-2 rounded-full bg-green-300"})},{label:"Needs review",value:t.nT.NeedsReview,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 mr-2 rounded-full bg-orange-400"})},{label:"In progress",value:t.nT.InProgress,icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 mr-2 rounded-full bg-purple-400"})},{label:"No status",value:"NoStatus",icon:(0,a.jsx)("div",{className:"w-3.5 h-3.5 mr-2 rounded-full bg-white border border-gray-200"})}]},64229:function(e,n,r){r.d(n,{y:function(){return c}});var t=r(83849),a=r.n(t),s=r(29901),l=r(47381),o=r(61250),i=function(){return(0,o.jsx)("svg",{width:"69",height:"62",viewBox:"0 0 69 62",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M63.3649 0C44.1908 0 37.1133 13.67 31.4118 24.6557L27.6841 31.6768C21.6386 43.3279 17.127 50.4054 5.49847 50.4054C4.7762 50.4047 4.06089 50.5464 3.39345 50.8224C2.72601 51.0985 2.11955 51.5035 1.60882 52.0142C1.09809 52.5249 0.693103 53.1314 0.417042 53.7988C0.140981 54.4663 -0.000739042 55.1816 2.89816e-06 55.9039V55.9039C-0.000739042 56.6261 0.140981 57.3414 0.417042 58.0089C0.693103 58.6763 1.09809 59.2828 1.60882 59.7935C2.11955 60.3042 2.72601 60.7092 3.39345 60.9853C4.06089 61.2614 4.7762 61.4031 5.49847 61.4023V61.4023C24.6726 61.4023 31.7445 47.7323 37.4517 36.7466L41.1737 29.7256C47.2248 18.0744 51.7364 10.9969 63.3649 10.9969C64.8232 10.9969 66.2218 10.4176 67.2529 9.38647C68.2841 8.35531 68.8634 6.95676 68.8634 5.49847V5.49847C68.8634 4.04019 68.2841 2.64163 67.2529 1.61047C66.2218 0.579304 64.8232 0 63.3649 0V0Z",fill:"#D9E0E6"})})},c=function(e){var n=e.alt,r=e.hasError,t=void 0!==r&&r,c=e.lazy,u=void 0!==c&&c,d=e.onError,f=e.src,m=(0,s.useState)(!0),h=m[0],p=m[1],v=(0,s.useCallback)((function(){p(!1)}),[]),b=(0,s.useCallback)((function(){null==d||d(),v()}),[d,v]);return(0,o.jsxs)(o.Fragment,{children:[!t&&h&&f&&(0,o.jsx)(l.a,{type:"spinner",size:"sm"}),!t&&f?(0,o.jsx)("img",{role:"presentation",src:f,alt:n,className:a()("w-full h-full object-contain",{hidden:h}),loading:u?"lazy":"eager",onError:b,onLoad:v}):(0,o.jsx)("div",{className:"absolute transform -translate-x-1/2 -translate-y-1/2 top-1/2 left-1/2",children:(0,o.jsx)(i,{})})]})}},82385:function(e,n,r){r.d(n,{v:function(){return c}});var t=r(98951),a=r(51276),s=r(35863),l=r(40467),o=r(29901),i=r(61250),c=function(e){var n=e.date,r=(0,o.useState)(""),c=r[0],u=r[1],d=(0,o.useCallback)((function(){var e=new Date(n);(0,t.Z)(e)?u("today"):(0,a.Z)(e)?u("yesterday"):(0,s.Z)(e)?u("".concat((0,l.Z)(e,"d MMM"))):u("".concat((0,l.Z)(e,"yy/M/d")))}),[n]);return(0,o.useEffect)((function(){d()}),[d]),(0,i.jsx)("span",{children:c})}},77729:function(e,n,r){r.d(n,{Z:function(){return a}});r(29901);var t=r(61250),a=function(e){var n=e.additionalClasses,r=e.children;return(0,t.jsx)("div",{className:"border bg-white border-gray-100 rounded-md ".concat(n),children:r})}},99871:function(e,n,r){r.d(n,{K:function(){return A}});var t=r(55312),a=r(24642),s=r.n(a),l=r(83849),o=r.n(l),i=r(88406),c=r(29901),u=r(38887),d=r(20291),f=r(78429),m=r(64229),h=r(50719),p=r(30891),v=r(76049),b=r(93065),x=r(18100),j=r(13485),C=r(61250),w=(0,i.default)((0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.e(2503).then(r.bind(r,42503)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[42503]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/modals/rename-animation-modal"]}}),g=(0,i.default)((0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve().then(r.bind(r,76049)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76049]},modules:["../components/ui/cards/animation-card.tsx -> @/components/ui/menus/animation-status-selector-v-2"]}}),y=(0,i.default)((0,t.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all([r.e(7255),r.e(6660),r.e(7424),r.e(5571),r.e(9421),r.e(6691),r.e(6459),r.e(8958),r.e(1989),r.e(8326),r.e(676)]).then(r.bind(r,76189)));case 1:case"end":return e.stop()}}),e)}))),{ssr:!1,loadableGenerated:{webpack:function(){return[76189]},modules:["../components/ui/cards/animation-card.tsx -> ./file-card-metadata"]}}),S=function(e){var n=e.isCollapsed,r=void 0!==n&&n,t=e.status,a=u.W.find((function(e){return e.value===t}));return t&&a?r?(0,C.jsx)("div",{className:"px-3 py-1 mt-1",children:a.icon}):(0,C.jsx)("div",{className:"px-1 text-gray-600 bg-gray-100 rounded-md",children:(0,C.jsxs)("div",{className:"flex items-center px-2 py-1 text-sm",children:[a.icon,(0,C.jsx)("p",{children:a.label})]})}):(0,C.jsx)(C.Fragment,{})},N=function(e){var n=e.hasFullAccess,r=e.isHovered,t=e.isInSelectionMode,a=e.isSelectable,s=e.isSelected,l=e.onCheckboxChange;return(0,C.jsx)("div",{className:"absolute right-0 z-20 top-2",children:(0,C.jsx)(h.Z,{variant:"caption-1",tag:"div",children:(r&&a||s||t)&&n&&(0,C.jsx)(p.X,{additionalClasses:o()({"-mr-0.5 -mt-0.5":s}),label:"check-card",checked:s,onChange:l})})})},k=function(e){var n=e.animation,r=e.backgroundColor,t=e.hasFullAccess,a=e.hasPlayerError,s=e.hasThumbnailError,l=e.isHovered,i=e.isInSelectionMode,u=e.isSelectable,p=e.isSelected,b=e.onCheckboxChange,j=e.onOverlayClick,w=e.onOverlayKeydown,y=e.onPlayerError,k=e.onThumbnailError,A=e.playerRef,O=e.playerRefCallback,E=e.showStatus,I=void 0===E||E,M=e.status,T=e.thumbnailSrc,D=e.title,_=e.url,P=A.current,Z=(0,x.sZ)(n.project.workspaceId),R=(0,c.useState)(!1),z=R[0],L=R[1];(0,c.useEffect)((function(){return P&&P.addEventListener("error",y),function(){P&&P.removeEventListener("error",y)}}),[P,A,y,l]);return(0,C.jsxs)("div",{className:"w-full h-[calc(100%-3.5rem)] select-none relative z-0 p-2",style:{backgroundColor:null!=r?r:"none"},children:[I&&(0,C.jsx)(g,{source:v.AnimationStatusSource.ANIMATION_CARD_DROPDOWN,featureService:Z,animationId:n.id,animationStatus:n.status,projectId:n.project.id,workspaceId:n.project.workspaceId,isSubMenu:!0,handleStatusSelectorChange:function(e){L(e)},dropdownOffset:8,customTrigger:(0,C.jsx)("div",{className:"absolute left-0 z-20 pl-2 cursor-pointer top-2",children:(0,C.jsx)(h.Z,{tag:"div",variant:"caption-1",children:l||z?(0,C.jsx)(S,{status:M}):(0,C.jsx)(S,{status:M,isCollapsed:!0})})})}),(0,C.jsx)(N,{hasFullAccess:t,isInSelectionMode:i,isSelectable:u,isSelected:p,onCheckboxChange:b,isHovered:l}),(0,C.jsx)("div",{onKeyDown:w,onClick:j,className:"absolute inset-0 z-10 cursor-pointer"}),(0,C.jsx)("div",{className:o()("mx-auto h-full",{hidden:!l&&T}),children:_&&!a?(0,C.jsx)(f.V,{autoplay:!1,loop:!0,src:_,playerRef:O}):(0,C.jsx)("div",{className:"flex items-center justify-center w-full h-full",children:(0,C.jsx)(d.p,{})})}),(0,C.jsx)("div",{className:o()("mx-auto h-full",{hidden:l||!T}),children:(0,C.jsx)(m.y,{src:T,onError:k,alt:D,hasError:s})})]})},A=function(e){var n=e.animation,r=e.backgroundColor,t=void 0===r?null:r,a=e.date,s=e.disableMenu,l=void 0!==s&&s,i=e.onClick,u=e.onSelectionChange,d=e.project,f=e.scopes,m=e.selectable,h=void 0!==m&&m,p=e.selected,v=void 0!==p&&p,x=e.selectionMode,g=void 0!==x&&x,S=e.showAddToCollection,N=e.showStatus,A=void 0===N||N,O=e.showUpdatedUser,E=void 0===O||O,I=e.status,M=e.thumbnail,T=e.title,D=e.upgradeRequired,_=e.url,P=e.username,Z=(0,c.useState)(!1),R=Z[0],z=Z[1],L=(0,b.a)({scopes:f||[]}).canFullAccess,U=(0,c.useState)(!1),F=U[0],K=U[1],H=(0,c.useState)(!1),V=H[0],W=H[1],G=(0,c.useState)(!1),B=G[0],q=G[1],J=(0,c.useRef)(null),X=(0,c.useCallback)((function(e){e&&(J.current=e)}),[]),Y=(0,c.useCallback)((function(){var e;null===(e=J.current)||void 0===e||e.play(),z(!0)}),[J,z]),Q=(0,c.useCallback)((function(){var e;null===(e=J.current)||void 0===e||e.pause(),z(!1)}),[J,z]),$=(0,c.useCallback)((function(){u&&u()}),[u]),ee=(0,c.useCallback)((function(){K(!1)}),[]),ne=(0,c.useCallback)((function(e){if(g&&u)u();else if(i){var n=j.Mq?e.metaKey:e.ctrlKey;i(n)}}),[u,i,g]),re=(0,c.useCallback)((function(e){if("Space"===e.key)if(g&&u)u();else if(i){var n=j.Mq?e.metaKey:e.ctrlKey;i(n)}}),[i,u,g]),te=(0,c.useCallback)((function(){W(!0)}),[]),ae=(0,c.useCallback)((function(){q(!0)}),[]),se=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:250,t=(0,c.useRef)(0),a=(0,c.useRef)(null);return(0,c.useEffect)((function(){return function(){null!==a&&(clearTimeout(a.current),a.current=null)}}),[]),(0,c.useCallback)((function(s){if(null!==a.current&&(clearTimeout(a.current),a.current=null),t.current+=1,2===t.current)return n(s),void(t.current=0);a.current=setTimeout((function(){e(s),t.current=0,a.current=null}),r)}),[e,n,r])}(ne,(0,c.useCallback)((function(){L()&&K(!0)}),[L]));return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:o()("relative w-full transition duration-100 ease-out bg-white border border-gray-100 rounded-md animation-card overflow-hidden group hover:lf-shadow-md",{"selected-card":v,"opacity-30":D}),onMouseEnter:Y,onMouseLeave:Q,children:(0,C.jsxs)("div",{className:"animation",children:[(0,C.jsx)(k,{animation:n,backgroundColor:t,hasFullAccess:L(),isHovered:R,hasThumbnailError:V,hasPlayerError:B,isSelectable:h,isSelected:v,isInSelectionMode:g,showStatus:A,status:I,title:T,thumbnailSrc:M,url:_,playerRefCallback:X,playerRef:J,onCheckboxChange:$,onOverlayClick:ne,onOverlayKeydown:re,onPlayerError:ae,onThumbnailError:te}),(0,C.jsx)(y,{animation:n,isMenuDisabled:l,onTitleDoubleClick:se,projectName:d,showAddToCollection:Boolean(S),showUpdatedUser:E,title:T,updatedDate:a,username:P,showActionsMenu:R})]})}),(0,C.jsx)(w,{show:F,animationId:n.id,animationName:n.name,close:ee})]})}},76049:function(e,n,r){r.r(n),r.d(n,{AnimationStatusSource:function(){return t},AnimationStatusSelector:function(){return g}});var t,a=r(55312),s=r(77916),l=r(89303),o=r(24642),i=r.n(o),c=r(26766),u=r(62295),d=r(29901),f=r(389),m=r(18807),h=r(27024),p=r(99897),v=r(98082),b=r(38887),x=r(37576),j=r(61250);function C(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),r.push.apply(r,t)}return r}function w(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?C(Object(r),!0).forEach((function(n){(0,s.Z)(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))}))}return e}!function(e){e.ANIMATION_CARD_DROPDOWN="animation_card_dropdown",e.ANIMATION_DETAILS="animation_details",e.SELECTION_BAR="selection_bar"}(t||(t={}));var g=function(e){var n=e.animationId,r=e.animationStatus,t=e.customTrigger,s=e.disabled,o=void 0!==s&&s,C=e.dropdownOffset,g=e.featureService,y=e.handleStatusSelectorChange,S=e.isSubMenu,N=void 0!==S&&S,k=e.projectId,A=e.source,O=e.workspaceId,E=(0,f.Db)(m.v3),I=(0,l.Z)(E,2)[1],M=(0,x.p)(),T=(0,d.useMemo)((function(){return b.W.map((function(e){return w(w({},e),{},{selected:!1})}))}),[]),D=(0,d.useCallback)(function(){var e=(0,a.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I({id:n,status:t});case 2:e.sent.error||null==M||M.pushSuccess("Status updated"),(0,c.Z9)(new c.Yk({fileId:n,oldStatus:r,newStatus:t,projectId:k,workspaceId:O,source:A}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),[I,n,r,k,O,M,A]),_=(0,d.useMemo)((function(){return T.find((function(e){return e.value===r}))||T[T.length-1]}),[r,T]),P=(0,d.useMemo)((function(){return t?(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(h.f.Trigger,{asChild:!0,children:t})}):(0,j.jsx)(j.Fragment,{children:N?(0,j.jsxs)(h.f.Trigger,{disabled:o,type:"menu-item",className:"disabled:opacity-30",children:[(0,j.jsx)("div",{className:"flex items-center justify-center w-6 h-6 mr-2 ",children:null==_?void 0:_.icon}),(0,j.jsx)("div",{className:"flex-grow text-sm",children:null==_?void 0:_.label}),!g.canUpdateAnimationStatus()&&(0,j.jsx)(v.y,{iconOnly:!0,className:"ml-2",source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O}),(0,j.jsx)("div",{className:"flex items-center text-gray-500",children:(0,j.jsx)(p.J,{name:"chevron-right"})})]}):(0,j.jsxs)(h.f.Trigger,{disabled:o,type:"text",className:"disabled:opacity-30",children:[(0,j.jsx)("div",{className:"mr-2",children:null==_?void 0:_.icon}),(0,j.jsx)("div",{className:"flex-grow text-sm",children:null==_?void 0:_.label}),!g.canUpdateAnimationStatus()&&(0,j.jsx)(v.y,{iconOnly:!0,className:"ml-2",source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O}),(0,j.jsx)("div",{className:"flex items-center text-gray-500",children:(0,j.jsx)(p.J,{name:"chevron-down-fill",small:!0,marginLeft:!0})})]})})}),[t,N,o,null==_?void 0:_.icon,null==_?void 0:_.label,g,O]);return(0,j.jsxs)(h.f,{onOpenChange:y,children:[P,(0,j.jsx)(h.f.Content,{sideOffset:C||0,alignOffset:C||0,side:"bottom",align:"start",children:T.map((function(e){return(0,j.jsxs)(h.f.Item,{onSelect:(0,a.Z)(i().mark((function n(){return i().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!g.canUpdateAnimationStatus()){n.next=5;break}return n.next=3,D("NoStatus"===e.value?null:e.value);case 3:n.next=6;break;case 5:(0,v.Z)({source:u.Hh.UPDATE_ANIMATION_STATUS,workspaceId:O});case 6:case"end":return n.stop()}}),n)}))),children:[(0,j.jsx)("span",{className:"mr-2",children:e.icon}),(0,j.jsx)("span",{children:e.label})]},e.value)}))})]})};n.default=g},93065:function(e,n,r){r.d(n,{a:function(){return a}});var t=r(34916),a=function(e){var n=e.scopes,r=function(){return n.includes(t.GN.FULL_ACCESS)},a=function(){return r()||n.includes(t.GN.DOWNLOAD)};return{canView:function(){return r()||a()||n.includes(t.GN.VIEW)},canFullAccess:r,canDownload:a}}}}]);