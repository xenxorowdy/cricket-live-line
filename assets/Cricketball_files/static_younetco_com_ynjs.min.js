function ynOuterClick(){(function($,$$){var events;var check=function(e){var target=$(e.target);var parents=target.getParents();events.each(function(item){var element=item.element;if(element!=target&&!parents.contains(element))
item.fn.call(element,e);});};Element.Events.outerClick={onAdd:function(fn){if(!events){document.addEvent('click',check);events=[];}
events.push({element:this,fn:fn});},onRemove:function(fn){events=events.filter(function(item){return item.element!=this||item.fn!=fn;},this);if(!events.length){document.removeEvent('click',check);events=null;}}};})(document.id,$$);$$('.yn-dropdown').addEvent('outerClick',function(){if(this.hasClass('open')){this.removeClass('open');}});}
function ynDropdown(){$$(".yn-dropdown-btn").addEvent('click',function(){this.getParent('.yn-dropdown').toggleClass('open');var popup=this.getParent('.yn-dropdown').getChildren('.yn-dropdown-menu')[0];var layout_parent=popup.getParent('.layout_middle');if(!layout_parent)layout_parent=popup.getParent('#global_content');var y_position=popup.getPosition(layout_parent).y;var p_height=layout_parent.getHeight();var c_height=popup.getHeight();if(p_height-y_position<(c_height+21)){layout_parent.addClass('popup-padding-bottom');var margin_bottom=parseInt(layout_parent.getStyle('padding-bottom').replace(/\D+/g,''));layout_parent.setStyle('padding-bottom',(margin_bottom+c_height+20+y_position-p_height)+'px');}});}
function ynSetModeView(id,viewmode){var yn_viewmodes_block=$('yn-view-modes-block-'+id);var yn_cookie_viewmodes=Cookie.read('yn-viewmodes-'+id);if(!yn_cookie_viewmodes){yn_cookie_viewmodes=viewmode;}
yn_viewmodes_block.addClass('yn-viewmode-'+yn_cookie_viewmodes);$$('#yn-view-modes-block-'+id+' span[data-mode='+yn_cookie_viewmodes+']').addClass('active');$$('#yn-view-modes-block-'+id+' .yn-view-mode').removeEvents('click').addEvent('click',function(){var yn_viewmode_data=$(this).get('data-mode');$(this).getParent('.yn-view-modes').getChildren('.yn-view-mode').removeClass('active');$(this).addClass('active');yn_viewmodes_block.set('class','');yn_viewmodes_block.addClass('yn-viewmode-'+yn_viewmode_data);Cookie.write('yn-viewmodes-'+id,yn_viewmode_data);});}