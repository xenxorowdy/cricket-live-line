/*!
 * CADENAS.de WebViewer
 * (c) Copyright 1992–2019, CADENAS GmbH, Augsburg, Germany
 * Version: 6.1.0.4218
 */
!function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(r)return r(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return o(n||e)},p,p.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(e,t,n){var i=window.psolResources||{exists:!0};window.psolResources=i},{}],2:[function(e,t,n){t.exports={chinese:{"2D Maßansicht betrachten":"2D标注视图",Abbrechen:"取消","Abgelöstes Teil":"取代部分","Abstand der Bauteile verändern":"修改零部件距离","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Attention: This process can take 1-2 minutes. Would you like to continue?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Attention: Your session has expired and is now being restored.","Aktive Farbe":"激活的颜色","Alles auswählen":"标记全部","Alles fangen":"缩放所有",Allgemein:"通常","Alternative Farbe":"可选色","Alternative Teil(e):":"备选零部件:","Am häufigsten angesehen":"最常见","Am häufigsten favorisiert":"最爱被收藏","Am häufigsten heruntergeladen":"最常被下载","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"激活立体视图模式, 通过红绿眼镜查看三维立体效果.",Animation:"动画","Ansicht Hinten (-Z)":"后视图(-Z)","Ansicht Links (-X)":"左视图(-X)","Ansicht Oben (Y)":"顶视图(Y)","Ansicht Rechts (X)":"右视图(X)","Ansicht Unten (-Y)":"底视图(-Y)","Ansicht Vorne (Z)":"前视图(Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Fit to screen",Ansichtsfunktionen:"视图功能",Ansichtswinkel:"视图角度","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"热点显示/隐藏 (仅在有热点的情况下)","Auf Objekt Zoomen":"按照对象大小缩放","Augmented Reality":"虚拟现实","Aus Produktliste wählen oder Merkmale klicken und editieren":"Select from product list or click features to edit","Ausfüllen":"填充","Ausfüllfunktion":"填充功能",Auswahl:"选择","Auswahl löschen":"删除选择","Bauteil rotieren":"旋转零件","Bauteil verschieben":"移动零部件","Bauteil wird geladen...":"零部件在打开中...","Bauteil wird verarbeitet/konvertiert...":"组件编辑/转换中...",Bauteilauswahl:"组件选择",Bearbeiten:"编辑",Beispiel:"例子","Beispiele:":"例如:","Bemaßungen anzeigen":"显示标注","Bemaßungslinien":"尺寸线","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"描述","Beschreibung:":"描述:",Bewegen:"移动","Bewegungsmodus umschalten":"转换移动模式","Bild aufnehmen":"拍照","Bild laden":"打开图片","Bild laden oder aufnehmen":"Load or take picture",Bilder:"图片",Bildoptionen:"图片选项",Bildschirmfoto:"屏幕图像","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"预览图","Bitte Flächen schwarz ausfüllen!":"请将面涂黑!","Bitte alle mit '*' makierten Felder ausfüllen!":"请在所有标有'*'栏中填写!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"请输入有效的%1链接!","Bitte warten...":"请稍侯...","Bitte wählen Sie ihr Bausisbauteil aus":"Please choose you're basepart","Blaue Felder klicken, um Merkmale zu ändern":"Click blue fields to change features","Bluebox Ansicht":"Bluebox view",Boden:"底部","Button Legende":"按钮说明","Das Gerät bitte horizontal halten.":"请将设备水平放置.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"数据被启动...",Datenblatt:"数据页",Debug:"调试程序","Der Server antwortete mit einem Fehler:":"服务器返回一个错误:","Dicke Linien":"粗线","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"该图片文件太大. 请缩小至%1 MB.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"在您打开的表格中包含不是当前优选的零部件行. 请将优选行关闭, 以显示所有行.",Distanz:"距离","Dreamoc HD3 Ansicht":"Dreamoc HD3 view","Dreamoc XL2 Ansicht":"Dreamoc XL2 view","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"如需旋转可通过两个手指在Z轴上旋转CAD模型.","Dünne Linien":"细线","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"编辑 => 热点点击.",Entfernen:"删除","Es wird nach '%1' gesucht":"按照'%1'进行搜索","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"没有有效的替换件.如有需要请咨询相应零部件生产商.",Explosionsansicht:"分解图",Exportieren:"输出","Farbe auswählen":"选择颜色",Farben:"颜色",Fehler:"错误",Feld:"地面","Gebürsteter Stahl":"不锈钢","Gemeinsam verpackt":"一起打包",Geometrie:"几何","Gestensteuerung 2D Maßskizze":"手势控制2D标注视图","Gestensteuerung 3D Viewer":"手势控制3D视图","Gestrichelte Linien":"虚线","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"HTML文本",Hauptfarbe:"主色",Herstellerkataloge:"供应商产品目录",Hilfe:"帮助","Hilfe aufrufen":"打开帮助",Himmel:"天空","Hinzufügen":"添加","Hinzufügen => Modell anklicken.":"添加 => 模型点击.","Hinzufügen und Editieren von HotSpots.":"添加和编辑热点.",Holodeck:"栅栏","Hologramm wird erzeugt...":"全息影像生成中...","Holographische Pyramide":"金字塔全息呈像","HotSpot Modus":"热点模式","HotSpot editieren":"编辑热点","HotSpot hinzufügen":"添加热点","HotSpot löschen":"删除热点","HotSpots anzeigen":"显示热点","Index wird geladen...":"打开索引中...","Isometrische Ansicht":"等距视图",Ja:"是","Kamera Ausrichtung":"相机方向","Kamera umschalten":"转换相机",Kamerahintergrund:"图像背景","Kameraposition und -rotation speichern":"保存图像位置和偏转度",Kanten:"边线",Kategorie:"类别","Keine Ergebnisse gefunden.":"No results found.","Keine Vorschau verfügbar":"不提供预览","Komplette Sammlung ansehen":"查看完整收集",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"石子",Kreis:"圆形","Kreis zeichnen":"Draw circle",Kreisform:"圆形","Küstenstrich":"边界线","Labels anzeigen":"Show labels","Lade Konfiguration":"打开配置",Laub:"落叶","Leap Motion Steuerung":"传感控制","Linie zeichnen":"Draw line",Liniendarstellung:"线视图","Linienlänge":"线段长度",Link:"链接","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"激活即时背景模式. 通过该选项您可以将当前照相呈像设置为背景.","Löschen":"删除","Mehr anzeigen":"显示更多","Merkmale auswählen":"选择特性","Messraster anzeigen":"显示测量网格",Modell:"模型",Modellausrichtung:"模型方向",Modelldarstellungsoptionen:"模型显示选项","Modelle in Sammlung":"Collection Items",Modellschattierung:"模型底纹","Mögliche Umgebungen werden geladen...":"所需环境打开中...",Nein:"否","Neue Konfiguration":"新的配置","Neueste zuerst":"最新",OK:"确定",Oder:"或",Ok:"确定",Ordner:"文件夹","Originalteil:":"原始零部件:","PARTcloud Bildstrecke":"PARTcloud Slideshow",Parkett:"地板",Pflichtfeld:"必填项",Pinsel:"画笔",Pinselfunktion:"涂画功能","Pinselstärke":"Brush size","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"画笔大小:","Problem bei der Tabelle":"表格中有问题","Produkt ist am %1 ausgelaufen.":"产品在%1过期.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"产品在%1过期. 请不要再用于新设计.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"产品在%1过期. 请不要再用于新设计.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"产品过期. 请不要再用于新设计.",Produktliste:"产品列表",Projekt:"项目","Projektionsmodus umschalten":"转换投影模式","Präsentationsansichten":"展示视图",Querschnitt:"截面","Radialmenü":"Radial menu",Rasen:"草地",Raster:"栅格",Rechteck:"矩形","Rechteck zeichnen":"Draw rectangle",Rechteckform:"方形","Relativ zum Bauteil":"针对组件","Rotation mit einem Finger":"通过一个手指进行旋转","Rotation mit zwei Fingern":"通过两个手指进行旋转",Rotationsanimation:"旋转动画","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"模型和相机之间切换的旋转模式 (仅在激活的环境中).",Rotieren:"旋转","Rückgängig":"恢复",Sammlung:"收集","Schaltflächenleiste":"Button bar",Schattiert:"阴影","Schattiert mit Kanten":"阴影带边线","Schattierte Darstellung":"阴影显示","Schattierte Darstellung mit Kanten":"边缘阴影显示","Schließen":"关闭",Schnitt:"切除","Session is abgelaufen":"Session expired",Skizzensuche:"草图搜索","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"使用替代的零部件吗?",Sonnenuntergang:"夕阳","Speichere Konfiguration":"保存配置",Speichern:"保存",Stadt:"城市","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"子类型",Suche:"搜索","Suche starten":"开始搜索",Suchen:"搜索",Suchtext:"搜索文本","Tabelle konnte nicht geladen werden.":"表格无法打开.","Tabelle wird geladen...":"打开表格...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"尺寸标注图","Technische Voransicht":"尺寸标注图",Teilefamilie:"零件系列",Teleportmodus:"增强模式","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"激活增强模式, 以便移动到所需位置.","Text hinzufügen":"添加文本","Texte und Klassen zeigen":"显示文本和分类",Textsuche:"文本搜索",Titel:"称呼",Typ:"类型","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"在屏幕上移动3D CAD模型, 您可以用两个手指拖拽模型向所需方向移动.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"To zoom into the CAD model, touch the display on two points and move your fingers apart. To zoom out of the CAD model, touch the display on two points and move your fingers to each other.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"如果要缩小视图, 请在屏幕上将手指两点相对移动. 如果要放大视图, 请在屏幕上将手指两点向外移动.",Umgebung:"环境","Umgebung setzen":"设置环境","Umgebungen auswählen und setzen.":"选择和设置环境",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"翻转",Und:"和","Ungültiges Bauteil oder ungültige Konfiguration!":"无效组件或无效配置!",Updaten:"更新","Verknüpfung":"关联","Verschieben mit zwei Fingern":"通过两个手指移动",Vollbild:"全屏预览",Vollbildansicht:"完整图像视图","Vom Objekt weg zoomen":"对象放大",Vormontiert:"预装配","Vorzugsreihen An/Aus":"优先次序:开/关",Warenkorb:"购物蓝",Website:"网页",Weltraum:"空间","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the CAD model and reset the zoom.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the dimensional sketch and reset the zoom.",Werkzeuge:"工具","Werte zurücksetzen":"重置",Werteauswahl:"数值选择",Wiederholen:"重复",Winkel:"角度","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"通过手指触摸屏幕将3D CAD模型在X轴或Y轴上进行旋转.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"请在屏幕上用手指拖动2D视图向所需方向移动.","Wollen Sie speichern?":"Do you want to save?",Zeichnen:"Drawing","Zeilen anzeigen":"显示行","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"缩放","Zum Objekt hin zoomen":"对象缩小","Zum online Warenkorb hinzufügen":"Add to online Basket","Zurück":"后退","Zurück zu Kataloge":"返回产品目录","Zurück zur 3D-Ansicht":"返回3D视图","Zurücksetzen":"重置",Zusatzfunktionen:"其它功能",von:"从","Übernehmen":"接受"},chinese_traditional:{"2D Maßansicht betrachten":"2D标注视图",Abbrechen:"取消","Abgelöstes Teil":"取代部分","Abstand der Bauteile verändern":"修改零部件距离","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Attention: This process can take 1-2 minutes. Would you like to continue?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Attention: Your session has expired and is now being restored.","Aktive Farbe":"目前的颜色","Alles auswählen":"标记全部","Alles fangen":"缩放所有",Allgemein:"通常","Alternative Farbe":"可选色","Alternative Teil(e):":"備選零部件:","Am häufigsten angesehen":"最常見","Am häufigsten favorisiert":"最愛被收藏","Am häufigsten heruntergeladen":"最常被下載","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"激活立体视图模式, 通过红绿眼镜查看三维立体效果.",Animation:"動畫","Ansicht Hinten (-Z)":"後視圖(-Z)","Ansicht Links (-X)":"左视图(-X)","Ansicht Oben (Y)":"頂視圖(Y)","Ansicht Rechts (X)":"右视图(X)","Ansicht Unten (-Y)":"底视图(-Y)","Ansicht Vorne (Z)":"前视图(Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Fit to screen",Ansichtsfunktionen:"视图功能",Ansichtswinkel:"视角","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"热点显示/隐藏 (仅在有热点的情况下)","Auf Objekt Zoomen":"按照物件大小縮放","Augmented Reality":"虛擬實境","Aus Produktliste wählen oder Merkmale klicken und editieren":"Select from product list or click features to edit","Ausfüllen":"填入","Ausfüllfunktion":"填充功能",Auswahl:"选择","Auswahl löschen":"删除选择","Bauteil rotieren":"旋转零件","Bauteil verschieben":"移动零部件","Bauteil wird geladen...":"零部件在打開中...","Bauteil wird verarbeitet/konvertiert...":"模型被处理中...",Bauteilauswahl:"选择零件",Bearbeiten:"編輯",Beispiel:"例子","Beispiele:":"例如:","Bemaßungen anzeigen":"顯示標注","Bemaßungslinien":"尺寸線","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"描述","Beschreibung:":"描述:",Bewegen:"移动","Bewegungsmodus umschalten":"运动模式切换","Bild aufnehmen":"拍照","Bild laden":"打開圖片","Bild laden oder aufnehmen":"Load or take picture",Bilder:"图片",Bildoptionen:"圖片選項",Bildschirmfoto:"螢幕圖像","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"預覽圖","Bitte Flächen schwarz ausfüllen!":"請將面塗黑!","Bitte alle mit '*' makierten Felder ausfüllen!":"请填写所有标有'*'的信息!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"请输入有效的%1链接!","Bitte warten...":"請稍侯...","Bitte wählen Sie ihr Bausisbauteil aus":"Please choose you're basepart","Blaue Felder klicken, um Merkmale zu ändern":"Click blue fields to change features","Bluebox Ansicht":"Bluebox view",Boden:"底部","Button Legende":"按钮说明","Das Gerät bitte horizontal halten.":"设备保持水平","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"数据被启动...",Datenblatt:"Datasheet",Debug:"偵錯工具","Der Server antwortete mit einem Fehler:":"服务器返回一个错误:","Dicke Linien":"粗线","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"该图片文件太大. 请缩小至%1 MB.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"在您打開的表格中包含不是當前優選的零部件行. 請將優選行關閉, 以顯示所有行.",Distanz:"距离","Dreamoc HD3 Ansicht":"Dreamoc HD3 view","Dreamoc XL2 Ansicht":"Dreamoc XL2 view","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"如需旋转可通过两个手指在Z轴上旋转CAD模型.","Dünne Linien":"细线","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"编辑 => 点击热点.",Entfernen:"删除","Es wird nach '%1' gesucht":"按照'%1'進行搜索","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"沒有有效的替換件.如有需要請諮詢相應零部件生產商.",Explosionsansicht:"分解图",Exportieren:"输出","Farbe auswählen":"选择颜色",Farben:"颜色",Fehler:"錯誤",Feld:"区域","Gebürsteter Stahl":"不锈钢","Gemeinsam verpackt":"一起打包",Geometrie:"几何","Gestensteuerung 2D Maßskizze":"手势控制2D标注视图","Gestensteuerung 3D Viewer":"手势控制显示","Gestrichelte Linien":"虛線","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"HTML文本",Hauptfarbe:"主色",Herstellerkataloge:"供应商产品目录",Hilfe:"幫助","Hilfe aufrufen":"请求帮助",Himmel:"天空","Hinzufügen":"添加","Hinzufügen => Modell anklicken.":"添加 => 点击模型.","Hinzufügen und Editieren von HotSpots.":"加入和编辑热点",Holodeck:"栅栏","Hologramm wird erzeugt...":"全息影像生成中...","Holographische Pyramide":"全息显示器","HotSpot Modus":"热点模式","HotSpot editieren":"编辑热点","HotSpot hinzufügen":"插入热点","HotSpot löschen":"删除热点","HotSpots anzeigen":"显示热点","Index wird geladen...":"打開索引中...","Isometrische Ansicht":"等視圖",Ja:"是","Kamera Ausrichtung":"相机方向","Kamera umschalten":"镜头切换",Kamerahintergrund:"圖像背景","Kameraposition und -rotation speichern":"保存圖像位置和偏轉度",Kanten:"边线",Kategorie:"分類","Keine Ergebnisse gefunden.":"No results found.","Keine Vorschau verfügbar":"不提供預覽","Komplette Sammlung ansehen":"查看完整收集",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"石子",Kreis:"圓形","Kreis zeichnen":"Draw circle",Kreisform:"圆形","Küstenstrich":"边界线","Labels anzeigen":"Show labels","Lade Konfiguration":"打开配置",Laub:"落叶","Leap Motion Steuerung":"傳感控制","Linie zeichnen":"Draw line",Liniendarstellung:"線視圖","Linienlänge":"线段长度",Link:"链接","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"激活即时背景模式. 通过该选项您可以将当前照相呈像设置为背景.","Löschen":"刪除","Mehr anzeigen":"显示更多","Merkmale auswählen":"Select features","Messraster anzeigen":"显示测量网格",Modell:"模型",Modellausrichtung:"模型方向",Modelldarstellungsoptionen:"模型显示选项","Modelle in Sammlung":"Collection Items",Modellschattierung:"模型網底","Mögliche Umgebungen werden geladen...":"所需环境打开中...",Nein:"否","Neue Konfiguration":"新的配置","Neueste zuerst":"最新",OK:"確定",Oder:"或",Ok:"確定",Ordner:"資料夾","Originalteil:":"原始零部件:","PARTcloud Bildstrecke":"PARTcloud Slideshow",Parkett:"地板",Pflichtfeld:"必填项",Pinsel:"画笔",Pinselfunktion:"涂画功能","Pinselstärke":"Brush size","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"筆粗細","Problem bei der Tabelle":"表格中有問題","Produkt ist am %1 ausgelaufen.":"產品在%1過期.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"產品在%1過期. 請不要再用於新設計.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"產品在%1過期. 請不要再用於新設計.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"產品過期. 請不要再用於新設計.",Produktliste:"Product list",Projekt:"項目","Projektionsmodus umschalten":"转换投影模式","Präsentationsansichten":"报告行式视图",Querschnitt:"截面","Radialmenü":"Radial menu",Rasen:"草地",Raster:"栅格",Rechteck:"矩形","Rechteck zeichnen":"Draw rectangle",Rechteckform:"矩形","Relativ zum Bauteil":"针对组件","Rotation mit einem Finger":"通过一个手指进行旋转","Rotation mit zwei Fingern":"通过两个手指进行旋转",Rotationsanimation:"旋转动画","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"模型和相机之间切换的旋转模式 (仅在激活的环境中).",Rotieren:"旋轉","Rückgängig":"恢复",Sammlung:"收集","Schaltflächenleiste":"Button bar",Schattiert:"阴影","Schattiert mit Kanten":"阴影带边线","Schattierte Darstellung":"阴影显示","Schattierte Darstellung mit Kanten":"边缘阴影显示","Schließen":"關閉",Schnitt:"切除","Session is abgelaufen":"Session expired",Skizzensuche:"草圖搜索","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"使用替代的零部件吗?",Sonnenuntergang:"夕阳","Speichere Konfiguration":"保存设置",Speichern:"保存",Stadt:"城市","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"子类型",Suche:"搜索","Suche starten":"開始搜索",Suchen:"搜索",Suchtext:"搜索文本","Tabelle konnte nicht geladen werden.":"表格无法打开.","Tabelle wird geladen...":"打開表格...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"尺寸標注圖","Technische Voransicht":"尺寸標注圖",Teilefamilie:"零件系列",Teleportmodus:"增强模式","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"激活增强模式, 以便移动到所需位置.","Text hinzufügen":"Add text","Texte und Klassen zeigen":"顯示文本和分類",Textsuche:"文本搜索",Titel:"稱呼",Typ:"類型","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"在屏幕上移动3D CAD模型, 您可以用两个手指拖拽模型向所需方向移动.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"To zoom into the CAD model, touch the display on two points and move your fingers apart. To zoom out of the CAD model, touch the display on two points and move your fingers to each other.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"如果要缩小视图, 请在屏幕上将手指两点相对移动. 如果要放大视图, 请在屏幕上将手指两点向外移动.",Umgebung:"环境","Umgebung setzen":"设置环境","Umgebungen auswählen und setzen.":"选取并设置环境",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"翻轉",Und:"和","Ungültiges Bauteil oder ungültige Konfiguration!":"无效组件或无效配置!",Updaten:"更新","Verknüpfung":"關聯","Verschieben mit zwei Fingern":"通过两个手指移动",Vollbild:"全屏預覽",Vollbildansicht:"全屏显示","Vom Objekt weg zoomen":"观察对象以外",Vormontiert:"预装配","Vorzugsreihen An/Aus":"優先行顯示/取消",Warenkorb:"购物车",Website:"網頁",Weltraum:"空间","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the CAD model and reset the zoom.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the dimensional sketch and reset the zoom.",Werkzeuge:"工具","Werte zurücksetzen":"重置",Werteauswahl:"选取值",Wiederholen:"重复添加",Winkel:"角度","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"通过手指触摸屏幕将3D CAD模型在X轴或Y轴上进行旋转.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"请在屏幕上用手指拖动2D视图向所需方向移动.","Wollen Sie speichern?":"Do you want to save?",Zeichnen:"Drawing","Zeilen anzeigen":"显示行","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"缩放","Zum Objekt hin zoomen":"观察对象内部","Zum online Warenkorb hinzufügen":"Add to online Basket","Zurück":"後退","Zurück zu Kataloge":"返回產品目錄","Zurück zur 3D-Ansicht":"返回3D视图","Zurücksetzen":"重置",Zusatzfunktionen:"其它功能",von:"從","Übernehmen":"接受"},english:{"2D Maßansicht betrachten":"View 2D dimensional drawings",Abbrechen:"Cancel","Abgelöstes Teil":"Discontinued part","Abstand der Bauteile verändern":"Change distance between parts","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Attention: This process can take 1-2 minutes. Would you like to continue?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Attention: Your session has expired and is now being restored.","Aktive Farbe":"Active color","Alles auswählen":"Mark all","Alles fangen":"Zoom all",Allgemein:"General","Alternative Farbe":"Secondary color","Alternative Teil(e):":"Alternative part(s):","Am häufigsten angesehen":"Most Viewed","Am häufigsten favorisiert":"Most Liked","Am häufigsten heruntergeladen":"Most Downloaded","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"Activate anaglyphic view. Mode for 3D presenation with red cyan goggles","Ansicht Hinten (-Z)":"Rear view (-Z)","Ansicht Links (-X)":"Left view (-X)","Ansicht Oben (Y)":"Top view (Y)","Ansicht Rechts (X)":"Right view (X)","Ansicht Unten (-Y)":"Bottom view (-Y)","Ansicht Vorne (Z)":"Front view (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Fit to screen",Ansichtsfunktionen:"Additional viewer functions",Ansichtswinkel:"Set viewing angle","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"Show/Hide HotSpots (if HotSpots are present)","Auf Objekt Zoomen":"Zoom to object","Aus Produktliste wählen oder Merkmale klicken und editieren":"Select from product list or click features to edit","Ausfüllen":"Fill","Ausfüllfunktion":"Fill",Auswahl:"Selection","Auswahl löschen":"Clear selection","Bauteil rotieren":"Rotate part","Bauteil verschieben":"Move part","Bauteil wird geladen...":"Component is being loaded...","Bauteil wird verarbeitet/konvertiert...":"Component is being processed/converted...",Bauteilauswahl:"Component selection",Bearbeiten:"Edit",Beispiel:"Sample","Beispiele:":"Examples:","Bemaßungen anzeigen":"Show Dimensions","Bemaßungslinien":"Dimension lines","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"Description","Beschreibung:":"Description:",Bewegen:"Move","Bewegungsmodus umschalten":"Switch movement mode","Bild aufnehmen":"Make image","Bild laden":"Load image","Bild laden oder aufnehmen":"Load or take picture",Bilder:"Images",Bildoptionen:"Picture options",Bildschirmfoto:"Screenshot","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"Image preview","Bitte Flächen schwarz ausfüllen!":"Please fill areas in black!","Bitte alle mit '*' makierten Felder ausfüllen!":"Please fill in all boxes marked with '*'!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"Please enter a valid %1 link!","Bitte warten...":"Please wait...","Bitte wählen Sie ihr Bausisbauteil aus":"Please choose you're basepart","Blaue Felder klicken, um Merkmale zu ändern":"Click blue fields to change features","Bluebox Ansicht":"Bluebox view",Boden:"Floor","Button Legende":"Button explanation","Das Gerät bitte horizontal halten.":"Please rotate your device to landscape mode.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"Loading data...",Datenblatt:"Datasheet","Der Server antwortete mit einem Fehler:":"The server responded with an error:","Dicke Linien":"Thick Lines","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"The size of the attached images is too big. Please limit it to %1 MB.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"The table you opened contains only lines that do not match your current preferred ranges. You can disable the preferred ranges to make all table rows visible.",Distanz:"Distance","Dreamoc HD3 Ansicht":"Dreamoc HD3 view","Dreamoc XL2 Ansicht":"Dreamoc XL2 view","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"To twist the CAD model around the Z-axis, touch the CAD model with two fingers and rotate your fingers circularly.","Dünne Linien":"Thin Lines","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"Edit => Click on HotSpot",Entfernen:"Remove","Es wird nach '%1' gesucht":"Searching for '%1'","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"No valid replacement parts have been specified. For questions, please contact the manufacturer.",Explosionsansicht:"Exploded view",Exportieren:"Export","Farbe auswählen":"Choose color",Farben:"Colors",Fehler:"Error",Feld:"Field","Gebürsteter Stahl":"Brushed steel","Gemeinsam verpackt":"Pre-packed",Geometrie:"Geometry","Gestensteuerung 2D Maßskizze":"Dimensional sketch gesture controls","Gestensteuerung 3D Viewer":"3D Viewer gesture controls","Gestrichelte Linien":"Dotted lines","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.",Hauptfarbe:"Primary color",Herstellerkataloge:"Manufacture catalogs",Hilfe:"Help","Hilfe aufrufen":"Show help",Himmel:"Sky","Hinzufügen":"Add","Hinzufügen => Modell anklicken.":"Add => Click on model","Hinzufügen und Editieren von HotSpots.":"Adding and editing of HotSpots.","Hologramm wird erzeugt...":"Creating hologram...","Holographische Pyramide":"Holographic pyramid","HotSpot Modus":"HotSpot mode","HotSpot editieren":"Edit HotSpot","HotSpot hinzufügen":"Add HotSpot","HotSpot löschen":"Delete HotSpot","HotSpots anzeigen":"Show HotSpots","Index wird geladen...":"Loading index...","Isometrische Ansicht":"Isometric view",Ja:"Yes","Kamera Ausrichtung":"Camera direction","Kamera umschalten":"Switch camera",Kamerahintergrund:"Camera background","Kameraposition und -rotation speichern":"Save camera position and rotation",Kanten:"Edges",Kategorie:"Category","Keine Ergebnisse gefunden.":"No results found.","Keine Vorschau verfügbar":"No preview available","Komplette Sammlung ansehen":"View whole collection",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"Cobblestone",Kreis:"Circle","Kreis zeichnen":"Draw circle",Kreisform:"Circle","Küstenstrich":"Coastline","Labels anzeigen":"Show labels","Lade Konfiguration":"Load Configuration",Laub:"Leaves","Leap Motion Steuerung":"Leap Motion Control","Linie zeichnen":"Draw line",Liniendarstellung:"Line view","Linienlänge":"Line length","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"Activate live background. Set your current camera focus as background","Löschen":"Delete","Mehr anzeigen":"Show more","Merkmale auswählen":"Select features","Messraster anzeigen":"Show  measuring grid",Modell:"Model",Modellausrichtung:"Model position",Modelldarstellungsoptionen:"Model viewing options","Modelle in Sammlung":"Collection Items",Modellschattierung:"Model shading","Mögliche Umgebungen werden geladen...":"Available environments are being loaded...",Nein:"No","Neue Konfiguration":"New configuration","Neueste zuerst":"Newest",Oder:"Or",Ok:"OK",Ordner:"Folder","Originalteil:":"Original part:","PARTcloud Bildstrecke":"PARTcloud Slideshow",Parkett:"Parquet",Pflichtfeld:"Required field",Pinsel:"Brush",Pinselfunktion:"Brush","Pinselstärke":"Brush size","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"Brush size:","Problem bei der Tabelle":"Problem with the table","Produkt ist am %1 ausgelaufen.":"Product discontinued since %1.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Product discontinued since %1. Please do not use for new projects.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Product to be discontinued on %1. Please do not use for new projects.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Product to be discontinued. Please do not use for new projects.",Produktliste:"Product list",Projekt:"Project","Projektionsmodus umschalten":"Switch projection mode","Präsentationsansichten":"Presentational views",Querschnitt:"Cross-section","Radialmenü":"Radial menu",Rasen:"Lawn",Raster:"Grid",Rechteck:"Rectangle","Rechteck zeichnen":"Draw rectangle",Rechteckform:"Rectangle","Relativ zum Bauteil":"Relative to the part","Rotation mit einem Finger":"One Finger Rotation","Rotation mit zwei Fingern":"Two Finger Rotation",Rotationsanimation:"Animate rotation","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"Switch rotation mode between model and camera (only when environment is active).",Rotieren:"Rotate","Rückgängig":"Undo",Sammlung:"Collection","Schaltflächenleiste":"Button bar",Schattiert:"Shaded","Schattiert mit Kanten":"Shaded with edges","Schattierte Darstellung":"Shaded view","Schattierte Darstellung mit Kanten":"Activate shaded view with edges","Schließen":"Close",Schnitt:"Cut","Session is abgelaufen":"Session expired",Skizzensuche:"Sketch search","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"Should a replacement part be used?",Sonnenuntergang:"Sunset","Speichere Konfiguration":"Save Configuration",Speichern:"Save",Stadt:"City","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"Subtype",Suche:"Search","Suche starten":"Start search",Suchen:"Search",Suchtext:"Search text","Tabelle konnte nicht geladen werden.":"Could not load table.","Tabelle wird geladen...":"Loading table...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"Technical views","Technische Voransicht":"Technical Preview",Teilefamilie:"Part family",Teleportmodus:"Teleport mode","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"Activate teleport mode, to move to selected position.","Text hinzufügen":"Add text","Texte und Klassen zeigen":"Show texts and classes",Textsuche:"Text search",Titel:"Title",Typ:"Type","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"To move the 3D CAD model on the screen touch the CAD model with two fingers and drag both fingers in the needed direction.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"To zoom into the CAD model, touch the display on two points and move your fingers apart. To zoom out of the CAD model, touch the display on two points and move your fingers to each other.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"To zoom in, touch two points on the screen and move your fingers away from each other. To zoom out, touch two points on the screen and move your fingers towards each other.",Umgebung:"Environment","Umgebung setzen":"Set environment","Umgebungen auswählen und setzen.":"Choose and set environments.",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"Reverse",Und:"And","Ungültiges Bauteil oder ungültige Konfiguration!":"Invalid component or configuration!",Updaten:"Update","Verknüpfung":"Operator","Verschieben mit zwei Fingern":"Move with Two Fingers",Vollbild:"Fullscreen",Vollbildansicht:"Full screen view","Vom Objekt weg zoomen":"Zoom away from object",Vormontiert:"Pre-assembled","Vorzugsreihen An/Aus":"Preferred rows on/off",Warenkorb:"Basket",Weltraum:"Space","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the CAD model and reset the zoom.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the dimensional sketch and reset the zoom.",Werkzeuge:"Tools","Werte zurücksetzen":"Reset values",Werteauswahl:"Values selection",Wiederholen:"Repeat",Winkel:"Angle","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"Swipe your finger on the screen to rotate the 3D CAD model around the X- or Y-axis.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"Swipe your finger on the screen to move the dimensional sketch in the desired direction","Wollen Sie speichern?":"Do you want to save?",Zeichnen:"Drawing","Zeilen anzeigen":"Show lines","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"Zoom","Zum Objekt hin zoomen":"Zoom to object","Zum online Warenkorb hinzufügen":"Add to online Basket","Zurück":"Back","Zurück zu Kataloge":"Back to catalogs","Zurück zur 3D-Ansicht":"Go back to 3D view","Zurücksetzen":"Reset",Zusatzfunktionen:"Additional functions",von:"from","Übernehmen":"Commit"},french:{"2D Maßansicht betrachten":"Voir la vue de cotation 2D",Abbrechen:"Annuler","Abgelöstes Teil":"Discontinued part","Abstand der Bauteile verändern":"Modifier la distance entre les composants","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Attention: This process can take 1-2 minutes. Would you like to continue?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Attention: Your session has expired and is now being restored.","Aktive Farbe":"Couleur active","Alles auswählen":"Tout sélectionner","Alles fangen":"Cadrer",Allgemein:"Informations","Alternative Farbe":"Couleur alternative","Alternative Teil(e):":"Composant(s) alternatif(s) :","Am häufigsten angesehen":"Les plus regardées","Am häufigsten favorisiert":"Les plus favorisées","Am häufigsten heruntergeladen":"Les plus téléchargées","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"Activer l'affichage anaglyphe. Mode pour les images 3D avec des lunettes rouge-cyan.","Ansicht Hinten (-Z)":"Vue arrière (-Z)","Ansicht Links (-X)":"Vue de gauche (-X)","Ansicht Oben (Y)":"Vue de dessus (Y)","Ansicht Rechts (X)":"Vue à droite (X)","Ansicht Unten (-Y)":"Vue de dessous (-Y)","Ansicht Vorne (Z)":"Vue de face (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Fit to screen",Ansichtsfunktionen:"Fonctions des vues",Ansichtswinkel:"Angle d'aperçu","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"Afficher / Masquer les HotSpots (seulement si des HotSpots sont disponibles)","Auf Objekt Zoomen":"Zoomer sur l'objet","Aus Produktliste wählen oder Merkmale klicken und editieren":"Select from product list or click features to edit","Ausfüllen":"Remplir","Ausfüllfunktion":"Remplir",Auswahl:"Sélection","Auswahl löschen":"Supprimer la sélection","Bauteil rotieren":"Tourner l'élément","Bauteil verschieben":"Déplacer le composant","Bauteil wird geladen...":"Chargement du composant,,,","Bauteil wird verarbeitet/konvertiert...":"Le composant est traité / converti ...",Bauteilauswahl:"Choix de la pièce",Bearbeiten:"Editer",Beispiel:"Exemple","Beispiele:":"Exemples :","Bemaßungen anzeigen":"Afficher les cotations","Bemaßungslinien":"Cotations","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"Description","Beschreibung:":"Description :",Bewegen:"Déplacer","Bewegungsmodus umschalten":"Basculer sur le mode de mouvement","Bild aufnehmen":"Prendre une photo","Bild laden":"Charger image","Bild laden oder aufnehmen":"Load or take picture",Bilder:"Image",Bildoptionen:"Options d'image",Bildschirmfoto:"Impression d'écran","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"Vignette","Bitte Flächen schwarz ausfüllen!":"Veuillez remplir les surfaces en noire !","Bitte alle mit '*' makierten Felder ausfüllen!":"Veuillez remplir tous les champs marqués avec '*' !","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"Veuillez entrer un lien %1 valide !","Bitte warten...":"Veuillez patienter...","Bitte wählen Sie ihr Bausisbauteil aus":"Please choose you're basepart","Blaue Felder klicken, um Merkmale zu ändern":"Click blue fields to change features","Bluebox Ansicht":"Bluebox view",Boden:"Sol","Button Legende":"Bouton de légende","Das Gerät bitte horizontal halten.":"Veuillez tenir l'appareil horizontalement.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"Chargement des données...",Datenblatt:"Fiche technique","Der Server antwortete mit einem Fehler:":"Le serveur retourne une erreur : ","Dicke Linien":"Lignes épaisses","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"La taille des images incrustées est trop grande. S'il vous plaît limitez à %1 Mo.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"Le tableau que vous avez ouvert ne contient aucunes lignes correspondant à votre série préférentielle. Vous pouvez désactiver la série préférentielle pour faire apparaitre le tableau.",Distanz:"Distance","Dreamoc HD3 Ansicht":"Dreamoc HD3 view","Dreamoc XL2 Ansicht":"Dreamoc XL2 view","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"En appuyant sur le modèle CAO avec deux doigts et ensuite en tournant, vous effectuez une rotation du modèle CAO sur l'axe Z.","Dünne Linien":"Lignes fines","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"Editer => Cliquer sur HotSpot.",Entfernen:"Supprimer","Es wird nach '%1' gesucht":"Recherche '%1'","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"Aucune pièce de remplacement correcte entrée. Veuillez contacter le fabricant pour plus de renseigenments.",Explosionsansicht:"Eclaté",Exportieren:"Exporter","Farbe auswählen":"Choisir la couleur",Farben:"Couleurs",Fehler:"Erreur",Feld:"Champ","Gebürsteter Stahl":"Acier brossé","Gemeinsam verpackt":"Pre-packed",Geometrie:"Géométrie","Gestensteuerung 2D Maßskizze":"Contrôle gestuel schéma de cotations 2D","Gestensteuerung 3D Viewer":"Contrôle gestuel visionneuse 3D","Gestrichelte Linien":"Lignes pointillées","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"Texte HTML",Hauptfarbe:"Couleur principale",Herstellerkataloge:"Catalogues de fabricants",Hilfe:"Aide","Hilfe aufrufen":"Ouvrir l'aide",Himmel:"Ciel","Hinzufügen":"Ajouter","Hinzufügen => Modell anklicken.":"Ajouter => Cliquer sur le modèle.","Hinzufügen und Editieren von HotSpots.":"Ajouter et éditer les HotSpots.","Hologramm wird erzeugt...":"Création de l'hologramme en cours ...","Holographische Pyramide":"Pyramide Holographic","HotSpot Modus":"Mode HotSpot","HotSpot editieren":"Editer l'HotSpot","HotSpot hinzufügen":"Ajouter HotSpot","HotSpot löschen":"Supprimer HotSpot","HotSpots anzeigen":"Afficher HotSpots","Index wird geladen...":"Chargement de l'index...","Isometrische Ansicht":"Vue isométrique",Ja:"Oui","Kamera Ausrichtung":"Orientation de la caméra","Kamera umschalten":"Changer caméra",Kamerahintergrund:"Arrière-plan de la caméra","Kameraposition und -rotation speichern":"Enregistrer la position et rotation de la caméra",Kanten:"Filaire",Kategorie:"Catégorie","Keine Ergebnisse gefunden.":"No results found.","Keine Vorschau verfügbar":"Aucun aperçu disponible","Komplette Sammlung ansehen":"Voir la collection complète",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"Pavés",Kreis:"Cercle","Kreis zeichnen":"Draw circle",Kreisform:"Forme circulaire","Küstenstrich":"Tronçon de côte","Labels anzeigen":"Show labels","Lade Konfiguration":"Charger la configuration",Laub:"Feuille","Leap Motion Steuerung":"Commande Leap Motion","Linie zeichnen":"Draw line",Liniendarstellung:"Filiaire","Linienlänge":"Longueur des lignes",Link:"Lien","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"Activer l'arrière-plan réel. Cette option vous permet d'utiliser l'image direct de votre caméra en tant qu'arrière-plan.","Löschen":"Supprimer","Mehr anzeigen":"Afficher plus","Merkmale auswählen":"Choisissez les caractéristiques","Messraster anzeigen":"Afficher grille de dimensions",Modell:"Modèle",Modellausrichtung:"Orientation du modèle",Modelldarstellungsoptionen:"Options de représentation du modèle","Modelle in Sammlung":"Collection Items",Modellschattierung:"Ombrage du modèle","Mögliche Umgebungen werden geladen...":"Chargement des environnements possibles ....",Nein:"Non","Neue Konfiguration":"Nouvelle configuration","Neueste zuerst":"Plus récentes en premier",Oder:"Ou",Ok:"OK",Ordner:"Répertoire","Originalteil:":"Composant choisi :","PARTcloud Bildstrecke":"PARTcloud Slideshow",Parkett:"Parquet",Pflichtfeld:"Champ obligatoire",Pinsel:"Pinceau",Pinselfunktion:"Pinçeau","Pinselstärke":"Brush size","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"Epaisseur :","Problem bei der Tabelle":"Problème dans le tableau","Produkt ist am %1 ausgelaufen.":"Product discontinued since %1.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Product discontinued since %1. Please do not use for new projects.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Ce produit expirera le %1. Veuillez ne plus l'utiliser pour de nouvelles conceptions.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Ce produit va bientôt expiré. Veuillez ne plus l'utiliser pour vos nouvelles conceptions.",Produktliste:"Liste de produits",Projekt:"Projet","Projektionsmodus umschalten":"Commuter le mode projection","Präsentationsansichten":"Vues de présentation",Querschnitt:"Section transversale","Radialmenü":"Radial menu",Rasen:"Pelouse",Raster:"Trame",Rechteck:"Rectangle","Rechteck zeichnen":"Draw rectangle",Rechteckform:"Forme rectangulaire","Relativ zum Bauteil":"Relatif au composant","Rotation mit einem Finger":"Rotation avec un doigt","Rotation mit zwei Fingern":"Rotation avec 2 doigts",Rotationsanimation:"Animation","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"Changer le mode rotation entre modèle et caméra (seulement avec environnement actif).",Rotieren:"Animation","Rückgängig":"Annuler",Sammlung:"Ensemble","Schaltflächenleiste":"Button bar",Schattiert:"Ombragé","Schattiert mit Kanten":"Ombragé avec contours","Schattierte Darstellung":"Ombragé","Schattierte Darstellung mit Kanten":"Ombragée avec contours","Schließen":"Fermer",Schnitt:"Coupe","Session is abgelaufen":"Session expired",Skizzensuche:"Recherche 2D","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"Voulez-vous utiliser la pièce de remplacement pour ce projet ?",Sonnenuntergang:"Coucher du soleil","Speichere Konfiguration":"Enregistrer la configuration",Speichern:"Enregistrer",Stadt:"Ville","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"Sous-type",Suche:"Rechercher","Suche starten":"Lancer la recherche",Suchen:"Rechercher",Suchtext:"Entrez ici votre texte de recherche","Tabelle konnte nicht geladen werden.":"Impossible de charger le tableau.","Tabelle wird geladen...":"Chargement du tableau...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"Informations techniques","Technische Voransicht":"Informations techniques",Teilefamilie:"Famille de pièces",Teleportmodus:"Mode téléportation","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"Activer le mode téléporter pour passer à la position sélectionnée.","Text hinzufügen":"Ajouter texte","Texte und Klassen zeigen":"Afficher texte et classes",Textsuche:"Recherche textuelle",Titel:"Titre",Typ:"Type","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"Pour déplacer le modèle CAO 3D sur l'écran, appuyez avec 2 doigts sur le modèle et glissez vos doigts dans la direction souhaitée.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"To zoom into the CAD model, touch the display on two points and move your fingers apart. To zoom out of the CAD model, touch the display on two points and move your fingers to each other.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"Pour zoomer dans l'esquisse de cotations, touchez l'écran en 2 points et déplacez vos doigts en les rapprochant l'un de l'autre. Pour dézoomer dans l'esquisse de cotations, touchez l'écran en 2 points et déplacez vos doigts en les écartant l'un de l'autre.",Umgebung:"Environnement","Umgebung setzen":"Placer un environnement","Umgebungen auswählen und setzen.":"Choisir et placer les environnements.",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"Inverser",Und:"Et","Ungültiges Bauteil oder ungültige Konfiguration!":"Composant ou configuration non valide !",Updaten:"Mises à jours","Verknüpfung":"Raccourci","Verschieben mit zwei Fingern":"Déplacer avec 2 doigts",Vollbild:"Plein écran",Vollbildansicht:"Plein écran","Vom Objekt weg zoomen":"Zoom arrière de l'objet",Vormontiert:"Pre-assembled","Vorzugsreihen An/Aus":"Série préférentielle Marche/Arrêt",Warenkorb:"Panier",Website:"Site internet",Weltraum:"Espace","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the CAD model and reset the zoom.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Double tap the screen to center the dimensional sketch and reset the zoom.",Werkzeuge:"Outils","Werte zurücksetzen":"Supprimer les valeurs",Werteauswahl:"Choix de la valeur",Wiederholen:"Répéter",Winkel:"Angle","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"Glissez avec le doigt sur l'écran pour tourner le modèle CAO 3D sur son axe X ou Y.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"Glissez avec un doigt sur l'écran pour déplacer l'esquisse de cotations dans la direction souhaitée.","Wollen Sie speichern?":"Do you want to save?",Zeichnen:"Drawing","Zeilen anzeigen":"Afficher lignes","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"Zoomer","Zum Objekt hin zoomen":"Zoomer sur l'objet","Zum online Warenkorb hinzufügen":"Add to online Basket","Zurück":"Précédent","Zurück zu Kataloge":"Revenir aux catalogues","Zurück zur 3D-Ansicht":"Revenir sur la vue 3D","Zurücksetzen":"Effacer filtre",Zusatzfunktionen:"Fonctions supplémentaires",von:"de","Übernehmen":"Récupérer"},german:{"Vorzugsreihen An/Aus":"Vorzugsreihen an/aus",Website:"Webseite"},italian:{"2D Maßansicht betrachten":"Vista disegni dimensionali 2D","2D/3D-CAD":"CAD 2D/3D",Abbrechen:"Annulla","Abgelöstes Teil":"Parte sostituita","Abstand der Bauteile verändern":"Mofiva la distanza tra i componi","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Attenzione: questo processo potrebbe durare 1-2 minuti. Si desidera continuare?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Attenzione: la sessione è scaduta e viene rigenerata","Aktive Farbe":"Colori attivi","Alles auswählen":"Seleziona tutto","Alles fangen":"Vista ottimizzata",Allgemein:"Generale","Alternative Farbe":"Colore alternativo","Alternative Teil(e):":"Parti alternative:","Am häufigsten angesehen":"Più visti","Am häufigsten favorisiert":"Più piaciuti","Am häufigsten heruntergeladen":"Più scaricati","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"Attiva vista anaglifica. Modalità di rappresentazione 3D con occhiali rosso-ciano",Animation:"Animazione","Ansicht Hinten (-Z)":"Vista posteriore (-Z)","Ansicht Links (-X)":"Vista a sinistra (-X)","Ansicht Oben (Y)":"Vista da sopra (Y)","Ansicht Rechts (X)":"Vista a destra (X)","Ansicht Unten (-Y)":"Vista da sotto (-Y)","Ansicht Vorne (Z)":"Vista frontale (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Centra l'immagine e adatta allo schermo",Ansichtsfunktionen:"Funzioni di visualizzazione aggiuntive",Ansichtswinkel:"Angolo di vista","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"Mostra/Nascondi HotSpot (solo in presenza di HotSpot)","Auf Objekt Zoomen":"Zooma su oggetto","Aus Produktliste wählen oder Merkmale klicken und editieren":"Selezionare dalla lista prodotti o cliccare sulle feature per modificare","Ausfüllen":"Riempi","Ausfüllfunktion":"Riempimento",Auswahl:"Selezione","Auswahl löschen":"Cancella selezione","Bauteil rotieren":"Girare la parte","Bauteil verschieben":"Muovi la parte","Bauteil wird geladen...":"Caricamento del componente in corso...","Bauteil wird verarbeitet/konvertiert...":"Modifica/Conversione del componente... ",Bauteilauswahl:"Selezione componente",Bearbeiten:"Modifica",Beispiel:"Esempio","Beispiele:":"Esempi:","Bemaßungen anzeigen":"Mostra dimensioni","Bemaßungslinien":"Linee di dimensionamento","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"Descrizione","Beschreibung:":"Descrizione:",Bewegen:"Muovi","Bewegungsmodus umschalten":"Cambia modalità di movimentazione","Bild aufnehmen":"Inserisci immagine","Bild laden":"Caricamento immagine","Bild laden oder aufnehmen":"Carica o cattura immagine",Bilder:"Immagine",Bildoptionen:"Opzioni immagine",Bildschirmfoto:"Screenshot","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"Immagine di anteprima","Bitte Flächen schwarz ausfüllen!":"Riempire l'area in nero","Bitte alle mit '*' makierten Felder ausfüllen!":"Compilare i campi contrassegnati con '*' ","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Si prega di notare:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assemblati</b>&nbsp;and&nbsp;<b>Pre-imballati</b>&nbsp;disponibili solo per le seguenti nazioni:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"Inserire un link %1 valido","Bitte warten...":"Attendere prego...","Bitte wählen Sie ihr Bausisbauteil aus":"Selezionare il vostro componente di base","Blaue Felder klicken, um Merkmale zu ändern":"Cliccare sui campi blu per cambiare feature","Bluebox Ansicht":"Vista Bluebox",Boden:"Piano","Button Legende":"Legenda dei bottoni","Das Gerät bitte horizontal halten.":"Tenere il dispositivo in orizzontale.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"Caricamento dati...",Datenblatt:"Datasheet","Der Server antwortete mit einem Fehler:":"Il server ha risposto con un errore:","Dicke Linien":"Linee grosse","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"La dimensione dell'immagine è troppo grande. Ridurla a %1 MB.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"La tabella che si è aperta contiene solo righe che non corrispondono al vostro attuale ordine di preferenza. E' possibile disattivare l'ordine di preferenza per poter visualizzare tutte le righe della tabella. ",Distanz:"Distanza","Dreamoc HD3 Ansicht":"Vista Dreamoc HD3","Dreamoc XL2 Ansicht":"Vista Dreamoc XL2","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"Per ruotare il modello CAD attorno all'asse Z, toccare il modello CAD con due dita e muoverle circolarmente","Dünne Linien":"Linee sottili","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"Modifica => Cliccare HotSpot",Entfernen:"Elimina","Es wird nach '%1' gesucht":"Si è cercato %1","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"Non sono state trovate parti di ricambio valide. Per qualsiasi domanda si prega di contattare il produttore.",Explosionsansicht:"Vista esplosa",Exportieren:"Esporta","Farbe auswählen":"Scelta colore",Farben:"Colori",Fehler:"Errore",Feld:"Campo","Gebürsteter Stahl":"Acciaio spazzolato","Gemeinsam verpackt":"Impacchettato ","Gestensteuerung 2D Maßskizze":"Sketch 2D del controllo gesturale","Gestensteuerung 3D Viewer":"Visualizzatore 3D del controllo gestuale","Gestrichelte Linien":"Linee tratteggiate","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"Testo HTML",Hauptfarbe:"Colore principale",Herstellerkataloge:"Cataloghi di produttori",Hilfe:"Aiuto","Hilfe aufrufen":"Mostra aiuto",Himmel:"Cielo","Hinzufügen":"Aggiungi","Hinzufügen => Modell anklicken.":"Inserimento  => Cliccare Modello","Hinzufügen und Editieren von HotSpots.":"Inserimento e modifica di HotSpot",Holodeck:"Ponte ologrammi","Hologramm wird erzeugt...":"Creazione dell'ologramma in corso...","Holographische Pyramide":"Piramide olografica","HotSpot Modus":"Modalità HotSpot","HotSpot editieren":"Modifica HotSpot","HotSpot hinzufügen":"Inserisci HotSpot","HotSpot löschen":"Elimina HotSpot","HotSpots anzeigen":"Mostra HotSpot","Index wird geladen...":"Caricamento dell'indice in corso...","Isometrische Ansicht":"Vista isometrica",Ja:"Sì","Kamera Ausrichtung":"Allineamento della fotocamera","Kamera umschalten":"Commuta telecamera",Kamerahintergrund:"Sfondo fotocamera","Kameraposition und -rotation speichern":"Salva posizione e rotazione fotocamera",Kanten:"Spigoli",Kategorie:"Categoria","Keine Ergebnisse gefunden.":"Non sono stati trovati risultati.","Keine Vorschau verfügbar":"Nessuna anteprima disponibile","Komplette Sammlung ansehen":"Vedi la raccolta completa",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"Ciottoli",Kreis:"Cerchio","Kreis zeichnen":"Disegna cerchio",Kreisform:"Cerchio","Küstenstrich":"Sponda","Labels anzeigen":"Mostra etichette","Lade Konfiguration":"Carica configurazione",Laub:"Foglie","Leap Motion Steuerung":"Controllo Leap Motion","Linie zeichnen":"Disegna linea",Liniendarstellung:"Rappresentazione a filo di ferro","Linienlänge":"Lunghezza della linea","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"Attiva sfondo Live. Con questa opzione si può impostare l'obiettivo della fotocamera attuale come sfondo.","Löschen":"Cancella","Mehr anzeigen":"Mostra tutto","Merkmale auswählen":"Selezionare caratteristiche","Messraster anzeigen":"Mostra tabella dimensioni",Modell:"Modello",Modellausrichtung:"Posizione del modello",Modelldarstellungsoptionen:"Opzioni di rappresentazione del modello","Modelle in Sammlung":"Collection Items",Modellschattierung:"Ombreggiatura del modello","Mögliche Umgebungen werden geladen...":"Caricamento di possibili ambienti...",Nein:"No","Neue Konfiguration":"Nuova configurazione","Neueste zuerst":"Più recenti",Oder:"O",Ordner:"Cartella","Originalteil:":"Parte originale:","PARTcloud Bildstrecke":"Immagini PARTcloud",Parkett:"Parquet",Pflichtfeld:"Campo obbligatorio",Pinsel:"Spazzola",Pinselfunktion:"Pennello","Pinselstärke":"Tipo di pennello","Pinselstärke auswählen":"Selezionare pennello","Pinselstärke:":"Spessore del pennello: ","Problem bei der Tabelle":"Problema nella Tabella","Produkt ist am %1 ausgelaufen.":"Il prodotto è fuori produzione dal %1","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Il prodotto è fuori produzione dal %1. Non può essere utilizzato per nuove progettazioni.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Il prodotto andrà fuori produzione dal %1. Non può essere utilizzato per nuove progettazioni.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Il prodotto sta per andare fuori produzione. Non può essere utilizzato per nuove progettazioni.",Produktliste:"Lista prodotti",Projekt:"Progetto","Projektionsmodus umschalten":"Cambia modalità di proiezione","Präsentationsansichten":"Viste di presentazione",Querschnitt:"Sezione","Radialmenü":"Radial menu",Rasen:"Prato",Raster:"Griglia",Rechteck:"Rettangolo","Rechteck zeichnen":"Disegna rettangolo",Rechteckform:"Rettangolo","Relativ zum Bauteil":"Relativo al componente","Rotation mit einem Finger":"Rotazione con un dito","Rotation mit zwei Fingern":"Rotazione con due dita",Rotationsanimation:"Rotazione animata","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"Cambia modalità di rotazione tra modello e fotocamera (solo in ambiente attivo)",Rotieren:"Ruota","Rückgängig":"Indietro",Sammlung:"Raccolta","Schaltflächenleiste":"Button bar",Schattiert:"Ombreggiato ","Schattiert mit Kanten":"Ombreggiato con spigoli","Schattierte Darstellung":"Rappresentazione ombreggiata","Schattierte Darstellung mit Kanten":"Vista ombreggiata con spigoli","Schließen":"Chiudi",Schnitt:"Taglia","Session is abgelaufen":"Sessione scaduta",Skizzensuche:"Recherche 2D","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"Utilizzare una parte di ricambio?",Sonnenuntergang:"Tramonto","Speichere Konfiguration":"Salva configurazione",Speichern:"Salva",Stadt:"Città","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"Sottotipo",Suche:"Ricerca","Suche starten":"Avvia la ricerca",Suchen:"Cerca",Suchtext:"Ricerca testo","Tabelle konnte nicht geladen werden.":"Impossibile caricare la tabella","Tabelle wird geladen...":"Caricamento della tabella in corso...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"Viste tecniche","Technische Voransicht":"Anteprima vista tecnica",Teilefamilie:"Famiglia di parti",Teleportmodus:"Modalità teleport","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"Attivare la modalità Teleport per muoversi nella posizione selezionata","Text hinzufügen":"Inserisci testo","Texte und Klassen zeigen":"Visualizza testo e classi",Textsuche:"Ricerca con testo",Titel:"Titolo",Typ:"Tipo","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"Per spostare il modello CAD 3D sullo schermo toccare il modello CAD con due dita e muoverle entrambe nella direzione desiderata. ","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"Per ingrandire il modello CAD toccare lo schermo in due punti ed allontanare le dita. Per rimpicciolire il modello CAD toccare lo schermo in duepunti ed avvicinare le dita.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"Per zoomare toccare due punti sullo schermo e allontanare le dita. Per allontanare lo zoom toccare due punti sullo schermo ed avvicinare le dita.   ",Umgebung:"Ambiente ","Umgebung setzen":"Imposta ambiente","Umgebungen auswählen und setzen.":"Selezionare e impostare ambiente ",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"Inverti",Und:"E","Ungültiges Bauteil oder ungültige Konfiguration!":"Componente o configurazione non validi",Updaten:"Aggiorna","Verknüpfung":"Operatore","Verschieben mit zwei Fingern":"Muovere con due dita",Vollbild:"Immagine piena",Vollbildansicht:"Vista a schermo intero","Vom Objekt weg zoomen":"Allontana zoom dall'oggetto",Vormontiert:"premontato","Vorzugsreihen An/Aus":"Varianti preferite on/off",Warenkorb:"Cestino",Website:"Sito Web",Weltraum:"Spazio","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Cliccando due volte sullo schermo il modello CAD viene messo al centro e adattato alle dimensioni dello schermo.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Cliccare due volte sullo schermo per centrare il disegno dimensionale e adattarlo alle dimensioni dello schermo",Werkzeuge:"Strumenti","Werte zurücksetzen":"Reimposta valora",Werteauswahl:"Selezione valori",Wiederholen:"Replay",Winkel:"Angolo","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"Strisciare il dito sullo schermo per ruotare il modello CAD 3D attorno all'asse X o Y.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"Spostare il dito sullo schermo per muovere lo sketch dimensionale 2D nella direzione desiderata.","Wollen Sie speichern?":"Salvare?",Zeichnen:"Disegna","Zeilen anzeigen":"Mostra righe","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"Zoom","Zum Objekt hin zoomen":"Avvicina zoom verso l'oggetto","Zum online Warenkorb hinzufügen":"Aggiungi a carrello online","Zurück":"Indietro","Zurück zu Kataloge":"Torna a Cataloghi","Zurück zur 3D-Ansicht":"Torna alla vista 3D","Zurücksetzen":"Ripristina",Zusatzfunktionen:"Funzioni aggiuntive",von:"da","Übernehmen":"Applica"},japanese:{"2D Maßansicht betrachten":"２D寸法図の表示",Abbrechen:"キャンセル","Abgelöstes Teil":"分離されたパーツ","Abstand der Bauteile verändern":"パーツ間の距離を変更","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"警告：このプロセスは完了までに1〜2分かかることがあります。続行しますか","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"注：セッションの有効期限が切れており、現在復元されます。","Aktive Farbe":"有効な色","Alles auswählen":"すべてマーク","Alles fangen":"ズーム 全図形",Allgemein:"一般","Alternative Farbe":"代替色","Alternative Teil(e):":"代替部分（複数可）：","Am häufigsten angesehen":"人気の動画","Am häufigsten favorisiert":"最もお気に入り","Am häufigsten heruntergeladen":"トップダウンロード","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"立体視ビューを有効。赤青メガネで3D表示モード。",Animation:"アニメーション","Ansicht Hinten (-Z)":"背面図 (-Z)","Ansicht Links (-X)":"左側面図(-X)","Ansicht Oben (Y)":"平面図 (Y)","Ansicht Rechts (X)":"右側面図(X)","Ansicht Unten (-Y)":"底面図 (-Y)","Ansicht Vorne (Z)":"正面図(Z)","Ansicht zentrieren und Zoomfaktor anpassen":"スクリーンにフィット",Ansichtsfunktionen:"ビュー機能",Ansichtswinkel:"視野角の設定","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"ホットスポット（ホットスポットが利用可能な場合のみ）の表示/非表示","Auf Objekt Zoomen":"オブジェクトをズーム","Augmented Reality":"拡張現実（ＡＲ）","Aus Produktliste wählen oder Merkmale klicken und editieren":"プロダクトリストから選択、または、編集するフィーチャをクリック","Ausfüllen":"満たす","Ausfüllfunktion":"埋める",Auswahl:"選択","Auswahl löschen":"選択をクリア","Bauteil rotieren":"構造単位の回転","Bauteil verschieben":"パーツを移動","Bauteil wird geladen...":"コンポーネントをロード中...","Bauteil wird verarbeitet/konvertiert...":"コンポーネントが処理/変換されます...",Bauteilauswahl:"部品の選択",Bearbeiten:"編集",Beispiel:"サンプル","Beispiele:":"例：","Bemaßungen anzeigen":"寸法を表示","Bemaßungslinien":"Dimension lines","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"記","Beschreibung:":"説明：",Bewegen:"移動","Bewegungsmodus umschalten":"動作モードの切り替え","Bild aufnehmen":"キャプチャ画像","Bild laden":"イメージをロード","Bild laden oder aufnehmen":"画像をロードまたは貼り付け",Bilder:"写真",Bildoptionen:"ピクチャ オプション",Bildschirmfoto:"スクリーンショット","Bildschirmfoto der 3D-Ansicht erstellen":"3Dビューのスクリーンショットを作成",Bildvorschau:"プレビュー画像","Bitte Flächen schwarz ausfüllen!":"図のように黒で塗りつぶしてください","Bitte alle mit '*' makierten Felder ausfüllen!":"「*」の付いたすべてのフィールドを入力してください！","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"有効な %1 のリンクを入力してください！","Bitte warten...":"しばらくお待ちください...","Bitte wählen Sie ihr Bausisbauteil aus":"ベースパーツを選択してください。","Blaue Felder klicken, um Merkmale zu ändern":"フィーチャ変更のため青フィールドをクリック",Bluebox:"ブルーボックス","Bluebox Ansicht":"ブルーボックスビュー",Boden:"フロア","Button Legende":"ボタン説明","Das Gerät bitte horizontal halten.":"デバイスを回転しランドスケープモードにしてください。","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"ファイル: '%1' 処理できませんでした。 .<br>ファイルタイプ '.%2' はサポートされていません。","Daten werden geladen...":"データ読み込み中...",Datenblatt:"データシート",Debug:"デバッグ","Der Server antwortete mit einem Fehler:":"サーバーはエラーを応答しました：","Dicke Linien":"太線","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"埋め込み画像のサイズが大きすぎます。 %1 メガバイトにこれを制限してください。","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"開いている表には現在の優先シリーズと一致しない行のみが含まれています　すべてのテーブルの行が表示されるようにする優先順位を無効にすることができます",Distanz:"座標","Dreamoc HD3 Ansicht":"Dreamoc HD3ビュー","Dreamoc XL2 Ansicht":"Dreamoc XL2 ビュー","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"2本の指でCADモデルをタッチした後、回転させることによりZ軸のCADモデルの回転を行います。","Dünne Linien":"細線","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"編集=>ホットスポットをクリック。",Entfernen:"削除","Es wird nach '%1' gesucht":"'%1' を検索","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"有効な代替部品があります。 ご質問につきましては製造元にお問い合わせください",Explosionsansicht:"分解ビュー",Exportieren:"エクスポート","Farbe auswählen":"色を選択",Farben:"色",Fehler:"エラー",Feld:"フィールド","Gebürsteter Stahl":"つや消しスチール","Gemeinsam verpackt":"パック",Geometrie:"ジオメトリ","Gestensteuerung 2D Maßskizze":"2D寸法スケッチのジェスチャー制御","Gestensteuerung 3D Viewer":"ジェスチャーコントロール3Dビューア","Gestrichelte Linien":"点線","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"HTMLテキスト",Hauptfarbe:"メインカラー",Herstellerkataloge:"製品カタログ",Hilfe:"ヘルプ","Hilfe aufrufen":"ヘルプを表示",Himmel:"天国","Hinzufügen":"追加","Hinzufügen => Modell anklicken.":"追加=>モデルをクリックしてください。","Hinzufügen und Editieren von HotSpots.":"ホットスポットの追加と編集。",Holodeck:"ホロデッキ","Hologramm wird erzeugt...":"ホログラムが作成されます...","Holographische Pyramide":"ホログラムピラミッド","HotSpot Modus":"ホットスポットモード","HotSpot editieren":"ホットスポットを編集","HotSpot hinzufügen":"ホットスポットを追加","HotSpot löschen":"ホットスポットを削除","HotSpots anzeigen":"ホットスポットを表示","Index wird geladen...":"インデックス読み込んでいます...","Isometrische Ansicht":"アイソメ ビュー",Ja:"Yes","Kamera Ausrichtung":"カメラの方向","Kamera umschalten":"カメラスイッチ",Kamerahintergrund:"カメラの背景","Kameraposition und -rotation speichern":"カメラの位置と回転を保存",Kanten:"エッジ",Kategorie:"カテゴリ","Keine Ergebnisse gefunden.":"該当する結果は見つかりませんでした。","Keine Vorschau verfügbar":"プレビュー不可","Komplette Sammlung ansehen":"全体のコレクションを参照。",Kontrastschwellenwert:"コントラスト閾値",Kopfsteinpflaster:"石畳",Kreis:"円","Kreis zeichnen":"円を描きます",Kreisform:"真円度","Küstenstrich":"ストレッチ","Labels anzeigen":"ラベル表示","Lade Konfiguration":"負荷の設定",Laub:"葉","Leap Motion Steuerung":"Leap モーションコントロール","Linie zeichnen":"線を引きます",Liniendarstellung:"ライン ビュー","Linienlänge":"行の長さ",Link:"リンク","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"ライブカメラ背景を有効。 カメラの画像が背景に表示されます。","Löschen":"削除",Max:"最大","Mehr anzeigen":"さらに","Merkmale auswählen":"特長を選ぶ","Messraster anzeigen":"計測グリッド",Min:"最小",Modell:"モデル",Modellausrichtung:"モデルの位置",Modelldarstellungsoptionen:"モデルビューオプション","Modelle in Sammlung":"Collection Items",Modellschattierung:"モデルのシェーディング","Mögliche Umgebungen werden geladen...":"可能な環境を読み込んでいます...",Nein:"No","Neue Konfiguration":"新しいコンフィグレーション","Neueste zuerst":"最新",Oder:"または",Ok:"OK",Ordner:"フォルダ","Originalteil:":"元の部品：","PARTcloud Bildstrecke":"PARTcloud フォトギャラリー",Parkett:"寄木細工",Pflichtfeld:"必須入力フィールド",Pinsel:"ブラシ",Pinselfunktion:"ブラシ機能","Pinselstärke":"ブラシの強さ","Pinselstärke auswählen":"ブラシサイズを変更","Pinselstärke:":"ブラシサイズ：","Problem bei der Tabelle":"テーブルに問題","Produkt ist am %1 ausgelaufen.":"製品は %1 日に期限切れとなります","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"製品は %1 に有効期限切れとなります　新規設計用には使用しないで下さい","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"製品は %1 に期限切れとなります　新規設計用には使用しないで下さい","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"製品が期限切れです　新規設計用には使用しないで下さい",Produktliste:"製品リスト",Projekt:"プロジェクト","Projektionsmodus umschalten":"投影モードの切り替え","Präsentationsansichten":"プレゼンテーションビュー",Querschnitt:"クロス・セクション","Radialmenü":"ラジアルメニュー",Rasen:"芝生",Raster:"グリッド",Rechteck:"矩形","Rechteck zeichnen":"四角形を描きます",Rechteckform:"長方形","Relativ zum Bauteil":"パーツの相対化","Rotation mit einem Finger":"指で回転","Rotation mit zwei Fingern":"2本の指で回転",Rotationsanimation:"回転アニメーション","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"（環境が有効な時のみ）モデルとカメラ間の回転モードを切り替え",Rotieren:"回転","Rückgängig":"元に戻す",Sammlung:"コレクション","Schaltflächenleiste":"ボタンバー",Schattiert:"シェード","Schattiert mit Kanten":"エッジ付きシェード","Schattierte Darstellung":"シェーディングビュー","Schattierte Darstellung mit Kanten":"エッジの輪郭を有効","Schließen":"閉じる",Schnitt:"切断","Session is abgelaufen":"セッションの有効期限が切れています",Skizzensuche:"スケッチ検索","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"代替部品を使いますか？",Sonnenuntergang:"日没","Speichere Konfiguration":"設定を保存",Speichern:"保存",Stadt:"住所（市町村）","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"サブタイプ",Suche:"検索","Suche starten":"検索開始",Suchen:"検索",Suchtext:"検索キーワード","Tabelle konnte nicht geladen werden.":"表はロードできませんでした。","Tabelle wird geladen...":"テーブルにロード中...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"テクニカルビュー","Technische Voransicht":"テクニカルプレビュー",Teilefamilie:"パーツファミリー",Teleportmodus:"テレポートモード","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"選択した位置に移動するためにテレポートモードを有効にします。","Text hinzufügen":"テキスト追加","Texte und Klassen zeigen":"テキストとクラスを表示",Textsuche:"テキスト検索",Titel:"呼称 （肩書き）",Typ:"タイプ","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"画面上の3次元CADモデルを移動させるために、2本の指でCADモデルをタッチして指でドラッグ。","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"CADモデルをズームインするには、ディスプレイを2点でタッチし、指を離します。 CADモデルをズームアウトするには、ディスプレイを2点でタッチし、指を動かします。","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"ズームインするには、画面上の二点をポイントし、同時に近づけます。ズームアウトするには、画面上の二点をポイントし、離していきます。",Umgebung:"周囲","Umgebung setzen":"環境設定","Umgebungen auswählen und setzen.":"選択し、環境を設定します。",Umgebungsverdeckung:"アンビエントオクルージョン",Umkehren:"リバース",Und:"と","Ungültiges Bauteil oder ungültige Konfiguration!":"無効なコンポーネントまたは無効なコンフィギュレーション！",Updaten:"更新","Verknüpfung":"リンク","Verschieben mit zwei Fingern":"二本の指で移動します",Vollbild:"全画面表示",Vollbildansicht:"全画面表示","Vom Objekt weg zoomen":"オブジェクトから離れる",Vormontiert:"プリアセンブル","Vorzugsreihen An/Aus":"優先範囲の on/off",Warenkorb:"買い物かご",Website:"Webサイト",Weltraum:"スペース","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"CADモデルを中心にし、ズームをリセットするために、ダブルタップしてください。","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"寸法図面を中心にし、ズームをリセットするためにダブルタップしてください。",Werkzeuge:"ツール","Werte zurücksetzen":"値のリセット",Werteauswahl:"値選択",Wiederholen:"リピート",Winkel:"角度","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"そのXまたはY軸に3次元CADにモデルを回転させ、画面上で指をスワイプします。","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"2D寸法図面を移動させるためには、画面上で指で動かします。","Wollen Sie speichern?":"保存しますか？",Zeichnen:"描きます","Zeilen anzeigen":"行を表示","Zeilen verstecken":"行を隠す","Zeileninformationen werden geladen...":"行情報をロード...",Zoomen:"ズーム","Zum Objekt hin zoomen":"オブジェクトへズーム","Zum online Warenkorb hinzufügen":"バスケットに追加","Zurück":"戻る","Zurück zu Kataloge":"カタログへ戻る","Zurück zur 3D-Ansicht":"3Dビューへ戻る","Zurücksetzen":"リセット",Zusatzfunktionen:"追加機能",von:"from","Übernehmen":"適用"},korean:{"2D Maßansicht betrachten":"2D 치수도 뷰",Abbrechen:"취소","Abgelöstes Teil":"생산중단된 파트","Abstand der Bauteile verändern":"파트간의 거리 변경","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"경고 :이 프로세스는 완료하는 데 1 ~ 2 분 정도 걸릴 수 있습니다. 계속 하시겠습니까?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"주의 : 세션이 만기되어 이제 복원됩니다.","Aktive Farbe":"현재 칼라","Alles auswählen":"전체 마크","Alles fangen":"전체 줌",Allgemein:"일반","Alternative Farbe":"대체 칼라","Alternative Teil(e):":"대체 부품 (들) :","Am häufigsten angesehen":"최다조회","Am häufigsten favorisiert":"최다선호","Am häufigsten heruntergeladen":"최다 다운로드","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"입체뷰 사용가능. Red-Cyan 입체안경 모드",Animation:"애니메이션","Ansicht Hinten (-Z)":"배면도 (-Z)","Ansicht Links (-X)":"좌측면도 (-X)","Ansicht Oben (Y)":"평면도 (Y)","Ansicht Rechts (X)":"우측면도 (X)","Ansicht Unten (-Y)":"저면도(-Y)","Ansicht Vorne (Z)":"정면도 (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"중앙보기 및 확대/축소 비율 조정",Ansichtsfunktionen:"뷰 기능",Ansichtswinkel:"뷰 각도","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"핫스팟 표시/숨기기 (핫스팟을 사용할 수 있는 경우에만)","Auf Objekt Zoomen":"객체를 줌","Augmented Reality":"증강현실","Aus Produktliste wählen oder Merkmale klicken und editieren":"제품 목록에서 선택하거나 클릭하여 기능을 편집하십시오.","Ausfüllen":"완료","Ausfüllfunktion":"채우기",Auswahl:"선택","Auswahl löschen":"선택 취소","Bauteil rotieren":"파트 회전","Bauteil verschieben":"파트이동","Bauteil wird geladen...":"구성요소 로드 ...","Bauteil wird verarbeitet/konvertiert...":"컴포넌트가 처리됨 / 변환됨.",Bauteilauswahl:"컴퍼넌트 선택",Bearbeiten:"편집",Beispiel:"샘플","Beispiele:":"예:","Bemaßungen anzeigen":"치수표시","Bemaßungslinien":"치수선","Bemaßungslinien anzeigen oder ausblenden":"치수선 표시 / 숨기기",Beschreibung:"설명","Beschreibung:":"설명:",Bewegen:"이동","Bewegungsmodus umschalten":"모션모드로 전환","Bild aufnehmen":"캡처 이미지","Bild laden":"이미지 로드","Bild laden oder aufnehmen":"이미지를 로드 또는 붙여 넣기",Bilder:"사진",Bildoptionen:"Picture 옵션",Bildschirmfoto:"스크린샷","Bildschirmfoto der 3D-Ansicht erstellen":"3D 뷰의 화면 캡처",Bildvorschau:"이미지 미리보기","Bitte Flächen schwarz ausfüllen!":"검은 부분에 입력하십시오!","Bitte alle mit '*' makierten Felder ausfüllen!":"'*' 표시가 있는 칸을 채우십시오!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"옳바른 %1 링크를 입력하십시오!","Bitte warten...":"기다려 주십시오","Bitte wählen Sie ihr Bausisbauteil aus":"베이스 파트를 선택하십시오.","Blaue Felder klicken, um Merkmale zu ändern":"형상 변경을 위한 블루 필드 클릭",Bluebox:"블루박스","Bluebox Ansicht":"블루박스 보기",Boden:"플로어","Button Legende":"버튼설명","Das Gerät bitte horizontal halten.":"장치를 회전하여 가로 모드로 하십시오.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"파일 : '%1'을 (를) 처리 할 수 없습니다. <br> '%2'파일 유형이 지원되지 않습니다.","Daten werden geladen...":"데이타 로딩중...",Datenblatt:"데이터시트",Debug:"디버그","Der Server antwortete mit einem Fehler:":"서버가 오류를 응답했습니다.","Dicke Linien":"굵은실선","Dicke Linien anzeigen oder ausblenden":"실선 표시 / 숨기기","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"포함된 이미지가 너무 큽니다. %1 메가바이트로 제한하시기 바랍니다.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"열려있는 테이블은 현재 우선 시리즈에 일치하지 않는 행 만 포함되어 있습니다. 모든 테이블의 행이 표시되도록하는 우선 순위를 비활성화 할 수 있습니다",Distanz:"거리","Dreamoc HD3 Ansicht":"Dreamoc HD3보기","Dreamoc XL2 Ansicht":"Dreamoc XL2보기","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"두 손가락으로 CAD 모델을 누르고 회전하면  Z축 주위로 CAD 모델의 회전할 수 있습니다.","Dünne Linien":"세선","Dünne Linien anzeigen oder ausblenden":"가는 선 표시 / 숨기기","Editieren => HotSpot anklicken.":"편집 => 핫스팟을 클릭하십시오.",Entfernen:"삭제","Es wird nach '%1' gesucht":"'%1' 검색","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"유효한 대체 부품이 있습니다. 질문에 대해서는 제조원에 문의해 주십시오",Explosionsansicht:"해체도",Exportieren:"내보내기","Farbe auswählen":"칼라선택",Farben:"색상",Fehler:"오류",Feld:"필드","Gebürsteter Stahl":"무광 스틸","Gemeinsam verpackt":"포장",Geometrie:"형상","Gestensteuerung 2D Maßskizze":"제스처 컨트롤 2D 치수도","Gestensteuerung 3D Viewer":"제스처 제어 3D 뷰어","Gestrichelte Linien":"점선","Gestrichelte Linien anzeigen oder ausblenden":"점선 표시 / 숨기기","Gewinde etc. Linien":"나사산 등","Gewinde etc. Linien anzeigen oder ausblenden":"나사산표시 / 숨기기","HTML Text":"HTML 텍스트",Hauptfarbe:"메인 칼라",Herstellerkataloge:"제품 카탈로그",Hilfe:"도움말","Hilfe aufrufen":"도움말 보기",Himmel:"하늘","Hinzufügen":"추가","Hinzufügen => Modell anklicken.":"추가 => 모델을 클릭하십시오.","Hinzufügen und Editieren von HotSpots.":"핫스팟의 추가 및 편집",Holodeck:"홀로데크","Hologramm wird erzeugt...":"홀로그램 만들기...","Holographische Pyramide":"홀로그램 피라밋","HotSpot Modus":"핫스팟 모드","HotSpot editieren":"핫스팟 편집","HotSpot hinzufügen":"핫스팟 추가","HotSpot löschen":"핫스팟 삭제","HotSpots anzeigen":"핫스팟 보이기","Index wird geladen...":"인덱스 로딩...","Isometrische Ansicht":"등각보기",Ja:"예","Kamera Ausrichtung":"카메라 방향","Kamera umschalten":"카메라 스위치",Kamerahintergrund:"카메라 배경","Kameraposition und -rotation speichern":"카메라위치 및 회전 저장",Kanten:"엣지",Kategorie:"카테고리","Keine Ergebnisse gefunden.":"해당 결과를 찾을 수 없습니다.","Keine Vorschau verfügbar":"프리뷰 사용할 수 없음","Komplette Sammlung ansehen":"전체 컬렉션을 참조하십시오",Kontrastschwellenwert:"대비 임계 값",Kopfsteinpflaster:"자갈",Kreis:"원","Kreis zeichnen":"원 그리기",Kreisform:"원형","Küstenstrich":"스트레치","Labels anzeigen":"라벨표시","Lade Konfiguration":"Configuration(구성) 불러오기",Laub:"나가기","Leap Motion Steuerung":"리프모션 제어","Linie zeichnen":"선 그리기",Liniendarstellung:"라인 뷰","Linienlänge":"라인 길이",Link:"링크","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"라이브 배경을 사용합니다. 이 옵션을 사용하면 배경으로 현재의 카메라 포커스를 설정할 수 있습니다.","Löschen":"삭제",Max:"최대","Mehr anzeigen":"더보기","Merkmale auswählen":"특징 선택","Messraster anzeigen":"측정그리드 보이기",Min:"최소",Modell:"모델",Modellausrichtung:"모델위치",Modelldarstellungsoptionen:"모델 디스플레이 옵션","Modelle in Sammlung":"컬렉션 항목",Modellschattierung:"모델세이딩","Mögliche Umgebungen werden geladen...":"선택환경 로딩...",Nein:"아니오","Neue Konfiguration":"새 컨피규레이션 ","Neueste zuerst":"최신",OK:"확인",Oder:"또는",Ok:"확인",Ordner:"폴더","Originalteil:":"원점:","PARTcloud Bildstrecke":"PARTcloud 사진 갤러리",Parkett:"마루",Pflichtfeld:"필수 필드",Pinsel:"브러쉬",Pinselfunktion:"브러쉬 기능","Pinselstärke":"브러시 강도","Pinselstärke auswählen":"브러쉬 크기 변경","Pinselstärke:":"브러쉬 사이즈：","Problem bei der Tabelle":"테이블 문제","Produkt ist am %1 ausgelaufen.":"제품은 %1 일에 만료됩니다","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"제품은 %1에 만료됩니다. 새로운 설계에는 사용하지 마십시오","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"제품은 %1에 만료됩니다.  새로운 설계에는 사용하지 마십시오","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"중단 예정파트: 새로운 설계에 사용하지 마십시오.",Produktliste:"제품 리스트",Projekt:"프로젝트","Projektionsmodus umschalten":"프로젝트 모드로 전환","Präsentationsansichten":"프레젠테이선 뷰",Querschnitt:"단면","Radialmenü":"레이디얼 메뉴",Rasen:"잔디",Raster:"그리드",Rechteck:"직사각형","Rechteck zeichnen":"직사각형 그리기",Rechteckform:"직사각형","Relativ zum Bauteil":"컴포넌트에  관계","Rotation mit einem Finger":"손가락으로 회전","Rotation mit zwei Fingern":"두 손가락으로 회전",Rotationsanimation:"회전 애니메이션","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"모델과 카메라간의 회전모드(황경이 활성화되어 있는 경우만)",Rotieren:"회전","Rückgängig":"취소",Sammlung:"수집","Schaltflächenleiste":"버튼 바",Schattiert:"음영","Schattiert mit Kanten":"엣지를 가진 쉐이드","Schattierte Darstellung":"음영뷰","Schattierte Darstellung mit Kanten":"엣지표시 음영보기","Schließen":"닫기",Schnitt:"Cut","Session is abgelaufen":"세션이 만료되었습니다.",Skizzensuche:"스케치 검색","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"대체 부품을 사용합니까?",Sonnenuntergang:"일몰","Speichere Konfiguration":"Configuration(구성) 저장",Speichern:"저장",Stadt:"도시","Strichpunktierte Linien":"중심선","Strichpunktierte Linien anzeigen oder ausblenden":"중심선 표시 / 숨기기",Subtyp:"서브타입",Suche:"검색","Suche starten":"검색 시작",Suchen:"검색",Suchtext:"문자검색","Tabelle konnte nicht geladen werden.":"테이릅을 로드할 수 없습니다.","Tabelle wird geladen...":"테이블 로딩중...","Tabellendaten ungültig!":"테이블 데이터가 유효하지 않습니다!","Technische Ansichten":"테크니컬 뷰","Technische Voransicht":"테크니컬 프리뷰",Teilefamilie:"파트 패밀리",Teleportmodus:"텔레포트 모드","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"선택한 위치로 이동하는 텔레포트 모드를 활성화합니다.","Text hinzufügen":"텍스트 추가","Texte und Klassen zeigen":"텍스크와 클래스 보이기",Textsuche:"텍스트 검색",Titel:"제목",Typ:"형식","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"화면의 3D CAD 모델을 이동하려면 두 손가락으로 CAD 모델을 터치하고 원하는 방향으로 두 손가락을 드래그합니다.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"CAD 모델을 확대하려면 디스플레이를 2 점으로 터치하고 손가락을 뗍니다. CAD 모델을 축소하려면 디스플레이를 2 점으로 터치하고 손가락을 움직입니다.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"치수스케치를 확대하려면 손가락으로 화면상의 두점을 지정하여 앞으로 밀고, 축소하려면 뒤로밉니다.",Umgebung:"고정","Umgebung setzen":"환경","Umgebungen auswählen und setzen.":"황경을 선택하고 설정하기",Umgebungsverdeckung:"주변 폐색",Umkehren:"역",Und:"And","Ungültiges Bauteil oder ungültige Konfiguration!":"잘못된 파트이거나 잘못된 구성(컨피규레이션)",Updaten:"업데이트","Verknüpfung":"오퍼레이터","Verschieben mit zwei Fingern":"두 손가락을 이동",Vollbild:"전체화면",Vollbildansicht:"전체화면","Vom Objekt weg zoomen":"객체로부터 이동하기",Vormontiert:"프리 어셈블","Vorzugsreihen An/Aus":"선호 열 on/off",Warenkorb:"쇼핑백",Weltraum:"공간","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"화면을 두 번 탭하면 CAD 모델이 가운데에 맞춰지고 화면 크기에 맞게 조정됩니다.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"치수 도면을 중심으로 확대를 재설정하기 위해 더블 탭하십시오.",Werkzeuge:"툴","Werte zurücksetzen":"값 재설정",Werteauswahl:"값 선택",Wiederholen:"반복",Winkel:"각도","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"회전하려는 3D모델의 X, Y축 주의를 스크린위에서 손가락을 돌리십시오.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"원하는 방향으로 2D 치수도를 이동하려면 화면에서 손가락으로 닦아주십시오.","Wollen Sie speichern?":"저장 하시겠습니까?",Zeichnen:"그리기","Zeilen anzeigen":"행 표시","Zeilen verstecken":"행 숨기기","Zeileninformationen werden geladen...":"행 정보 로드 중 ...",Zoomen:"확대","Zum Objekt hin zoomen":"개체 줌","Zum online Warenkorb hinzufügen":"장바구니에 담기","Zurück":"이전","Zurück zu Kataloge":"카탈로그로 가기","Zurück zur 3D-Ansicht":"3D뷰로 돌아가기","Zurücksetzen":"리셋",Zusatzfunktionen:"추가기능",von:"from","Übernehmen":"적용"},russian:{"2D Maßansicht betrachten":"Просмотреть 2D размерный вид",Abbrechen:"Отменить","Abgelöstes Teil":"Упразднённая деталь","Abstand der Bauteile verändern":"Изменение расстояния деталей","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Внимание: Этот процесс может занять 1-2 минуты. Продолжить?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Внимание: ваша сессия истекла и восстанавливается.","Aktive Farbe":"Текущий цвет","Alles auswählen":"Выбрать всё","Alles fangen":"Показать всё",Allgemein:"Общий","Alternative Farbe":"Альтернативный цвет","Alternative Teil(e):":"Альтернативная деталь(и):","Am häufigsten angesehen":"Просмотрено чаще всего","Am häufigsten favorisiert":"Предпочитаемый чаще всего","Am häufigsten heruntergeladen":"Загружено чаще всего","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"Включить анаглифический вид. Режим для 3D-представлений с красно-бирюзовыми 3D-очками.",Animation:"Анимация","Ansicht Hinten (-Z)":"Вид сзади (-Z)","Ansicht Links (-X)":"Вид слева (-X)","Ansicht Oben (Y)":"Вид сверху (Y)","Ansicht Rechts (X)":"Вид справа (X)","Ansicht Unten (-Y)":"Вид cнизу (-Y)","Ansicht Vorne (Z)":"Вид cпереди (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Выровнять по центру и подогнать масштаб вида",Ansichtsfunktionen:"Функции просмотра",Ansichtswinkel:"Угол просмотра","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"Показать/скрыть активные точки (если есть)","Auf Objekt Zoomen":"Приблизить объект","Augmented Reality":"Дополненная реальность","Aus Produktliste wählen oder Merkmale klicken und editieren":"Select from product list or click features to edit","Ausfüllen":"Заливка","Ausfüllfunktion":"Функция заливки",Auswahl:"Выбор","Auswahl löschen":"Удалить выбранное","Bauteil rotieren":"Вращать деталь","Bauteil verschieben":"Деталь переместить","Bauteil wird geladen...":"Деталь загружается...","Bauteil wird verarbeitet/konvertiert...":"Деталь обрабатывается/конвертируется...",Bauteilauswahl:"Выбор детали",Bearbeiten:"Редактировать",Beispiel:"Пример","Beispiele:":"Примеры:","Bemaßungen anzeigen":"Показать размеры","Bemaßungslinien":"Линии размеров","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"Описание","Beschreibung:":"Описание:",Bewegen:"Переместить","Bewegungsmodus umschalten":"Выключить режим перемещения","Bild aufnehmen":"Сделать изображение","Bild laden":"Загрузить изображение","Bild laden oder aufnehmen":"Load or take picture",Bilder:"Изображения",Bildoptionen:"Функции картинки",Bildschirmfoto:"Снимок экрана","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"Препросмотр изображения","Bitte Flächen schwarz ausfüllen!":"Пожалуйста, заполните области чёрным!","Bitte alle mit '*' makierten Felder ausfüllen!":"Пожалуйста, заполните все поля, отмеченные '*'!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Please note:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Pre-assembled</b>&nbsp;and&nbsp;<b>Pre-packed</b>&nbsp;only availabe for following countries:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"Пожалуйста, введите действительную ссылку %1!","Bitte warten...":"Пожалуйста, подождите...","Bitte wählen Sie ihr Bausisbauteil aus":"Пожалуйста, выберите основную деталь","Blaue Felder klicken, um Merkmale zu ändern":"Click blue fields to change features","Bluebox Ansicht":"Bluebox view",Boden:"Пол","Button Legende":"Пояснение к кнопке","Das Gerät bitte horizontal halten.":"Пожалуйста, держите устройство горизонтально.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"Данные загружаются...",Datenblatt:"Паспорт","Der Server antwortete mit einem Fehler:":"Сервер выдал ошибку:","Dicke Linien":"Толстые линии","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"Слишком большой размер присоединённых изображений. Пожалуйста, ограничьте их %1 МБ.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"Открытая вами таблица содержит только строки, не соответствующие вашему текущему стандартному ряду. Вы можете отключить стандартный ряд, чтобы сделать все строки таблиц видимыми.",Distanz:"Дистанция","Dreamoc HD3 Ansicht":"Dreamoc HD3 view","Dreamoc XL2 Ansicht":"Dreamoc XL2 view","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"Вращение CAD-модели по Z-оси осуществляется прикосновением к модели двумя пальцами с последующим вращательным движением.","Dünne Linien":"Тонкие линии","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"Редактировать => кликнуть на активную точку.",Entfernen:"Удалить","Es wird nach '%1' gesucht":"Поиск %1","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"Не были указаны действительные запасные части. При вопросах обратитесь, пожалуйста, к производителю.",Explosionsansicht:"Деталировка",Exportieren:"Экспортировать","Farbe auswählen":"Выбрать цвет",Farben:"Цвета",Fehler:"Ошибка",Feld:"Поле","Gebürsteter Stahl":"Матовая сталь","Gemeinsam verpackt":"Упаковано вместе",Geometrie:"Геометрия","Gestensteuerung 2D Maßskizze":"Управление жестами в размерном эскизе (2D)","Gestensteuerung 3D Viewer":"3D-просмотр управления жестами","Gestrichelte Linien":"Штрихованные линии","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"HTML-текст",Hauptfarbe:"Основной цвет",Herstellerkataloge:"Каталоги производителей",Hilfe:"Помощь","Hilfe aufrufen":"Помощь",Himmel:"Небо","Hinzufügen":"Добавить","Hinzufügen => Modell anklicken.":"Добавить => кликнуть модель.","Hinzufügen und Editieren von HotSpots.":"Добавление и редактирование активных точек.","Hologramm wird erzeugt...":"Голограмма создаётся...","Holographische Pyramide":"Голографическая пирамида","HotSpot Modus":"Режим активных точек","HotSpot editieren":"Редактировать активную точку","HotSpot hinzufügen":"Добавить активную точку","HotSpot löschen":"Удалить активную точку","HotSpots anzeigen":"Показать активные точки","Index wird geladen...":"Загрузка индекса...","Isometrische Ansicht":"Изометрический вид",Ja:"Да","Kamera Ausrichtung":"Настройка камеры","Kamera umschalten":"Переключить камеру",Kamerahintergrund:"Фон камеры","Kameraposition und -rotation speichern":"Сохранить позицию и вращение камеры",Kanten:"Контур",Kategorie:"Категория","Keine Ergebnisse gefunden.":"Поиск не дал результатов.","Keine Vorschau verfügbar":"Предпросмотр недоступен","Komplette Sammlung ansehen":"Посмотреть полную коллекцию",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"Мостовая",Kreis:"Окружность","Kreis zeichnen":"Рисовать круг",Kreisform:"Круг","Küstenstrich":"Очертания","Labels anzeigen":"Показать ярлыки","Lade Konfiguration":"Загрузка конфигураций",Laub:"Листва","Leap Motion Steuerung":"Управление Leap Motion","Linie zeichnen":"Рисовать линию",Liniendarstellung:"Отображение контура","Linienlänge":"Длина линии",Link:"Ссылка","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"Включить активный фон. С помощью этой функции Вы можете установить Ваш текущий фокус камеры в качестве фона.","Löschen":"Удалить",Max:"Макс","Mehr anzeigen":"Показать больше","Merkmale auswählen":"Выбор опции","Messraster anzeigen":"Показать измерительную сетку",Min:"Мин",Modell:"Модель",Modellausrichtung:"Позиционирование модели",Modelldarstellungsoptionen:"Настройки представления моделей","Modelle in Sammlung":"Collection Items",Modellschattierung:"Затенение модели","Mögliche Umgebungen werden geladen...":"Загрузка допустимых режимов...",Nein:"Нет","Neue Konfiguration":"Новая конфигурация","Neueste zuerst":"Сначала новые",Oder:"Или",Ordner:"Папка","Originalteil:":"Оригинальная деталь:","PARTcloud Bildstrecke":"Галерея PARTcloud",Parkett:"Паркет",Pflichtfeld:"Обязательное поле",Pinsel:"Кисть",Pinselfunktion:"Кисть","Pinselstärke":"Толщина кисти","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"Толщина кисти:","Problem bei der Tabelle":"Проблема в таблицце","Produkt ist am %1 ausgelaufen.":"Срок действия продукта истёк %1.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Срок действия продукта истёк %1. Пожалуйста, не используйте его в новых сборках.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Срок действия продукта истекает %1. Пожалуйста, не используйте его в новых сборках.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"Срок действия продукта истекает. Пожалуйста, не используйте его в новых сборках.",Produktliste:"Каталог продукции",Projekt:"Проект","Projektionsmodus umschalten":"Переключить режим проекции","Präsentationsansichten":"Презентационные виды",Querschnitt:"Сечение","Radialmenü":"Radial menu",Rasen:"Газон",Raster:"Растр",Rechteck:"Прямоугольник","Rechteck zeichnen":"Рисовать прямоугольник",Rechteckform:"Прямоугольник","Relativ zum Bauteil":"Относительно детали","Rotation mit einem Finger":"Вращение одним пальцем","Rotation mit zwei Fingern":"Вращение двумя пальцами",Rotationsanimation:"Анимация вращения","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"Переключить режим вращения между моделью и камерой (только в активном режиме).",Rotieren:"Вращать","Rückgängig":"Отменить",Sammlung:"Коллекция","Schaltflächenleiste":"Button bar",Schattiert:"Закрашено","Schattiert mit Kanten":"Закрашено с линиями","Schattierte Darstellung":"Закрашено","Schattierte Darstellung mit Kanten":"Заштрихованное представление с гранями","Schließen":"Закрыть",Schnitt:"Вырез","Session is abgelaufen":"Сессия истекла",Skizzensuche:"Эскизный поиск","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"Должен быть использоваться вместо этого проект, сохраненный в качестве замена?",Sonnenuntergang:"Закат","Speichere Konfiguration":"Сохранение настроек",Speichern:"Сохранить",Stadt:"Город","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"Подтип",Suche:"Поиск","Suche starten":"Начать поиск",Suchen:"Поиск",Suchtext:"Текст поиска","Tabelle konnte nicht geladen werden.":"Не удалось загрузить таблицу.","Tabelle wird geladen...":"Таблица загружается...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"Технические виды","Technische Voransicht":"Технический предпросмотр",Teilefamilie:"Семейство деталей",Teleportmodus:"Режим телепорта","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"Активировать режим телепорта, чтобы переместиться в выбранную позицию.","Text hinzufügen":"Add text","Texte und Klassen zeigen":"Показать текст и классы",Textsuche:"Поиск текста",Titel:"Заголовок",Typ:"Тип","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"Коснитесь CAD-модели двумя пальцами и проведите обоими пальцами в нужном направление, чтобы перемещать 3D CAD-модель на экране.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"Чтобы уменьшить масштаб модели, прикоснитесь к экрану в двух точках и проведите пальцами друг к другу. Чтобы увеличить масштаб, прикоснитесь к экрану в двух точках и проведите пальцами друг от друга.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"Чтобы уменьшить масштаб размерного эскиза, прикоснитесь к экрану в двух точках и проведите пальцами друг к другу. Чтобы увеличить масштаб, прикоснитесь к экрану в двух точках и проведите пальцами друг от друга.",Umgebung:"Окружение","Umgebung setzen":"Задать режим","Umgebungen auswählen und setzen.":"Выбрать и задать режимы.",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"Поворот",Und:"И","Ungültiges Bauteil oder ungültige Konfiguration!":"Недействительная деталь или недействительная конфигурация!",Updaten:"Обновление","Verknüpfung":"Оператор","Verschieben mit zwei Fingern":"Переместить с помощью двух пальцев",Vollbild:"Во весь экран",Vollbildansicht:"Полноэкранный режим","Vom Objekt weg zoomen":"Увеличить масштаб",Vormontiert:"Предварительно смонтированный","Vorzugsreihen An/Aus":"Строки вкл./выкл.",Warenkorb:"Корзина",Website:"Домашняя страница",Weltraum:"Космос","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Двойным нажатием можно отцентрировать и подогнать CAD-модель к размеру экрана.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Размерный эскиз будет выровнен по центру и подогнан по размеру экрана при двойном нажатии.",Werkzeuge:"Инструменты","Werte zurücksetzen":"Сбросить значения",Werteauswahl:"Выбор значений",Wiederholen:"Повторить",Winkel:"Угол","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"Проведите одним пальцем по экрану, чтобы вращать 3D CAD-модель вдоль её Х или Y-оси.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"Проведите одним пальцем по экрану, чтобы переместить 2D размерный эскиз в нужном направлении.","Wollen Sie speichern?":"Сохранить?",Zeichnen:"Рисовать","Zeilen anzeigen":"Показать строки","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"Масштаб","Zum Objekt hin zoomen":"Масштабировать к объекту","Zum online Warenkorb hinzufügen":"Добавить к онлайн-корзине","Zurück":"Назад","Zurück zu Kataloge":"Вернуться к каталогам","Zurück zur 3D-Ansicht":"Вернуться к 3D-виду","Zurücksetzen":"Восстановить",Zusatzfunktionen:"Дополнительные функции",von:"из","Übernehmen":"Принять"},spanish:{"2D Maßansicht betrachten":"Observar vista del tam´ño 2D",Abbrechen:"Cancelar","Abgelöstes Teil":"Pieza relevada","Abstand der Bauteile verändern":"Cambiar la distancia de los componentes","Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?":"Atención: Este proceso puede tardar 1-2 minutos. ¿Quiere continuar?","Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt.":"Atención: La sesión ha caducado y ahora será reestablecida.","Aktive Farbe":"Color activo","Alles auswählen":"Seleccionar todo","Alles fangen":"Zoom todo",Allgemein:"General","Alternative Farbe":"Color alternativo","Alternative Teil(e):":"Pieza(s) alternativa:","Am häufigsten angesehen":"Los más vistos","Am häufigsten favorisiert":"Los más favorecidos ","Am häufigsten heruntergeladen":"Los más descargados","Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.":"Activar la vista anaglifa. Modo para representación 3D con gafas Rot Cian",Animation:"Animación","Ansicht Hinten (-Z)":"Vista atrás (-Z)","Ansicht Links (-X)":"Vista izquierda (-X)","Ansicht Oben (Y)":"Vista arriba (Y)","Ansicht Rechts (X)":"Vista de Derecha (X)","Ansicht Unten (-Y)":"Vista abajo (-Y)","Ansicht Vorne (Z)":"Vista de Frente (Z)","Ansicht zentrieren und Zoomfaktor anpassen":"Centrar vista y adaptar el factor del zoom",Ansichtsfunktionen:"Funciones de la vista",Ansichtswinkel:"Ángulo de visualización","Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)":"Mostrar/ocultar HotSpots (solo cuando los HotSpots están disponibles)","Auf Objekt Zoomen":"Ampliar objeto","Augmented Reality":"Realidad aumentada","Aus Produktliste wählen oder Merkmale klicken und editieren":"Elegir de la lista de producto o hacer click en característica y editar","Ausfüllen":"Rellenar","Ausfüllfunktion":"Función de relleno",Auswahl:"Selección","Auswahl löschen":"Eliminar selección","Bauteil rotieren":"Rotar componente","Bauteil verschieben":"Mover pieza","Bauteil wird geladen...":"Cargando pieza...","Bauteil wird verarbeitet/konvertiert...":"El componente está siendo procesado/convertido",Bauteilauswahl:"Selección de componente",Bearbeiten:"Edición",Beispiel:"Ejemplo","Beispiele:":"Ejemplos","Bemaßungen anzeigen":"Mostrar dimensiones","Bemaßungslinien":"Lineas de acotación","Bemaßungslinien anzeigen oder ausblenden":"Show/Hide dimension lines",Beschreibung:"Descripción","Beschreibung:":"Descripción:",Bewegen:"Mover","Bewegungsmodus umschalten":"Cambiar el modo de movimiento","Bild aufnehmen":"Retomar imagen","Bild laden":"Cargar imagen","Bild laden oder aufnehmen":"Load or take picture",Bilder:"Imágenes",Bildoptionen:"Opciones de imágen",Bildschirmfoto:"Foto de la pantalla","Bildschirmfoto der 3D-Ansicht erstellen":"Create screenshot of 3D view",Bildvorschau:"Vista previa","Bitte Flächen schwarz ausfüllen!":"¡Por favor, rellanar superficies de negro!","Bitte alle mit '*' makierten Felder ausfüllen!":"¡Por favor, rellene todos los campos marcados con '*'!","Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA":"Por favor, tenga en cuenta:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Premontado</b>&nbsp;und&nbsp;<b>Empaquetado junto</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA","Bitte einen gültigen %1 Link eingeben!":"¡Por favor, introduzca un link válido %1!","Bitte warten...":"Espere por favor...","Bitte wählen Sie ihr Bausisbauteil aus":"Por favor, elija su pieza base","Blaue Felder klicken, um Merkmale zu ändern":"Hacer click en los campos azules para cambiar las características","Bluebox Ansicht":"Vista Bluebox",Boden:"Piso","Button Legende":"Botón leyenda","Das Gerät bitte horizontal halten.":"Por favor, mantenga el aparato en posición horizontal.","Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.":"File: '%1' could not be processed.<br>The file type '.%2' is not supported.","Daten werden geladen...":"Los datos se están cargando...",Datenblatt:"Hoja de datos",Debug:"Depurar","Der Server antwortete mit einem Fehler:":"El servidor responde con un error:","Dicke Linien":"Lineas gruesas","Dicke Linien anzeigen oder ausblenden":"Show/Hide solid lines","Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.":"El tamaño de las imágenes incluidas es demasiado grande. Por favor, limite este a %1 MB.","Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.":"La tabla que ha abierto contiene solo filas que no corresponden con el orden de preferencia actual. Puede desactivar el orden de preferencia para hacer visibles todas las filas de la tabla.",Distanz:"Distancia","Dreamoc HD3 Ansicht":"Vista Dreamoc HD3 ","Dreamoc XL2 Ansicht":"Vista Dreamoc XL2 ","Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.":"Tocando el modelo CAD y después girando con dos dedos, efectuará una rotación del modelo CAD sobre el eje Z.","Dünne Linien":"Lineas delgadas","Dünne Linien anzeigen oder ausblenden":"Show/Hide thin lines","Editieren => HotSpot anklicken.":"Editar => Hacer click en el HotSpot.",Entfernen:"Eliminar","Es wird nach '%1' gesucht":"Buscando '%1'","Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.":"No se a entrado ninguna pieza de recambio. Si tiene preguntas comuníquese por favor con el productor.",Explosionsansicht:"Vista de Explosión",Exportieren:"Exportar","Farbe auswählen":"Seleccionar colores",Farben:"Colores",Fehler:"Error",Feld:"Campo","Gebürsteter Stahl":"Acero cepillado","Gemeinsam verpackt":"Empaquetado junto",Geometrie:"Geometría","Gestensteuerung 2D Maßskizze":"Boceto de tamaño 2D con control de movimiento","Gestensteuerung 3D Viewer":"Control por movimientos visor 3D","Gestrichelte Linien":"Curva discontinua","Gestrichelte Linien anzeigen oder ausblenden":"Show/Hide dotted lines","Gewinde etc. Linien":"Threads etc.","Gewinde etc. Linien anzeigen oder ausblenden":"Show/Hide threads etc.","HTML Text":"Texto HTML",Hauptfarbe:"Color principal",Herstellerkataloge:"Cátalogo de los fabricantes",Hilfe:"Ayuda","Hilfe aufrufen":"Obtener ayuda",Himmel:"Cielo","Hinzufügen":"Agregar","Hinzufügen => Modell anklicken.":"Añadir => Hacer click en el modelo.","Hinzufügen und Editieren von HotSpots.":"Añadidura o editación de HotSpots.",Holodeck:"Cubierta holográfica","Hologramm wird erzeugt...":"Se está creando holograma","Holographische Pyramide":"Pirámide Holográfica","HotSpot Modus":"Modo HotSpot","HotSpot editieren":"Editar HotSpot","HotSpot hinzufügen":"Añadir HotSpot","HotSpot löschen":"Borrar HotSpot","HotSpots anzeigen":"Mostrar HotSpot","Index wird geladen...":"Se está cargando el índice...","Isometrische Ansicht":"Vista Isométrica",Ja:"Sí","Kamera Ausrichtung":"Ajuste de la cámara","Kamera umschalten":"Cambiar camára",Kamerahintergrund:"Fondo de la cámara","Kameraposition und -rotation speichern":"Guardar la posición  y la rotaciónde la cámara",Kanten:"Bordes",Kategorie:"Categoría","Keine Ergebnisse gefunden.":"No se han encontrado resultados.","Keine Vorschau verfügbar":"No hay vista previa disponible","Komplette Sammlung ansehen":"Examinar la colección completa",Kontrastschwellenwert:"Contrast threshold",Kopfsteinpflaster:"Adouines",Kreis:"Círculo","Kreis zeichnen":"Dibujar círculo",Kreisform:"Forma redonda","Küstenstrich":"Costa","Labels anzeigen":"Mostrar etiqueta","Lade Konfiguration":"Cargar confiuración",Laub:"Follaje","Leap Motion Steuerung":"Contro Leap Motion","Linie zeichnen":"Dibujar línea",Liniendarstellung:"Representación Delineada","Linienlänge":"Longitud de la linea",Link:"Enlace","Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.":"Activar Live Background. Con esta opción puede establecer su enfoque de la cámara actual como fondo.","Löschen":"Borrar",Max:"Máx","Mehr anzeigen":"Mostrar más","Merkmale auswählen":"Seleccionar características","Messraster anzeigen":"Mostrar cuadrícula de mallado",Modell:"Modelo",Modellausrichtung:"Ajuste del modelo",Modelldarstellungsoptionen:"Opciones de representación de modelos","Modelle in Sammlung":"Collection Items",Modellschattierung:"Sombreado del modelo","Mögliche Umgebungen werden geladen...":"Se están cargando los posibles entornos...",Nein:"No","Neue Konfiguration":"Configuración nueva","Neueste zuerst":"Primero lo más nuevo",OK:"Aceptar",Oder:"O",Ordner:"Carpeta","Originalteil:":"Pieza original:","PARTcloud Bildstrecke":"Secuencia de imágenes PARTcloud",Parkett:"Parquet",Pflichtfeld:"Campo obligatorio",Pinselfunktion:"Función de pincel","Pinselstärke":"Fuerza del pincel","Pinselstärke auswählen":"Change brush size","Pinselstärke:":"Tamaño de la brocha:","Problem bei der Tabelle":"Problemas en la tabla","Produkt ist am %1 ausgelaufen.":"El producto ha expirado el %1.","Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"El producto ha exprirado el %1. Por favor, no lo utilice más en nuevas construcciones.","Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"El producto expirará en %1. Por favor, no lo utilice más en nuevas construcciones.","Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.":"El producto expirará. Por favor, no lo utilice mas en nuevas construcciones.",Produktliste:"Lista de productos",Projekt:"Proyecto","Projektionsmodus umschalten":"Coambiar modo de projección","Präsentationsansichten":"Vistas de la presentación",Querschnitt:"Sección transversal","Radialmenü":"Radial menu",Rasen:"Césped",Raster:"Muestra",Rechteck:"Rectángulo","Rechteck zeichnen":"Dijubar rectángulo",Rechteckform:"Forma rectangular","Relativ zum Bauteil":"Relativo al componente","Rotation mit einem Finger":"Rotación con un dedo","Rotation mit zwei Fingern":"Rotación con dos dedos",Rotationsanimation:"Animación rotacional","Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung).":"Cambiar el modo de rotación entre la cámara y el modelo (solo en entorno activo)",Rotieren:"Rotar","Rückgängig":"Deshacer",Sammlung:"Colección","Schaltflächenleiste":"Button bar",Schattiert:"Sombreado","Schattiert mit Kanten":"Representación con Bordes","Schattierte Darstellung":"Representación Sombreada","Schattierte Darstellung mit Kanten":"Representación del sombreado con bordes","Schließen":"Cerrar",Schnitt:"Corte","Session is abgelaufen":"La sesión ha expirado",Skizzensuche:"Búsqueda 2D","Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?":"¿Desea utilizar un proyecto guardado como reemplazo?",Sonnenuntergang:"Puesta de sol","Speichere Konfiguration":"Guardar la configración",Speichern:"Guardar",Stadt:"Cuidad","Strichpunktierte Linien":"Center lines","Strichpunktierte Linien anzeigen oder ausblenden":"Show/Hide center lines",Subtyp:"Subtipo",Suche:"Búsqueda","Suche starten":"Iniciar búsqueda",Suchen:"Buscar",Suchtext:"Texto de búsqueda","Tabelle konnte nicht geladen werden.":"No se pudo cargar la tabla.","Tabelle wird geladen...":"Se está cargando la tabla...","Tabellendaten ungültig!":"Table data invalid!","Technische Ansichten":"Vistas técnicas","Technische Voransicht":"Vista previa técnica",Teilefamilie:"Familia parcial",Teleportmodus:"Modo de teletransporte","Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.":"Activar el modo de teletransportación para moverse a a posición seleccionada.","Text hinzufügen":"Añadir texto","Texte und Klassen zeigen":"Mostrar textos y clases",Textsuche:"Búsqueda textual",Titel:"Título",Typ:"Tipo","Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.":"Para desplazar el modelo CAD 3D en la pantalla, toque el modelo CAD con dos dedos y mueva los dos dedos en la dirección deseada.","Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.":"Para hacer zoom en el modelo CAD, toque la pantalla en dos puntos y separe los dedos. Para salir del zoom, toque la pantalla en dos puntos y acerque los dedos.","Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.":"To zoom in, touch two points on the screen and move your fingers away from each other. To zoom out, touch two points on the screen and move your fingers towards each other.",Umgebung:"Ambiente","Umgebung setzen":"Establecer entorno","Umgebungen auswählen und setzen.":"Seleccionar y ajustar entorno",Umgebungsverdeckung:"Ambient occlusion",Umkehren:"Invertir",Und:"Y","Ungültiges Bauteil oder ungültige Konfiguration!":"¡Componente o configuración inválida!",Updaten:"Actulaizar","Verknüpfung":"Conexión","Verschieben mit zwei Fingern":"Desplazar con dos dedos",Vollbild:"Pantalla completa",Vollbildansicht:"Vista de pantalla completa","Vom Objekt weg zoomen":"Reducir objeto",Vormontiert:"premontado","Vorzugsreihen An/Aus":"Filas preferidas Activar/Desactivar",Warenkorb:"Cesta de compras",Weltraum:"Espacio sideral","Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.":"Cuando haga click dos veces en la pantalla, el modelo CAD se centrará y se ajustara el tamaño de la pantalla.","Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.":"Si toca dos veces en la pantalla, se centrará el esquema de tamaño y se ajustará al tamaño de la pantalla.",Werkzeuge:"Herramientas","Werte zurücksetzen":"Reestablecer los valores",Werteauswahl:"Selección de valores",Wiederholen:"Repetir",Winkel:"Ángulo","Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.":"Pase el dedo por la pantalla para girar el modelo CAD 3D sobre sueje Y o X.","Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.":"Pase el dedo por la pantalla para mover el esquema de tamaño 2D en la dirección deseada.","Wollen Sie speichern?":"¿Quiere guardar?",Zeichnen:"Dibujar","Zeilen anzeigen":"Mostrar filas","Zeilen verstecken":"Hide rows","Zeileninformationen werden geladen...":"Loading row information...",Zoomen:"Hacer zoom","Zum Objekt hin zoomen":"Hacer zoom en el objeto","Zum online Warenkorb hinzufügen":"Añadir a la cesta de la compra online","Zurück":"Atrás","Zurück zu Kataloge":"Volver a los catálogos","Zurück zur 3D-Ansicht":"Volver a vista 3D","Zurücksetzen":"Regresar",Zusatzfunktionen:"Funciones adicionales",von:"de","Übernehmen":"Aceptar"}}},{}],3:[function(e,t,n){t.exports='<script id="tmpl-Assistant" type="text/x-jsrender">\n  <div class="psol-comp-assistant-container">\n    <div class="psol-comp-assistant-header"></div>\n    <div class="psol-comp-assistant-content">\n      <div class="psol-comp-assistant-scroll-container"></div>\n      <div class="psol-comp-assistant-tv-container"></div>\n    </div>\n    <div class="psol-comp-assistant-footer"></div>\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantHeader" type="text/x-jsrender">\n  <label class="psol-comp-assistant-header-title">{{:NN}}</label>\n  <label class="psol-comp-assistant-header-subtitle">{{:NT}}</label>\n<\/script>\n\n\n<script id="tmpl-AssistantFooter" type="text/x-jsrender">\n  <div class="psol-comp-assistant-footer-container psol-comp-viewbase-clearfix">\n    <div class="psol-comp-viewbase-button psol-comp-assistant-button psol-comp-assistant-search">{{:~zTR(\'Suche starten\')}}</div>\n    <div class="psol-comp-viewbase-button psol-comp-assistant-button psol-comp-assistant-reset">{{:~zTR(\'Werte zurücksetzen\')}}</div>\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTableItem" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tab-item">\n    <label class="psol-comp-assistant-tab-item-title">\n      {{if desc === \'\'}}\n        {{:name}}\n      {{else}}\n        {{:desc}}\n      {{/if}}\n      {{if Unit !== \'\'}} ({{:Unit}}){{/if}}\n    </label>\n    {{if isValueRange}}\n      {{if status === \'ranged\'}}\n        <div class="psol-comp-assistant-slider" id="slider_{{:name}}" data-variable="{{:name}}"></div>\n      {{else}}\n        {{if values && values.length > 1}}\n          <select class="psol-comp-assistant-list" data-select-id="{{:name}}">\n            {{for values ~currentVal=current}}\n              {{if name !== \'\'}}\n                <option value="{{:value}}" {{if value === ~currentVal}}selected{{/if}}>{{:name}}</option>\n              {{/if}}\n            {{/for}}\n          </select>\n        {{else}}\n          <input type="text" class="psol-comp-assistant-value-static" value="{{:resolvedVal}}" data-attr="{{:name}}" disabled />\n        {{/if}}\n      {{/if}}\n    {{else}}\n      {{:current}}\n    {{/if}}\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTableItemFilter" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tab-item">\n  <label class="psol-comp-assistant-tab-item-title">\n    {{if descriptions}}\n      {{:~translate(descriptions, name)}}\n    {{else}}\n      {{:name}}\n    {{/if}}\n  </label>\n  {{if type === \'range\'}}\n    <div class="psol-comp-assistant-slider" type="text" id="slider_{{:name}}" data-variable="{{:name}}"></div>\n  {{else type === \'enum\'}}\n      {{if values.length > 1}}\n        {{if name !== \'CNS_CATALOG\' && name !== \'CNS_NN\' && name !== \'CNS_NT\' }}\n          <select class="psol-comp-assistant-and-or" data-attr="{{:name}}">\n            <option value="OR" selected>{{:~zTR(\'Oder\')}}</option>\n            <option value="AND">{{:~zTR(\'Und\')}}</option>\n          </select>\n          <label class="psol-comp-assistant-and-or-label" for="radioOR_{{:name}}">-{{:~zTR(\'Verknüpfung\')}}</label>\n        {{/if}}\n        <ul class="psol-comp-assistant-list">\n          {{for values ~varName=name}}\n            <li class="psol-comp-assistant-list-item">\n              <input id="chkbox_{{:~varName}}-{{:#data}}" type="checkbox" class="ComponentCustomizeViewBaseCheckbox psol-comp-assistant-list-checkbox" data-attr="{{:~varName}}" value="{{:#data}}">\n              <label for="chkbox_{{:~varName}}-{{:#data}}" class="psol-comp-assistant-list-label psol-comp-assistant-checkbox-bg">\n                {{if image}}\n                  <img src="{{:~getImagePath(image)}}" class="psol-comp-assistant-list-img"/>\n                {{/if}}\n                <span></span>\n                {{:#data}}\n              </label>\n            </li>\n          {{/for}}\n        </ul>\n        <div class="psol-comp-assistant-select-all">\n            <input class="ComponentCustomizeViewBaseCheckbox psol-comp-assistant-select-all-checkbox" type="checkbox" id="selectAll_{{:name}}" data-attr="{{:name}}">\n            <label class="psol-comp-assistant-select-all-label psol-comp-assistant-checkbox-bg" for="selectAll_{{:name}}">\n              <span></span>\n              {{:~zTR(\'Alles auswählen\')}}\n            </label>\n        </div>\n      {{else}}\n        <input type="text" class="psol-comp-assistant-value-static" value="{{:values[0]}}" data-attr="{{:name}}" disabled />\n      {{/if}}\n  {{else}}\n    {{:values}}\n  {{/if}}\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTableItemFilterV9" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tab-item">\n  <label class="psol-comp-assistant-tab-item-title">{{if desc === \'\'}}{{:name}}{{else}}{{:~translate(desc)}}{{/if}}{{if Unit !== \'\'}} ({{:Unit}}){{/if}}</label>\n  {{if isValueRange}}\n    {{if status === \'ranged\'}}\n      <div class="psol-comp-assistant-slider" type="text" id="slider_{{:name}}" data-variable="{{:name}}"></div>\n    {{else}}\n      {{if values && values.length > 1}}\n        {{if name !== \'CNS_CATALOG\' && name !== \'CNS_NN\' && name !== \'CNS_NT\' }}\n          <select class="psol-comp-assistant-and-or" data-attr="{{:name}}">\n            <option value="OR" selected>{{:~zTR(\'Oder\')}}</option>\n            <option value="AND">{{:~zTR(\'Und\')}}</option>\n          </select>\n          <label class="psol-comp-assistant-and-or-label" for="radioOR_{{:name}}">-{{:~zTR(\'Verknüpfung\')}}</label>\n        {{/if}}\n        <ul class="psol-comp-assistant-list">\n          {{for values}}\n            {{if name !== \'\' ~varName=name}}\n              <li class="psol-comp-assistant-list-item">\n                <input id="chkbox_{{:~varName}}-{{:value}}" type="checkbox" class="psol-comp-assistant-list-checkbox" data-attr="{{:~varName}}" value="{{:value}}" />\n                <label for="chkbox_{{:~varName}}-{{:value}}" class="psol-comp-assistant-list-label psol-comp-assistant-checkbox-bg">\n                  {{if image}}<img src="{{:~getImagePath(image)}}" class="psol-comp-assistant-list-img"/>{{/if}}\n                  <span class="psol-comp-assistant-list-span">{{:name}}</span>\n                </label>\n              </li>\n            {{/if}}\n          {{/for}}\n        </ul>\n        <div class="psol-comp-assistant-select-all">\n        <input class="ComponentCustomizeViewBaseCheckbox psol-comp-assistant-select-all-checkbox" type="checkbox" id="selectAll_{{:name}}" data-attr="{{:name}}"/>\n        <label class="psol-comp-assistant-select-all-label psol-comp-assistant-checkbox-bg" for="selectAll_{{:name}}">\n          {{:~zTR(\'Alles auswählen\')}}\n          <span></span>\n        </label>\n        </div>\n      {{else}}\n        <input type="text" class="psol-comp-assistant-value-static" value="{{:resolvedVal}}" data-attr="{{:name}}" disabled />\n      {{/if}}\n    {{/if}}\n  {{else}}\n    {{:current}}\n  {{/if}}\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantResultItem" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tab-item psol-comp-assistant-result-item">\n    <label class="psol-comp-assistant-tab-item-title">\n      {{if desc === \'\'}}\n        {{:name}}\n      {{else}}\n        {{:desc}}\n      {{/if}}\n      {{if Unit !== \'\'}}\n        ({{:Unit}})\n      {{/if}}\n      :\n      <span class="psol-comp-assistant-tab-item-result">{{:resolvedVal}}</span>\n    </label>\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTechviews" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tv-header">\n    {{:~zTR(\'Technische Ansichten\')}}\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTechviewsContent" type="text/x-jsrender">\n  <div class="psol-comp-assistant-tv-content">\n    <div class="psol-comp-assistant-tv-list-container">\n      <ul class="psol-comp-assistant-tv-list">\n        {{include views[0] tmpl="tmpl-AssistantTechviewsItem" /}}\n      </ul>\n    </div>\n    <table class="psol-comp-assistant-tv-nav">\n      <tr>\n        {{if views.length > 1}}\n          <td rowspan="2" class="psol-comp-assistant-tv-nav-item">\n            <div class="psol-comp-assistant-tv-nav-icon psol-comp-assistant-tv-nav-icon-back" data-direction="back"></div>\n          </td>\n        {{/if}}\n        <td class="psol-comp-assistant-tv-item-name">{{:views[0].name}}</td>\n        {{if views.length > 1}}\n          <td rowspan="2" class="psol-comp-assistant-tv-nav-item">\n            <div class="psol-comp-assistant-tv-nav-icon psol-comp-assistant-tv-nav-icon-next" data-direction="next"></div>\n          </td>\n        {{/if}}\n      </tr>\n      <tr>\n        <td>\n          {{for views}}\n            <span class="psol-comp-assistant-tv-counter {{if #index === 0}}psol-comp-assistant-tv-counter-sel{{/if}}"></span>\n          {{/for}}\n        </td>\n      </tr>\n      <div="psol-comp-viewbase-clearfix"></div>\n    </table>\n  </div>\n<\/script>\n\n\n<script id="tmpl-AssistantTechviewsItem" type="text/x-jsrender">\n  <li class="psol-comp-assistant-tv-item">\n    <div class="psol-comp-assistant-tv-img-box">\n      <img class="psol-comp-assistant-tv-img" src="{{:~getTechviewPath(dataUrl)}}" />\n    </div>\n  </li>\n<\/script>\n<script id="tmpl-ButtonBar" type="text/x-jsrender">\r\n  <div class="psol-comp-buttonBar-container">\r\n    {{for actions}}\r\n      <div class="psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 ComponentCustomizeViewBaseIconButtonSize psol-comp-viewbase-circle psol-comp-viewbase-action psol-comp-viewbase-pull-left {{:~actionGetClasses(name)}}"\r\n                    role="button"\r\n                    aria-label="{{:name}}"\r\n                    data-action="{{:name}}"\r\n                    title="{{>text}}"\r\n                    {{if imageExtension !== ".svg"}}\r\n                        style="background-image: url({{:~actionImage(name)}})"\r\n                    {{/if}}\r\n      >\r\n        {{if imageExtension == ".svg"}}\r\n          {{:~getSVGIcon(aliases.default||name)}}\r\n        {{/if}}\r\n      </div>\r\n    {{/for}}\r\n    <div class="psol-comp-viewbase-clearfix"></div>\r\n  </div>\r\n<\/script>\r\n\n<script id="tmpl-Camera" type="text/x-jsrender">\n    <div class="psol-comp-Camera-container">\n        <video class="psol-comp-Camera-video" autoplay playsinline></video>\n        <div class="ComponentCustomizeCameraFavoriteButtonsBarContainer"></div>\n    </div>\n<\/script>\n\n<script id="tmpl-CubeSketcher" type="text/x-jsrender">\n  <div class="psol-comp-cubesketcher-container">\n\n    <div class="psol-comp-cubesketcher-settings-container">\n      <div class="psol-comp-cubesketcher-settings-buttonbar-container"></div>\n      <div class="psol-comp-cubesketcher-settings-thickness-container">\n      <label>{{:~zTR("Pinselstärke:")}}</label>\n        <select class="psol-comp-cubesketcher-thickness">\n          <option value="1">1</option>\n          <option value="2">2</option>\n          <option value="4">4</option>\n          <option value="8">8</option>\n          <option value="16">16</option>\n          <option value="32"}>32</option>\n        </select>\n      </div>\n    </div>\n\n    <div class="psol-comp-cubesketcher-cube-container psol-comp-cubesketcher-front_current">\n      <div class="psol-comp-cubesketcher-cube-complete">\n        <div class="psol-comp-cubesketcher-face psol-comp-cubesketcher-top_face" data-type="top">\n          <div class="psol-comp-cubesketcher-image-x"></div>\n          <div class="psol-comp-cubesketcher-image-y"></div>\n          <canvas class="psol-comp-cubesketcher-canvas" width="500" height="500" data-type="top"></canvas>\n          <div class="psol-comp-cubesketcher-grid"></div>\n          <span class="psol-comp-cubesketcher-caption psol-comp-cubesketcher-top_caption" data-type="top">Top</span>\n        </div>\n\n        <div class="psol-comp-cubesketcher-face psol-comp-cubesketcher-front_face" data-type="front">\n          <div class="psol-comp-cubesketcher-image-x"></div>\n          <div class="psol-comp-cubesketcher-image-y"></div>\n          <canvas class="psol-comp-cubesketcher-canvas" width="500" height="500" data-type="front"></canvas>\n          <div class="psol-comp-cubesketcher-grid"></div>\n          <span class="psol-comp-cubesketcher-caption psol-comp-cubesketcher-front_caption" data-type="front">Front</span>\n          <canvas class="psol-comp-cubesketcher-tmp-canvas" width="500" height="500"></canvas>\n        </div>\n\n        <div class="psol-comp-cubesketcher-face psol-comp-cubesketcher-side_face" data-type="side">\n          <div class="psol-comp-cubesketcher-image-x"></div>\n          <div class="psol-comp-cubesketcher-image-y"></div>\n          <canvas class="psol-comp-cubesketcher-canvas" width="500" height="500" data-type="side"></canvas>\n          <div class="psol-comp-cubesketcher-grid"></div>\n          <span class="psol-comp-cubesketcher-caption psol-comp-cubesketcher-side_caption" data-type="side">Side</span>\n        </div>\n      </div>\n    </div>\n\n    <div class="psol-comp-cubesketcher-searchbutton">\n      <div class="psol-comp-viewbase-button">\n        <span>{{:~zTR("Suchen")}}</span>\n      </div>\n    </div>\n\n  </div>\n<\/script>\n\n<script id="tmpl-CubeSketcherHelp">\n  <div class="psol-comp-cubesketcher-help-container">\n    <div class="psol-comp-ViewSketchSearch-exampleContainer">\n    <span class="ViewSketchSearch-exampleFill">{{:~zTR("Bitte Flächen schwarz ausfüllen!")}}</span>\n      <div><label>{{:~zTR("Beispiele:")}}</label></div>\n      <div class="ViewSketchSearch-exampleImg1"></div>\n      <div class="ViewSketchSearch-exampleImg2"></div>\n    </div>\n  </div>\n<\/script>\n\n<script id="tmpl-CubeSketcherPictureInput">\n  <label for="cubesketcher-pictureInput" class="cubesketcher-pictureLabel">\n    <div></div>\n  </label>\n  <input name="cubesketcher-pictureInput" id ="cubesketcher-pictureInput" class="cubesketcher-pictureInput" type="file" accept="image/*"/>\n<\/script>\n\n<script id="tmpl-CubeSketcherHelp" type="text/x-jsrender">\n    <div class="psol-comp-cubesketcher-helpcontainer">\n        <h2 class="psol-comp-cubesketcher-exampleheadline">{{:~zTR(\'Beispiel\')}}</h2>\n        <div class="psol-comp-cubesketcher-exampletext">{{:~zTR(\'Bitte Flächen schwarz ausfüllen!\')}}</div>\n        <div class="psol-comp-cubesketcher-example-image-container">\n            <div class="psol-comp-cubesketcher-example-images psol-comp-cubesketcher-example-image1 "></div>\n            <div class="psol-comp-cubesketcher-example-images psol-comp-cubesketcher-example-image2"></div>\n        </div>\n        <h2 class="psol-comp-cubesketcher-buttonheadline">{{:~zTR(\'Button Legende\')}}</h2>\n        <h3 class="psol-comp-cubesketcher-header">{{:~zTR(\'Werkzeuge\')}}</h3>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpbrush psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Pinselfunktion\')}}\n            </div>\n        </div>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpcircle psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Kreisform\')}}\n            </div>\n        </div>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helprectangle psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Rechteckform\')}}\n            </div>\n        </div>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpfill psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Ausfüllfunktion\')}}\n            </div>\n        </div>\n        <h3 class="psol-comp-cubesketcher-header">{{:~zTR(\'Farben\')}}</h3>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpprimarycolor psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Hauptfarbe\')}}\n            </div>\n        </div>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpsecondarycolor psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Alternative Farbe\')}}\n            </div>\n        </div>\n        <h3 class="psol-comp-cubesketcher-header">{{:~zTR(\'Bildoptionen\')}}</h3>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helploadimage psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Bild laden oder aufnehmen\')}}\n            </div>\n        </div>\n        <h3 class="psol-comp-cubesketcher-header">{{:~zTR(\'Allgemein\')}}</h3>\n        <div class="psol-comp-cubesketcher-helpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helpclear psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Löschen\')}}\n            </div>\n        </div>\n        <div class="psol-comp-cubesketcher-lasthelpitem psol-comp-viewbase-clearfix">\n            <div class="psol-comp-cubesketcher-buttonimage psol-comp-cubesketcher-helphelp psol-comp-viewbase-circle"></div>\n            <div class="psol-comp-cubesketcher-buttontext">\n                {{:~zTR(\'Hilfe aufrufen\')}}\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-DialogBase" type="text/x-jsrender">\n    <div class="psol-comp-dialogbase-backdrop"></div>\n    <div class="psol-comp-dialogbase-container"></div>\n<\/script>\n\n<script id="tmpl-DialogBase-content" type="text/x-jsrender">\n    <div class="psol-comp-dialogbase-dialog ComponentCustomizeDialogBaseDialog {{:dialogclass}}" data-id="{{:dialogID}}" id="{{:customID}}">\n        <div class="psol-comp-dialogbase-dialog-container ComponentCustomizeDialogBaseDialogContainer">\n            <div class="psol-comp-dialogbase-dialog-container-padding">\n                <div class="psol-comp-dialogbase-dialog-header ComponentCustomizeDialogBaseDialogHeader psol-comp-viewbase-clearfix">\n                    <div class="psol-comp-dialogbase-dialog-header-title ComponentCustomizeDialogBaseDialogHeaderColor  psol-comp-viewbase-pull-left"></div>\n                    <div class="psol-comp-dialogbase-dialog-header-closebtn ComponentCustomizeDialogBaseDialogHeaderCloseButton  psol-comp-viewbase-pull-right"></div>\n                </div>\n                <div class="psol-comp-dialogbase-dialog-content ComponentCustomizeDialogBaseDialogContent"></div>\n                <div class="psol-comp-dialogbase-dialog-footer ComponentCustomizeDialogBaseDialogFooter psol-comp-viewbase-pull-right"></div>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-DialogBase-buttons" type="text/x-jsrender">\n    <div class="psol-comp-dialogbase-buttoncontainer ComponentCustomizeDialogBaseDialogButtonContainer psol-comp-viewbase-clearfix">\n        {{for buttons}}\n            <div data-index="{{:#index}}" class="psol-comp-viewbase-button psol-comp-viewbase-pull-left ComponentCustomizeViewBaseButtonColor ComponentCustomizeDialogBaseDialogButton psol-comp-dialogbase-button" role="button" aria-label={{:#index}}>\n                {{:label}}\n            </div>\n        {{/for}}\n    </div>\n<\/script>\n\n\x3c!-- TODO maybe place common dialog templates here --\x3e\r\n<script id="tmpl-DialogEditTableVar-title" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-titlename">\r\n    {{if type === \'table\'}}\r\n      {{:tableData.columns[colIdx].name}}\r\n    {{else type === \'list\'}}\r\n      {{:varName}}\r\n    {{/if}}\r\n  </div>\r\n  <div class="psol-comp-dialogedittablevar-titledesc">\r\n    {{if type === \'table\'}}\r\n      {{:tableData.columns[colIdx].description}}\r\n      {{if tableData.columns[colIdx].unit && tableData.columns[colIdx].unit !== \'\'}}\r\n        &nbsp;[{{:tableData.columns[colIdx].unit}}]\r\n      {{/if}}\r\n    {{else type === \'list\'}}\r\n      {{:lineData.desc}}\r\n      {{if lineData.Unit && lineData.Unit !== \'\'}}\r\n        &nbsp;[{{:lineData.Unit}}]\r\n      {{/if}}\r\n    {{/if}}\r\n  </div>\r\n<\/script>\r\n\r\n\r\n<script id="tmpl-DialogEditTableVar-fwvalues" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-fwvalues ComponentCustomizeDialogEditTableVarFWValues">\r\n    {{if type === \'table\'}}\r\n      {{include tmpl="tmpl-DialogEditTableVar-fwvalues-table"/}}\r\n    {{else type === \'list\'}}\r\n      {{include tmpl="tmpl-DialogEditTableVar-fwvalues-list"/}}\r\n    {{/if}}\r\n  </div>\r\n<\/script>\r\n\r\n\r\n<script id="tmpl-DialogEditTableVar-fwvalues-table" type="text/x-jsrender">\r\n  {{for tableData.rows[tableData.visiblerowindex-1].cells[colIdx].fwvalues ~selValue=tableData.rows[tableData.visiblerowindex-1].cells[colIdx].value}}\r\n    <div class="psol-comp-dialogedittablevar-fwvalues-item ComponentCustomizeDialogEditTableVarFWValuesItem" data-value="{{:value}}">\r\n      <input class="ComponentCustomizeViewBaseRadiobtn" type="radio" value="{{:value}}" name="fwvalues" id="fwvalues_{{:value}}" {{if value === ~selValue}}checked{{/if}}>\r\n      <label for="fwvalues_{{:value}}">\r\n        <span></span>\r\n        {{if ~isErpEnabled() && erpstate !== undefined}}\r\n          <img class="psol-comp-dialogedittablevar-erp-img" src="{{:~getErpStatusIconUrl(erpstate)}}" alt="{{:name}}">\r\n        {{/if}}\r\n        {{if image && image !== \'\'}}\r\n          <img class="psol-comp-dialogedittablevar-fwvalues-img" src="{{:~root.tableData.imgbasepath}}?PreviewPath={{:image}}&width=55&height=55" width="55" height="55" alt="{{:name}}">\r\n        {{/if}}\r\n        {{:name}}\r\n      </label>\r\n    </div>\r\n  {{/for}}\r\n<\/script>\r\n\r\n\r\n<script id="tmpl-DialogEditTableVar-fwvalues-list" type="text/x-jsrender">\r\n  {{for visible tmpl="tmpl-DialogEditTableVar-fwvalues-list-content"/}}\r\n  \r\n  {{for hidden tmpl="tmpl-DialogEditTableVar-fwvalues-list-content"/}}\r\n<\/script>\r\n\r\n<script id="tmpl-DialogEditTableVar-fwvalues-list-content" type="text/x-jsrender">\r\n    <div class="psol-comp-dialogedittablevar-fwvalues-item ComponentCustomizeDialogEditTableVarFWValuesItem" data-value="{{:value}}" data-visible="{{:visible}}">\r\n      <input class="ComponentCustomizeViewBaseRadiobtn" type="radio" value="{{:value}}" name="fwvalues" id="fwvalues_{{:value}}_{{:erpstate}}" {{if ~compareEqual(value, ~root.selected)}}checked{{/if}} data-row="{{:row}}" data-erpstate="{{:erpstate}}">\r\n      <label for="fwvalues_{{:value}}_{{:erpstate}}">\r\n        <span></span>\r\n        {{if ~isErpEnabled() && erpstate !== undefined}}\r\n          <img class="psol-comp-dialogedittablevar-erp-img" src="{{:~getErpStatusIconUrl(erpstate)}}" alt="{{:name}}">\r\n        {{/if}}\r\n        {{if image && image !== \'\'}}\r\n          <img class="psol-comp-dialogedittablevar-fwvalues-img" src="{{:~root.imgbasepath}}?PreviewPath={{:image}}&width=55&height=55" width="55" height="55" alt="{{:name}}">\r\n        {{/if}}\r\n        {{:name}}\r\n      </label>\r\n    </div>\r\n<\/script>\r\n\r\n\r\n\r\n<script id="tmpl-DialogEditTableVar-fwrange-slider" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-fwrange-slider-container ComponentCustomizeDialogEditTableVarSliderContainer">\r\n    {{include tmpl="tmpl-DialogEditTableVar-fwrange-description"/}}\r\n\r\n    {{if showSlider}}\r\n      <div class="psol-comp-dialogedittablevar-slider-input-container"></div>\r\n    {{/if}}\r\n    <div class="psol-comp-dialogedittablevar-fwrange-discrete-container">\r\n    </div>\r\n  </div>\r\n<\/script>\r\n\r\n\r\n<script id="tmpl-DialogEditTableVar-fwrange-description" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-fwrange-description">\r\n    <span class="psol-comp-dialogedittablevar-fwrange-description-header">{{:~zTR("Beschreibung:")}}</span>\r\n    <ul class="psol-comp-dialogedittablevar-fwrange-description-ul">\r\n    {{for rangedescription}}\r\n      <li>- {{:#data}}</li>\r\n    {{/for}}\r\n    </ul>\r\n  </div>\r\n<\/script>\r\n\r\n<script id="tmpl-DialogEditTableVar-fwrange-resolved" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-fwrange-resolved ComponentCustomizeDialogEditTableVarFWRangeResolved">\r\n  {{if (visible && visible.length > 0) || (hidden && hidden.length > 0)}}\r\n    {{for visible tmpl="tmpl-DialogEditTableVar-fwrange-resolved-content"/}}\r\n\r\n    {{for hidden tmpl="tmpl-DialogEditTableVar-fwrange-resolved-content"/}}\r\n  {{else}}\r\n    {{for values tmpl="tmpl-DialogEditTableVar-fwrange-resolved-content"/}}\r\n  {{/if}}\r\n  </div>\r\n<\/script>\r\n\r\n<script id="tmpl-DialogEditTableVar-fwrange-resolved-content" type="text/x-jsrender">\r\n  <div class="psol-comp-dialogedittablevar-fwvalues-item ComponentCustomizeDialogEditTableVarFWValuesItem" data-value="{{:value}}" data-visible="{{:visible}}">\r\n    <input class="psol-comp-dialogedittablevar-radiobtn ComponentCustomizeViewBaseRadiobtn" type="radio" value="{{:value}}" name="fwvalues" id="fwvalues_{{:value}}" {{if selected}}checked{{/if}}>\r\n    <label for="fwvalues_{{:value}}">\r\n      <span></span>\r\n      {{if ~isErpEnabled() && erpstate !== undefined}}\r\n        <img class="psol-comp-dialogedittablevar-erp-img" src="{{:~getErpStatusIconUrl(erpstate)}}" alt="{{:name}}">\r\n      {{/if}}\r\n      {{if image && image !== \'\'}}\r\n        <img class="psol-comp-dialogedittablevar-fwvalues-img" src="{{:~root.tableData.imgbasepath}}?PreviewPath={{:image}}&width=55&height=55" width="55" height="55" alt="{{:name}}">\r\n      {{/if}}\r\n      {{:name}}\r\n    </label>\r\n  </div>\r\n<\/script>\n<script id="tmpl-Drawing" type="text/x-jsrender">\n    <div class="psol-comp-drawing-container">\n        <div class="psol-comp-drawing-overlay"></div>\n\n        <div class="psol-comp-drawing-canvas-container">\n            <canvas class="psol-comp-drawing-canvas"></canvas>\n        </div>\n        <div class="psol-comp-drawing-canvas-container psol-comp-drawing-canvas-grid-container">\n            <canvas class="psol-comp-drawing-canvas-grid"></canvas>\n        </div>\n\n        <div class="psol-comp-drawing-controls-container">\n            <div class="psol-comp-drawing-sticky-arrow">\n                <svg width="100%" height="15px" viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">\n                  <path\n                        d="M 100 100 L 300 100 L 200 300 z"\n                        fill="#ffffff"\n                        stroke="none"\n                        stroke-width="1" />\n                </svg>\n            </div>\n\n            <div class="psol-comp-drawing-size-container psol-comp-viewbase-card">\n                <div class="psol-comp-viewbase-card-inner">\n                    <span class="psol-comp-drawing-controls-title">\n                        {{:~zTR("Pinselstärke")}}\n                    </span>\n                    <input class="psol-comp-drawing-size-slider" type="text" value="{{:~getBrushSize()}}" data-min="1" data-max="32">\n                </div>\n            </div>\n\n            <div class="psol-comp-drawing-color-container">\n                <div class="psol-comp-viewbase-card-inner">\n                    <input type="text" class="psol-comp-drawing-color-picker" value="{{:~getColor()}}" data-defaultvalue="{{:~getColor()}}" autocomplete="off" autocorrect="off" autocapitalize="off" />\n                </div>\n            </div>\n\n            <div class="psol-comp-drawing-buttonbar"></div>\n        </div>\n        <div class="psol-comp-drawing-context-menu"></div>\n    </div>\n<\/script>\n\n<script id="tmpl-EolDialog" type="text/x-jsrender">\n  <div class="psol-comp-eolDialog-container psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col">\n    <div class="psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n      <div class="psol-comp-eolDialog-original-part psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col">\n        <div class="psol-comp-eolDialog-original-part-text">\n          {{:~zTR(\'Originalteil:\')}}\n        </div>\n        <div class="psol-comp-eolDialog-original-part-data psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n          <div class="psol-comp-eolDialog-original-part-index">\n          </div>\n          <div class="psol-comp-eolDialog-original-part-replacement-text psol-comp-eolDialog-{{:eol.state}}">\n            {{if eol.state === \'expired-available\'}}\n                {{:~zTR(\'Produkt wird am %1 auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.\', [expDateTag])}}\n                {{:~zTR(\'Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.\')}}      \n            {{/if}}\n            {{if eol.state === \'replaced-available\'}}\n              {{if eol.expirationDate}}\n                {{:~zTR(\'Produkt ist am %1 ausgelaufen. Bitte nicht mehr für Neukonstruktionen verwenden.\', [expDateTag])}}\n                {{:~zTR(\'Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?\')}}\n              {{else}}\n                {{:~zTR(\'Produkt wird auslaufen. Bitte nicht mehr für Neukonstruktionen verwenden.\')}}\n              {{/if}}\n            {{/if}}\n            {{if eol.state === \'expired\'}}\n              {{:~zTR(\'Produkt ist am %1 ausgelaufen.\', [expDateTag])}}\n              {{:~zTR(\'Es wurden keine gültigen Ersatzteile angegeben. Bei Fragen wenden Sie sich bitte an den Hersteller.\')}}\n            {{/if}}\n            {{if eol.state === \'expired-replaced\'}}\n              {{:~zTR(\'Produkt ist am %1 ausgelaufen.\', [expDateTag])}}\n              {{:~zTR(\'Soll stattdessen eines der als Ersatz hinterlegten Projekte verwendet werden?\')}}    \n            {{/if}}\n          </div>\n        </div>\n      </div>\n    </div>\n    {{if eol.replacements}}\n      <div class="psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n        <div class="psol-comp-eolDialog-replacement-part psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col">\n          <div class="psol-comp-eolDialog-replacement-part-text">\n            {{:~zTR(\'Alternative Teil(e):\')}}\n          </div>\n          <div class="psol-comp-eolDialog-replacement-part-data psol-comp-viewbase-flex-container">\n            <div class="psol-comp-eolDialog-replacement-part-index">\n            </div>\n          </div>\n        </div>\n      </div>\n    {{/if}}\n  </div>\n<\/script>\n\n<script id="tmpl-HotSpot" type="text/x-jsrender">\n  <div>\n    <div class="psol-comp-hotspot-container" style="background-color: {{:~getColorAsHex()}};">\n\n      <div class="psol-comp-hotspot-header-container">\n      \x3c!-- HEADER --\x3e\n        {{include tmpl="tmpl-HotSpot-Header" /}}\n      </div>\n\n      <div class="psol-comp-hotspot-body">\n      \x3c!-- BODY --\x3e\n\n      </div>\n\n      <div class="psol-comp-hotspot-footer">\n      \x3c!-- FOOTER--\x3e\n        {{include tmpl="tmpl-HotSpot-Footer" /}}\n      </div>\n    </div>\n  </div>\n<\/script>\n\n\n\n\x3c!-- HEADER --\x3e\n<script id="tmpl-HotSpot-Header" type="text/x-jsrender">\n  <div class="psol-comp-hotspot-header">\n\n    \x3c!-- TITLE --\x3e\n    {{if type === "psolhtml"}}\n      <div class="psol-comp-hotspot-title psol-comp-hotspot-text psol-comp-hotspot-textColor" title="{{>title[~root.language] || title[~root.defaultLanguage]}}">{{:title[~root.language] || title[~root.longIsoLanguage] || title[~root.shortIsoLanguage] || title[~root.defaultLanguage]}}</div>\n    {{else}}\n      \x3c!-- FAVICON --\x3e\n      <div class="psol-comp-hotspot-favicon" hotspottype="{{:meta.subtype || type}}"></div>\n\n      \x3c!-- TITLE --\x3e\n      <div class="psol-comp-hotspot-title psol-comp-hotspot-text psol-comp-hotspot-textColor" title="{{>title[~root.language] || title[~root.defaultLanguage]}}">{{:title[~root.language] || title[~root.longIsoLanguage] || title[~root.shortIsoLanguage] || title[~root.defaultLanguage]}}</div>\n    {{/if}}\n    \n    {{if !emptyBody}}\n      \x3c!-- CIRCLE --\x3e\n      <div class="psol-comp-hotspot-circleContainer">\n        <div class="psol-comp-hotspot-circle"></div>\n      </div>\n    {{/if}}\n  </div>\n<\/script>\n\n\n<script id="tmpl-HotSpot-Footer" type="text/x-jsrender">\n  {{if more[~root.language] || more[~root.defaultLanguage]}}\n    \x3c!-- MORE --\x3e\n    <div class="psol-comp-hotspot-showmoreContainer">\n        <a class="psol-comp-hotspot-showmore psol-comp-hotspot-removeHrefStyling psol-comp-hotspot-textColor psol-comp-hotspot-text" target="_blank" href="{{:more[~root.language] || more[~root.defaultLanguage]}}">{{:~zTR("Mehr anzeigen")}} &gt;</a>\n    </div>\n  {{/if}}\n<\/script>\n\n\n<script id="tmpl-HotSpotContent" type="text/x-jsrender">\n\n  {{if !emptyBody}}\n    \x3c!-- CONTENT --\x3e\n      <div class="psol-comp-hotspot-content">\n\n        {{if type === \'html\'}}\n        \x3c!-- HTML --\x3e\n        \x3c!-- {{:meta.content[~root.language] || meta.content[~root.defaultLanguage]}} --\x3e\n          <div class="psol-comp-hotspont-content-html">{{:~contentReplaceImages(meta.content, meta.content.images)}}</div>\n\n        {{else type === \'psolhtml\'}}\n        \x3c!-- PSOL_HTML --\x3e\n          <div class="psol-comp-hotspont-content-html">{{:~contentReplaceImages(meta.content, meta.content.images)}}</div>\n\n        {{else type === \'link\'}}\n        \x3c!-- LINK --\x3e\n\n          {{if meta.subtype === \'website\'}}\n          \x3c!-- WEBSITE --\x3e\n\n            {{if meta.description}}\n              <div class="psol-comp-hotspont-content-websitedesc psol-comp-hotspot-text">{{:meta.description[~root.language] || meta.description[~root.defaultLanguage]}}</div>\n            {{else meta.url  && !~isEmptyObject(meta.url)}}\n              <a class="psol-comp-hotspont-content-websitelink psol-comp-hotspot-text psol-comp-hotspot-hrefColor" target="_blank" href="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}">{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}</a>\n            {{/if}}\n\n          {{else meta.subtype === \'youtube\'}}\n          \x3c!-- YOUTUBE --\x3e\n            <iframe class="psol-comp-hotspont-content-youtube" src="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}{{if meta.autoplay}}&autoplay=1{{/if}}" allowfullscreen data-psol-comp-hotspot-stopped></iframe>\n\n          {{else meta.subtype === \'vimeo\'}}\n          \x3c!-- VIMEO --\x3e\n            <iframe class="psol-comp-hotspont-content-vimeo" src="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}{{if meta.autoplay}}?autoplay=1{{/if}}" allowfullscreen data-psol-comp-hotspot-stopped></iframe>\n\n          {{else meta.subtype === \'wikipedia\'}}\n          \x3c!-- WIKIPEDIA --\x3e\n\n            <div class="psol-comp-hotspont-content-wikipediaContentColumn">\n              {{if meta.thumbnail}}\n                <img src="{{:meta.thumbnail.url}}" />\n              {{/if}}\n\n              {{if meta.description}}\n                <div class="psol-comp-hotspont-content-wikipediadesc psol-comp-hotspot-text">{{:meta.description[~root.language] || meta.description[~root.defaultLanguage]}}</div>\n              {{else meta.url && !~isEmptyObject(meta.url)}}\n                <a class="psol-comp-hotspont-content-wikipedialink psol-comp-hotspot-text psol-comp-hotspot-hrefColor" target="_blank" href="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}">{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}</a>\n              {{/if}}\n            </div>\n\n          {{else meta.subtype === \'pdf\'}}\n          \x3c!-- PDF --\x3e\n            <a class="psol-comp-hotspot-catalog-pdf" href="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}" target="_blank">\n\n            {{if meta.thumbnail}}\n              <img class="psol-comp-hotspot-image" src="{{:meta.thumbnail.url}}" />\n            {{/if}}\n\n            </a>\n\n          {{/if}}\n\n        {{else type === \'catalog\'}}\n        \x3c!-- CATALOG --\x3e\n\n          {{if meta.subtype === \'prj\'}}\n            <a class="psol-comp-hotspot-singlepicture" href="{{:meta.url[~root.language] || meta.url[~root.defaultLanguage]}}{{:meta.info}}" target="_blank">\n              <img class="psol-comp-hotspot-image" src="{{:~preview(meta.info, meta.varset)}}" />\n            </a>\n          {{else meta.subtype === \'category\'}}\n            \x3c!--TODO--\x3e\n            <div class=""></div>\n\n          {{else meta.subtype === \'dir\'}}\n            <div class="psol-comp-hotspot-catalog-dir"></div>\n          {{else meta.subtype === \'textsearch\'}}\n            <div class="psol-comp-hotspot-textsearchContainer"></div>\n          {{/if}}\n\n\n        {{else type === \'partcloud\'}}\n        \x3c!-- PARTCLOUD --\x3e\n          {{if meta.subtype === \'model\'}}\n            \x3c!-- render via script, see _getPartcloudModel()--\x3e\n\n          {{else meta.subtype === \'collection\'}}\n            <div class="psol-comp-hotspot-partcloud-collection"></div>\n\n          {{else meta.subtype === \'textsearch\'}}\n            <div class="psol-comp-hotspot-textsearchContainer"></div>\n          {{/if}}\n\n        {{else type === \'image\'}}\n        \x3c!-- IMAGE --\x3e\n          \x3c!-- TODO: put into extra template like the catalog dir!--\x3e\n          <div class="psol-comp-hotspot-imageTypeContainer">\n            <div class="psol-comp-hotspot-imagesContainer">\n              {{for meta.src}}\n                <img class="psol-comp-hotspot-image" src="{{:#data}}" data-index="{{:#index}}" />\n              {{/for}}\n\n\n              \x3c!-- Only show the circles and navigators if there are at least two images --\x3e\n              {{if meta.src.length > 1}}\n                <div class="psol-comp-hotspot-imagesNavigatorContainer">\n                  <div class="psol-comp-hotspot-imagesNavigator" data-direction="left">\n                    <span class="psol-comp-hotspot-imagesNavigator-buttonContainer" data-direction="left"></span>\n                  </div>\n                  <div class="psol-comp-hotspot-imagesNavigator" data-direction="right">\n                    <span class="psol-comp-hotspot-imagesNavigator-buttonContainer"  data-direction="right"></span>\n                  </div>\n                </div>\n                <div class="psol-comp-hotspot-imagesCirclesContainer">\n                  {{for meta.src}}\n                    <div class="psol-comp-hotspot-imagesCircle {{if #index===0}}active{{/if}}" data-index="{{:#index}}"></div>\n                  {{/for}}\n                </div>\n              {{/if}}\n\n            </div>\n          </div>\n        {{/if}}\n\n      </div>\n\n  {{/if}}\n<\/script>\n\n\n\n\n\x3c!-- PARTCLOUD - MODEL --\x3e\n<script id="tmpl-HotSpot-partcloud-model" type="text/x-jsrender">\n  \x3c!-- MODEL --\x3e\n    <a class="psol-comp-hotspot-singlepicture" href="{{:url}}" target="_blank">\n      <img class="psol-comp-hotspot-image" src="{{:imgpath}}" />\n    </a>\n<\/script>\n\n\n\x3c!-- PARTCLOUD - COLLECTION --\x3e\n<script id="tmpl-HotSpot-partcloud-collection" type="text/x-jsrender">\n  \x3c!-- MODELS --\x3e\n  {{for models.models}}\n    <a class="psol-comp-hotspot-catalog-dir-node psol-comp-hotspot-removeHrefStyling psol-comp-hotspot-text" href="{{:~root.baseUrl}}{{:#data.model_id}}" target="_blank">\n      <div class="psol-comp-hotspot-cloud-img" style="background-image: url({{:~getCloudServicePath()}}/{{:#data.preview.image_path_small}})"></div>\n      <div class="psol-comp-hotspot-catalog-dir-nodetext psol-comp-hotspot-text">\n        <div>{{:#data.name}}</div>\n      </div>\n    </a>\n  {{/for}}\n\n  {{if models.count > models.models.length}} \x3c!-- TODO: instead use javascript to set the footer!!!--\x3e\n    <div class="psol-comp-hotspot-showmoreContainer">\n      <a class="psol-comp-hotspot-catalog-dir-node psol-comp-hotspot-removeHrefStyling psol-comp-hotspot-text" href="{{:~root.collectionUrl}}" target="_blank">\n        {{:~zTR("Komplette Sammlung ansehen")}}\n      </a>\n    </div>\n\n  {{/if}}\n\n<\/script>\n\n\x3c!-- TEXTSEARCH --\x3e\n<script id="tmpl-HotSpot-textsearch" type="text/x-jsrender">\n  <div class="psol-comp-hotspot-textsearch-querytext">\n    <div>{{:~zTR("Suchtext")}}:</div>\n    <div>{{:#data.query}}</div>\n  </div>\n\n  {{if #data.index}}\n  \x3c!-- NODES --\x3e\n    {{if #data.items_size > 0}}\n      {{include tmpl="tmpl-HotSpot-nodes" /}}\n    {{else}}\n      {{include tmpl="tmpl-HotSpot-noResults" /}}\n    {{/if}}\n\n  {{else #data.models}}\n  \x3c!-- PCLOUD MODELS --\x3e\n    {{if #data.count > 0}}\n      {{include tmpl="tmpl-HotSpot-pcloud-nodes" /}}\n    {{else}}\n      {{include tmpl="tmpl-HotSpot-noResults" /}}\n    {{/if}}\n  {{/if}}\n<\/script>\n\n\x3c!-- NODES --\x3e\n<script id="tmpl-HotSpot-nodes" type="text/x-jsrender">\n  <div>\n  {{for index.nodes}}\n    <a class="psol-comp-hotspot-catalog-dir-node psol-comp-hotspot-removeHrefStyling" href="{{:~root.domain}}{{:#data.path}}" target="_blank">\n\n      <div class="psol-comp-hotspot-catalog-dir-img" style="background-image: url({{:~root.index.imgbasepath}}?PreviewPath={{:#data.image}}&color=transparent&depth=32)"></div>\n      <div class="psol-comp-hotspot-catalog-dir-nodetext">\n        <div class="psol-comp-hotspot-text">{{:#data.nn_name || #data.name}}</div>\n        <div class="psol-comp-hotspot-text">{{:#data.catalogname}}</div>\n      </div>\n    </a>\n  {{/for}}\n  </div>\n<\/script>\n\n\x3c!-- PARTCLOUD NODES --\x3e\n<script id="tmpl-HotSpot-pcloud-nodes" type="text/x-jsrender">\n  <div>\n  {{for models}}\n    <a class="psol-comp-hotspot-catalog-dir-node psol-comp-hotspot-removeHrefStyling" href="{{:~root.domain}}index?route=part&model_id={{:#data.model_id}}" target="_blank">\n      <div class="psol-comp-hotspot-cloud-img" style="background-image: url({{:~root.domain}}{{:#data.preview.image_path_small}})"></div>\n      <div class="psol-comp-hotspot-catalog-dir-nodetext">\n        <div class="psol-comp-hotspot-text">{{:#data.name}}</div>\n      </div>\n    </a>\n  {{/for}}\n  </div>\n<\/script>\n\n\n\x3c!-- NO RESULTS FOUND--\x3e\n<script id="tmpl-HotSpot-noResults">\n  <div>\n    {{:~zTR("Keine Ergebnisse gefunden.")}}\n  </div>\n<\/script>\n\n\n\x3c!-- CATALOG - DIR --\x3e\n<script id="tmpl-HotSpot-catalog-dir" type="text/x-jsrender">\n  \x3c!-- CATALOG - DIR --\x3e\n  <a class="psol-comp-hotspot-removeHrefStyling" href="{{:~root.domain}}{{:index.path}}" target="_blank">\n    <div class="psol-comp-hotspot-catalog-dir-head" style="background-color: {{:~getColorAsHex()}};">\n      {{if index.parents[0] && index.parents[0].catalogpreview}}\n        <div class="psol-comp-hotspot-catalog-dir-img" style="background-image: url({{:index.imgbasepath}}?PreviewPath={{:index.parents[0].catalogpreview}}&color=transparent&depth=32)"></div>\n      {{/if}}\n      <div class="psol-comp-hotspot-catalog-dir-fancyPath psol-comp-hotspot-textColor psol-comp-hotspot-text">\n      {{for fancyPath}}\n        <span>{{:#data}}</span> {{if #index < #parent.data.length-1}} &gt; {{/if}}\n      {{/for}}\n      </div>\n    </div>\n  </a>\n  \x3c!-- NODES --\x3e\n  {{include tmpl="tmpl-HotSpot-nodes" /}}\n\n<\/script>\n\n<script id="tmpl-HotSpotDialog" type="text/x-jsrender">\n\n\n  <div class="psol-comp-hotspotDialog">\n\n    \x3c!-- HOTSPOT TYPES --\x3e\n    <div class="psol-comp-hotspotDialog-flexRowContainer">\n      <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Typ\')}}:*</div>\n      <select class="psol-comp-hotspotDialog-hotspottype psol-comp-hotspotDialog-flexItem" required>\n\n        {{props types}}\n          {{if !prop.disabled}}\n            <option value={{>prop.type}} {{if ~root.activeType.type === prop.type}}selected{{/if}}>{{>prop.name}}</option>\n          {{/if}}\n        {{/props}}\n\n      </select>\n    </div>\n\n    \x3c!-- HOTSPOT SUBTYPES --\x3e\n    {{if activeType.subtypes}}\n      <div class="psol-comp-hotspotDialog-flexRowContainer">\n        <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Subtyp\')}}:*</div>\n        <select class="psol-comp-hotspotDialog-hotspotsubtype psol-comp-hotspotDialog-flexItem" required>\n\n          {{props ~root.activeType.subtypes}}\n            {{if !prop.disabled}}\n              <option value={{>prop.type}} {{if ~root.activeSubType && ~root.activeSubType.type === prop.type}}selected{{/if}}>{{>prop.name}}</option>\n            {{/if}}\n          {{/props}}\n\n        </select>\n      </div>\n    {{/if}}\n\n\n    \x3c!-- TITLE --\x3e\n    <div class="psol-comp-hotspotDialog-flexRowContainer">\n      <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Titel\')}}:</div>\n      <input class="psol-comp-hotspotDialog-title psol-comp-hotspotDialog-flexItem" placeholder="{{:~zTR(\'Titel\')}}" type="text" {{if hotspot}} value="{{:hotspot.title[~root.language || ~root.defaultLanguage]}}" {{/if}} />\n    </div>\n\n    \x3c!-- LINE LENGTH --\x3e\n    <div class="psol-comp-hotspotDialog-flexRowContainer">\n      <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Linienlänge\')}}:</div>\n      <div class="psol-comp-hotspotDialog-flexItem psol-comp-hotspotDialog-flexColumnContainer">\n\n        <div class="psol-comp-hotspotDialog-lineLength-Container">\n          <input class="psol-comp-hotspotDialog-lineLength" type="number" min="1.0" step="0.1" value={{if hotspot && hotspot.line}} {{:hotspot.line.length}} {{else}} 10.0 {{/if}} />\n          <span class="psol-comp-hotspotDialog-lineLength-units">{{:~checkForLineLengthUnits(hotspot)}}</span>\n        </div>\n\n        <div class="psol-comp-hotspotDialog-checkboxContainer">\n          <input id="psol-comp-hotspotDialog-relativeToPart" class="psol-comp-hotspotDialog-relativeToPart ComponentCustomizeViewBaseCheckbox" type="checkbox" {{if !hotspot || hotspot && hotspot.line && hotspot.line.relativeToPart}} checked {{/if}} />\n          <label for="psol-comp-hotspotDialog-relativeToPart" class="psol-comp-assistant-checkbox-bg">\n            <span></span>\n            {{:~zTR(\'Relativ zum Bauteil\')}}\n          </label>\n        </div>\n\n      </div>\n\n    </div>\n\n    \x3c!-- SAVE CAMERA PARAMETERS --\x3e\n    <div class="psol-comp-hotspotDialog-flexRowContainer">\n      <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Kamera Ausrichtung\')}}:</div>\n\n      <div class="psol-comp-hotspotDialog-flexItem psol-comp-hotspotDialog-camButtonContainer">\n\n        <div class="psol-comp-hotspotDialog-saveCamera psol-comp-viewbase-button ComponentCustomizeViewBaseButtonColor ComponentCustomizeDialogBaseDialogButton ">{{:~zTR(\'Speichern\')}}</div>\n\n        <div class="psol-comp-hotspotDialog-updateCamera psol-comp-viewbase-button ComponentCustomizeViewBaseButtonColor ComponentCustomizeDialogBaseDialogButton ">{{:~zTR(\'Updaten\')}}</div>\n        <div class="psol-comp-hotspotDialog-removeCamera psol-comp-viewbase-button ComponentCustomizeViewBaseButtonColor ComponentCustomizeDialogBaseDialogButton ">{{:~zTR(\'Entfernen\')}}</div>\n\n      </div>\n    </div>\n\n    {{if activeType.type === \'html\'}}\n    \x3c!-- HTML --\x3e\n\n      <div class="psol-comp-hotspotDialog-freeText psol-comp-hotspotDialog-flexCol">\n        <div class="">{{:~zTR(\'Beschreibung\')}}:</div>\n        <div class="psol-comp-hotspotDialog-editorContainer">\n          <div class="psol-comp-hotspotDialog-editor"></div>\n        </div>\n      </div>\n\n\n    {{else activeType.type === \'link\'}}\n    \x3c!-- LINK --\x3e\n\n      \x3c!-- WEBSITE, WIKIEPDIA, VIMEO, YOUTUBE --\x3e\n      {{include tmpl="tmpl-psol-comp-hotspotDialog-url-row" /}}\n\n\n      \x3c!-- AUTOPLAY FOR VIMEO and YOUTUBE--\x3e\n      {{if activeSubType && (activeSubType.type === \'youtube\' ||  activeSubType.type === \'vimeo\')}}\n        <div class="psol-comp-hotspotDialog-flexRowContainer">\n          <div class="psol-comp-hotspotDialog-flexItem">Autoplay:</div>\n          <div class="psol-comp-hotspotDialog-flexItem ">\n            <div class="psol-comp-hotspotDialog-checkboxContainer">\n              <input id="psol-comp-hotspotDialog-videoAutoplay" class="psol-comp-hotspotDialog-videoAutoplay ComponentCustomizeViewBaseCheckbox" type="checkbox" {{if hotspot && hotspot.meta.autoplay}} checked {{/if}} />\n              <label for="psol-comp-hotspotDialog-videoAutoplay">\n                <span></span>\n              </label>\n            </div>\n          </div>\n        </div>\n      {{/if}}\n\n    {{else activeType.type === \'catalog\'}}\n    \x3c!-- CATALOG --\x3e\n\n      \x3c!-- PRJ and DIR --\x3e\n      {{if activeSubType && (activeSubType.type === \'prj\' || activeSubType.type === \'dir\')}}\n        {{include tmpl="tmpl-psol-comp-hotspotDialog-url-row" /}}\n\n        \x3c!-- PRJ --\x3e\n        {{if activeSubType && activeSubType.type === \'prj\'}}\n          <div class="psol-comp-hotspotDialog-flexRowContainer">\n            <div class="psol-comp-hotspotDialog-flexItem">Varset:</div>\n            <input class="psol-comp-hotspotDialog-varset psol-comp-hotspotDialog-flexItem" placeholder="Varset" type="text" {{if hotspot}} value="{{:hotspot.meta.varset}}" {{/if}} />\n          </div>\n        {{/if}}\n\n      \x3c!-- TEXTSEARCH --\x3e\n      {{else activeSubType && activeSubType.type === \'textsearch\'}}\n        {{include tmpl="tmpl-psol-comp-hotspotDialog-textsearch-input" /}}\n\n      {{/if}}\n\n\n    {{else activeType.type === \'partcloud\'}}\n    \x3c!-- PARTCLOUD --\x3e\n\n      \x3c!-- MODEL and COLLECTION --\x3e\n      {{if activeSubType && (activeSubType.type === \'model\' || activeSubType.type === \'collection\')}}\n        {{include tmpl="tmpl-psol-comp-hotspotDialog-url-row" /}}\n\n      \x3c!-- TEXTSEARCH --\x3e\n      {{else activeSubType && activeSubType.type === \'textsearch\'}}\n        {{include tmpl="tmpl-psol-comp-hotspotDialog-textsearch-input" /}}\n\n      {{/if}}\n\n\n    {{else activeType.type === \'image\'}}\n    \x3c!-- IMAGE --\x3e\n\n      <div class="psol-comp-hotspotDialog-flexRowContainer">\n        <div class="psol-comp-hotspotDialog-flexItem">\n          <div>Url:*</div>\n        </div>\n        {{include tmpl="tmpl-psol-comp-hotspotDialog-imageUrls" /}}\n      </div>\n      \x3c!-- TODO: INPUT TAG FOR UPLOAD IMAGE AS BASE64, AND MULTIPLE IMAGES--\x3e\n\n\n    {{/if}}\n\n    \x3c!-- SHOW MORE--\x3e\n    <div class="psol-comp-hotspotDialog-flexRowContainer">\n      <div class="psol-comp-hotspotDialog-flexItem">{{:~zTR(\'Mehr anzeigen\')}}:</div>\n      <input class="psol-comp-hotspotDialog-showmore psol-comp-hotspotDialog-flexItem" placeholder="http://www.showmore.org" type="text" {{if hotspot}} value="{{:hotspot.more[~root.language || ~root.defaultLanguage]}}" {{/if}} />\n    </div>\n\n\n    \x3c!-- MANDATORY FIELD DESC--\x3e\n\n    <div class="psol-comp-hotspotDialog-mandatoryFieldContainer">*{{:~zTR(\'Pflichtfeld\')}}</div>\n\n    \x3c!-- ERROR MESSAGE --\x3e\n\n    <div class="psol-comp-hotspotDialog-errorContainer"></div>\n\n    \x3c!-- HELP --\x3e\n    <div class="psol-comp-hotspotDialog-helpContainer" data-type="{{: (~root.activeSubType && ~root.activeSubType.type) || ~root.activeType.type }}">\n      <div class="psol-comp-hotspotDialog-help" data-type="{{: (~root.activeSubType && ~root.activeSubType.type) || ~root.activeType.type }}"></div>\n    </div>\n\n  </div>\n<\/script>\n\n\n<script id="tmpl-psol-comp-hotspotDialog-textsearch-input" type="text/x-jsrender">\n  <div class="psol-comp-hotspotDialog-flexRowContainer">\n    <div class="psol-comp-hotspotDialog-flexItem">\n      <div>{{:~zTR(\'Suchtext\')}}:*</div>\n    </div>\n    <input class="psol-comp-hotspotDialog-textsearchinput psol-comp-hotspotDialog-flexItem" placeholder={{:~zTR(\'Suchtext\')}} type="text" {{if hotspot && hotspot.meta.query}} value="{{:hotspot.meta.query[~root.language || ~root.defaultLanguage]}}" {{/if}} required/>\n  </div>\n<\/script>\n\n\n<script id="tmpl-psol-comp-hotspotDialog-url-row" type="text/x-jsrender">\n  <div class="psol-comp-hotspotDialog-flexRowContainer">\n    <div class="psol-comp-hotspotDialog-flexItem">Url:*</div>\n    <input class="psol-comp-hotspotDialog-url psol-comp-hotspotDialog-flexItem" placeholder="http://www.example.org" type="text" {{if hotspot && hotspot.meta.url}} value="{{:hotspot.meta.url[~root.language || ~root.defaultLanguage]}}{{:hotspot.meta.info}}" {{/if}} required />\n  </div>\n<\/script>\n\n\n<script id="tmpl-psol-comp-hotspotDialog-imageUrls" type="text/x-jsrender">\n<div class="psol-comp-hotspotDialog-flexItem psol-comp-hotspotDialog-imgUrlContainer">\n  {{if hotspot && hotspot.meta.src}}\n    {{for hotspot.meta.src}}\n      <div class="psol-comp-hotspotDialog-imageLinkContainer">\n        <input class="psol-comp-hotspotDialog-imageLink" placeholder="http://www.example.org/img.png" type="text" value="{{:#data}}" required />\n        <span class="psol-comp-hotspotDialog-removeLinkContainer psol-comp-viewbase-circle">\n          <div class="psol-comp-hotspotDialog-removeImageLink "></div>\n        </span>\n      </div>\n    {{/for}}\n  {{else}}\n    <div class="psol-comp-hotspotDialog-imageLinkContainer">\n      <input class="psol-comp-hotspotDialog-imageLink" placeholder="http://www.example.org/img.png" type="text" required />\n      <span class="psol-comp-hotspotDialog-removeLinkContainer psol-comp-viewbase-circle">\n        <div class="psol-comp-hotspotDialog-removeImageLink "></div>\n      </span>\n    </div>\n  {{/if}}\n  <div class="psol-comp-hotspotDialog-addMoreButtonContainer psol-comp-viewbase-circle">\n    <div class="psol-comp-hotspotDialog-addMoreButton"></div>\n  </div>\n</div>\n<\/script>\n\n<script id="tmpl-ImageViewer" type="text/x-jsrender">\n  <div class="psol-comp-ImageViewer-container">\n\n    <div class="psol-comp-ImageViewer-imagesContainerContainer {{if !carousel}}psol-comp-ImageViewer-nocarousel{{/if}}">\n      <div class="psol-comp-ImageViewer-imagesContainer psol-comp-viewbase-flex-container">\n      {{!-- TODO: do not copy past! make extra template! --}}\n        {{for images}}\n          <div class="psol-comp-ImageViewer-mainImageAndContentContainer psol-comp-viewbase-flex-item" data-index="{{:#index}}">\n            <div class="psol-comp-ImageViewer-mainImageContainer" >\n              <img class="psol-comp-ImageViewer-image psol-comp-ImageViewer-mainImage  lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:imagePath}}"/>\n\n            </div>\n            {{if additionalImageContent}}\n              <div class="psol-comp-ImageViewer-additionalImageContentContainer">\n                {{:additionalImageContent}}\n              </div>\n            {{/if}}\n          </div>\n        {{/for}}\n        {{for images}}\n          <div class="psol-comp-ImageViewer-mainImageAndContentContainer psol-comp-viewbase-flex-item" data-id="{{:#index}}" data-index="{{:#index + ~root.images.length}}">\n            <div class="psol-comp-ImageViewer-mainImageContainer" >\n              <img class="psol-comp-ImageViewer-image psol-comp-ImageViewer-mainImage  lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:imagePath}}"/>\n\n            </div>\n            {{if additionalImageContent}}\n              <div class="psol-comp-ImageViewer-additionalImageContentContainer">\n                {{:additionalImageContent}}\n              </div>\n            {{/if}}\n          </div>\n        {{/for}}\n        {{for images}}\n          <div class="psol-comp-ImageViewer-mainImageAndContentContainer psol-comp-viewbase-flex-item" data-index="{{:#index + 2* ~root.images.length}}">\n            <div class="psol-comp-ImageViewer-mainImageContainer" >\n              <img class="psol-comp-ImageViewer-image psol-comp-ImageViewer-mainImage  lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:imagePath}}"/>\n\n            </div>\n            {{if additionalImageContent}}\n              <div class="psol-comp-ImageViewer-additionalImageContentContainer">\n                {{:additionalImageContent}}\n              </div>\n            {{/if}}\n          </div>\n        {{/for}}\n      </div>\n      {{if images.length > 1}}\n        <div class="psol-comp-ImageViewer-button psol-comp-ImageViewer-forwardsButton psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 psol-comp-viewbase-circle">\n          {{:~getSVGIcon(\'next\')}}\n        </div>\n        <div class="psol-comp-ImageViewer-button psol-comp-ImageViewer-backwardsButton psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 psol-comp-viewbase-circle">\n          {{:~getSVGIcon(\'previous\')}}\n        </div>\n      {{/if}}\n      <div class="psol-comp-ImageViewer-button psol-comp-ImageViewer-fullscreenButton psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 psol-comp-viewbase-circle">\n        {{:~getSVGIcon(\'actPseudoFullscreen\')}}\n      </div>\n\n    </div>\n\n    {{if carousel }}\n      <div class="psol-comp-ImageViewer-previewImagesContainerContainer">\n        <div class="psol-comp-ImageViewer-previewImagesContainer">\n          <div class="psol-comp-ImageViewer-previewImagesScrollContainer psol-comp-viewbase-flex-container">\n            {{for images}}\n              <div class="psol-comp-ImageViewer-previewImageContainer psol-comp-viewbase-flex-item" data-index="{{:#index}}">\n                <img class="psol-comp-ImageViewer-image psol-comp-ImageViewer-previewImage lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:imagePreviewPath || imagePath}}"  />\n              </div>\n            {{/for}}\n          </div>\n        </div>\n      </div>\n    {{/if}}\n  </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsing" type="text/x-jsrender">\n    <div class="psol-comp-index-container">\n        <div class="psol-comp-index-unveil-container {{if !disallowScroll}}psol-comp-index-scroll-container psol-comp-viewbase-scroll psol-comp-viewbase-scroll-y{{/if}}">\n            <div class="psol-comp-index-node-list" aria-label="psol-comp-index-node-list">\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsingContent" type="text/x-jsrender">\n    {{if nodes}}\n        {{if isCloud}}\n            {{include tmpl="tmpl-IndexBrowsingContentNodeCloud" /}}\n        {{else}}\n            {{include tmpl="tmpl-IndexBrowsingContentNodePsol" /}}\n        {{/if}}\n    {{/if}}\n<\/script>\n\n<script id="tmpl-IndexBrowsingContentList" type="text/x-jsrender">\n    {{if nodes}}\n        {{if isCloud}}\n            {{include tmpl="tmpl-IndexBrowsingContentListCloud" /}}\n        {{else}}\n            {{include tmpl="tmpl-IndexBrowsingContentListPsol" /}}\n        {{/if}}\n    {{/if}}\n<\/script>\n\n\n<script id="tmpl-IndexBrowsingContentListPsol" type="text/x-jsrender">\n    {{:~getBackButtons()}}\n    {{for nodes}}\n        {{:~getContentForNodes(name, true)}} {{:~alphabeticLetter(name)}}\n        <div class="psol-comp-index-item-list psol-comp-viewbase-clearfix" data-path="{{:path}}">\n            {{if eol}}\n                <div class="psol-comp-index-eol-icon-list {{if iconColor && iconColor !== \'\'}} psol-comp-index-item-icon-erp-list {{/if}}">\n                    {{:~getSVGIcon(eol.imagename)}}\n                </div>\n            {{/if}}\n            {{if iconColor && iconColor !== \'\'}}\n                <div class="psol-comp-index-item-erp-bar-list-background" data-transparent="{{:iconColorTransparent}}">\n                  <div class="psol-comp-index-item-erp-bar-list" style="background-color: {{:iconColor}};"></div>\n                </div>\n            {{/if}}\n            <div class="psol-comp-index-item-img-wrapper">\n                <img class="psol-comp-index-item-img lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" {{if ~showPreviewImages()}} data-src="{{:image}}" {{/if}} />\n            </div>\n            <div class="psol-comp-index-item-desc psol-comp-index-item-desc-line-clamp">\n                {{if nn_name && nn_name != name}}\n                    {{:nn_name}} -\n                {{/if}}\n                {{:name}}\n            </div>\n            <div class="psol-comp-index-item-catname">{{:catalogname}}</div>\n            {{if geometric && geometric.distance}}\n                <div class="psol-comp-index-item-geo-distance-list">\n                    <div class="psol-comp-index-item-geo-distance-bar" style="width: {{:~round(geometric.distance, 3)}}%; background-color: {{:~getGeoSearchBackColor(geometric.distance)}};">\n                        &nbsp;\n                    </div>\n                    <div class="psol-comp-index-item-geo-distance-value">\n                        {{:~round(geometric.distance, 1)}} %\n                    </div>\n                    &nbsp;\n                </div>\n            {{/if}}\n        </div>\n        {{:~getContentForNodes(name, false)}}\n    {{/for}}\n<\/script>\n\n<script id="tmpl-IndexBrowsingContentCloudFooter" type="text/x-jsrender">\n    {{if collection_id}}\n        <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_folder_open\')}}</div>\n        <div class="psol-comp-index-item-info-text">\n            {{:collection.model_count}} {{:~zTR("Modelle in Sammlung")}}\n        </div>\n    {{else}}\n        <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_view\')}}</div>\n        <div class="psol-comp-index-item-info-text">\n            {{:~abbreviateNumber(view_count)}}\n        </div>\n\n        <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_heart\')}}</div>    \n        <div class="psol-comp-index-item-info-text">\n            {{:~abbreviateNumber(like_count)}}\n        </div>\n\n        {{if downloadable}}\n            <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_download\')}}</div>\n            <div class="psol-comp-index-item-info-text">\n                {{:~abbreviateNumber(download_count)}}\n            </div>\n        {{else}}\n            <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_no_download\')}}</div>\n            <div class="psol-comp-index-item-info-text">&nbsp;</div>\n        {{/if}}\n        \n        <div class="psol-comp-index-item-info-pic">{{:~getSVGIcon(\'pcl_comment\')}}</div>\n        <div class="psol-comp-index-item-info-text">\n            {{:~abbreviateNumber(comment_count)}}\n        </div>\n    {{/if}}\n<\/script>\n\n<script id="tmpl-IndexBrowsingContentListCloud" type="text/x-jsrender">\n    {{for nodes}}\n        {{:~getContentForNodes(name, true)}}\n        <div class="psol-comp-index-item-list psol-comp-viewbase-clearfix" data-path="{{:path}}">\n            <div class="psol-comp-index-item-img-wrapper">\n                <img class="psol-comp-index-item-img-cloud lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~getCloudBasePath()}}/{{:preview.image_path_preview}}">\n            </div>\n            <div class="psol-comp-index-item-desc-cloud">\n                {{if collection_id !== null && collection !== null && collection.name !== null}}\n                    {{:collection.name}}\n                {{else}}\n                    {{:name}}\n                {{/if}}\n            </div>\n            <div class="psol-comp-index-item-catname">\n                {{:catalogname}}\n            </div>\n            <div class="psol-comp-index-item-footer-list">\n                {{include tmpl="tmpl-IndexBrowsingContentCloudFooter" /}}\n            </div>\n        </div>\n        {{:~getContentForNodes(name, false)}}\n    {{/for}}\n<\/script>\n\n<script id="tmpl-IndexBrowsingContentNodePsol" type="text/x-jsrender">\n    {{:~getBackButtons()}}\n    {{for nodes}}\n        {{:~getContentForNodes(name, true)}} {{:~alphabeticLetter(name)}}\n        <div class="psol-comp-index-item psol-comp-viewbase-card psol-comp-viewbase-card-hover {{if !~root.stereo}}psol-comp-viewbase-pull-left{{/if}} psol-comp-viewbase-flex-item" data-path="{{:path}}" aria-label="psol-comp-index-item-node" role="text">\n            <div class="psol-comp-index-item-inner psol-comp-viewbase-card-inner {{if geometric && geometric.distance}}psol-comp-index-item-geo{{/if}}">\n                <div class="psol-comp-index-item-icon\n                    {{if type === \'PRJ\'}}\n                        {{if asstype !== \'\'}}\n                            {{if asstype === \'DIR\'}}\n                                psol-comp-index-item-dir\n                            {{else}}\n                                psol-comp-index-item-assemblytab\n                            {{/if}}\n                        {{/if}}\n                    {{else}}\n                        psol-comp-index-item-{{:type.toLowerCase()}}\n                    {{/if}}\n                    {{if iconColor && iconColor !== \'\'}}\n                        psol-comp-index-item-icon-erp\n                    {{/if}}\n                "></div>\n                {{if eol}}\n                <div class="psol-comp-index-eol-icon {{if iconColor && iconColor !== \'\'}} psol-comp-index-eol-icon-erp {{/if}}">\n                    {{:~getSVGIcon(eol.imagename)}}\n                </div>\n                {{/if}}\n                {{if ~root.showCatalogImages === true}}\n                    <div class="psol-comp-index-item-catalog-image-container">\n                        <img class="psol-comp-index-item-catalog-image lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" {{if ~showPreviewImages()}} data-src="{{:~getMiniCatalogImage(#data)}}" {{/if}} />\n                    </div>\n                {{/if}}\n                {{if iconColor && iconColor !== \'\'}}\n                    <div class="psol-comp-index-item-erp-bar-background" data-transparent="{{:iconColorTransparent}}">\n                      <div class="psol-comp-index-item-erp-bar" style="background-color: {{:iconColor}};"></div>\n                    </div>\n                {{/if}}\n                <div class="psol-comp-index-item-img-wrapper {{if iconColor && iconColor !== \'\'}}psol-comp-index-item-img-wrapper-erp{{/if}}">\n                    <img class="psol-comp-index-item-img lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" {{if ~showPreviewImages()}} data-src="{{:image}}" {{/if}} />\n                </div>\n                {{if geometric && geometric.distance}}\n                    <div class="psol-comp-index-item-geo-distance">\n                        <div class="psol-comp-index-item-geo-distance-bar" style="width: {{:~round(geometric.distance, 3)}}%; background-color: {{:~getGeoSearchBackColor(geometric.distance)}};">\n                            &nbsp;\n                        </div>\n                        <div class="psol-comp-index-item-geo-distance-value">\n                            {{:~round(geometric.distance, 1)}} %\n                        </div>\n                        &nbsp;\n                    </div>\n                {{/if}}\n                <div class="psol-comp-index-item-desc psol-comp-index-item-desc-line-clamp">\n                    {{if nn_name && name && nn_name !== name}}\n                        {{:nn_name}} - {{:name}}\n                    {{else nn_name}}\n                        {{:nn_name}}\n                    {{else name}}\n                        {{:name}}\n                    {{/if}}\n                </div>\n            \x3c!--div class="psol-comp-index-item-catname">{{:catalogname}}</div--\x3e\n            </div>\n        </div>\n        {{:~getContentForNodes(name, false)}}\n    {{/for}}\n    <div class="psol-comp-viewbase-clearfix"></div>\n<\/script>\n\n\n<script id="tmpl-IndexBrowsingContentNodeCloud" type="text/x-jsrender">\n    {{for nodes}}\n        {{:~getContentForNodes(name, true)}}\n        <div class="psol-comp-index-item psol-comp-viewbase-card psol-comp-viewbase-card-hover psol-comp-index-item-cloud {{if !~root.stereo}}psol-comp-viewbase-pull-left{{/if}} psol-comp-viewbase-flex-item" data-modelid="{{:model_id}}" aria-label="psol-comp-index-item-node" role="text">\n            <div class="psol-comp-index-item-inner psol-comp-viewbase-card-inner">\n                <div class="psol-comp-index-item-header psol-comp-viewbase-clearfix">\n                    <div class="psol-comp-index-item-profile-pic-container">\n                        <img class="psol-comp-index-item-profile-pic lazy-image" alt="{{:user.username}}" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~getServerBasePath()}}/community/{{:user.image}}">\n                    </div>\n                    <div class="psol-comp-index-item-desc-cloud">\n                        {{if collection_id !== null && collection !== null && collection.name !== null}}\n                            {{:collection.name}}\n                        {{else}}\n                            {{:name}}\n                        {{/if}}\n                    </div>\n                    <div class="psol-comp-index-item-catname">\n                        {{:~zTR(\'von\')}} {{:user.username}}\n                    </div>\n                </div>\n                {{if parametric}}\n                    <div class="psol-comp-index-item-info-pic psol-comp-index-item-parametric-icon">\n                        &nbsp;\n                    </div>\n                {{/if}}\n                <div class="psol-comp-index-item-img-wrapper">\n                    <img class="psol-comp-index-item-img-cloud lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~getCloudBasePath()}}/{{:preview.image_path_preview}}">\n                </div>\n                {{if quality_distance}}\n                    <div class="psol-comp-index-item-geo-distance">\n                        <div class="psol-comp-index-item-geo-distance-bar" style="width: {{:~round(quality_distance, 3)}}%; background-color: {{:~getGeoSearchBackColor(quality_distance)}};">\n                            &nbsp;\n                        </div>\n                        <div class="psol-comp-index-item-geo-distance-value">\n                            {{:~round(quality_distance, 1)}} %\n                        </div>\n                        &nbsp;\n                    </div>\n                {{/if}}\n                <div class="psol-comp-index-item-footer">\n                    {{include tmpl="tmpl-IndexBrowsingContentCloudFooter" /}}\n                </div>\n            </div>\n        </div>\n        {{:~getContentForNodes(name, false)}}\n    {{/for}}\n    <div class="psol-comp-viewbase-clearfix"></div>\n<\/script>\n\n\n<script id="tmpl-IndexBrowsingLetterNode" type="text/x-jsrender">\n    <div class="psol-comp-index-line-break psol-comp-viewbase-pull-left"></div>\n    <div class="psol-comp-index-alphabetic-container psol-comp-viewbase-pull-left" data-letter="{{:letter}}">\n        {{:~getContentForAlphabeticContainer(letter)}}\n    </div>\n\n    <div class="psol-comp-index-letter psol-comp-index-item psol-comp-viewbase-card psol-comp-viewbase-pull-left psol-comp-viewbase-flex-item psol-comp-viewbase-pointer-events-disabled" data-path="{{:letter}}">\n        <div class="psol-comp-index-letter-stretch"><span>{{:letter}}</span></div>\n        <div class="psol-comp-index-item-inner psol-comp-viewbase-card-inner"></div>\n    </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsingLetterList" type="text/x-jsrender">\n    <div class="psol-comp-index-letter-list psol-comp-index-item-list psol-comp-viewbase-pointer-events-disabled" data-path="{{:letter}}">\n        <div class="">{{:letter}}</div>\n    </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsingAlphabeticNav" type="text/x-jsrender">\n    <div class="psol-comp-index-alphabetic-nav">\n        <ul class="psol-comp-index-alphabetic-nav-container">\n            {{for letters}}\n            <li class="psol-comp-index-alphabetic-nav-letter" data-letter="{{:#data}}">{{:#data}}</li>\n            {{/for}}\n        </ul>\n    </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsingAlphabeticNavPreview" type="text/x-jsrender">\n    <div class="psol-comp-index-alphabetic-nav-preview">\n    </div>\n<\/script>\n\n<script id="tmpl-ViewIndexBrowsingBackButtonNode" type="text/x-jsrender">\n    <div class="psol-comp-index-item psol-comp-viewbase-card psol-comp-viewbase-card-hover {{if !~root.stereo}}psol-comp-viewbase-pull-left{{/if}} psol-comp-viewbase-flex-item" data-path="{{:path}}" data-from="{{:from}}" data-back="true" data-backtoall="{{:backToAll}}">\n        <div class="psol-comp-index-item-inner psol-comp-viewbase-card-inner">\n            <div class="psol-comp-index-item-img-wrapper">\n                <div class="psol-comp-index-item-img psol-comp-index-backbutton\n                {{if backToAll}}\n                    psol-comp-index-backbutton-to-all\n                {{/if}}">\n                </div>\n            </div>\n            <div class="psol-comp-index-item-desc psol-comp-index-item-desc-line-clamp">\n                {{:text}}\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-ViewIndexBrowsingBackButtonList" type="text/x-jsrender">\n    <div class="psol-comp-index-item-list psol-comp-viewbase-clearfix" data-path="{{:path}}" data-from="{{:from}}" data-back="true" data-backtoall="{{:backToAll}}">\n        <div class="psol-comp-index-item-img-wrapper">\n            <div class="psol-comp-index-item-img psol-comp-index-backbutton\n            {{if backToAll}}\n                psol-comp-index-backbutton-to-all\n            {{/if}}">\n            </div>\n        </div>\n        <div class="psol-comp-index-item-desc psol-comp-index-item-desc-line-clamp">\n            {{:text}}\n        </div>\n    </div>\n<\/script>\n\n\n<script id="tmpl-IndexBrowsingLineResult" type="text/x-jsrender">\n    <div class="psol-comp-index-items-line-result">\n        {{for nodes}}\n            <div class="psol-comp-viewbase-card psol-comp-viewbase-card-hover psol-comp-index-items-line-result-item" data-path="{{:path}}">\n                <div class="psol-comp-viewbase-card-inner">\n                    <div class="psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n                        <div class="psol-comp-index-item-icon\n                            {{if type === \'PRJ\'}}\n                                {{if asstype !== \'\'}}\n                                    {{if asstype === \'DIR\'}}\n                                        psol-comp-index-item-dir\n                                    {{else}}\n                                        psol-comp-index-item-assemblytab\n                                    {{/if}}\n                                {{/if}}\n                            {{else}}\n                                psol-comp-index-item-{{:type.toLowerCase()}}\n                            {{/if}}\n                            {{if iconColor && iconColor !== \'\'}}\n                                psol-comp-index-item-icon-erp\n                            {{/if}}\n                        "></div>\n                        {{if eol}}\n                            <div class="psol-comp-index-eol-icon-line {{if iconColor && iconColor !== \'\'}} psol-comp-index-eol-icon-erp {{/if}}">\n                                {{:~getSVGIcon(eol.imagename)}}\n                            </div>\n                        {{/if}}\n                        {{if ~root.showCatalogImages === true}}\n                            <div class="psol-comp-index-item-catalog-image-container">\n                                <img class="psol-comp-index-item-catalog-image lazy-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" {{if ~showPreviewImages()}} data-src="{{:~getMiniCatalogImage(#data)}}" {{/if}} />\n                            </div>\n                        {{/if}}\n                        {{if iconColor && iconColor !== \'\'}}\n                            <div class="psol-comp-index-item-erp-bar-background {{if geometric && geometric.distance}}psol-comp-index-item-erp-bar-background-geometric{{/if}}" data-transparent="{{:iconColorTransparent}}">\n                              <div class="psol-comp-index-item-erp-bar" style="background-color: {{:iconColor}};"></div>\n                            </div>\n                        {{/if}}\n                        {{if geometric && geometric.distance}}\n                            <div class="psol-comp-index-item-geometric-wrapper psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col">\n                        {{/if}}\n                        <div class="psol-comp-index-item-img-wrapper {{if iconColor && iconColor !== \'\'}}psol-comp-index-item-img-wrapper-erp{{/if}}">\n                            <img class="psol-comp-index-item-img lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" {{if ~showPreviewImages()}} data-src="{{:image}}" {{/if}} />\n                        </div>\n                        {{if geometric && geometric.distance}}\n                                <div class="psol-comp-index-item-geo-distance">\n                                    <div class="psol-comp-index-item-geo-distance-bar" style="width: {{:~round(geometric.distance, 3)}}%; background-color: {{:~getGeoSearchBackColor(geometric.distance)}};">\n                                        &nbsp;\n                                    </div>\n                                    <div class="psol-comp-index-item-geo-distance-value">\n                                        {{:~round(geometric.distance, 1)}} %\n                                    </div>\n                                    &nbsp;\n                                </div>\n                            </div>\n                        {{/if}}\n                        <div class="psol-comp-index-item-desc psol-comp-index-item-desc-line-clamp">\n                            {{if nn_name && name && nn_name !== name}}\n                                {{:nn_name}} - {{:name}}\n                            {{else nn_name}}\n                                {{:nn_name}}\n                            {{else name}}\n                                {{:name}}\n                            {{/if}}\n                        </div>\n                    </div>\n                    {{if lines.length > 0}}\n                        {{include ~img=image ~path=path ~nn_name=nn_name tmpl="tmpl-IndexBrowsingLineResultLine" /}}\n                    {{/if}}\n                </div>\n            </div>\n        {{/for}}\n    </div>\n<\/script>\n\n\n<script id="tmpl-IndexBrowsingLineResultLine" type="text/x-jsrender">\n    <div class="psol-comp-index-items-line-result-line">\n        <div class="psol-comp-viewbase-card psol-comp-index-items-line-result-expander" data-path="{{:~path}}">\n            <div class="psol-comp-index-items-line-result-expander-inner">\n                <div class="psol-comp-index-items-line-result-line-info-collapsed">\n                    <div class="psol-comp-index-item-expand-icon">\n                        {{:~getSVGIcon(\'actLineSearchExpand\')}}\n                    </div>\n                    <div class="psol-comp-index-items-line-result-line-info-text">\n                        {{:~zTR(\'Zeilen anzeigen\')}}\n                    </div>\n                </div>\n                <div class="psol-comp-index-items-line-result-line-info-expanded">\n                    <div class="psol-comp-index-item-expand-icon">\n                        {{:~getSVGIcon(\'actLineSearchCollapse\')}}\n                    </div>\n                    <div class="psol-comp-index-items-line-result-line-data-container psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col">\n                        <div class="psol-comp-index-items-line-result-line-info-text">\n                            {{:~zTR(\'Zeilen verstecken\')}}\n                        </div>\n                        {{for lines}}\n                            <div class="psol-comp-viewbase-card psol-comp-index-items-line-result-line-data psol-comp-viewbase-card-hover"\n                                 data-lineid="{{:lineid}}" data-linesubid="{{:linesubid}}" data-path="{{:~path}}"\n                            >\n                                <div class="psol-comp-viewbase-card-inner">\n                                    <div class="psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n                                        <div class="psol-comp-index-item-img-wrapper psol-comp-viewbase-flex-col">\n                                            <img class="psol-comp-index-item-img" alt="" src="{{:~img}}" />\n                                        </div>\n                                        <div class="psol-comp-viewbase-flex-col psol-comp-index-line-result">\n                                            <div class="psol-comp-index-items-line-result-name">\n                                                {{:~nn_name}}\n                                            </div>\n                                            <div class="psol-comp-index-items-line-result-line-details-container">\n                                                {{:~zTR(\'Zeileninformationen werden geladen...\')}}\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        {{/for}}\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-IndexBrowsingLineResultLineDetails" type="text/x-jsrender">\n    <div class="psol-comp-index-items-line-result-line-details">\n        <div class="psol-comp-index-items-line-result-line-details-variables">\n            {{for variables ~variables=variables}}\n                <span class="psol-comp-index-items-line-result-line-details-name">\n                    {{:name}}\n                </span>\n                =\n                <span class="psol-comp-index-items-line-result-line-details-value">\n                    {{:value}} {{:unit}}\n                </span>\n\n                {{if #getIndex() !== ~variables.length -1}}\n                    <span>&nbsp;|&nbsp;</span>\n                {{/if}}\n                \n            {{/for}}\n        </div>\n        {{if erpVariables.length > 0}}\n            <br/>\n            <div class="psol-comp-index-items-line-result-line-details-variables">\n                {{for erpVariables ~erpVariables=erpVariables}}\n                    <span class="psol-comp-index-items-line-result-line-details-name">\n                        {{:desc}}\n                    </span>\n                    =\n                    <span class="psol-comp-index-items-line-result-line-details-value">\n                        {{:value}} {{:unit}}\n                    </span>\n                    {{if #getIndex() !== ~erpVariables.length -1}}\n                        <span>&nbsp;|&nbsp;</span>\n                    {{/if}}\n                {{/for}}\n            </div>\n        {{/if}}\n    </div>\n<\/script>\n\n<script id="tmpl-IPCView" type="text/x-jsrender">\n    <div class="ipcViewFrame">\n        <div class="ipcViewHeader">\n            <div class="ipcViewHeader-textBlock">\n                <b>{{:~zTR("Bauteilauswahl")}}</b><br>{{:~zTR("Bitte wählen Sie ihr Bausisbauteil aus")}}\n            </div>\n        </div>\n        <div class="ipcViewSelection">\n            <div class="psol-comp-IPCView-container">\n                <div class="psol-comp-IPCView-subcontainer">\n                </div>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-IPCView2" type="text/x-jsrender">\n    <div id=\'crum\' class=\'breadCrum\'>\n        {{for breadCrum}}\n        <span id=\'crum_{{:id}}\' class=\'crumSegment\'>{{:name}}</span> {{if #getIndex() !== ~root.breadCrum.length-1}}\n        <span> - </span> {{/if}} {{/for}}\n    </div>\n\n    {{for categories}}\n    <div id=\'{{:id}}\' class=\'categories\'>\n        <img id=\'{{:id}}\' src=\'{{:icon}}\' width=\'64\' height=\'64\' /><span id=\'{{:id}}\'>{{:name}}</span>\n    </div>\n    {{/for}} {{for parts}}\n    <div id=\'{{:id}}\' class=\'parts\'>\n        <img id=\'{{:id}}\' src=\'{{:icon}}\' width=\'64\' height=\'64\' /><span id=\'{{:id}}\'>{{:name}}</span>\n    </div>\n    {{/for}}\n<\/script>\n\n<script id="tmpl-IPCViewTable" type="text/x-jsrender">\n    <div id=\'type\' class=\'ipcTableType\'>\n        <input type="radio" id="list" name="TableType" value="Listenansicht" checked="checked">\n        <label for="list"> {{:~zTR("Merkmale auswählen")}}</label>\n        <input type="radio" id="row" name="TableType" value="Zeilenansicht">\n        <label for="row"> {{:~zTR("Produktliste")}}</label><br>\n        <div id="tableListText">{{:~zTR("Blaue Felder klicken, um Merkmale zu ändern")}}</div>\n        <div id="tableRowText">{{:~zTR("Aus Produktliste wählen oder Merkmale klicken und editieren")}}</div>\n        <br>\n    </div>\n    <div id=\'tableHolder\' class=\'ipcTableContainer\'>\n    </div>\n<\/script>\n\n<script id="tmpl-Connect" type="text/x-jsrender">\n    <div id=\'connect\' class=\'connectDiv\'>\n        {{for parts}}\n        <div class=\'connectSubDivCont\'>\n            <div class=\'connectSubDiv\' title=\'{{:name}}\'>\n                <div width=\'150px\' height=\'200px\'>\n                    <img id=\'{{:id}}\' src=\'{{:icon}}\' width=\'150px\' height=\'150px\' />\n                    <div class=\'connectSubDivTextContainer\' width=\'150px\'><br>{{:vName}}</div>\n                </div>\n            </div>\n        </div>\n        {{/for}}\n    </div>\n<\/script>\n\n<script id="tmpl-Info" type="text/x-jsrender">\n    <div id=\'info\' class=\'infoDiv\'>\n\n    </div>\n<\/script>\n\n<script id="tmpl-Rotate-Strict" type="text/x-jsrender">\n    <div id=\'rotate-strict\' class=\'rotateDiv-strict\'>\n        {{:~zTR("Winkel")}}:\n        <select name="angles" class="angles-strict">\n        {{for angles}}\n          <option value="{{>#data}}">{{>#data}}</option>\n        {{/for}}\n      </select>\n    </div>\n<\/script>\n\n<script id="tmpl-Rotate" type="text/x-jsrender">\n    <div id=\'rotate\' class=\'rotateDiv\'>\n        <div id=\'angleSlider\'></div>\n    </div>\n<\/script>\n\n<script id="tmpl-Move" type="text/x-jsrender">\n    <div class="container">\n        <div id="slider">\n            <div class="col-xs-12">\n                <h2><input type="text" id="res-since-val" class="text-center text-val" /></h2>\n                <div class="col-xs-12" style="padding-top:17px;"><input type="text" id="moveSlider" /></div>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-Distance" type="text/x-jsrender">\n    <div class="container" id="distanceContainerDiv">\n        {{:~zTR("Distanz")}}: <br>{{:~zTR("Min")}}: {{:minDistance}} <br>{{:~zTR("Max")}}: {{:maxDistance}}\n        <h2><input type="text" id="distanceValue" class="text-center text-val" /></h2>\n    </div>\n<\/script>\n\n<script id="tmpl-Basket" type="text/x-jsrender">\n    <div id=\'basket\' class=\'basketDiv\'>\n        <center>\n            <form action="">\n                <input type="radio" id="assembledRadio" name="packet" value="assemled" checked> {{:~zTR("Vormontiert")}}\n                <input type="radio" id="packetRadio" name="packet" value="packet"> {{:~zTR("Gemeinsam verpackt")}}<br>\n            </form>\n        </center>\n        <center>\n            <div id=\'sapDebug\'><img id="packetImage" src="" height="50%"></div>\n        </center>\n        <div id=\'sapText\'>\n            <font color="#0091DC">{{:~zTR("Bitte beachten:<br>&nbsp;&nbsp;-&nbsp;&nbsp;<b>Vormontiert</b>&nbsp;und&nbsp;<b>Gemeinsam verpackt</b>&nbsp;nur in folgenden L&auml;ndern verf&uuml;gbar:<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; AT, BE, CH, CZ, DE, DK, EE, ES, FI, FR, GB, GR, HU, IE, IT, NL, NO, PL,<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PT, RU, SE, SI, SK, TR, ZA")}}</font>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-MapViewer" type="text/x-jsrender">\r\n  <div class="psol-comp-mapViewer-container">\r\n    <div class="psol-comp-mapViewer-map-canvas"></div>\r\n  </div>\r\n<\/script>\r\n\n<script id="tmpl-MessageDialog" type="text/x-jsrender">\n  <div class="psol-comp-message-dialog">\n    {{:message}}\n  </div>\n<\/script>\n\n<script id="tmpl-ProgressDialog" type="text/x-jsrender">\n  <div class="psol-comp-progress-dialog">\n    <div class="psol-comp-viewbase-progress psol-comp-viewbase-progress-striped active">\n      <div class="psol-comp-viewbase-progress-bar">\n        &nbsp;\n      </div>\n    </div>\n  </div>\n<\/script>\n\n<script id="tmpl-ProgressDialog-loading-text" type="text/x-jsrender">\n  <div class="psol-comp-progress-dialog-loading-text" aria-label="psolcompprogressdialog" role="text">\n    {{:text}}\n  </div>\n<\/script>\n\n<script id="tmpl-QRScan" type="text/x-jsrender">\r\n  <div class="psol-comp-QRScan-container">\r\n    <div class="psol-comp-QRScan-video-container"></div>\r\n    <div class="psol-comp-QRScan-cover"></div>\r\n    <div class="psol-comp-QRScan-focusQuadrat"></div>\r\n  </div>\r\n<\/script>\r\n\n<script id="tmpl-RadialMenu" type="text/x-jsrender">\n    <div class="psol-comp-radialMenu-container">\n        <div class="psol-comp-radialMenu-mainActionsContainer">\n            {{for mainActions}}\n                <div class="psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 ComponentCustomizeViewBaseIconButtonSize psol-comp-viewbase-circle psol-comp-viewbase-action psol-comp-radialMenu-mainAction {{:~actionGetClasses(name)}}"\n                    role="button"\n                    aria-label="{{:name}}"\n                    data-action="{{:name}}"\n                    data-hasnosubactions="{{:~actionHasNoSubActions(name)}}"\n                    title="{{>text}}"\n                    {{if imageExtension !== ".svg"}}\n                        style="background-image: url({{:~actionImage(name)}})"\n                    {{/if}}\n                >\n                    {{if imageExtension == ".svg"}}\n                      {{:~getSVGIcon(aliases.default||name)}}\n                    {{/if}}\n                </div>\n                <div class="psol-comp-radialMenu-subActionsContainer">\n                    {{for subActions ~mainActionName=name}}\n                    <div class="psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 ComponentCustomizeViewBaseIconButtonSize psol-comp-viewbase-circle psol-comp-viewbase-action psol-comp-radialMenu-subAction {{:~actionGetClasses(name)}}"\n                        role="button"\n                        aria-label="{{:name}}"\n                        data-action="{{:name}}"\n                        data-hasnosubactions="{{:~actionHasNoSubActions(name)}}"\n                        data-mainaction="{{:~mainActionName}}"\n                        title="{{>text}}"\n                        {{if imageExtension !== ".svg"}}\n                            style="background-image: url({{:~actionImage(name)}})"\n                        {{/if}}\n                    >\n                        {{if imageExtension == ".svg"}}\n                          {{:~getSVGIcon(aliases.default||name)}}\n                        {{/if}}\n                    </div>\n                    {{/for}}\n                </div>\n            {{/for}}\n        </div>\n        <div class="psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 ComponentCustomizeViewBaseIconButtonSize psol-comp-viewbase-circle psol-comp-radialMenu-button">\n          {{:~getSVGIcon(\'menu_button\')}}\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-SearchBar" type="text/x-jsrender">\n    <div class="psol-comp-searchbar-container psol-comp-viewbase-input-group">\n        <form class="psol-comp-searchbar-form" action="#">\n            <input class="psol-comp-searchbar-input" type="search" placeholder="{{:~zTR(\'Suche\')}}" aria-label="searchbar" role="textbox">\n        </form>\n        <span class="psol-comp-viewbase-input-group-button">\n            <div class="psol-comp-searchbar-reset psol-comp-viewbase-circle ComponentCustomizeSearchBarResetColor" role="button" aria-label="psol-comp-searchbar-reset">{{:~getSVGIcon(\'cross_circle\')}}</div>\n        </span>\n        <div class="psol-comp-searchbar-autocomplete-suggestions-container"></div>\n    </div>\n<\/script>\n\n<script id="tmpl-SearchBarAutocompleteSuggestions" type="text/x-jsrender">\n    <div class="psol-comp-searchbar-autocomplete-suggestion" data-suggestion="{{:suggestion}}">\n        {{:sug}}\n    </div>\n<\/script>\n\n<script id="tmpl-SearchBarAutocompleteBold" type="text/x-jsrender">\n    <span class="psol-comp-searchbar-autoCompl-bold">%1</span>\n<\/script>\n\n<script id="tmpl-SketchImageEditor" type="text/x-jsrender">\n    <div class="psol-comp-sketchimageeditor-main">\n        <div class="psol-comp-sketchimageeditor psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col psol-comp-viewbase-flex-item-full">\n\n            <div class="psol-comp-sketchimageeditor-container psol-comp-viewbase-flex-container">\n                <img class="psol-comp-sketchimageeditor-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" />\n            </div>\n\n            <div class="psol-comp-sketchimageeditor-settings-container">\n                <div class="psol-comp-sketchimageeditor-processing-container">\n                    <div class="psol-comp-sketchimageeditor-description">{{:~zTR(\'Kontrastschwellenwert\')}}</div>\n                    <div class="psol-comp-sketchimageeditor-slider-container">\n                        <input type="text" class="psol-comp-sketchimageeditor-threshold-slider" data-min="{{:min}}" data-max="{{:max}}" data-step="1" data-from="{{:from}}" />\n                    </div>\n                </div>\n            </div>\n            <div class="psol-comp-sketchimageeditor-settings-buttons-container">\n                <div class="psol-comp-sketchimageeditor-settings-buttons psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row psol-comp-viewbase-flex-wrap">\n                    <div class="psol-comp-sketchimageeditor-invert-container">\n                        <div class="psol-comp-sketchimageeditor-description">{{:~zTR(\'Umkehren\')}}</div>\n                        <input type="checkbox" class="input ComponentCustomizeViewBaseCheckbox psol-comp-sketchimageeditor-invert" name="psol-comp-sketchimageeditor-invert" id="psol-comp-sketchimageeditor-invert" />\n                        <label for="psol-comp-sketchimageeditor-invert">\n                            <span></span>\n                        </label>\n                    </div>\n                    <div class="psol-comp-sketchimageeditor-settings-spacer"></div>\n                    <div class="psol-comp-sketchimageeditor-settings-rotationbuttons">\n                        <div class="psol-comp-sketchimageeditor-description">{{:~zTR(\'Rotieren\')}}</div>\n                        <div class="psol-comp-sketchimageeditor-rotatebutton-container psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row">\n                            <div class="psol-comp-sketchimageeditor-rotatebutton psol-comp-viewbase-button psol-comp-sketchimageeditor-rotatebutton-left"></div>\n                            <div class="psol-comp-sketchimageeditor-button-spacer"></div>\n                            <div class="psol-comp-sketchimageeditor-rotatebutton psol-comp-viewbase-button psol-comp-sketchimageeditor-rotatebutton-right"></div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-SliderBase" type="text/x-jsrender">\n  <div class="psol-comp-slider psol-comp-slider-pos-{{:~getSliderInputPosition().toLowerCase()}} {{if !~flexSupport()}}psol-comp-viewbase-clearfix {{else}} psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row psol-comp-viewbase-flex-align-vcenter{{/if}}">\n    {{if ~canShowSlider()}}\n      {{if ~getSliderInputPosition() === \'LEFT\' || ~getSliderInputPosition() === \'BOTH\'}}\n        <input class="psol-comp-slider-input psol-comp-slider-input-left {{if !~flexSupport()}}psol-comp-viewbase-pull-left {{/if}}" type="text" value=""/>\n      {{/if}}\n\n      <div class="psol-comp-slider-container {{if ~getSliderInputPosition()!==\'NONE\' && !~flexSupport() }}psol-comp-viewbase-pull-left{{/if}}">\n        <input class="psol-comp-slider-input-slider" type="text" value=""/>\n      </div>\n\n      {{if ~getSliderInputPosition() === \'RIGHT\' || ~getSliderInputPosition() === \'BOTH\'}}\n        <input class="psol-comp-slider-input psol-comp-slider-input-right {{if !~flexSupport()}}psol-comp-viewbase-pull-left psol-comp-slider-input-translate-y {{/if}}" type="text" value=""/>\n      {{/if}}\n    {{else}}\n      <input class="psol-comp-slider-input" type="text" value=""/>\n    {{/if}}\n  </div>\n<\/script>\n\n<script id="tmpl-SliderTableVar" type="text/x-jsrender">\n    {{include tmpl="tmpl-SliderBase"/}}\n<\/script>\n\r\n\n<script id="tmpl-TableCompare" type="text/x-jsrender">\n  <div class="psol-comp-table-scrollcontainer">\n  </div>\n<\/script>\n\n<script id="tmpl-TableCompareData" type="text/x-jsrender">\n    <div class="psol-comp-table-list-container">\n        <div class="psol-comp-table-list-maintable">\n            {{if master.line.values === null}}\n                <div class="psol-comp-table-list-warning">\n                    {{:~zTR("Problem bei der Tabelle")}}\n                </div>\n            {{/if}}\n            {{if master.line.nr === \'-1\'}}\n                <div class="psol-comp-table-list-warning">\n                    {{:~zTR("Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.")}}\n                </div>\n            {{else}}\n\n                {{for master.line.values ~notFlex=ie}}\n                        {{include tmpl="tmpl-TableCompareDataLine"/}}\n                {{/for}}\n            {{/if}}\n        </div>\n    </div>\n<\/script>\n\n\n<script id="tmpl-TableCompareDataLine" type="text/x-jsrender">\n    <div data-variableindex="{{:#getIndex()}}" data-varname="{{:varname}}"\n     class="psol-comp-table-list-item\n            {{if !~notFlex }}\n                psol-comp-viewbase-flex-container\n                psol-comp-viewbase-flex-row\n                psol-comp-viewbase-flex-align-vcenter\n            {{/if}}\n\n            ComponentCustomizeTableColumnHeaderColor\n\n            {{if ExecDocument !== \'\'}}\n                psol-comp-table-list-execfile\n            {{else status === \'fixed\' || status === \'finished\'}}\n                psol-comp-table-list-finishedFixed\n            {{else}}\n                {{if status === \'ranged\'}}\n                    psol-comp-table-list-editvar-{{:attr}}\n                {{/if}}\n                psol-comp-table-list-editvar\n            {{/if}}">\n\n        <div class="psol-comp-table-list-collapse-container\n                    {{if ~notFlex }}\n                        psol-comp-table-fixed-layout\n                    {{else}}\n                        psol-comp-viewbase-flex-container\n                    {{/if}}">\n            <div class="psol-comp-table-list-name-container\n                    {{if ~notFlex }}\n                        psol-comp-table-table-cell-three\n                    {{/if}}">\n                <div class="psol-comp-table-list-padding">\n                    \n                    <div class="psol-comp-table-list-varName \n                    {{if !~notFlex }}\n                        psol-comp-viewbase-flex-item\n                    {{/if}}">\n                        {{if #data[0].varname}}\n                            {{:#data[0].varname}}\n                        {{/if}}\n                    </div>\n                    \n                    <div class="psol-comp-table-list-varDesc\n                                {{if !~notFlex }}\n                                    psol-comp-viewbase-flex-item\n                                {{/if}}\n                                {{if ~isHeaderDescModeEnabled()}}psol-comp-table-list-header-desc-mode{{/if}}">\n                        {{if #data[0].varname}}\n                                ({{:#data[0].desc}})  \n                        {{/if}}\n                        \n                    </div>\n                </div>\n            </div>\n\n            <div class="psol-comp-table-list-value-container\n                        {{if ~notFlex }}\n                            psol-comp-table-table-cell-three\n                        {{else}}    \n                            psol-comp-viewbase-flex-container\n                            psol-comp-viewbase-flex-row\n                        {{/if}}">\n                {{if #data[0].isMaster}}\n\n                    <div class="psol-comp-table-list-value no-img \n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        <svg viewBox="0 0 32 32">\n                            <circle class=\'first\' r=\'16\' cx=\'16\' cy=\'16\' stroke-dasharray="100.5 100" style="stroke:#00b359"></circle>\n                        </svg>\n                    </div>\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        {{:#data[0].resolvedVal}} {{if #data[0].Unit}} {{:#data[0].Unit}}{{/if}}\n                    </div>\n\n                {{else #data[0].lina}}\n\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        <strong>{{:#data[0].lina}}</strong>\n                    </div>\n\n                {{else #data[0].isMaster === false}}\n\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        <svg viewBox="0 0 32 32">\n                            <circle class=\'first\' r=\'16\' cx=\'16\' cy=\'16\' stroke-dasharray="100.5 100" style="stroke:#00b359" ></circle>\n                        </svg>\n                    </div>        \n\n                {{/if}}\n            </div>\n            \n            <div class="psol-comp-table-list-value-container\n                        {{if ~notFlex }}\n                            psol-comp-table-table-cell-three\n                        {{else}}    \n                            psol-comp-viewbase-flex-container\n                            psol-comp-viewbase-flex-row\n                        {{/if}}">  \n                {{if #data[1]}}\n\n                    {{if #data[1].lina}}   \n                        <div class="psol-comp-table-list-value no-img\n                        {{if ~notFlex }}\n                            psol-comp-viewbase-pull-left\n                        {{/if}}\n                        ">\n                            <strong>{{:#data[1].lina}}</strong>\n                        </div>\n                    {{/if}}\n                    \n                    {{if #data[1].isMaster === false}}\n\n                        <div class="psol-comp-table-list-value no-img\n                        {{if ~notFlex }}\n                            psol-comp-viewbase-pull-left\n                        {{/if}}\n                        ">\n                            <svg viewBox="0 0 32 32" style="border: 1px {{:#data[1].color}} solid;">\n                                <circle class=\'first\' r=\'16\' cx=\'16\' cy=\'16\' stroke-dasharray="{{:#data[1].percentage}}  100" style="stroke:{{:#data[1].stroke}}" ></circle>\n                            </svg>\n                        </div>\n                        <div class="psol-comp-table-list-value no-img\n                        {{if ~notFlex }}\n                            psol-comp-viewbase-pull-left\n                        {{/if}}\n                        ">{{:#data[1].resolvedVal}} \n                            {{if #data[1].Unit}} \n                                {{:#data[1].Unit}}\n                            {{/if}}\n                        </div>\n\n                    {{/if}}\n\n                {{else #data[0].isMaster === false}}\n\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        <svg viewBox="0 0 32 32" style="border: 1px {{:#data[0].color}} solid;">\n                            <circle class=\'first\' r=\'16\' cx=\'16\' cy=\'16\' stroke-dasharray="{{:#data[0].percentage}} 100" style="stroke:{{:#data[0].stroke}}" ></circle>\n                        </svg>\n                    </div>\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">{{:#data[0].resolvedVal}} \n                        {{if #data[0].Unit}}\n                            {{:#data[0].Unit}}\n                        {{/if}}\n                    </div>\n\n                {{else}}     \n\n                    <div class="psol-comp-table-list-value no-img\n                    {{if ~notFlex }}\n                        psol-comp-viewbase-pull-left\n                    {{/if}}\n                    ">\n                        <svg viewBox="0 0 32 32" style="border: 1px #ff471a solid;">\n                            <circle class=\'first\' r=\'16\' cx=\'16\' cy=\'16\' stroke-dasharray="0 100" style="stroke:none"></circle>\n                        </svg>\n                    </div>\n                    \n                {{/if}}\n            </div>\n        </div>\n\n        \n    </div>\n<\/script>\n\n\n<script id="tmpl-TableHorizontal" type="text/x-jsrender">\n  <div class="psol-comp-table-scrollcontainer">\n  </div>\n<\/script>\n\n<script id="tmpl-TableHorizontalData" type="text/x-jsrender">\n  <table class="psol-comp-table-maintable {{if ~wrapColumns() === false}}psol-comp-table-overflow-x{{/if}} ComponentCustomizeTableMaxHeight">\n    <thead>\n      <tr>\n          <th class="psol-comp-table-th psol-comp-table-th-horizontal psol-comp-table-cornerheader psol-comp-table-columnHeader ComponentCustomizeTableColumnHeaderColor">\n            <div class="psol-comp-table-corner">&nbsp;</div>\n          </th>\n        {{for columns}}\n          <th data-ztype="{{:ztype}}"\n              data-type="{{:type}}"\n              data-isexecutable="{{:isexecutable}}"\n              class="psol-comp-table-th psol-comp-table-columnHeader ComponentCustomizeTableColumnHeaderColor"\n          >\n            <div class="psol-comp-table-colheadercontainer">\n              {{if ~root.descMode && ~root.descMode !== false}}\n                  <div class="psol-comp-table-colname ComponentCustomizeTableColumnHeaderTextColor">\n                      {{:description}}\n                  </div>\n              {{else}}\n                  <div class="psol-comp-table-colheadercontent">\n                      <div class="psol-comp-table-colname ComponentCustomizeTableColumnHeaderTextColor">\n                      {{if image && image !== \'\'}}\n                        <div class="psol-comp-table-colimagecontainer">\n                          <img class="psol-comp-table-colimage lazy-image" alt="" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~root.imgbasepath}}?PreviewPath={{:image}}"/>\n                        </div>\n                      {{/if}}\n                      {{:name}}\n                      {{if unit_translated && unit_translated !== \'\'}}\n                        &nbsp;[{{:unit_translated}}]\n                      {{else unit && unit !== \'\'}}\n                        &nbsp;[{{:unit}}]\n                      {{/if}}\n                      </div>\n                      <div class="psol-comp-table-coldesc ComponentCustomizeTableColumnHeaderDescTextColor">\n                          {{:description}}\n                      </div>\n                  </div>\n              {{/if}}\n              <div class="psol-comp-table-colheaderinfo" data-toggled="{{:~colInfoToggled()}}">\n              </div>\n            </div>\n          </th>\n        {{/for}}\n      </tr>\n    </thead>\n\n    <tbody>\n    {{for rows}}\n      <tr>\n        {{if description !== \'\'}}\n          <th class="psol-comp-table-th psol-comp-table-th-rows psol-comp-table-selectrow psol-comp-table-rowheaderDescription psol-comp-table-rowHeaderCurrent ComponentCustomizeTableCurrentRowHeaderColor"\n              data-value="{{:rowindex}}"\n              {{if ~root.rowindex === rowindex}} data-current="true" {{/if}}\n          >\n            <div class="psol-comp-table-rowheadercontainer">\n              {{if ~root.rowindex === rowindex}}\n                <div class="psol-comp-table-collapse" data-wrapcolumns="{{:~wrapColumns()}}"></div>\n              {{/if}}\n              {{if eol}}\n                <div class="psol-comp-table-eol-icon {{if ~root.rowindex === rowindex}}psol-comp-table-eol-icon-collapse{{/if}}">\n                  {{:~getSVGIcon(eol.imagename)}}\n                </div>\n              {{/if}}\n                <div class="psol-comp-table-rowheadercell">\n                  <div class="psol-comp-table-rowheader psol-comp-table-rowheadercellRowDesc ComponentCustomizeTableCurrentRowDescColor">{{:description}}</div>\n                </div>\n                {{for icons}}\n                  <img class="psol-comp-table-row-status-icon lazy-image"\n                  src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~getErpIconUrl(path)}}" title="{{:text}}"/>\n                {{/for}}\n            </div>\n          </th>\n        {{else}}\n          <th class="psol-comp-table-th psol-comp-table-th-rows psol-comp-table-selectrow psol-comp-table-rowHeaderCurrent ComponentCustomizeTableCurrentRowHeaderColor"\n              data-value="{{:rowindex}}"\n              {{if ~root.rowindex === rowindex}} data-current="true" {{/if}}\n          >\n            <div class="psol-comp-table-rowheadercontainer">\n              {{if ~root.rowindex === rowindex}}\n                <div class="psol-comp-table-collapse" data-wrapcolumns="{{:~wrapColumns()}}"></div>\n              {{/if}}\n              <div class="psol-comp-table-rowheadercell">\n                {{if eol}}\n                  <div class="psol-comp-table-eol-icon {{if ~root.rowindex === rowindex}}psol-comp-table-eol-icon-collapse{{/if}}">\n                    {{:~getSVGIcon(eol.imagename)}}\n                  </div>\n                {{/if}}\n                <div class="psol-comp-table-rowheader psol-comp-table-rowheadercellRowID">{{:visiblerowindex}}</div>\n              </div>\n              {{for icons}}\n                <img class="psol-comp-table-row-status-icon lazy-image"\n                src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~getErpIconUrl(path)}}" title="{{:text}}"/>\n              {{/for}}\n            </div>\n          </th>\n        {{/if}}\n\n        {{for cells ~rowselected = (~root.rowindex === rowindex) ~internalRowIndex=#index}}\n          <td data-index="{{:#index}}"\n              data-name="{{:~root.columns[#index].name}}"\n              data-ztype="{{:~root.columns[#index].ztype}}"\n              data-type="{{:~root.columns[#index].type}}"\n              {{if ~root.columns[#index].type === \'MM_FW\'}}\n                data-fwtype="{{:~root.columns[#getIndex()].fwtype}}"\n              {{/if}}\n              data-datatype="{{:~root.columns[#index].datatype}}"\n              data-isexecutable="{{:~root.columns[#index].isexecutable}}"\n              data-value="{{:value_visible}}"\n              data-current="{{:~rowselected}}"\n              {{if ~tableERPEnabled() && ~root.columns[#getIndex()].columnbackcolor !== \'\' && ~root.columns[#getIndex()].isfromerp}}\n                style="background-color: {{:~erpBackgroundColor(~root.columns[#getIndex()].columnbackcolor, ~rowselected, ~internalRowIndex)}};"\n              {{/if}}\n          >\n            <div class="psol-comp-table-cellcontainer">\n              <div class="psol-comp-table-cellcontent\n                          {{if ~rowselected && ~root.columns[#index].type === \'MM_FW\'}}psol-comp-table-cellcontent-edit{{/if}}">\n                {{if image !== \'\'}}\n                  <img class="psol-comp-table-cellcontent-img lazy-image"\n                  src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~root.imgbasepath}}?PreviewPath={{:image}}&width=55&height=55&color=transparent" width="55" height="55" alt="{{>value_visible}}" />\n                {{/if}}\n                <div>\n                  {{if value_visible !== undefined && value_visible !== \'\'}}\n                    {{>value_visible}}\n                  {{else}}\n                    &nbsp;\n                  {{/if}}\n                </div>\n              </div>\n              {{if ~rowselected && ~root.columns[#index].type === \'MM_FW\'}}\n                <div class="psol-comp-table-editvar"></div>\n              {{/if}}\n            </div>\n          </td>\n        {{/for}}\n      </tr>\n    {{/for}}\n    </tbody>\n  </table>\n<\/script>\n\n<script id="tmpl-TableHorizontalMissingCols" type="text/x-jsrender">\n  <tr>\n\n    <td class="psol-comp-table-wrappedcoltd" colspan="{{:visCols}}">\n      <div class="psol-comp-table-wrappedcolscontainer">\n        <table class="psol-comp-table-wrappedcols-table">\n          <tbody>\n          {{for columns}}\n            <tr>\n              <th data-ztype="{{:ztype}}"\n                  data-type="{{:type}}"\n                  data-isexecutable="{{:isexecutable}}"\n                  data-current="true"\n                  class="psol-comp-table-th psol-comp-table-rowHeaderCurrent ComponentCustomizeTableCurrentRowHeaderColor"\n              >\n                <div class="psol-comp-table-missingcolscol">\n                  <div class="psol-comp-table-colname ComponentCustomizeTableColumnHeaderTextColor">\n                    {{if image && image != \'\'}}<img class="psol-comp-table-colimage lazy-image" alt=""\n                    src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~root.imgbasepath}}?PreviewPath={{:image}}"/>{{/if}}\n                    {{:name}}\n                    {{if unit_translated && unit_translated !== \'\'}}\n                      &nbsp;[{{:unit_translated}}]\n                    {{else unit && unit !== \'\'}}\n                      &nbsp;[{{:unit}}]\n                    {{/if}}\n                  </div>\n                  <div class="psol-comp-table-coldesc ComponentCustomizeTableColumnHeaderDescTextColor">\n                    {{:description}}\n                  </div>\n                </div>\n              </th>\n              <td data-index="{{:(#getIndex() + (~wrapAllColumns() ? 0 : ~root.visCols))}}"\n                  data-name="{{:name}}"\n                  data-ztype="{{:ztype}}"\n                  data-type="{{:type}}"\n                  {{if ~root.columns[#index].type === \'MM_FW\'}}\n                    data-fwtype="{{:~root.columns[#getIndex()].fwtype}}"\n                  {{/if}}\n                  data-datatype="{{:datatype}}"\n                  data-isexecutable="{{:isexecutable}}"\n                  data-value="{{:~root.cells[#index].value_visible}}"\n                  data-current="true"\n                  aria-label="{{:name}}"\n                  {{if ~tableERPEnabled() && ~root.columns[#index].columnbackcolor !== \'\' && ~root.columns[#getIndex()].isfromerp}}\n                    style="background-color: {{:~root.columns[#getIndex()].columnbackcolor}};"\n                  {{/if}}\n              >\n                <div class="psol-comp-table-cellcontainer">\n                  <div class="psol-comp-table-cellcontent\n                              {{if ~root.columns[#index].type === \'MM_FW\'}}psol-comp-table-cellcontent-edit{{/if}}">\n                    {{if ~root.cells[#getIndex()].image !== \'\'}}\n                      <img class="psol-comp-table-cellcontent-img lazy-image"\n                      src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAEALAAAAAABAAEAAAIBTAA7" data-src="{{:~root.imgbasepath}}?PreviewPath={{:~root.cells[#getIndex()].image}}&width=55&height=55&color=transparent" width="55" height="55" alt="{{>~root.cells[#getIndex()].value_visible}}"/>\n                    {{/if}}\n                    <div>\n                      {{if ~root.cells[#getIndex()].value_visible}}\n                        {{>~root.cells[#getIndex()].value_visible}}\n                      {{else}}\n                          &nbsp;\n                      {{/if}}\n                    </div>\n                  </div>\n                  {{if ~root.columns[#index].type === \'MM_FW\'}}\n                    <div class="psol-comp-table-editvar"></div>\n                  {{/if}}\n                </div>\n              </td>\n            </tr>\n          {{/for}}\n          </tbody>\n        </table>\n      </div>\n    </td>\n  </tr>\n<\/script>\n\n<script id="tmpl-TableVertical" type="text/x-jsrender">\n  <div class="psol-comp-table-scrollcontainer">\n  </div>\n<\/script>\n\n<script id="tmpl-TableVerticalData" type="text/x-jsrender">\n    <div class="psol-comp-table-list-container">\n        <div class="psol-comp-table-list-maintable">\n            {{if line.values === null}}\n                <div class="psol-comp-table-list-warning">\n                    {{:~zTR("Problem bei der Tabelle")}}\n                </div>\n            {{/if}}\n            {{if line.nr === \'-1\'}}\n                <div class="psol-comp-table-list-warning">\n                    {{:~zTR("Die von Ihnen geöffnete Tabelle enthält nur Zeilen, die nicht Ihrer aktuellen Vorzugsreihe entsprechen. Sie können die Vorzugsreihe deaktivieren, um alle Tabellenzeilen sichtbar zu machen.")}}                    \n                </div>\n            {{else}}\n                {{for line.values}}\n                    {{if isHidden === false}}\n                        {{include tmpl="tmpl-TableVerticalDataLine"/}}\n                    {{/if}}\n                {{/for}}\n            {{/if}}\n        </div>\n    </div>\n<\/script>\n\n\n<script id="tmpl-TableVerticalDataLine" type="text/x-jsrender">\n    <div data-variableindex="{{:#getIndex()}}" data-varname="{{:varname}}"\n     class="psol-comp-table-list-item\n            psol-comp-viewbase-flex-container\n            psol-comp-viewbase-flex-row\n            ComponentCustomizeTableColumnHeaderColor\n            psol-comp-viewbase-flex-align-vcenter\n            {{if ExecDocument !== \'\'}}\n                psol-comp-table-list-execfile\n            {{else status === \'fixed\' || status === \'finished\'}}\n                psol-comp-table-list-finishedFixed\n            {{else}}\n                {{if status === \'ranged\'}}\n                    psol-comp-table-list-editvar-{{:attr}}\n                {{/if}}\n                psol-comp-table-list-editvar\n            {{/if}}\n    "\n    {{if columnBackColor && ~useServerColors()}}\n        style="background-color: {{:columnBackColor}};"\n    {{/if}}\n    >\n\n        <div class="psol-comp-table-list-collapse-container\n                    psol-comp-viewbase-flex-container\n        ">\n            <div class="psol-comp-table-list-name-container\n            ">\n                <div class="psol-comp-table-list-padding">\n                    {{if ~isHeaderDescModeEnabled() === false || desc.length === 0}}\n                        <div class="psol-comp-table-list-varName psol-comp-viewbase-flex-item">\n                            {{:varname}}\n                        </div>\n                    {{/if}}\n                    <div class="psol-comp-table-list-varDesc\n                                psol-comp-viewbase-flex-item\n                                {{if ~isHeaderDescModeEnabled()}}psol-comp-table-list-header-desc-mode{{/if}}\n                    ">\n                        {{:desc}}{{if Unit}} [{{:Unit}}]{{/if}}\n                    </div>\n                </div>\n            </div>\n\n            <div class="psol-comp-table-list-value-container\n                        psol-comp-viewbase-flex-container\n                        psol-comp-viewbase-flex-row\n            ">\n                {{if isImageVariable}}\n                    <div class="psol-comp-table-list-valueImage" style="background-image: url({{:~root.imgbasepath}}/?PreviewPath={{:currentImagePath}}&color=transparent)"></div>\n                    <div class="psol-comp-table-list-value">{{:resolvedVal}}</div>\n                {{else}}\n                    <div class="psol-comp-table-list-value no-img">{{:resolvedVal}}</div>\n                {{/if}}\n            </div>\n        </div>\n\n        <div class="psol-comp-table-list-value-options-container\n                    psol-comp-viewbase-flex-container\n        ">\n            <div class="psol-comp-table-list-value-options">\n                {{if buttonstate !== "" && ~shouldShowOptionsButton(varname)}}\n                    <div class="psol-comp-table-list-value-options-content">\n                        {{if buttonstate  === \'lockable\'}}\n                            {{:~getSVGIcon(\'table_state_locked\')}}\n                        {{else buttonstate  === \'locked\'}}\n                            {{:~getSVGIcon(\'table_locked\')}}\n                        {{else buttonstate  === \'onevalue\'}}\n                            {{:~getSVGIcon(\'table_state_greenone\')}}\n                        {{else buttonstate  === \'editable\'}}\n                            {{:~getSVGIcon(\'table_edit\')}}\n                        {{else}}\n                            {{:~getSVGIcon(buttonstate)}}\n                        {{/if}}\n                    </div>\n                {{/if}}\n            </div>\n        </div>\n    </div>\n<\/script>\n\n\n<script id="tmpl-VRcontrol" type="text/x-jsrender">\r\n\r\n  <div class="psol-comp-vrcontrol">\r\n\r\n    \x3c!-- Left side --\x3e\r\n    <div class="psol-comp-vrcontrol-left">\r\n      <div class="psol-comp-vrcontrol-left-shifter">\r\n        <div class="psol-comp-vrcontrol-controlElementContainer psol-comp-vrcontrol-left-controlElementContainer">\r\n        </div>\r\n        <div class="psol-comp-vrcontrol-cursor psol-comp-vrcontrol-left-cursor">\r\n          <div class="psol-comp-vrcontrol-cursorMiddle psol-comp-vrcontrol-left-cursorMiddle"></div>\r\n          <div class="psol-comp-vrcontrol-cursoractivation psol-comp-vrcontrol-left-cursoractivation"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n\r\n    \x3c!-- Right side --\x3e\r\n    <div class="psol-comp-vrcontrol-right">\r\n      <div class="psol-comp-vrcontrol-right-shifter">\r\n        <div class="psol-comp-vrcontrol-controlElementContainer psol-comp-vrcontrol-right-controlElementContainer">\r\n        </div>\r\n        <div class="psol-comp-vrcontrol-cursor psol-comp-vrcontrol-right-cursor">\r\n          <div class="psol-comp-vrcontrol-cursorMiddle psol-comp-vrcontrol-right-cursorMiddle"></div>\r\n          <div class="psol-comp-vrcontrol-cursoractivation psol-comp-vrcontrol-right-cursoractivation"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n\r\n<\/script>\r\n\r\n<script id="tmpl-VRcontrol-controlElement" type="text/x-jsrender">\r\n\r\n<div class="psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 ComponentCustomizeViewBaseIconButtonSize psol-comp-viewbase-circle psol-comp-viewbase-action psol-comp-viewbase-pull-left\r\n              {{if ~actionHasState(name, \'visible\')}}\r\n                psol-comp-viewbase-action-State-visible\r\n              {{/if}}\r\n              psol-comp-vrcontrol-controlElement psol-comp-vrcontrol-{{:side}}-controlElement\r\n              "\r\n              data-action="{{:name}}"\r\n              title="{{>text}}"\r\n              style="background-image: url({{:~actionImage(name)}});">\r\n</div>\r\n\r\n<\/script>\r\n\n<script id="tmpl-WebViewer2D" type="text/x-jsrender">\n\n    <div class="psol-comp-webviewer2d-container">\n        <div class="psol-comp-webviewer2d-content">\n            <div class="psol-comp-webviewer2d-selectionContainer psol-comp-viewbase-flex-item">\n                <select class="psol-comp-webviewer2d-selection"></select>\n            </div>\n            <div class="psol-comp-webviewer2d-render-area psol-comp-viewbase-flex-item">\n                <canvas id="psol-comp-webviewer2d-canvascontainer"></canvas>\n                <div class="psol-comp-webviewer2d-svgcontainer"></div>\n            </div>\n            <div class="ComponentCustomizeWebViewer2DFavoriteButtonsBarContainer psol-comp-viewbase-flex-item"></div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-WebViewer2D-options" type="text/x-jsrender">\n    {{for #data}}\n        <option value="{{:#getIndex()}}">\n            {{if desc}}\n              {{:desc}}\n            {{else}}\n              {{:name}}\n            {{/if}}\n        </option>\n    {{/for}}\n<\/script>\n\n<script id="tmpl-WebViewer2DHelp" type="text/x-jsrender">\n    <div class="psol-comp-webviewer2d-helpcontainer">\n        <div class="psol-comp-webviewer2d-button-container">\n        <h2 class="psol-comp-webviewer2d-buttonheadline">{{:~zTR(\'Schaltflächenleiste\')}}</h2>\n\n            {{for favoriteActions}}\n                {{if ~actionHasState(name, \'visible\')}}\n                    {{include tmpl="tmpl-WebViewer2DHelpItem"/}}\n                {{/if}}\n            {{/for}}\n        </div>\n        <div class="psol-comp-webviewer2d-gesturecontainer">\n            <h2 class="psol-comp-webviewer2d-gesture-headline">{{:~zTR(\'Gestensteuerung 2D Maßskizze\')}}</h2>\n            <div class="psol-comp-webviewer2d-helpgesture">\n                <h3 class="psol-comp-webviewer2d-gesture-subheadline">{{:~zTR(\'Bewegen\')}}</h3>\n                <div class="psol-comp-webviewer2d-helpimage psol-comp-webviewer2d-helpmove"></div>\n                <p>{{:~zTR(\'Wischen Sie mit einem Finger über den Bildschirm, um die 2D Maßskizze in die gewünschte Richtung zu bewegen.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer2d-helpgesture">\n                <h3 class="psol-comp-webviewer2d-gesture-subheadline">{{:~zTR(\'Zoomen\')}}</h3>\n                <div class="psol-comp-webviewer2d-helpimage psol-comp-webviewer2d-helpzoom"></div>\n                <p>{{:~zTR(\'Um in die Maßskizze hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu. Um aus der Maßskizze heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer2d-helpgesture">\n                <h3 class="psol-comp-webviewer2d-gesture-subheadline">{{:~zTR(\'Ansicht zentrieren und Zoomfaktor anpassen\')}}</h3>\n                <div class="psol-comp-webviewer2d-helpimage psol-comp-webviewer2d-helptap"></div>\n                <p>{{:~zTR(\'Wenn Sie den Bildschirm doppelt antippen, wird die Maßskizze wieder zentriert und an die Bildschirmgröße angepasst.\')}}</p>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n\n<script id="tmpl-WebViewer2DHelpItem" type="text/x-jsrender">\n    <div class="psol-comp-webviewer2d-help-item psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row psol-comp-viewbase-flex-align-vcenter">\n        <div class="psol-comp-webviewer2d-help-image psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 psol-comp-viewbase-circle">\n          {{:~getSVGIcon(aliases.default||name)}}\n        </div>\n        <div class="psol-comp-webviewer2d-help-text">\n            {{if description && description !== \'\'}}\n                {{:description}}\n            {{else}}\n                {{:text}}\n            {{/if}}\n        </div>\n    </div>\n<\/script>\n<script id="tmpl-WebViewer3D" type="text/x-jsrender">\n  <div class="psol-comp-webviewer3d-container">\n    <div class="psol-comp-webviewer3d-camerabackcontainer"></div>\n    <div class="psol-comp-webviewer3d-webgl-container"></div>\n    <div class="psol-comp-webviewer3d-vrcontrol-container"></div>\n    <div class="psol-comp-webviewer3d-drawingcontainer"></div>\n  </div>\n<\/script>\n\n<script id="tmpl-WebViewer3D-webgl" type="text/x-jsrender">\n  <div class="psol-comp-webviewer3d-webgl">\n    <div class="psol-comp-webviewer3d-webgl-hotspotcontainer"></div>\n    <div class="psol-comp-webviewer3d-webgl-tooltipcontainer"></div>\n\n    <div class="ComponentCustomizeWebViewer3DFavoriteButtonsBarContainer"></div>\n    <div class="ComponentCustomizeWebViewer3DRadialMenuContainer"></div>\n  </div>\n<\/script>\n\n<script id="tmpl-WebViewer3D-animgif" type="text/x-jsrender">\n  <div class="psol-comp-webviewer3d-animgif">\n  </div>\n<\/script>\n\n<script id="tmpl-webViewer3DchooseEnv" type="text/x-jsrender">\n\n  <div class="psol-comp-webViewer3DchooseEnv-fixresizeprob">\n    <div class="psol-comp-webViewer3DchooseEnv-content">\n    {{props data}}\n      <div class="psol-comp-webViewer3DchooseEnv-dropdowncontainer">\n        <div class="psol-comp-webViewer3DchooseEnv-dropdownTitle">{{:prop.name}}</div>\n        <select class="psol-comp-webViewer3DchooseEnv-select" name="{{:key}}" aria-label="{{:key}}">\n          <option value="">-----</option>\n          {{if ~active=prop.active}}\n            {{for prop.data}}\n              <option value="{{:id}}" {{if ~active === id}}selected{{/if}}>{{>name}}</option>\n            {{/for}}\n          {{/if}}\n        </select>\n      </div>\n    {{/props}}\n    </div>\n  </div>\n<\/script>\n\n<script id="tmpl-WebViewer3DHelp" type="text/x-jsrender">\n    <div class="psol-comp-webviewer3d-helpcontainer">\n        <div class="psol-comp-webviewer3d-button-container">\n\n            <h2 class="psol-comp-webviewer3d-buttonheadline">{{:~zTR(\'Schaltflächenleiste\')}}</h2>\n            {{for favoriteActions}}\n                {{if ~actionHasState(name, \'visible\')}}\n                    {{include tmpl="tmpl-WebViewer3DHelpItem"/}}\n                {{/if}}\n            {{/for}}\n\n\n            <h2 class="psol-comp-webviewer3d-buttonheadline">{{:~zTR(\'Radialmenü\')}}</h2>\n            {{for radialMenuActions}}\n                <h3 class="psol-comp-webviewer3d-header">\n                    {{if description && description !== \'\'}}\n                        {{:description}}\n                    {{else}}\n                        {{:text}}\n                    {{/if}}\n                </h3>\n                {{for subActions}}\n                    {{if ~actionHasState(name, \'visible\')}}\n                        {{include tmpl="tmpl-WebViewer3DHelpItem"/}}\n                    {{/if}}\n                {{/for}}\n            {{/for}}\n        </div>\n\n        <div class="psol-comp-webviewer3d-gesturecontainer">\n            <h2 class="psol-comp-webviewer3d-gesture-headline">{{:~zTR(\'Gestensteuerung 3D Viewer\')}}</h2>\n            <div class="psol-comp-webviewer3d-helpgesture">\n                <h3 class="psol-comp-webviewer3d-gesture-subheadline">{{:~zTR(\'Rotation mit einem Finger\')}}</h3>\n                <div class="psol-comp-webviewer3d-helpimage psol-comp-webviewer3d-gesturesrotationone"></div>\n                <p>{{:~zTR(\'Wischen Sie mit dem Finger über den Bildschirm, um das 3D CAD Modell um seine X- oder Y-Achse zu drehen.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer3d-helpgesture">\n                <h3 class="psol-comp-webviewer3d-gesture-subheadline">{{:~zTR(\'Rotation mit zwei Fingern\')}}</h3>\n                <div class="psol-comp-webviewer3d-helpimage psol-comp-webviewer3d-gesturesrotationtwo"></div>\n                <p>{{:~zTR(\'Durch Berühren des CAD Modells mit zwei Fingern und anschließender Drehbewegung führen Sie eine Rotation des CAD Modells um die Z-Achse aus.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer3d-helpgesture">\n                <h3 class="psol-comp-webviewer3d-gesture-subheadline">{{:~zTR(\'Zoomen\')}}</h3>\n                <div class="psol-comp-webviewer3d-helpimage psol-comp-webviewer3d-gestureszoom"></div>\n                <p>{{:~zTR(\'Um in das CAD Model hinein zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger auseinander. Um aus dem CAD Modell heraus zu zoomen, berühren Sie den Bildschirm an zwei Punkten und bewegen Sie Ihre Finger aufeinander zu.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer3d-helpgesture">\n                <h3 class="psol-comp-webviewer3d-gesture-subheadline">{{:~zTR(\'Verschieben mit zwei Fingern\')}}</h3>\n                <div class="psol-comp-webviewer3d-helpimage psol-comp-webviewer3d-gesturesmove"></div>\n                <p>{{:~zTR(\'Um das 3D CAD Modell auf dem Bildschirm zu verschieben, berühren Sie das CAD Modell mit zwei Fingern und ziehen Sie beide Finger in die gewünschte Richtung.\')}}</p>\n            </div>\n            <div class="psol-comp-webviewer3d-helpgesture">\n                <h3 class="psol-comp-webviewer3d-gesture-subheadline">{{:~zTR(\'Ansicht zentrieren und Zoomfaktor anpassen\')}}</h3>\n                <div class="psol-comp-webviewer3d-helpimage psol-comp-webviewer3d-gesturestap"></div>\n                <p>{{:~zTR(\'Wenn Sie den Bildschirm doppelt antippen, wird das CAD Modell zentriert und an die Bildschirmgröße angepasst.\')}}</p>\n            </div>\n        </div>\n    </div>\n<\/script>\n\n<script id="tmpl-WebViewer3DHelpItem" type="text/x-jsrender">\n    <div class="psol-comp-webviewer3d-help-item psol-comp-viewbase-flex-container psol-comp-viewbase-flex-row psol-comp-viewbase-flex-align-vcenter">\n        <div class="psol-comp-webviewer3d-help-image psol-comp-viewbase-iconbutton psol-comp-viewbase-iconbutton-44 psol-comp-viewbase-circle">\n          {{:~getSVGIcon(aliases.default||name)}}\n        </div>\n        <div class="psol-comp-webviewer3d-help-text">\n            {{if description && description !== \'\'}}\n                {{:description}}\n            {{else}}\n                {{:text}}\n            {{/if}}\n        </div>\n    </div>\n<\/script>\n'},{}],4:[function(e,t,n){"use strict";var i=e("inherits"),o=e("viewBase/js/viewBase").ViewBase,r=e("psol.index"),s=e("base/js/helpers"),a=e("psol.core"),l=e("psol.translation"),c=e("base/js/logger"),p=e("sliderTableVar/js/sliderTableVar").SliderTableVar,d=e("sliderBase/js/sliderBase").SliderBase,h=jQuery;function u(e){var t={parentAutoHeight:void 0};u.super_.call(this,e,t),this._props.path="",this._props.useRetinaImages=!1,this._props.tableData={},this._props.techViews={},this._props.indexNode={},this._props.search={multiOriginVars:{},lists:{},ranges:{}},this._props._jsrenderHelpers.translate=function(e,t){var n=a.getLanguage();return"string"==typeof e?l.tr(e):e[n]?""!==e[n]?e[n]+" ["+t+"]":t:e.english||t},this._props._jsrenderHelpers.getImagePath=function(e){return a.getServiceBaseUrl()+"/23d-libs/"+e},this._props._jsrenderHelpers.getTechviewPath=function(e){return a.getServiceBaseUrl()+e},this._props._jsrenderHelpers.getIndexNode=function(){return this._props.indexNode}.bind(this),this._sliders=[]}i(u,o),u.prototype._componentName="Assistant",u.prototype._onSearchClicked=function(e){e.data=this.getSearchObj(),this.onSearchClicked.call(e,e)},u.prototype._onResetClicked=function(e){e.data=this._props.path,this.onResetClicked.call(e,e)},u.prototype._onTechViewNavClicked=function(e){var t=h(e.currentTarget),n=t.data("direction"),i=this._$el.find(".psol-comp-assistant-tv-list"),o=parseInt(i.data("current"),10)||0,r=this._props.techViews.views,s=i.width()*o*-1;if("next"===n){if(o++,i.find(".psol-comp-assistant-tv-item").length<r.length){i.append(this._render("tmpl-AssistantTechviewsItem",r[o]));var a=this._$el.find(".psol-comp-assistant-tv-list-container");this._$el.find(".psol-comp-assistant-tv-img-box").width(a.outerWidth(!0)),this._$el.find(".psol-comp-assistant-tv-img-box").height(a.outerHeight(!0))}s-=i.width(),i.css({left:s}),i.data("current",o),o===r.length-1&&(t.css({opacity:0}),t.one("transitionend",function(){h(e.currentTarget).css({visibility:"hidden"})})),this._$el.find(".psol-comp-assistant-tv-nav-icon-back").css({opacity:1,visibility:"visible"})}else o--,s+=i.width(),i.css({left:s}),i.data("current",o),0===o&&(t.css({opacity:0}),t.one("transitionend",function(){h(e.currentTarget).css({visibility:"hidden"})})),this._$el.find(".psol-comp-assistant-tv-nav-icon-next").css({opacity:1,visibility:"visible"});this._$el.find(".psol-comp-assistant-tv-item-name").html(r[o].name),this._$el.find(".psol-comp-assistant-tv-counter-sel").removeClass("psol-comp-assistant-tv-counter-sel"),h(this._$el.find(".psol-comp-assistant-tv-counter").get(o)).addClass("psol-comp-assistant-tv-counter-sel")},u.prototype._getSortedValues=function(e,t){var n,i=[];for(n in e)if(e.hasOwnProperty(n)&&(!e[n].isHidden||t&&e[n].isHidden)){if(e.CNSVERSION&&parseInt(e.CNSVERSION.current.split("."),10)>=10)try{e[n].current=JSON.parse(e[n].current)}catch(t){c.error(t),e[n].current={name:n,values:l.zTR("Tabellendaten ungültig!")}}i.push(h.extend({},e[n],{name:n}))}return i.sort(function(e,t){return e.order>t.order?1:e.order<t.order?-1:0})},u.prototype._showTechView=function(){this._$el.find(".psol-comp-assistant-tv-container").append(this._render("tmpl-AssistantTechviewsContent",this._props.techViews))},u.prototype._insertTechViews=function(){var e=this._props.techViews,t=this._$el.find(".psol-comp-assistant-tv-container");t.empty(),e.error||!e.views?t.remove():(t.html(this._render("tmpl-AssistantTechviews",e)),this._$el.find(".psol-comp-assistant-tv-img").data("views",[]))},u.prototype._setContentHeight=function(){if(this._props.parentAutoHeight)this._$el.css("height","auto");else{var e=this._$el.find(".psol-comp-assistant-content"),t=this._$el.innerHeight()-(this._$el.find(".psol-comp-assistant-header").outerHeight(!0)+this._$el.find(".psol-comp-assistant-footer").outerHeight(!0));e.height(t),t=e.innerHeight()-this._$el.find(".psol-comp-assistant-tv-container").outerHeight(!0),this._$el.find(".psol-comp-assistant-scroll-container").height(t)}},u.prototype._renderAssistantFrame=function(){var e=this._props.tableData;this._$el.find(".psol-comp-assistant-header").html(this._render("tmpl-AssistantHeader",e)),"CALC"!==this._props.indexNode.asstype&&this._$el.find(".psol-comp-assistant-footer").html(this._render("tmpl-AssistantFooter"))},u.prototype._renderAssistant=function(){var e,t,n,i=this._props.tableData,o=i.line.values.RESULTCOL?i.line.values.RESULTCOL.resolvedVal.split(","):void 0,r=this._props.indexNode.asstype,a=this._$el.find(".psol-comp-assistant-scroll-container"),l=["CNSVERSION","SEARCHPATH","SEARCHQUERY","SEARCH"];for(n=0;n<this._sliders.length;++n)this._sliders[n].destroy(),this._sliders[n]=null;if(this._sliders.length=0,this._insertTechViews(),this._setContentHeight(),o)for(t=[],n=0;n<o.length;n++)(e=i.line.values[o[n]])&&(e.isHidden=!0,t.push(e));for(n=0;n<l.length;n++)l[n]in i.line.values&&(i.line.values[l[n]].isHidden=!0);if("FILTER_SEARCH"===r){var c=this._getSortedValues(i.line.values),u="tmpl-AssistantTableItemFilter";if("CNSVERSION"in i.line.values&&parseInt(i.line.values.CNSVERSION.current.split(".")[0],10)<10)a.html(this._render(u+"V9",c));else for(a.empty(),n=0;n<c.length;n++)"string"==typeof c[n].current?a.append(this._render(u+"V9",c[n])):(this._props.search.multiOriginVars[c[n].name]=c[n].current,a.append(this._render(u,c[n].current)))}else a.html(this._render("tmpl-AssistantTableItem",this._getSortedValues(i.line.values))),o&&a.append(this._render("tmpl-AssistantResultItem",t));var m,f,g,_=function(e,t){e.onFinish=function(){this._sliderFinish(e,t)}.bind(this)}.bind(this),v=this._$el.find(".psol-comp-assistant-slider");if("FILTER_SEARCH"!==r)for(n=0;n<v.length;++n)f=h(v[n]).data(),g=i.line.values[f.variable],_(m=new p({$container:h(v[n]),variableData:g,precision:void 0!==g.prec?g.prec:void 0,unit:g.Unit}),f.variable),m.show(),this._sliders.push(m);else for(n=0;n<v.length;++n){f=h(v[n]).data();var b=this._props.search.multiOriginVars[f.variable].values,w=s.getPrecisionHacky(b[0]),y=s.getPrecisionHacky(b[1]),x=w>=y?Math.pow(10,-w):Math.pow(10,-y);_(m=new d({$container:h(v[n]),input_position:d.INPUT_POSITION.BOTH,min:b[0],max:b[1],step:x}),f.variable),m.show(),this._sliders.push(m)}},u.prototype._updateSearchRanges=function(e,t,n){var i={};i.min=e,i.max=t,this._props.search.ranges[n]=i},u.prototype._sliderFinish=function(e,t){if("FILTER_SEARCH"===this._props.indexNode.asstype){var n=e.getCurrentValues();this._updateSearchRanges(n.from,n.to,t)}else{var i=e.getCurrentValue(),o=s.getPrecisionHacky(i),r=1/Math.pow(10,o);if(0!==s.compare(i,this._props.tableData.line.values[t].current,r)){var a={varsettransfer:this._props.tableData.varsettransfer,changevar:t,changeval:i};this._getTableData(a).done(function(e){this._renderAssistant(e,this._props.techViews)}.bind(this))}}},u.prototype._viewEvents=function(){return{"click; .psol-comp-assistant-search":function(e){u.prototype._onSearchClicked.call(this,e)}.bind(this),"click; .psol-comp-assistant-reset":function(e){u.prototype._onResetClicked.call(this,e)}.bind(this),"click; .psol-comp-assistant-tv-nav-icon":function(e){u.prototype._onTechViewNavClicked.call(this,e)}.bind(this),"click; .psol-comp-assistant-tv-header":function(e){var t=h(e.currentTarget);if(t.data("isexpanded"))this._$el.find(".psol-comp-assistant-tv-content").hide(0),this._$el.find(".psol-comp-assistant-tv-container").css("height",""),t.removeClass("psol-comp-assistant-tv-icon-expanded"),t.data("isexpanded",!1);else{var n=this._$el.find(".psol-comp-assistant-header").outerHeight(!0)+this._$el.find(".psol-comp-assistant-content").outerHeight(!0);this._$el.find(".psol-comp-assistant-tv-container").height(n),t.addClass("psol-comp-assistant-tv-icon-expanded"),t.data("isexpanded",!0),0===this._$el.find(".psol-comp-assistant-tv-content").length?this._showTechView():this._$el.find(".psol-comp-assistant-tv-content").show(0);var i=this._$el.find(".psol-comp-assistant-tv-list-container");i.height(n-this._$el.find(".psol-comp-assistant-tv-nav").outerHeight(!0)-this._$el.find(".psol-comp-assistant-tv-header").outerHeight(!0)-15),this._$el.find(".psol-comp-assistant-tv-img-box").width(i.outerWidth(!0)),this._$el.find(".psol-comp-assistant-tv-img-box").height(i.outerHeight(!0))}}.bind(this),"change; .psol-comp-assistant-list":function(e){var t=h(e.currentTarget),n={varsettransfer:this._props.tableData.varsettransfer,changevar:t.data("select-id"),changeval:t.val()};n.changevar&&this._getTableData(n).done(function(e){this._renderAssistant(e,this._props.techViews)}.bind(this))}.bind(this),"change; .psol-comp-assistant-select-all-checkbox":function(e){var t=h(e.currentTarget),n=t.prop("checked"),i=t.data("attr"),o=t.parent().siblings(".psol-comp-assistant-list"),r=o.find("input[type=checkbox]"),s={values:[],operator:o.siblings('.psol-comp-assistant-and-or[data-attr="'+i+'"]').val()||"OR"};r.each(function(){h(this).prop("checked",n),n&&s.values.push(h(this).val())}),this._props.search.lists[i]=s}.bind(this),"change; .psol-comp-assistant-list-checkbox":function(e){var t=h(e.currentTarget),n=t.data("attr"),i=t.parents(".psol-comp-assistant-list"),o=i.find("input[type=checkbox]:checked"),r={values:[],operator:i.siblings('.psol-comp-assistant-and-or[data-attr="'+n+'"]').val()||"OR"};o.each(function(){r.values.push(h(this).val())}),this._props.search.lists[n]=r}.bind(this),"change; .psol-comp-assistant-and-or":function(e){var t=h(e.currentTarget).val()||"OR",n=h(e.currentTarget).data("attr");this._props.search.lists[n]||(this._props.search.lists[n]={values:[]}),this._props.search.lists[n].operator=t}.bind(this)}},u.prototype._viewDestroy=function(){var e;for(e=0;e<this._sliders.length;++e)this._sliders[e].destroy(),this._sliders[e]=null;this._sliders.length=0,u.super_.prototype._viewDestroy.call(this)},u.prototype._getTableData=function(e){var t=h.Deferred();return r.getTableInfoAsync(h.extend({path:this._props.path,showall:!0,showma:!0,showerp:!1,language:this._props.language||a.getLanguage()},e)).done(function(e){var n=e.index;this._props.tableData=n,t.resolve(n)}.bind(this)).fail(function(){t.reject()}),t},u.prototype._getIndexNodeFromPrjPath=function(e){var t=e.substr(0,e.search(/\/[^/]*\.prj$/)),n=h.Deferred();return r.getNodeInfoAsync({path:t,includeAssistants:!0}).done(function(t){var i,o=t.index.nodes;if(o)for(i=0;i<o.length;i++)if(o[i].path===e)return void n.resolve(o[i]);n.reject()}).fail(function(){n.reject()}),n.promise()},u.prototype._resizeContainer=function(){if(u.super_.prototype._resizeContainer.call(this),this._setContentHeight(),this._$el.find(".psol-comp-assistant-tv-header").data("isexpanded")){var e=this._$el.find(".psol-comp-assistant-header").outerHeight(!0)+this._$el.find(".psol-comp-assistant-content").outerHeight(!0);this._$el.find(".psol-comp-assistant-tv-container").height(e);var t=this._$el.find(".psol-comp-assistant-tv-list-container");t.height(e-this._$el.find(".psol-comp-assistant-tv-nav").outerHeight(!0)-this._$el.find(".psol-comp-assistant-tv-header").outerHeight(!0)),this._$el.find(".psol-comp-assistant-tv-img-box").width(t.outerWidth(!0)),this._$el.find(".psol-comp-assistant-tv-img-box").height(t.outerHeight(!0))}var n=this._$el.find(".psol-comp-assistant-tv-list"),i=parseInt(n.data("current"),10)||0,o=n.width()*i*-1;n.css({left:o})},u.prototype.onSearchClicked=function(){},u.prototype.onResetClicked=function(){},u.prototype.loadByPath=function(e){var t=h.Deferred(),n=window.location.search.match(/language=[^&]*/);this._props.path=e,n&&a.setLanguage(n[0].split("=")[1]);var i=function(){var t=h.Deferred();return this._getTableData().done(function(n){n&&n.line?r.getTechViewsAsync({path:e}).done(function(e){this._props.techViews=e,t.resolve({index:n,techviews:e})}.bind(this)):t.reject()}.bind(this)).fail(function(){this._$el.find(".psol-comp-assistant-scroll-container").html(l.zTR("Tabelle konnte nicht geladen werden.")),t.reject()}.bind(this)),t.promise()}.bind(this);return this._props.indexNode&&this._props.indexNode.path===e?i().done(function(){this._renderAssistantFrame(),this._renderAssistant()}.bind(this)):(this._getIndexNodeFromPrjPath(e).done(function(e){this._props.indexNode=e,i().done(function(e){this._renderAssistantFrame(),this._renderAssistant(),t.resolve(e)}.bind(this)).fail(function(){t.reject()})}.bind(this)).fail(function(){t.reject()}),t.promise())},u.prototype.loadByIndexNode=function(e){return e.asstype&&(this._props.indexNode=e),this.loadByPath(e.path).done(function(){})},u.prototype.getSearchObj=function(e){var t={query:this._props.search.searchQuery||"",paths:this._props.search.catalogs||""};if(this._props.indexNode&&this._props.tableData){var n=this._props.tableData.line.values,i=this._props.indexNode.asstype;if("CALC_SEARCH"===i)t.query=n.SEARCH?n.SEARCH.resolvedVal:"",t.paths=n.SEARCHPATH?n.SEARCHPATH.resolvedVal.split(","):[a.getFirmByPath(this._props.path)];else if("FILTER_SEARCH"===i){var o,r,s,l,c,p,d,h=this._props.search.ranges,u=this._props.search.lists,m=this._props.search.multiOriginVars;if(t.query=n.SEARCHQUERY?n.SEARCHQUERY.resolvedVal:"",t.paths=n.SEARCHPATH?n.SEARCHPATH.resolvedVal.split(","):[a.getFirmByPath(this._props.path)],u)for(r in u)if(u.hasOwnProperty(r)&&u[r].values.length>0)if("CNS_CATALOG"===r)t.paths=u[r].values;else if("CNS_NN"===r||"CNS_NT"===r)t.query+=' AND ("'+u[r].values.join('" '+u[r].operator+' "')+'")';else if(m[r]){for(c=m[r].variables,d=[],s=0;s<u[r].values.length;s++){for(p=[],l=0;l<c.length;l++)p.push('(catalog="'+c[l].catname+'" AND '+c[l].varname+' = "'+u[r].values[s]+'")');d.push("("+p.join(" OR ")+")")}t.query+=" AND ("+d.join(" "+u[r].operator+" ")+")"}else t.query+=" AND ("+r+' = "'+u[r].values.join('" '+u[r].operator+" "+r+' = "')+'")';if(h)for(o in h)if(h.hasOwnProperty(o)){if(h[o].min)if(m[o]){for(c=m[o].variables,p=[],s=0;s<c.length;s++)p.push('(catalog="'+c[s].catname+'" AND '+c[s].varname+" >= "+h[o].min+")");t.query+=" AND ("+p.join(" OR ")+")"}else t.query+=" AND ("+o+" >= "+h[o].min+")";if(h[o].max)if(m[o]){for(c=m[o].variables,p=[],s=0;s<c.length;s++)p.push('(catalog="'+c[s].catname+'" AND '+c[s].varname+" <= "+h[o].max+")");t.query+=" AND ("+p.join(" OR ")+")"}else t.query+=" AND ("+o+" <= "+h[o].max+")"}""===t.paths&&(t.paths=this._props.tableData.line.values.SEARCHPATH.current.split(","))}}return e&&e(t),t},t.exports=u},{"base/js/helpers":7,"base/js/logger":8,inherits:208,"psol.core":196,"psol.index":200,"psol.translation":207,"sliderBase/js/sliderBase":42,"sliderTableVar/js/sliderTableVar":44,"viewBase/js/viewBase":58}],5:[function(e,t,n){"use strict";var i=jQuery;function o(e,t){this._props={},e&&i.extend(!0,this._props,t,e)}e("base/js/globals"),e("base/js/version"),o.prototype._init=function(){},o.prototype.props=function(){return i.extend(!0,{},this._props)},o.prototype.updateSettings=function(e){e=e||{},i.extend(!0,this._props,e)},t.exports=o},{"base/js/globals":6,"base/js/version":10}],6:[function(e,t,n){"use strict";var i=e("base/js/logger");function o(){}var r="";o.setApiPath=function(e){r=e,i.warn("Globals.setApiPath is deprecated and no longer needed")},o.getApiPath=function(){if(!r||""===r){for(var e=document.getElementsByTagName("script"),t=0;t<e.length;++t){var n=e[t].src;if(-1!==n.indexOf("psol.components")){var o=n.lastIndexOf("js/");r=n.substring(0,o);break}}r&&""!==r||i.warn("Api path could not be detected, please use Globals.setApiPath")}return r},t.exports=o},{"base/js/logger":8}],7:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.math");e("buildinimgresource.js");var r=window.psolResources||{};function s(){}window.psolResources=r,s.capitalize=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},s.compareObject=function(e,t){var n,i,o=!0;if(void 0===e||null===e||void 0===t||null===t||"boolean"==typeof e||"boolean"==typeof t)return e===t;if(e.constructor!==t.constructor||"object"==typeof e&&Object.keys(e).length!==Object.keys(t).length)return!1;if("object"==typeof e&&0===Object.keys(e).length||"string"==typeof e||"number"==typeof e)return e instanceof Object||0===s.compare(e,t);if(e instanceof Array)for(i=0;i<e.length&&(o=e[i]instanceof Object&&t[i]instanceof Object?s.compareObject(e[i],t[i]):0===s.compare(e[i],t[i]));i++);else if("Object"===e.constructor.name)for(n in e)if(e.hasOwnProperty(n)){if(!t.hasOwnProperty(n))return!1;if(!(o=e[n]instanceof Object&&t[n]instanceof Object?s.compareObject(e[n],t[n]):0===s.compare(e[n],t[n])))break}return o},s.compare=function(e,t,n){return isNaN(e)||isNaN(t)?e===t?0:e<t?-1:1:o.compareFloatingNumbers(e,t,n)},s.injectScript=function(e,t,n){var o,r=new i.Deferred,s=e.getElementsByTagName("script")[0];return e.getElementById(n)?r.resolve():((o=e.createElement("script")).id=n,o.onload=function(){r.resolve()},o.src=t,s.parentNode.insertBefore(o,s),r.promise())},s.getResourceUrl=function(e,t,n){if(!0===r.exists){var i=e.replace(/^.*img/,"img");if(r.hasOwnProperty(i))return void 0!==t&&t(r[i],!0,n),r[i]}return void 0!==t&&t(e,!1),e},s.applyReosurcesToCSS=function(){if(!0===r.exists){var e,t,n,i,o=null,s=function(e,t,n){!0===t&&(n.style.backgroundImage='url("'+e+'")')};for(e=0;e<document.styleSheets.length;e++)for(o=document.styleSheets[e],t=0;t<o.cssRules.length;t++)void 0!==(n=o.cssRules[t]).style&&void 0!==n.style.backgroundImage&&(i=(i=n.style.backgroundImage).replace(/\"|\)/g,""),this.getResourceUrl(i,s,n))}},s.getPrecisionHacky=function(e){var t=(""+e).split(".");return t.length>1?t[1].length:0},s.checkForClass=function(e,t){for(var n=t.split("."),i=window,o=0;o<n.length;o++)i&&(i=i[n[o]]);if(i&&e instanceof i||e.constructor&&e.constructor.name===t)return!0;var r=new RegExp(/^\s*function\s*(\S*)\s*\(/),s=e.constructor.toString().match(r);return!(!s||s[1]!==t)||(r=new RegExp(/^\[object\s(.*)\]$/),!(!(s=Object.prototype.toString.call(e).match(r))||s[1]!==t))},s.splitMident=function(e){var t=e.split(",");return{path:t.splice(0,1)[0].replace(/\{|\}/g,"").replace(/\\/g,"/"),varset:t.join(",")}},t.exports=s},{"buildinimgresource.js":1,"psol.math":202}],8:[function(e,t,n){"use strict";function i(){}function o(){}["log","info","warn","error","time","timeEnd","timeStamp","table"].forEach(function(e){i[e]=console&&console[e]?Function.prototype.bind.call(console[e],console):o}),t.exports=i},{}],9:[function(e,t,n){"use strict";t.exports={"image/png":".png","image/jpeg":".jpeg","application/octet-stream":".pdf"}},{}],10:[function(e,t,n){"use strict";var i="6.1.0.4218";e("base/js/logger").log("psol.components.VERSION: "+i),t.exports=i},{"base/js/logger":8}],11:[function(e,t,n){"use strict";var i=e("inherits"),o=e("viewBase/js/action").Action;function r(e){r.super_.call(this,e),this._props._mainActions=e.actions||[],this._props._mainActions.forEach(function(e){e.currentState="visible",e.availableStates=["visible","active"],this._registerAction(e,e instanceof o)}.bind(this))}i(r,e("viewBase/js/viewBase").ViewBase),r.prototype._componentName="ButtonBar",r.prototype.show=function(e){return(e=e||{}).actions=this._props._mainActions,r.super_.prototype.show.call(this,e).done(function(){}.bind(this))},t.exports=r},{inherits:208,"viewBase/js/action":53,"viewBase/js/viewBase":58}],12:[function(e,t,n){"use strict";var i,o=jQuery,r=e("inherits"),s=e("viewBase/js/viewBase").ViewBase,a=e("base/js/logger"),l=e("base/js/globals"),c=e("psol.translation"),p=e("buttonBar/js/buttonBar"),d=e("bowser");function h(e){h.super_.call(this,e),h.supportsStreaming(),this._stream=void 0,this._videoSource=void 0,this._cameraIsStreaming=!1,this._showButtonBar=!0,void 0!==e.showButtonBar&&(this._showButtonBar=e.showButtonBar),this._videoDevices=[];var t=l.getApiPath()+"img/camera/actions/";this._registerAction({name:"actCameraToggle",currentState:"notset",availableStates:["visible"],text:c.zTR("Kamera umschalten"),imageBasePath:t})}e("webrtc-adapter"),r(h,s),h.prototype._componentName="Camera",h.supportsStreaming=function(){return void 0===i&&(i=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),i},h.prototype.show=function(){return i?this._props._viewInstance?this.startStream():h.super_.prototype.show.call(this).then(function(){(this._props._$videoElement=this._$el.find(".psol-comp-Camera-video"),this._showButtonBar)&&new p({$container:this._$el.find(".ComponentCustomizeCameraFavoriteButtonsBarContainer"),actions:[this._getAction("actCameraToggle")]}).show();return this._resizeContainer(),this.startStream()}.bind(this)):o.Deferred().resolve()},h.prototype.hide=function(){this.stopStream(),s.prototype.hide.call(this)},h.prototype._fitVideo=function(){if(this._props._$videoElement){var e,t,n,i,o=this._props._$videoElement[0].videoWidth/this._props._$videoElement[0].videoHeight,r=this._$el.width(),s=this._$el.height();o>r/s?(i=0,n=(r-(t=(e=s)*o))/2):(n=0,i=(s-(e=(t=r)/o))/2),this._props._$videoElement.css({left:n,top:i,width:t,height:e})}},h.prototype._resizeContainer=function(){h.super_.prototype._resizeContainer.call(this),this._fitVideo()},h.prototype._streamSuccess=function(e){var t=new o.Deferred;return this._stream=e,this._props.$container.show(0),this._props._$videoElement.show(0),this.getVideoElement().srcObject=e,this._props._$videoElement.on("canplay",function(){this._cameraIsStreaming=!0,this.onStreamingStarted(),this._fitVideo(),t.resolve()}.bind(this)).on("error",function(e){t.reject(e)}.bind(this)),t.promise()},h.prototype.getVideoElement=function(){return this._props._$videoElement[0]},h.prototype._streamError=function(e){a.error("getUserMedia error: ",e)},h.getVideoDevices=function(){var e=o.Deferred(),t=[];return navigator.mediaDevices.enumerateDevices().then(function(n){n.forEach(function(e){"videoinput"===e.kind&&t.push({deviceId:e.deviceId,label:e.label})}),e.resolve(t)}).catch(function(n){a.error(n),e.resolve(t)}),e.promise()},h.prototype.startStream=function(){var e=new o.Deferred;return this.stopStream(),h.getVideoDevices().done(function(t){this._videoDevices=t;var n=!1;this._videoDevices.length>=2&&(n=!0),d.android&&this._videoDevices.reverse(),this.setActionState("actCameraToggle","visible",n);var i=function(t){var n={audio:!1,video:{width:1280,height:720,deviceId:{exact:this._videoDevices[t].deviceId}}};navigator.mediaDevices.getUserMedia(n).then(function(t){this._streamSuccess(t).done(function(){e.resolve()}).fail(function(){e.reject()})}.bind(this)).catch(function(n){t++,this._videoDevices.length>t?i(t):(this._streamError(n),e.reject(n))}.bind(this))}.bind(this);this._videoDevices.length?i(0):e.reject(),this._onactCameraToggle=function(){this._currentCamera=this._currentCamera||0,this._currentCamera++,this._currentCamera>this._videoDevices.length-1&&(this._currentCamera=0),this.stopStream(),i(this._currentCamera)}.bind(this)}.bind(this)),e.promise()},h.prototype.onStopStreaming=function(){},h.prototype.onStreamingStarted=function(){},h.prototype.stopStream=function(){this.onStopStreaming(),this._cameraIsStreaming=!1,this._stream&&this._props._$videoElement&&(this._props._$videoElement.hide(0),this._props._$videoElement.attr({src:null}),this._stream.getTracks().forEach(function(e){e.stop()}.bind(this)))},h.prototype.screenshot=function(e){(e=e||{}).format=e.format||"jpeg";var t=window.devicePixelRatio||1,n=this._props._$videoElement.width()*t,i=this._props._$videoElement.height()*t,r=this._props._$videoElement[0].videoWidth,s=this._props._$videoElement[0].videoHeight,a=Math.max(n/r,i/s),l=(r*a-n)/2,c=(s*a-i)/2,p=o("<canvas/>").attr({width:n,height:i});return p[0].getContext("2d").drawImage(this._props._$videoElement[0],-l,-c,r*a,s*a),p[0].toDataURL("image/"+e.format)},h.prototype.isStreaming=function(){return this._cameraIsStreaming},t.exports=h},{"base/js/globals":6,"base/js/logger":8,bowser:"bowser","buttonBar/js/buttonBar":11,inherits:208,"psol.translation":207,"viewBase/js/viewBase":58,"webrtc-adapter":"webrtc-adapter"}],13:[function(e,t,n){"use strict";var i=window.psol||{},o=i.components||{},r=i.thirdparty||{};o.ProgressEvent=e("viewBase/js/progressEvent").ProgressEvent,o.ViewBase=e("viewBase/js/viewBase").ViewBase,o.Template=e("viewBase/js/template"),o.ImageTools=e("viewBase/js/imageTools"),o.Globals=e("base/js/globals"),o.ProgressHandler=e("viewBase/js/progressHandler"),o.IndexBrowsing=e("indexBrowsing/js/indexBrowsing"),o.Table=e("table/js/table").Table,o.TableHorizontal=e("tableHorizontal/js/tableHorizontal").TableHorizontal,o.TableVertical=e("tableVertical/js/tableVertical").TableVertical,o.TableCompare=e("tableCompare/js/tableCompare").TableCompare,o.DialogBase=e("dialogBase/js/dialogBase").DialogBase,o.MessageDialog=e("messageDialog/js/messageDialog").MessageDialog,o.ProgressDialog=e("progressDialog/js/progressDialog").ProgressDialog,o.ImageViewer=e("imageViewer/js/imageViewer"),o.WebViewer3D=e("webViewer3D/js/webViewer3D"),o.Drawing=e("drawing/js/drawing").Drawing,o.VRcontrol=e("vrControl/js/vrControl"),o.WebViewer2D=e("webViewer2D/js/webViewer2D"),o.Assistant=e("assistant/js/assistant"),o.SearchBar=e("searchBar/js/searchBar").SearchBar,o.MapViewer=e("mapViewer/js/mapViewer"),o.CubeSketcher=e("cubeSketcher/js/cubeSketcher"),o.Camera=e("camera/js/camera"),o.QRScan=e("qrscan/js/qrscan"),o.Helpers=e("base/js/helpers"),o.Logger=e("base/js/logger"),o.IPCView=e("ipc/js/ipcview"),o.ViewerTableBridge=e("viewerTableBridge/js/viewerTableBridge").ViewerTableBridge,o.EolDialog=e("eolDialog/js/eolDialog").EolDialog,i.components=o,i.core=e("psol.core"),i.translation=e("psol.translation"),i.cloud=e("psol.cloud"),i.erp=e("psol.erp"),i.order=e("psol.order"),i.exports=e("psol.exports"),i.index=e("psol.index"),i.geoSearch=e("psol.geosearch"),i.search=e("psol.search"),i.math=e("psol.math"),i.table=e("psol.table"),i.preview=e("psol.preview"),e("ion-rangeslider"),r.Hammer=e("hammerjs"),r.URI=e("urijs"),r.brite=e("brite"),i.thirdparty=r,window.psol=i},{"assistant/js/assistant":4,"base/js/globals":6,"base/js/helpers":7,"base/js/logger":8,brite:"brite","camera/js/camera":12,"cubeSketcher/js/cubeSketcher":14,"dialogBase/js/dialogBase":15,"drawing/js/drawing":21,"eolDialog/js/eolDialog":22,hammerjs:"hammerjs","imageViewer/js/imageViewer":26,"indexBrowsing/js/indexBrowsing":27,"ion-rangeslider":"ion-rangeslider","ipc/js/ipcview":31,"mapViewer/js/mapViewer":34,"messageDialog/js/messageDialog":35,"progressDialog/js/progressDialog":36,"psol.cloud":194,"psol.core":196,"psol.erp":197,"psol.exports":198,"psol.geosearch":199,"psol.index":200,"psol.math":202,"psol.order":203,"psol.preview":204,"psol.search":205,"psol.table":206,"psol.translation":207,"qrscan/js/qrscan":37,"searchBar/js/searchBar":40,"table/js/table":50,"tableCompare/js/tableCompare":46,"tableHorizontal/js/tableHorizontal":48,"tableVertical/js/tableVertical":49,urijs:"urijs","viewBase/js/imageTools":54,"viewBase/js/progressEvent":55,"viewBase/js/progressHandler":56,"viewBase/js/template":57,"viewBase/js/viewBase":58,"viewerTableBridge/js/viewerTableBridge":60,"vrControl/js/vrControl":61,"webViewer2D/js/webViewer2D":63,"webViewer3D/js/webViewer3D":73}],14:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("base/js/globals"),s=e("psol.translation"),a=e("buttonBar/js/buttonBar"),l=e("viewBase/js/viewBase").ViewBase,c=e("messageDialog/js/messageDialog").MessageDialog,p=e("sketchImageEditor/js/sketchImageEditor"),d=e("viewBase/js/imageTools"),h=e("bowser"),u=h.msie&&h.version<=10?window.Uint8Array:window.Uint8ClampedArray;function m(e){void 0===e&&(e={});var t={tool:m.TOOLTYPE.BRUSH,color:m.COLORTYPE.BLACK,type:"front",thickness:16,floodFillTolerance:10,buttonBarActions:["brush","circle","rectangle","fill","color","clear","makeImage","loadImage","help"]};m.super_.call(this,e,t),this._buttonBarComponent=void 0,this._props._buttonBarActions=t.buttonBarActions,this._props._currentTool=t.tool,this._props._currentColor=t.color,this._props._thickness=e.thickness||t.thickness,this._props._floodFillTolerance=t.floodFillTolerance,this._cameraAvailable=e.cameraEnabled||!1,this._registerActions(),"DataView"in window&&"ArrayBuffer"in window||(this.setActionState("loadImage","disabled"),this.setActionState("loadImage","visible",!1)),this._toolActions=this._props._buttonBarActions.slice(0,4),this._imageEditor={OPTIONS:{BINARY:0,INVERT:1,NOISE:2,LAPLACE:3,SCALE:4,ROTATE:5}},this._rotation=0,h.msie&&h.version<11&&window.CanvasPixelArray&&(CanvasPixelArray.prototype.set=function(e){for(var t=this.length,n=0;n<t;n++)this[n]=e[n]})}function f(e){var t=[1/16,1/8,1/16,1/8,.25,1/8,1/16,1/8,1/16],n=new ArrayBuffer(e.data.length),i=new u(n),o=new Uint32Array(n),r=new ArrayBuffer(e.data.length),s=new u(r),a=new Uint32Array(r);i.set(e.data);var l,c,p,d,h,m,f,g,_,v,b=[],w=e.width;for(c=0;c<e.height;c++)for(l=0;l<e.width;l++){for(m=f=g=_=0,b=[(c-1)*w+(l-1),(c-1)*w+l,(c-1)*w+(l+1),c*w+(l-1),d=c*w+l,c*w+(l+1),(c+1)*w+(l-1),(c+1)*w+l,(c+1)*w+(l+1)],h=0;h<b.length;h++)(v=b[h])>=0&&v<o.length&&(m+=(255&(p=o[v]))*t[h],f+=(p>>8&255)*t[h],g+=(p>>16&255)*t[h]),_+=t[h];_<=0&&(_=1),m/=_,f/=_,g/=_,a[d]=255<<24|g<<16|f<<8|m}return s}function g(e,t){var n,i,o,r,s,a,l=(t=t||{}).threshold||125,c=t.invert||!1,p=new ArrayBuffer(e.data.length),d=new u(p),h=new Uint32Array(p);for(d.set(e.data),n=0;n<h.length;n++)o=255&(a=h[n]),r=a>>8&255,s=a>>16&255,i=c?.2126*o+.7152*r+.0722*s>=l?0:255:.2126*o+.7152*r+.0722*s>=l?255:0,h[n]=255<<24|i<<16|i<<8|i;return d}function _(e){var t,n,i,o,r,s,a=new ArrayBuffer(e.data.length),l=new u(a),c=new Uint32Array(a);for(l.set(e.data),t=0;t<c.length;t++)n=255&(s=c[t]),i=s>>8&255,o=s>>16&255,r=s>>24&255,c[t]=r<<24|255-o<<16|255-i<<8|255-n;return l}function v(e){var t=[1,1,1,1,-8,1,1,1,1],n=new ArrayBuffer(e.data.length),i=new u(n),o=new Uint32Array(n),r=new ArrayBuffer(e.data.length),s=new u(r),a=new Uint32Array(r);i.set(e.data);var l,c,p,d,h,m,f,g,_,v,b=[],w=e.width;for(c=0;c<e.height;c++)for(l=0;l<e.width;l++){for(m=0,f=0,g=0,_=0,b=[(c-1)*w+(l-1),(c-1)*w+l,(c-1)*w+(l+1),c*w+(l-1),h=c*w+l,c*w+(l+1),(c+1)*w+(l-1),(c+1)*w+l,(c+1)*w+(l+1)],d=0;d<b.length;d++)(v=b[d])>=0&&v<o.length&&(m+=(255&(p=o[v]))*t[d],f+=(p>>8&255)*t[d],g+=(p>>16&255)*t[d]),_+=t[d];_<=0&&(_=1),m=Math.max(Math.floor(m/_),0),g=Math.max(Math.floor(g/_),0),f=Math.max(Math.floor(f/_),0),a[h]=255<<24|g<<16|f<<8|m}return s}function b(e,t,n){var i=document.createElement("canvas"),o=i.getContext("2d"),r=e.width/e.height;i.width=e.width,i.height=e.height,o.putImageData(e,0,0);var s=document.createElement("canvas"),a=s.getContext("2d");return r>1?(s.width=t,s.height=n/r):(s.width=t*r,s.height=n),a.drawImage(i,0,0,s.width,s.height),a.getImageData(0,0,s.width,s.height)}function w(e,t){var n=!1;t%180==0&&(n=!0),t=t*Math.PI/180;var i=document.createElement("canvas"),o=i.getContext("2d"),r=document.createElement("canvas"),s=r.getContext("2d");return i.width=n?e.width:e.height,i.height=n?e.height:e.width,r.width=e.width,r.height=e.height,s.putImageData(e,0,0),o.translate(i.width/2,i.height/2),o.rotate(t),n?(o.drawImage(r,-i.width/2,-i.height/2,r.width,r.height),o.translate(-e.width/2,-e.height/2)):(o.drawImage(r,-i.height/2,-i.width/2),o.translate(-e.height/2,-e.width/2)),o.rotate(-t),o.getImageData(0,0,i.width,i.height)}o(m,l),m.prototype._componentName="CubeSketcher",m.TOOLTYPE={BRUSH:0,CIRCLE_FILL:1,CIRCLE_LINE:2,RECT_FILL:3,RECT_LINE:4,POLY_FILL:5,POLY_LINE:6,FILL:7},m.COLORTYPE={BLACK:0,WHITE:1},m.DEVICE_PIXEL_RATIO=window.devicePixelRatio||1,m.prototype._viewInit=function(e,t){l.prototype._viewInit.call(this,e,t),this._props._isDrawing=!1,this._props._firstStart=!0,this._props._scaleFactor=.25,this._props._pts=[],this._props._lastPos={x:-1,y:-1},this._props._startDrawPos={x:-1,y:-1},this._props._canvasSize={x:0,y:0},this._props._currentWidth=0,this._props._currentHeight=0,this._setDefaultsActive()},m.prototype._viewPostDisplay=function(){if(this._createButtons(),this._$el.find('div[data-action="loadImage"]').append(this._render("tmpl-CubeSketcherPictureInput")),this._props._$cubeContainer=this._$el.find(".psol-comp-cubesketcher-cube-complete"),this._props._$grids=this._$el.find(".psol-comp-cubesketcher-grid"),this._props._$topCanvas=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="top"]'),this._props._$frontCanvas=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="front"]'),this._props._$sideCanvas=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="side"]'),this._props._$canvases=i().add(this._props._$topCanvas).add(this._props._$frontCanvas).add(this._props._$sideCanvas),this._props._$tmpCanvas=this._$el.find(".psol-comp-cubesketcher-tmp-canvas"),this._props._$allCanvases=this._props._$canvases.add(this._props._$tmpCanvas),this._props._$topFace=this._$el.find(".psol-comp-cubesketcher-top_face"),this._props._$frontFace=this._$el.find(".psol-comp-cubesketcher-front_face"),this._props._$sideFace=this._$el.find(".psol-comp-cubesketcher-side_face"),this._props._$faces=i().add(this._props._$topFace).add(this._props._$frontFace).add(this._props._$sideFace),this._props._ctx=this._props._$topCanvas[0].getContext("2d"),this._props._tmpCtx=this._props._$tmpCanvas[0].getContext("2d"),this._props._canvasSize={x:this._props._$topCanvas.width(),y:this._props._$topCanvas.height()},!0===this._props._firstStart){this._resizeSketchSearch(),this._props._firstStart=!1;var e,t,n=this._$el.find(".psol-comp-cubesketcher-canvas");for(e=0;e<n.length;e++)(t=n[e].getContext("2d")).fillStyle="#FFFFFF",t.fillRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y)}void 0!==this._props.tool&&(this._props._currentTool=this._props.tool),void 0!==this._props.color&&(this._props._currentColor=this._props.color),void 0!==this._props.type&&(this._props._currentType=this._props.type,this.setActiveView(this._props._currentType)),void 0!==this._props.floodFillTolerance&&(this._props._floodFillTolerance=this._props.floodFillTolerance),void 0!==this._props._thickness?this._$el.find(".psol-comp-cubesketcher-thickness").val(this._props._thickness.toString()):this._$el.find(".psol-comp-cubesketcher-thickness").val("8")},m.prototype._isMobile=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent)},m.prototype._drawBrush=function(){if(this._props._pts.length<3&&this._props._pts.length>0){var e=this._props._pts[0];return this._props._tmpCtx.beginPath(),this._props._tmpCtx.arc(e.x,e.y,this._props._tmpCtx.lineWidth/2,0,2*Math.PI),this._props._tmpCtx.fill(),void this._props._tmpCtx.closePath()}var t,n,i;for(this._props._tmpCtx.beginPath(),this._props._tmpCtx.moveTo(this._props._pts[0].x,this._props._pts[0].y),t=1;t<this._props._pts.length-2;t+=1)n=(this._props._pts[t].x+this._props._pts[t+1].x)/2,i=(this._props._pts[t].y+this._props._pts[t+1].y)/2,this._props._tmpCtx.quadraticCurveTo(this._props._pts[t].x,this._props._pts[t].y,n,i);this._props._tmpCtx.quadraticCurveTo(this._props._pts[t].x,this._props._pts[t].y,this._props._pts[t+1].x,this._props._pts[t+1].y),this._props._tmpCtx.stroke();var o=this._props._pts[t+1];this._props._tmpCtx.beginPath(),this._props._tmpCtx.arc(o.x,o.y,this._props._tmpCtx.lineWidth/2,0,2*Math.PI),this._props._tmpCtx.fill(),this._props._tmpCtx.closePath()},m.prototype._floodFill=function(e,t,n){for(var i,o,r,s,a=this._props._ctx.canvas.width,l=this._props._ctx.canvas.height,c=this._props._ctx.getImageData(e.x,e.y,1,1).data,p={r:c[0],g:c[1],b:c[2],a:c[3]},d=this._props._ctx.getImageData(0,0,a,l),h=d.data,u=function(e){var i,o,r,s,l=(o=4*((i=e).y*a+i.x),[h[o],h[o+1],h[o+2],h[o+3]]);return l={r:l[0],g:l[1],b:l[2],a:l[3]},s=p,((r=l).r>=s.r-n||r.r<=s.r+n)&&(r.g>=s.g-n||r.g<=s.g+n)&&(r.b>=s.b-n||r.b<=s.b+n)&&(r.a>=s.a-n||r.a<=s.a+n)&&(l.r!==t.r||l.g!==t.g||l.b!==t.b||l.a!==t.a)},m=function(e,t,n){t>=0&&t<=a&&n>=0&&n<=l&&e.push({x:t,y:n})},f=[e];f.length>0;)u(i=f.pop())&&(o=i,r={r:t.r,g:t.g,b:t.b,a:255},void 0,s=4*(o.y*a+o.x),h[s]=r.r,h[s+1]=r.g,h[s+2]=r.b,h[s+3]=r.a,m(f,i.x,i.y+1),m(f,i.x+1,i.y),m(f,i.x,i.y-1),m(f,i.x-1,i.y));this._props._ctx.putImageData(d,0,0)},m.prototype._startDraw=function(e){e.preventDefault();var t=i(e.currentTarget);switch(this._props._ctx=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="'+this._props._currentType+'"]').get(0).getContext("2d"),this._props._tmpCtx=this._$el.find(".psol-comp-cubesketcher-tmp-canvas").get(0).getContext("2d"),this._props._ctx.lineCap="round",this._props._ctx.lineJoin="round",this._props._ctx.lineWidth=this._props._thickness*m.DEVICE_PIXEL_RATIO,this._props._tmpCtx.lineWidth=this._props._thickness*m.DEVICE_PIXEL_RATIO,this._props._currentColor){case m.COLORTYPE.BLACK:this._props._ctx.strokeStyle="#000000",this._props._ctx.fillStyle="#000000",this._props._tmpCtx.strokeStyle="#000000",this._props._tmpCtx.fillStyle="#000000";break;case m.COLORTYPE.WHITE:this._props._ctx.strokeStyle="#FFFFFF",this._props._ctx.fillStyle="#FFFFFF",this._props._tmpCtx.strokeStyle="#FFFFFF",this._props._tmpCtx.fillStyle="#FFFFFF"}this._props._lastPos.x=-1,this._props._lastPos.y=-1;var n=t.offset(),o=n.left,r=n.top,s={x:0,y:0};switch(this._isMobile()?(e.touches||(e=e.originalEvent),s={x:(e.touches[0].pageX-o)*m.DEVICE_PIXEL_RATIO,y:(e.touches[0].pageY-r)*m.DEVICE_PIXEL_RATIO}):s={x:(e.pageX-o)*m.DEVICE_PIXEL_RATIO,y:(e.pageY-r)*m.DEVICE_PIXEL_RATIO},this._props._startDrawPos.x=s.x,this._props._startDrawPos.y=s.y,this._props._currentTool){case m.TOOLTYPE.CIRCLE_LINE:case m.TOOLTYPE.CIRCLE_FILL:case m.TOOLTYPE.RECT_FILL:this._props._isDrawing=!0;break;case m.TOOLTYPE.RECT_LINE:case m.TOOLTYPE.POLY_FILL:case m.TOOLTYPE.POLY_LINE:case m.TOOLTYPE.BRUSH:this._props._isDrawing=!0;break;case m.TOOLTYPE.FILL:var a;this._props._isDrawing=!0,a=this._props._currentColor===m.COLORTYPE.BLACK?{r:0,g:0,b:0,a:255}:{r:255,g:255,b:255,a:255};var l={x:parseInt(s.x,10),y:parseInt(s.y,10)};this._floodFill(l,a,this._props._floodFillTolerance)}},m.prototype._stopDraw=function(){if(!1!==this._props._isDrawing&&(this._props._isDrawing=!1,this._props._lastPos.x=-1,this._props._lastPos.y=-1,this._props._startDrawPos.x=-1,this._props._startDrawPos.y=-1,void 0!==this._props._ctx&&void 0!==this._props._tmpCtx)){var e=this._props._$tmpCanvas.get(0);switch(this._props._currentTool){case m.TOOLTYPE.CIRCLE_LINE:case m.TOOLTYPE.CIRCLE_FILL:this._props._ctx.drawImage(e,0,0),this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y);break;case m.TOOLTYPE.RECT_FILL:case m.TOOLTYPE.RECT_LINE:this._props._ctx.drawImage(e,0,0),this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y);break;case m.TOOLTYPE.POLY_FILL:break;case m.TOOLTYPE.POLY_LINE:case m.TOOLTYPE.FILL:break;case m.TOOLTYPE.BRUSH:this._props._ctx.drawImage(e,0,0),this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y)}this._props._pts.length=0}},m.prototype._draw=function(e){var t=i(e.currentTarget),n=t.offset(),o=n.left,r=n.top,s={x:0,y:0};if(s=this._isMobile()?{x:(event.touches[0].pageX-o)*m.DEVICE_PIXEL_RATIO,y:(event.touches[0].pageY-r)*m.DEVICE_PIXEL_RATIO}:{x:(e.pageX-o)*m.DEVICE_PIXEL_RATIO,y:(e.pageY-r)*m.DEVICE_PIXEL_RATIO},"pinch"===e.type&&(this._currentTool===m.TOOLTYPE.CIRCLE_FILL||this._currentTool===m.TOOLTYPE.CIRCLE_LINE)&&this._isMobile()){this._props._startDrawPos={x:(e.gesture.center.pageX-o)*m.DEVICE_PIXEL_RATIO,y:(e.gesture.center.pageY-r)*m.DEVICE_PIXEL_RATIO};var a=Math.abs(this._props._startDrawPos.x-(event.touches[0].pageX-o));s={x:(this._props._startDrawPos.x+a)*m.DEVICE_PIXEL_RATIO,y:(this._props._startDrawPos.y+a)*m.DEVICE_PIXEL_RATIO}}var l=t.outerWidth()*m.DEVICE_PIXEL_RATIO,c=t.outerHeight()*m.DEVICE_PIXEL_RATIO;if(s.x>l&&(s.x=l),s.y>c&&(s.y=c),-1===this._props._lastPos.x&&(this._props._lastPos.x=s.x),-1===this._props._lastPos.y&&(this._props._lastPos.y=s.y),this._props._isDrawing){var p=Math.min(s.x,this._props._startDrawPos.x),d=Math.min(s.y,this._props._startDrawPos.y),h=Math.abs(s.x-this._props._startDrawPos.x),u=Math.abs(s.y-this._props._startDrawPos.y);switch(this._props._currentTool){case m.TOOLTYPE.CIRCLE_LINE:this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y),this._props._tmpCtx.beginPath(),this._props._tmpCtx.arc(this._props._startDrawPos.x,this._props._startDrawPos.y,Math.max(h,u),0,2*Math.PI),this._props._tmpCtx.stroke();break;case m.TOOLTYPE.CIRCLE_FILL:this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y),this._props._tmpCtx.beginPath(),this._props._tmpCtx.arc(this._props._startDrawPos.x,this._props._startDrawPos.y,Math.max(h,u),0,2*Math.PI),this._props._tmpCtx.fill();break;case m.TOOLTYPE.RECT_FILL:this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y),this._props._tmpCtx.fillRect(p,d,h,u);break;case m.TOOLTYPE.RECT_LINE:this._props._tmpCtx.clearRect(0,0,this._props._canvasSize.x,this._props._canvasSize.y),this._props._tmpCtx.strokeRect(p,d,h,u);break;case m.TOOLTYPE.POLY_FILL:case m.TOOLTYPE.POLY_LINE:case m.TOOLTYPE.FILL:break;case m.TOOLTYPE.BRUSH:this._props._pts.push(s),this._drawBrush()}}},m.prototype._imageLoaded=function(e,t){this.clearFace(e);var n=t.width/t.height,i=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="'+e+'"]').get(0).getContext("2d");if(n>1){var o=this._props._canvasSize.y/n,r=Math.abs(o-this._props._canvasSize.y)/2;i.drawImage(t,0,r,this._props._canvasSize.x,o)}else{var s=this._props._canvasSize.x*n,a=Math.abs(s-this._props._canvasSize.x)/2;i.drawImage(t,a,0,s,this._props._canvasSize.y)}},m.prototype._resize=function(e,t){var n,o=this._$el.find(".psol-comp-cubesketcher-cube-complete"),r=this._$el.find(".psol-comp-cubesketcher-settings-container");if(r.css({height:this._$el.find(".psol-comp-cubesketcher-settings-buttonbar-container").outerHeight(!0)+this._$el.find(".psol-comp-cubesketcher-settings-thickness-container").outerHeight(!0)}),0!==e&&0!==t){n=e>t?t:e;var s=1-this._props._scaleFactor,a=parseInt(n*s,10),l=parseInt(a*this._props._scaleFactor,10),c=parseInt(this._props._$topFace.css("borderBottomWidth"),10);if(this._props._canvasSize.x!==a){var p=this._props._$frontCanvas.get(0).getContext("2d"),d=this._props._$sideCanvas.get(0).getContext("2d"),h=this._props._$topCanvas.get(0).getContext("2d"),u=p.getImageData(0,0,this._props._canvasSize.x,this._props._canvasSize.y),f=d.getImageData(0,0,this._props._canvasSize.x,this._props._canvasSize.y),g=h.getImageData(0,0,this._props._canvasSize.x,this._props._canvasSize.y);this._props._$allCanvases.each(function(){var e=i(this);e.attr("width",a*m.DEVICE_PIXEL_RATIO-2*c),e.attr("height",a*m.DEVICE_PIXEL_RATIO-2*c)});var _=1;this._props._currentWidth===i(document).width()&&this._props._currentHeight===i(document).height()||(_=(a*m.DEVICE_PIXEL_RATIO-2*c)/this._props._canvasSize.x,this._props._currentWidth=i(document).width(),this._props._currentHeight=i(document).height()),this._props._canvasSize.x=a*m.DEVICE_PIXEL_RATIO-2*c,this._props._canvasSize.y=a*m.DEVICE_PIXEL_RATIO-2*c;var v=i("<canvas>").attr("width",u.width).attr("height",u.height)[0],b=i("<canvas>").attr("width",f.width).attr("height",f.height)[0],w=i("<canvas>").attr("width",g.width).attr("height",g.height)[0];v.getContext("2d").putImageData(u,0,0),b.getContext("2d").putImageData(f,0,0),w.getContext("2d").putImageData(g,0,0),p.save(),d.save(),h.save(),p.scale(_,_),d.scale(_,_),h.scale(_,_),p.drawImage(v,0,0),d.drawImage(b,0,0),h.drawImage(w,0,0),p.restore(),d.restore(),h.restore()}this._props._$cubeContainer.css({top:l+20}),this._props._$faces.each(function(){i(this).css({width:a,height:a,left:0,top:0})}),this._props._$grids.css({width:a-2*c,height:a-2*c}),"front"===this._props._currentType?(this._props._$sideFace.css("left",a),this._props._$topFace.css({left:l,top:-l}),o.css({height:this._props._$frontFace.outerHeight(),top:r.outerHeight()+parseInt(.35*this._props._$topFace.outerHeight(),10)})):"side"===this._props._currentType?(this._props._$sideFace.css("left",l),this._props._$frontFace.css("top",-l),this._props._$topFace.css("left",l),o.css({height:this._props._$sideFace.outerHeight(),top:r.outerHeight()+parseInt(.35*this._props._$topFace.outerHeight(),10)})):(this._props._$sideFace.css("top",-l),this._props._$frontFace.css("left",l),this._props._$topFace.css("top",-l),o.css({height:this._props._$topFace.outerHeight(),top:r.outerHeight()+parseInt(.35*this._props._$frontFace.outerHeight(),10)})),this._props._$allCanvases.each(function(){i(this).css({width:a-2*c,height:a-2*c})})}},m.prototype._resizeContainer=function(){m.super_.prototype._resizeContainer.call(this),this._resizeSketchSearch()},m.prototype._viewEvents=function(){return{"touchstart mousedown; .psol-comp-cubesketcher-face":function(e){i(e.currentTarget).data("type")===this._props._currentType&&this._startDraw(e)}.bind(this),"touchmove mousemove pinch; .psol-comp-cubesketcher-face":function(e){i(e.currentTarget).data("type")===this._props._currentType&&!0===this._props._isDrawing&&this._draw(e)}.bind(this),"touchend mouseup":function(){this._stopDraw()}.bind(this),"click; .psol-comp-cubesketcher-face":function(e){var t=i(e.currentTarget).data("type");this._props._currentType!==t&&this.setActiveView(t),this._isMobile()&&(i(".CubeSketcher-image-x").hide(0),i(".CubeSketcher-image-y").hide(0))}.bind(this),resize:function(){this._resizeSketchSearch()}.bind(this),"change; .psol-comp-cubesketcher-thickness":function(e){var t=parseInt(e.target.value);this.changeThickness(t)}.bind(this),"click; .psol-comp-cubesketcher-searchbutton":function(){var e=this.getImageDataUrls(),t={front:e.front,top:e.top,side:e.side};this.onsearch(t)}.bind(this),"change; .cubesketcher-pictureInput":function(e){this._rotation=0,d.getFileContent(i(e.currentTarget)[0].files[0]).done(function(e){this._rotation=e.rotation,this._handlePicture(e.result),this._$el.find(".cubesketcher-pictureInput").val("")}.bind(this))}.bind(this)}},m.prototype._resizeSketchSearch=function(){if(void 0!==this._props.$container&&"none"!==this._props.$container.css("display")){var e=this._$el.find(".psol-comp-cubesketcher-cube-container"),t=e.innerWidth(),n=e.innerHeight();this._resize(t,n);var i=this._$el.find(".psol-comp-cubesketcher-cube-container").height(),o=Math.abs(this._props._$topFace.position().top),r=(e.innerWidth()-this._props._$topFace.outerWidth()-o)/4;this._props._$cubeContainer.css("top",o+"px"),this._props._$cubeContainer.css("left",r+"px"),this._props._$cubeContainer.css("height",i-o+"px"),n=this._$el.outerHeight(),e.css("height",n-200+"px")}},m.prototype._registerActions=function(){var e=r.getApiPath()+"img/cubesketcher/actions/";this._registerAction({name:"brush",currentState:"visible",availableStates:["visible","active"],text:s.zTR("Pinsel"),imageBasePath:e}),this._registerAction({name:"circle",currentState:"visible",availableStates:["visible","active"],text:s.zTR("Kreis"),imageBasePath:e}),this._registerAction({name:"rectangle",currentState:"visible",availableStates:["visible","active"],text:s.zTR("Rechteck"),imageBasePath:e}),this._registerAction({name:"fill",currentState:"visible",availableStates:["visible","active"],text:s.zTR("Ausfüllen"),imageBasePath:e}),this._registerAction({name:"color",currentState:"visible",availableStates:["visible","active"],text:s.zTR("Aktive Farbe"),imageBasePath:e}),this._registerAction({name:"clear",currentState:"visible",availableStates:["visible"],text:s.zTR("Löschen"),imageBasePath:e}),this._registerAction({name:"makeImage",currentState:"notset",availableStates:["visible"],text:s.zTR("Bild aufnehmen"),imageBasePath:e}),this._registerAction({name:"loadImage",currentState:"visible",availableStates:["disabled","visible"],text:s.zTR("Bild laden"),imageBasePath:e}),this._registerAction({name:"help",currentState:"visible",availableStates:["visible"],text:s.zTR("Hilfe"),imageBasePath:e})},m.prototype._createButtons=function(){var e=r.getApiPath()+"img/cubesketcher/actions/";if(this._props._buttonBarActions){var t=this._props._buttonBarActions.slice();this._props._buttonBarActions=[];for(var n=0;n<t.length;++n){var o=t[n],s=this._getAction(o);s&&this._props._buttonBarActions.push(s)}}else this._props._buttonBarActions=[this._getAction("brush"),this._getAction("circle"),this._getAction("rectangle"),this._getAction("color"),this._getAction("fill"),this._getAction("clear"),this._getAction("makeImage"),this._getAction("loadImage"),this._getAction("help")];this._props._buttonBarActions.forEach(function(t){t.imageBasePath||(t.imageBasePath=e)}),this._props._buttonBarActions.length>0&&(this._buttonBarComponent=new a({$container:i(document).find(".psol-comp-cubesketcher-settings-buttonbar-container"),actions:this._props._buttonBarActions})),this._props._buttonBarActions.length>0&&this._buttonBarComponent.show()},m.prototype._onResult=function(e){this._props._ctx.putImageData(e,0,0)},m.prototype._onhelp=function(){new c({title:s.zTR("Hilfe"),message:this._render("tmpl-CubeSketcherHelp")}).show()},m.prototype._onbrush=function(){this._toolActions.forEach(function(e){this.setActionState(e,"active",!1)}.bind(this)),this.setActionState("brush","active",!0),this.changeTool(0)},m.prototype._oncircle=function(){this._toolActions.forEach(function(e){this.setActionState(e,"active",!1)}.bind(this)),this.setActionState("circle","active",!0),this.changeTool(1)},m.prototype._onrectangle=function(){this._toolActions.forEach(function(e){this.setActionState(e,"active",!1)}.bind(this)),this.setActionState("rectangle","active",!0),this.changeTool(3)},m.prototype._onfill=function(){this._toolActions.forEach(function(e){this.setActionState(e,"active",!1)}.bind(this)),this.setActionState("fill","active",!0),this.changeTool(7)},m.prototype._onclear=function(){this.clearFace()},m.prototype._oncolor=function(){this._props._currentColor===m.COLORTYPE.BLACK?(this.setActionState("color","active",!0),this._props._currentColor=m.COLORTYPE.WHITE):(this.setActionState("color","active",!1),this._props._currentColor=m.COLORTYPE.BLACK)},m.prototype._onmakeImage=function(){},m.prototype._onloadImage=function(){},m.prototype._onActionClicked=function(e){m.super_.prototype._onActionClicked.call(this,e),e.stopPropagation()},m.prototype._setDefaultsActive=function(){switch(this._props._currentTool){case 0:this.setActionState("brush","active",!0);break;case 1:this.setActionState("circle","active",!0);break;case 3:this.setActionState("rectangle","active",!0);break;case 7:this.setActionState("fill","active",!0)}},m.prototype.changeTool=function(e){switch(e){case m.TOOLTYPE.CIRCLE_LINE:this._props._currentTool=m.TOOLTYPE.CIRCLE_LINE;break;case m.TOOLTYPE.CIRCLE_FILL:this._props._currentTool=m.TOOLTYPE.CIRCLE_FILL;break;case m.TOOLTYPE.RECT_FILL:this._props._currentTool=m.TOOLTYPE.RECT_FILL;break;case m.TOOLTYPE.RECT_LINE:this._props._currentTool=m.TOOLTYPE.RECT_LINE;break;case m.TOOLTYPE.POLY_FILL:this._props._currentTool=m.TOOLTYPE.POLY_FILL;break;case m.TOOLTYPE.POLY_LINE:this._props._currentTool=m.TOOLTYPE.POLY_LINE;break;case m.TOOLTYPE.FILL:this._props._currentTool=m.TOOLTYPE.FILL;break;case m.TOOLTYPE.BRUSH:this._props._currentTool=m.TOOLTYPE.BRUSH}},m.prototype.changeThickness=function(e){this._props._thickness=e},m.prototype.changeColor=function(e){switch(e){case m.COLORTYPE.WHITE:this._props._currentColor=m.COLORTYPE.WHITE;break;case m.COLORTYPE.BLACK:default:this._props._currentColor=m.COLORTYPE.BLACK}},m.prototype.setActiveView=function(e){this._props._$cubeContainer.removeClass("psol-comp-cubesketcher-front_current psol-comp-cubesketcher-top_current psol-comp-cubesketcher-side_current"),this._$el.find(".psol-comp-cubesketcher-cube-container").removeClass("psol-comp-cubesketcher-front_current psol-comp-cubesketcher-top_current psol-comp-cubesketcher-side_current"),this._props._currentType=e,this._props._$tmpCanvas.appendTo(this._$el.find(".psol-comp-cubesketcher-"+e+"_face")),this._props._$cubeContainer.addClass("psol-comp-cubesketcher-"+e+"_current"),this._resizeSketchSearch()},m.prototype.getImageDataUrls=function(){return{front:this._props._$frontCanvas.get(0).toDataURL(),top:this._props._$topCanvas.get(0).toDataURL(),side:this._props._$sideCanvas.get(0).toDataURL()}},m.prototype.getDimensions=function(){var e=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="'+this._props._currentType+'"]');return{width:e.width(),height:e.height()}},m.prototype.setCubeSketcherImages=function(e,t,n){if(void 0!==e){var i=new Image;i.onload=function(){this._imageLoaded("front",i)}.bind(this),i.src=e}if(void 0!==t){var o=new Image;o.onload=function(){this._imageLoaded("top",o)}.bind(this),o.src=t}if(void 0!==n){var r=new Image;r.onload=function(){this._imageLoaded("side",r)}.bind(this),r.src=n}},m.prototype.clearFace=function(e){e=e||this._props._currentType;var t=this._$el.find('.psol-comp-cubesketcher-canvas[data-type="'+e+'"]').get(0);t.width=t.width},m.prototype.clearCube=function(){this.clearFace("front"),this.clearFace("top"),this.clearFace("side")},m.prototype.getActiveView=function(){return this._props._currentType},m.prototype.setImageOnActiveView=function(e){if(void 0!==e){var t=new Image;t.onload=function(){this._imageLoaded(this._props._currentType,t)}.bind(this),t.src=e}},m.prototype.setFloodFillTolerance=function(e){this._props._floodFillTolerance=e},m.prototype.onsearch=function(){},m.prototype.show=function(e,t){return m.super_.prototype.show.call(this,e,t)},m.prototype._handlePicture=function(e){var t=i.Deferred(),n={imageEditor:this._imageEditor,showTitleCloseButton:!0,title:s.zTR("Bildvorschau"),sizeToContent:!1,showFooter:!0,view:{name:"SketchImagePreview",data:{imageUrl:e,def:t,rotation:this._rotation}},callback:function(e,t){return this._useOnImage(e,t)}.bind(this)};new p(n).show(),t.done(function(t){if(t.useImage){var n=this.getDimensions(),i=[{action:this._imageEditor.OPTIONS.SCALE,options:{width:n.width,height:n.height}},{action:this._imageEditor.OPTIONS.ROTATE,options:{rotation:t.rotation}},{action:this._imageEditor.OPTIONS.BINARY,options:{threshold:t.threshold,invert:t.invert}}];this._useOnImage(e,i).done(function(e){this.setImageOnActiveView(e)}.bind(this))}}.bind(this))},m.prototype._useOnImage=function(e,t){var n,o,r,s,a,l,c,p,d,h,u=i.Deferred();return"data:image/"!==(a=e).substring(0,11)&&(a="data:image/png;base64,"+a),(l=e=a,c=i.Deferred(),p=new Image,d=document.createElement("canvas"),h=d.getContext("2d"),p.onload=function(){d.width=p.width,d.height=p.height,h.drawImage(p,0,0,p.width,p.height);var e=h.getImageData(0,0,p.width,p.height);c.resolve(e)},p.src=l,c).done(function(e){for(s=e,n=0;n<t.length;n++)switch(r=t[n],o=r.options||{},r.action){case this._imageEditor.OPTIONS.BINARY:s.data.set(g(s,o));break;case this._imageEditor.OPTIONS.INVERT:s.data.set(_(s));break;case this._imageEditor.OPTIONS.LAPLACE:s.data.set(v(s));break;case this._imageEditor.OPTIONS.NOISE:s.data.set(f(s));break;case this._imageEditor.OPTIONS.SCALE:s=b(s,o.width,o.height);break;case this._imageEditor.OPTIONS.ROTATE:s=w(s,o.rotation)}var i,a,l,c=(i=s,a=document.createElement("canvas"),l=a.getContext("2d"),a.width=i.width,a.height=i.height,l.putImageData(i,0,0),a.toDataURL());u.resolve(c)}.bind(this)),u},t.exports=m},{"base/js/globals":6,bowser:"bowser","buttonBar/js/buttonBar":11,inherits:208,"messageDialog/js/messageDialog":35,"psol.translation":207,"sketchImageEditor/js/sketchImageEditor":41,"viewBase/js/imageTools":54,"viewBase/js/viewBase":58}],15:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("viewBase/js/viewBase"),a=e("bowser"),l=e("psol.translation"),c=function(e){function t(n){var i=e.call(this,r.extend(!0,n,{$container:void 0,_templateName:"DialogBase-content"}),{buttons:[],closeButton:!0,destroyOnHide:!0,dialogID:t._currentID++,title:l.zTR("Titel")})||this;i._$originalParent=void 0,i._showDef=r.Deferred();var o=i._getComponentName&&i._getComponentName()||i._componentName;return i._props=r.extend(!0,{customID:"psol-comp-"+o.toLowerCase()+"-dialog"+t._currentID},i._props),i._props._briteViewConfig={emptyParent:!1},i}return o(t,e),t.prototype._viewEvents=function(){var t=this,n=e.prototype._viewEvents.call(this);return r.extend(!0,n,{"click; .psol-comp-dialogbase-dialog-header-closebtn":function(e){t._onCloseButton.call(t,e)},"click; .psol-comp-viewbase-button":function(e){var n=r(e.currentTarget).data("index");t._props.buttons[n]&&t._props.buttons[n].callback&&t._props.buttons[n].callback.call(t,e)},"touchstart; .psol-comp-dialogbase-dialog-content":function(e){t.startY=e.touches?e.touches[0].screenY:e.screenY},"touchmove; .psol-comp-dialogbase-dialog-content":function(e){var n=e.currentTarget;t.currentY=e.touches?e.touches[0].screenY:e.screenY;var i=window.getComputedStyle(n),o=parseInt(i.getPropertyValue("height"),10);if(t.startY<=t.currentY&&0===n.scrollTop)e.preventDefault();else{if(!(t.startY>=t.currentY&&n.scrollHeight-n.scrollTop===o))return!0;e.preventDefault()}}})},t.prototype._winEvents=function(){var t=this,n=e.prototype._winEvents.call(this);return r.extend(!0,n,{resize:function(){t._props.$container.css({height:r(window).height(),width:r(window).width()}),t._resize()}})},t.prototype._showBackDrop=function(){t._$backDrop&&t._$backDrop.show(0),t._$container&&t._$container.show(0),r("html").addClass("psol-comp-dialogbase-showModal"),document.ontouchstart=function(e){e.target!==t._$container[0]&&e.target.fastClickScrollParent||e.preventDefault()}},t.prototype._hideBackDrop=function(){t._$backDrop&&t._$backDrop.hide(0),t._$container&&t._$container.hide(0),r("html").removeClass("psol-comp-dialogbase-showModal"),document.ontouchstart=function(){return!0}},t.prototype._updateView=function(){this._props.closeButton?this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-closebtn").show(0):this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-closebtn").hide(0),this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-title").html(this._props.title),this._props.buttons.length&&this._props._$footercontainer.html(this._render("tmpl-DialogBase-buttons",{buttons:this._props.buttons})),this._props.sizeToContent&&this._$el.addClass("psol-comp-dialogbase-dialog-size-to-content"),this._resize()},t.prototype._resize=function(){if(e.prototype._resizeContainer.call(this),this._props._$dialogcontainer){var t=this._props._$dialogcontainer.find(".psol-comp-dialogbase-dialog-container-padding").height();if(t-=this._props._$headercontainer.outerHeight(!0),t-=this._props._$footercontainer.outerHeight(!0),this._props.sizeToContent){this._props._$contentcontainer.css({height:""}),this._$el.css({height:""});var n=this._props._$dialogcontainer.find(".psol-comp-dialogbase-dialog-container-padding").height(),i=this._props._$dialogcontainer.find(".psol-comp-dialogbase-dialog-container-padding").css("padding-top"),o=this._props._$dialogcontainer.find(".psol-comp-dialogbase-dialog-container-padding").css("padding-bottom"),r=parseInt(i,10)+parseInt(o,10),s=this._props._$headercontainer.outerHeight(!0);s+=this._props._$footercontainer.outerHeight(!0),s+=this._props._$contentcontainer.outerHeight(!0),s+=r,n-=this._props._$headercontainer.outerHeight(!0),(n-=this._props._$footercontainer.outerHeight(!0))<=s?this._props._$contentcontainer.css({height:n}):this._$el.css({height:s})}else this._props._$contentcontainer.height(t)}},t.prototype._reparentToFullscreenElement=function(){document.fullscreenElement&&this._props.$container.parent().get(0)!==document.fullscreenElement&&(this._$originalParent=this._props.$container.parent(),r(document.fullscreenElement).append(t._$backDrop),r(document.fullscreenElement).append(t._$container))},t.prototype._reparentToOriginalParent=function(){this._$originalParent&&(this._$originalParent.append(t._$backDrop),this._$originalParent.append(t._$container))},t.prototype._onCloseButton=function(){this.onCloseButton(),this.hide()},t.prototype.onCloseButton=function(){},t.prototype.show=function(){var n=this,i=r.Deferred();return e.prototype._loadTemplate.call(this).then(function(){var o;if(t._$container||(r("body").append(n._render("tmpl-DialogBase")),t._$container=r(".psol-comp-dialogbase-container"),t._$backDrop=r(".psol-comp-dialogbase-backdrop")),n._props.$container=t._$container,n._props.$container.css({height:r(window).height(),width:r(window).width()}),n._props._viewInstance)o=r.Deferred().resolve();else{var s={customID:n._props.customID,dialogID:n._props.dialogID,dialogclass:"psol-comp-"+n._componentName.toLowerCase()+"-dialog"};o=e.prototype.show.call(n,s)}o.done(function(){n._props.sizeToContent&&n._$el.addClass("psol-comp-dialogbase-dialog-size-to-content"),-1===t._visibleDialogsStack.indexOf(n)&&t._visibleDialogsStack.push(n),n._showBackDrop(),n._props._$dialogcontainer=n._$el.find(".psol-comp-dialogbase-dialog-container"),n._props._$headercontainer=n._$el.find(".psol-comp-dialogbase-dialog-header"),n._props._$contentcontainer=n._$el.find(".psol-comp-dialogbase-dialog-content"),n._props._$footercontainer=n._$el.find(".psol-comp-dialogbase-dialog-footer"),n._props.fullWidth&&n._$el.addClass("psol-comp-dialogbase-dialog-container-fullwidth ComponentCustomizeDialogBaseDialogFullWidth"),n._props.fullHeight&&n._$el.addClass("psol-comp-dialogbase-dialog-container-fullheight ComponentCustomizeDialogBaseDialogFullHeight"),n._$el.show(0),n._updateView();var e=t._$container.find(".psol-comp-dialogbase-dialog-container-padding");if(!(a.version<10&&a.msie)){e.addClass(["psol-comp-viewbase-flex-container","psol-comp-viewbase-flex-col"].join(" "));n._props._$dialogcontainer.find(".psol-comp-viewbase-pull-left").removeClass("psol-comp-viewbase-pull-left"),n._props._$dialogcontainer.find(".psol-comp-viewbase-pull-right").removeClass("psol-comp-viewbase-pull-right"),n._props._$dialogcontainer.find(".psol-comp-viewbase-clearfix").removeClass("psol-comp-viewbase-clearfix"),n._props._$footercontainer.find(".psol-comp-dialogbase-buttoncontainer").addClass("psol-comp-viewbase-flex-container"),n._props._$headercontainer.addClass(["psol-comp-viewbase-flex-container","psol-comp-viewbase-flex-row"].join(" ")),n._props._$footercontainer.addClass(["psol-comp-viewbase-flex-container","psol-comp-viewbase-flex-row","psol-comp-viewbase-flex-align-hright"].join(" "))}n._reparentToFullscreenElement(),n._resize(),n._showDef.resolve(),i.resolve()})}),i.promise()},t.prototype.hide=function(){if(this._props&&this._props._viewInstance){this._props.destroyOnHide?this._$el.bRemove():this._$el.hide(0);var e=t._visibleDialogsStack.indexOf(this);-1!==e&&t._visibleDialogsStack.splice(e,1),0===t._visibleDialogsStack.length&&this._hideBackDrop(),this._reparentToOriginalParent()}},t.prototype.disableEnableButtons=function(e){void 0===e&&(e=!1);var t,n=this._$el.find(".psol-comp-dialogbase-button");if(n.length)for(t=0;t<n.length;++t)e?r(n[t]).removeClass("psol-comp-viewbase-disabled"):r(n[t]).addClass("psol-comp-viewbase-disabled")},t.prototype.getFooterContainer=function(){return this._props._$footercontainer},t.prototype.getContentContainer=function(){return this._props._$contentcontainer},t.prototype.resize=function(){this._resize()},t._currentID=0,t._visibleDialogsStack=[],t._$backDrop=void 0,t._$container=void 0,t}(s.ViewBase);n.DialogBase=c},{bowser:"bowser","psol.translation":207,"viewBase/js/viewBase":58}],16:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=jQuery,o=e("./impl/listVarEdit"),r=e("./impl/tableVarEdit"),s=function(){function e(){this._dialogImpl=null,this._id=void 0}return e.prototype.setTableData=function(e,t,n){this._id=t,this._dialogImpl=new r.TableVarEdit(i.extend(!0,{colIdx:t,tableData:e},n))},e.prototype.setListData=function(e,t){this._id=t,this._dialogImpl=new o.ListVarEdit({$container:null,listData:e,varName:t})},e.prototype.onApplyClicked=function(e){},e.prototype.show=function(){var e=this;return this._dialogImpl.onApplyClicked=function(t){t.id=e._id,e.onApplyClicked.call(t,t)},this._dialogImpl.show()},e.prototype.hide=function(){this._dialogImpl.hide()},e}();n.DialogEditTableVar=s},{"./impl/listVarEdit":18,"./impl/tableVarEdit":19}],17:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.sliceDiscreteValues=function(e){var t,n,i=[],o=[];for(t=0;t<e.length;++t)""!==(n=e[t]).ug&&""!==n.og&&"VRATYP_DISK"!==n.vra_type&&"VRATYPE_DISKNAMED"!==n.vra_type||o.push(t);var r=0;for(t=0;t<o.length;++t)r=o[t]-t,i.push(e.splice(r,1)[0]);return i}},{}],18:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("dialogBase/js/dialogBase"),s=e("sliderTableVar/js/sliderTableVar"),a=e("base/js/helpers"),l=e("base/js/logger"),c=e("dialogEditTableVar/js/dialogHelpers"),p=e("psol.translation"),d=function(e){function t(t){var n=e.call(this,t)||this;return n._erpEnabled=!1,n._slider=void 0,t.listData&&(n._erpEnabled=t.listData.erpenabled),n._props._jsrenderHelpers.compareEqual=function(e,t){return 0===a.compare(e,t)},n._props._jsrenderHelpers.isErpEnabled=function(){return n._erpEnabled},n}return o(t,e),t.prototype._getComponentName=function(){return"ListVarEdit"},t.prototype._updateView=function(){var t=this,n=this._props.listData.line.values[this._props.varName],i={lineData:n,type:"list",varName:this._props.varName};this._props.title=this._render("tmpl-DialogEditTableVar-title",i),this._props.buttons=[{callback:function(e){return t._apply(e)},label:p.zTR("Übernehmen")}],e.prototype._updateView.call(this);var o=function(){var e=[],i=[];n.values.forEach(function(t){t.visible?e.push(t):i.push(t)}),t._props._$contentcontainer.html(t._render("tmpl-DialogEditTableVar-fwvalues",{hidden:i,imgbasepath:t._props.listData.imgbasepath,selected:n.current,type:"list",values:n.values,visible:e}));var o=t._props._$contentcontainer.find(".psol-comp-dialogedittablevar-fwvalues-item input:checked").parent().position().top;t._props._$contentcontainer.scrollTop(o)};"FM"===n.attr?"ranged"===n.status?this._showSlider(n):o():"SM"===n.attr||"GM"===n.attr||"DM"===n.attr?n.isValueRange&&n.isNumeric?this._showSlider(n):o():l.warn("not yet implemented",n.attr)},t.prototype._apply=function(e){var t,n=this._props._$contentcontainer.find(".psol-comp-dialogedittablevar-fwvalues-item input:checked");t=n.length>0?n.val():this._slider.getCurrentValue(),e.newvalue=t,e.row=n.data("row"),e.erpstate=n.data("erpstate"),this.hide(),this.onApplyClicked.call(e,e)},t.prototype._showSlider=function(e){this._props._$contentcontainer.html(this._render("tmpl-DialogEditTableVar-fwrange-slider",{line:e,rangedescription:[e.range_description.replace("\n","<br>- ")],showSlider:!0,type:"list"}));var t=e.values,n=c.sliceDiscreteValues(t),i=void 0!==e.prec?e.prec:void 0;this._slider=new s.SliderTableVar({$container:this._$el.find(".psol-comp-dialogedittablevar-slider-input-container"),precision:i,unit:e.Unit,variableData:e}),this._slider.show();var o,r={type:"list",values:[]};for(o=0;o<n.length;++o)r.values.push({name:n[o].name,value:n[o].ug});this._$el.find(".psol-comp-dialogedittablevar-fwrange-discrete-container").html(this._render("tmpl-DialogEditTableVar-fwrange-resolved",r))},t.prototype.onApplyClicked=function(e){},t}(r.DialogBase);n.ListVarEdit=d},{"base/js/helpers":7,"base/js/logger":8,"dialogBase/js/dialogBase":15,"dialogEditTableVar/js/dialogHelpers":17,"psol.translation":207,"sliderTableVar/js/sliderTableVar":44}],19:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("dialogBase/js/dialogBase"),s=e("sliderTableVar/js/sliderTableVar"),a=e("base/js/helpers"),l=e("dialogEditTableVar/js/dialogHelpers"),c=e("psol.translation"),p=jQuery,d=function(e){function t(t){var n=e.call(this,t)||this;return n._erpEnabled=!1,n._slider=void 0,t.tableData&&(n._erpEnabled=t.tableData.erpenabled),n._props._jsrenderHelpers.compareEqual=function(e,t){return 0===a.compare(e,t)},n._props._jsrenderHelpers.isErpEnabled=function(){return n._erpEnabled},n}return o(t,e),t.prototype._getComponentName=function(){return"TableVarEdit"},t.prototype._viewEvents=function(){var t=this,n=e.prototype._viewEvents.call(this);return p.extend(!0,n,{"change; .psol-comp-dialogedittablevar-radiobtn":function(){if(t._slider){var e=p(event.target).val();t._slider.setCurrentValue(Number(e))}}})},t.prototype._updateView=function(){var t=this,n={colIdx:this._props.colIdx,fwrange:{},rangedescription:"",showSlider:!1,tableData:this._props.tableData,type:"table"};this._props.title=this._render("tmpl-DialogEditTableVar-title",n),this._props.buttons=[{callback:function(e){return t._apply(e)},label:c.zTR("Übernehmen")}],e.prototype._updateView.call(this);var i=this._props.tableData,o=i.rows[i.visiblerowindex-1].cells[this._props.colIdx],r=i.columns[this._props.colIdx];if(o.fwvalues){this._props._$contentcontainer.html(this._render("tmpl-DialogEditTableVar-fwvalues",n));var d=this._props._$contentcontainer.find(".psol-comp-dialogedittablevar-fwvalues-item"),h=void 0,u=o.value,m=void 0,f=void 0,g=void 0;for(g=0;g<d.length;++g)if(m=(h=p(d[g])).data("value"),"Z"===r.datatype&&(u=parseFloat(""+u),m=parseFloat(m)),0===a.compare(u,m)){h.find("input").prop("checked",!0),f=h.position().top,this._props._$contentcontainer.scrollTop(f);break}}else if(o.fwrange){var _=!1,v=void 0,b=void 0,w=void 0,y=void 0;for(v=0;v<o.fwrange.length;++v)if(w=(b=o.fwrange[v]).ug,y=b.og,w&&""!==w&&y&&""!==y&&w!==y&&"MIN"!==w&&"MAX"!==y){_=!0;break}if(_){n.fwrange=o.fwrange[v],n.rangedescription=o.rangedescription,n.showSlider="MIN"!==w&&"MAX"!==y,this._props._$contentcontainer.html(this._render("tmpl-DialogEditTableVar-fwrange-slider",n));var x=l.sliceDiscreteValues(o.fwrange),C={type:"table",values:[]},S=void 0;for(S=0;S<x.length;++S)C.values.push({name:x[S].name,value:x[S].ug});this._$el.find(".psol-comp-dialogedittablevar-fwrange-discrete-container").html(this._render("tmpl-DialogEditTableVar-fwrange-resolved",C));var A=void 0;r.vida&&r.vida.precision&&(A=r.vida.precision),this._slider=new s.SliderTableVar({$container:this._$el.find(".psol-comp-dialogedittablevar-slider-input-container"),precision:A,unit:r.unit,variableData:o}),this._slider.onChange=function(e){t._$el.find(".psol-comp-dialogedittablevar-radiobtn:checked").removeAttr("checked"),t._selectDiscreteValue(x,e)},this._slider.onStart=function(e){t._$el.find(".psol-comp-dialogedittablevar-radiobtn:checked").removeAttr("checked"),t._selectDiscreteValue(x,e)},this._slider.show()}else{var T=n.tableData.rows[n.tableData.visiblerowindex-1].cells[n.colIdx],M=[],k=void 0,D=void 0;for(k=0;k<T.fwrange.length;++k)""===(D=T.fwrange[k]).value&&""!==D.ug&&""!==D.og&&(0===a.compare(D.ug,D.og)?D.value=D.ug:D.value=T.value),""===D.name&&(D.name=D.value),D.selected=0===a.compare(D.value,T.value),M.push(D);var E={rangedescription:T.rangedescription,rangeshortdescription:T.rangeshortdescription,type:"table",values:M};this._props._$contentcontainer.html(this._render("tmpl-DialogEditTableVar-fwrange-resolved",E));var B=this._props._$contentcontainer.find(".psol-comp-dialogedittablevar-fwvalues-item input:checked");B.length>0&&this._props._$contentcontainer.scrollTop(B.parent().position().top)}}else{var P=[],L=void 0,R=void 0;for(L=0;L<i.rows.length;++L){R=i.rows[L].cells[this._props.colIdx];for(var V=!0,H=0,I=P;H<I.length;H++){if(I[H].name===R.value_visible){V=!1;break}}V&&P.push({name:R.value_visible,row:L,value:R.value})}this._props._$contentcontainer.html(this._render("tmpl-DialogEditTableVar-fwvalues-list",{selected:o.value,visible:P}))}},t.prototype._apply=function(e){var t=this._props.tableData,n=t.rows[t.visiblerowindex-1].cells[this._props.colIdx],i=n.value,o=this._props._$contentcontainer.find(".psol-comp-dialogedittablevar-fwvalues-item input:checked"),r=o.data("row");i=n.fwvalues?o.val():n.fwrange?o.length>0?o.val():""+this._slider.getCurrentValue():o.val(),e.row=r,e.newvalue=i,this.hide(),this.onApplyClicked.call(e,e)},t.prototype._selectDiscreteValue=function(e,t){var n=!1;if(e.length>0){var i=void 0;for(i=0;i<e.length;++i)if(0===a.compare(t,e[i].ug)){this._$el.find('.psol-comp-dialogedittablevar-radiobtn[value="'+t+'"]').prop("checked",!0),n=!0;break}n||this._$el.find(".psol-comp-dialogedittablevar-radiobtn:checked").removeAttr("checked")}},t.prototype.onApplyClicked=function(e){},t}(r.DialogBase);n.TableVarEdit=d},{"base/js/helpers":7,"dialogBase/js/dialogBase":15,"dialogEditTableVar/js/dialogHelpers":17,"psol.translation":207,"sliderTableVar/js/sliderTableVar":44}],20:[function(e,t,n){"use strict";for(var i=e("psol.translation"),o=e("base/js/globals").getApiPath()+"img/drawing/actions/",r=[{name:"actClose",currentState:"visible",availableStates:["visible"],text:i.zTR("Schließen"),aliases:{default:"state_error"}},{name:"actSave",currentState:"visible",availableStates:["visible"],text:i.zTR("Speichern"),aliases:{default:"drawer_save"}},{name:"actClear",currentState:["visible","disabled"],availableStates:["visible","disabled"],text:i.zTR("Löschen"),aliases:{default:"state_error"}},{name:"actUndo",currentState:["visible","disabled"],availableStates:["visible","disabled"],text:i.zTR("Rückgängig"),aliases:{default:"drawer_undo"}},{name:"actRedo",currentState:["visible","disabled"],availableStates:["visible","disabled"],text:i.zTR("Wiederholen"),aliases:{default:"drawer_redo"}},{name:"actColor",currentState:"visible",availableStates:["visible"],text:i.zTR("Farbe auswählen"),aliases:{default:"drawer_select_color"}},{name:"actBrushSize",currentState:"visible",availableStates:["visible"],text:i.zTR("Pinselstärke auswählen"),aliases:{default:"drawer_brushsize"}},{name:"actRuler",currentState:"visible",availableStates:["visible","active"],text:i.zTR("Raster"),aliases:{default:"drawer_grid"}},{name:"actEraser",currentState:["visible","disabled"],availableStates:["visible","disabled"],text:i.zTR("Auswahl löschen")+" (E)",aliases:{default:"drawer_select_delete"}},{name:"actSelector",currentState:["visible"],availableStates:["visible","active"],text:i.zTR("Auswahl")+" (S)",group:"drawingTools",aliases:{default:"drawer_select_rect"}},{name:"actBrush",currentState:["visible","active"],availableStates:["visible","active"],text:i.zTR("Pinsel")+" (B)",group:"drawingTools",aliases:{default:"actDrawing"}},{name:"actCircle",currentState:"visible",availableStates:["visible","active"],text:i.zTR("Kreis zeichnen")+" (C)",group:"drawingTools",aliases:{default:"drawer_circle"}},{name:"actRectangle",currentState:"visible",availableStates:["visible","active"],text:i.zTR("Rechteck zeichnen")+" (R)",group:"drawingTools",aliases:{default:"drawer_rect"}},{name:"actLine",currentState:"visible",availableStates:["visible","active"],text:i.zTR("Linie zeichnen")+" (L)",group:"drawingTools",aliases:{default:"drawer_line"}},{name:"actText",currentState:"visible",availableStates:["visible","active"],text:i.zTR("Text hinzufügen")+" (T)",group:"drawingTools",aliases:{default:"drawer_text"}}],s=0;s<r.length;++s)r[s].imageBasePath=o,r[s].imageExtension=".svg";t.exports=r},{"base/js/globals":6,"psol.translation":207}],21:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("fabric").fabric;e("ion-rangeslider"),e("jquery-minicolors");var a,l,c,p=e("buttonBar/js/buttonBar"),d=e("radialMenu/js/radialMenu"),h=function(t){function n(e){var i=t.call(this,e,{availableActions:["actClose","actSave","actUndo","actRedo","actColor","actBrushSize","actEraser","actSelector","actRuler","actBrush","actCircle","actRectangle","actLine"],brushSize:10,color:"#000000",contextMenuActions:["actColor","actBrushSize"],startCanvasJSON:null})||this;return i._$canvas=null,i._fabricCanvas=null,i._gridCanvas=null,i._buttonbar=null,i._buttonbarActions=[],i._contextMenu=null,i._contextActions=[],i._isMouseDown=!1,i._actions=[],i._currentDrawTool=n.DRAW_TOOLS.BRUSH,i._currentDrawToolInstance=null,i._currentToolOrigin=null,i._undoRedo=[],i._currentUndoRedoPosition=-1,i._dirty=!1,i._selectionActive=!1,i._ctrlKeyPressed=!1,i._shiftKeyPressed=!1,i._activeGroup=null,i._clipboard=null,i._props._jsrenderHelpers.getColor=function(){return i._props.color},i._props._jsrenderHelpers.getBrushSize=function(){return i._props.brushSize},i}return o(n,t),n.prototype._viewPostDisplay=function(e){var n=this;return t.prototype._viewPostDisplay.call(this,e).done(function(){n._initializeActions(),n._initializeCanvas().done(function(){n._addToUndoRedoStack(n.getCanvasAsJSON(),0)}),n._attachCanvasEvents(),n._initializeButtonBar().done(function(){n._initializeContextMenu(),n._initializeControls(),n._onColorChanged(n._props.color),n._changedTool()})})},n.prototype._getComponentName=function(){return"Drawing"},n.prototype._viewDestroy=function(){this._buttonbar&&(this._buttonbar.destroy(),this._buttonbar=null),this._gridCanvas&&(this._gridCanvas.dispose(),this._gridCanvas=null),this._fabricCanvas&&(this._fabricCanvas.dispose(),this._fabricCanvas=null),t.prototype._viewDestroy.call(this)},n.prototype._resizeContainer=function(){t.prototype._resizeContainer.call(this);var e=this._$el.width(),n=this._$el.height();this._gridCanvas&&(this._gridCanvas.setWidth(e),this._gridCanvas.setHeight(n)),this._fabricCanvas&&(this._fabricCanvas.setWidth(e),this._fabricCanvas.setHeight(n));var i=this._$el.find('.psol-comp-viewbase-iconbutton[data-action="actBrushSize"]');this._repositionSizeControl(i);var o=this._$el.find('.psol-comp-viewbase-iconbutton[data-action="actColor"]');this._repositionColorControl(o)},n.prototype._viewEvents=function(){return{contextMenu:function(e){return e.preventDefault(),e.stopPropagation(),!0}}},n.prototype._docEvents=function(){var e=this;return{keydown:function(t){t.ctrlKey&&(e._ctrlKeyPressed=!0),t.shiftKey&&(e._shiftKeyPressed=!0);var i=t.key.toLowerCase();e._ctrlKeyPressed?"a"===i?e._selectAll():"c"===i?e._copy():"x"===i?e._copy(!0):"v"===i?e._paste():"z"===i?e._shiftKeyPressed?e._redo():e._undo():"y"===i&&e._redo():"e"===i?e._selectTool("actEraser"):"s"===i?e._selectTool("actSelector"):"b"===i?e._selectTool("actBrush"):"c"===i?e._selectTool("actCircle"):"r"===i?e._selectTool("actRectangle"):"l"===i?e._selectTool("actLine"):"t"===i&&e._selectTool("actText"),"delete"===i||"backspace"===i?(e._eraseSelection(),e._endDrawing()):"arrowleft"===i?e._moveSelection(n.MOVE_DIRECTION.LEFT):"arrowright"===i?e._moveSelection(n.MOVE_DIRECTION.RIGHT):"arrowup"===i?e._moveSelection(n.MOVE_DIRECTION.UP):"arrowdown"===i&&e._moveSelection(n.MOVE_DIRECTION.DOWN)},keyup:function(t){var n=t.key.toLowerCase();"control"===n&&(e._ctrlKeyPressed=!1),"shift"===n&&(e._shiftKeyPressed=!1),"arrowleft"===n?e._endDrawing():"arrowright"===n?e._endDrawing():"arrowup"===n?e._endDrawing():"arrowdown"===n&&e._endDrawing()},"mousedown touchstart":function(t){var n=r(t.target),i=e._$el.find(".psol-comp-drawing-size-container"),o=e._$el.find(".psol-comp-drawing-color-container"),s=n.parents(".psol-comp-drawing-size-container").length>0,a=n.parents(".psol-comp-drawing-color-container").length>0;s||"actBrushSize"!==n.data("action")&&i.hide(0),a||"actColor"!==n.data("action")&&o.hide(0)}}},n.prototype._initializeCanvas=function(){var e=this,t=r.Deferred();this._gridCanvas=new s.Canvas(this._$el.find(".psol-comp-drawing-canvas-grid")[0]),this._$canvas=this._$el.find(".psol-comp-drawing-canvas"),this._fabricCanvas=new s.Canvas(this._$canvas[0]),this._props.startCanvasJSON&&this.loadFromJSON(this._props.startCanvasJSON);var n=this._$el.width(),i=this._$el.height();return this._gridCanvas&&(this._gridCanvas.setWidth(n),this._gridCanvas.setHeight(i)),this._fabricCanvas&&(this._fabricCanvas.setWidth(n),this._fabricCanvas.setHeight(i)),this._props._viewData&&this._props._viewData.backgroundImage?s.Image.fromURL(this._props._viewData.backgroundImage,function(n){e._fabricCanvas.setBackgroundImage(n,function(){e._fabricCanvas.renderAll(),t.resolve()},{scaleX:e._fabricCanvas.getWidth()/n.width,scaleY:e._fabricCanvas.getHeight()/n.height})}):t.resolve(),this._fabricCanvas.freeDrawingBrush.color=this._props.color,this._fabricCanvas.freeDrawingBrush.width=this._props.brushSize,this._fabricCanvas.selectionColor="rgba(255, 255, 255, 0.0)",this._fabricCanvas.selectionBorderColor="#9ab6ca",this._fabricCanvas.selectionLineWidth=2,this._fabricCanvas.selectionDashArray=[5,5],s.Object.prototype.set({borderColor:"#9ab6ca",cornerColor:"#9ab6ca",cornerSize:8,transparentCorners:!1}),t.promise()},n.prototype._attachCanvasEvents=function(){this._fabricCanvas.on("mouse:down",this._fabOnMouseDown.bind(this)),this._fabricCanvas.on("mouse:move",this._fabOnMouseMove.bind(this)),this._fabricCanvas.on("mouse:up",this._fabOnMouseUp.bind(this)),this._fabricCanvas.on("object:selected",this._fabOnSelectionCreated.bind(this)),this._fabricCanvas.on("selection:created",this._fabOnSelectionCreated.bind(this)),this._fabricCanvas.on("selection:cleared",this._fabOnSelectionCleared.bind(this))},n.prototype._initializeControls=function(){this._$el.find(".psol-comp-drawing-size-slider").ionRangeSlider({onChange:this._onBrushSizeChanged.bind(this)}),this._$el.find(".psol-comp-drawing-color-picker").minicolors({change:this._onColorChanged.bind(this),defaultValue:this._props.color,inline:!0,swatches:["#ffffff","#000000","#ff0000","#00ff00","#0000ff","#ffff00"]})},n.prototype._initializeActions=function(){var t,n,i,o=e("drawing/js/actions");for(t=0;t<o.length;++t)n=o[t],-1!==this._props.availableActions.indexOf(n.name)&&(i=this._registerAction(n),this._actions.push(i),this._buttonbarActions.push(i),-1!==this._props.contextMenuActions.indexOf(n.name)&&this._contextActions.push(i))},n.prototype._initializeButtonBar=function(){return this._buttonbar=new p({$container:this._$el.find(".psol-comp-drawing-buttonbar"),actions:this._buttonbarActions}),this._buttonbar.show()},n.prototype._initializeContextMenu=function(){var e=this;this._contextMenu=new d({$container:this._$el.find(".psol-comp-drawing-context-menu"),mainActions:this._contextActions,radius:50}),this._contextMenu.show().done(function(){e._$el.find(".psol-comp-drawing-context-menu").hide(0)})},n.prototype._toggleDrawingMode=function(){this._fabricCanvas.isDrawingMode=!this._fabricCanvas.isDrawingMode},n.prototype._repositionStickyToAction=function(e,t){if(e&&e.length>0){var n=e.offset(),i=e.position(),o=this._$el.find(".psol-comp-drawing-controls-container").width(),r=t.outerWidth(!0),s=e.width(),a=n.left+s/2-r/2,l=this._$el.find(".psol-comp-drawing-buttonbar").height()-i.top;a+r>o?a=n.left+s-r:a<0&&(a=n.left),t.css({bottom:l,left:a})}},n.prototype._repositionColorControl=function(e){this._repositionStickyToAction(e,this._$el.find(".psol-comp-drawing-color-container"))},n.prototype._repositionSizeControl=function(e){this._repositionStickyToAction(e,this._$el.find(".psol-comp-drawing-size-container"))},n.prototype._showContextMenu=function(e){var t=this._$el.find(".psol-comp-drawing-context-menu"),n={x:0,y:0},i=this._$el.offset();n.x=e.pageX-i.left,n.y=e.pageY-i.top,t.css({left:n.x,top:n.y}).show(0)},n.prototype._setDirty=function(e){this._dirty=e;var t=this._getAction("actClear");t&&t.setState("disabled",!this._dirty)},n.prototype._onColorChanged=function(e){this._props.color=e,this._fabricCanvas.freeDrawingBrush.color=e,this._$el.find('svg[data-svgsymbolid="drawer_select_color"] path.solid-color-selection').css({fill:e});for(var t={},n=0,i=this._fabricCanvas.getActiveObjects();n<i.length;n++){var o=i[n];t={},"line"===o.type||"path"===o.type?t.stroke=e:t.fill=e,o.set(t)}this._fabricCanvas.renderAll()},n.prototype._onBrushSizeChanged=function(e){var t=parseInt(""+e.input.val(),10);this._props.brushSize=t,this._fabricCanvas.freeDrawingBrush.width=t},n.prototype._onactClose=function(e){var t=this;this.onCloseComponent&&this.onCloseComponent().done(function(e){e&&(t._props.$container.hide(0),t.destroy())})},n.prototype._onactSave=function(e){this.onSave(this)},n.prototype._onactClear=function(e){this._dirty&&(this._fabricCanvas.clear(),this._setDirty(!1),this._addToUndoRedoStack(this.getCanvasAsJSON(),this._currentUndoRedoPosition+1),this._enableUndoRedoActions())},n.prototype._onactUndo=function(e){this._undo()},n.prototype._onactRedo=function(e){this._redo()},n.prototype._onactColor=function(e){var t=this._$el.find(".psol-comp-drawing-color-container");if(this._$el.find(".psol-comp-drawing-size-container").hide(0),t.is(":visible"))t.hide(0);else{var n=r(e.currentTarget);this._repositionColorControl(n),t.show(0)}},n.prototype._onactBrushSize=function(e){var t=this._$el.find(".psol-comp-drawing-size-container");if(this._$el.find(".psol-comp-drawing-color-container").hide(0),t.is(":visible"))t.hide(0);else{var n=r(e.currentTarget);this._repositionSizeControl(n),t.show(0)}},n.prototype._onactRuler=function(e){if(e.action.hasState("active")){var t=this._gridCanvas.getWidth(),n=this._gridCanvas.getHeight(),i=void 0;for(i=0;i<t/24;++i)this._gridCanvas.add(new s.Line([24*i,0,24*i,n],{selectable:!1,stroke:"#ccc"}));for(i=0;i<n/24;++i)this._gridCanvas.add(new s.Line([0,24*i,t,24*i],{selectable:!1,stroke:"#ccc"}))}else this._gridCanvas.clear()},n.prototype._onactSelector=function(e){this._currentDrawTool!==n.DRAW_TOOLS.SELECTOR&&(this._currentDrawTool=n.DRAW_TOOLS.SELECTOR,this._changedTool())},n.prototype._onactEraser=function(e){this._eraseSelection()},n.prototype._onactBrush=function(e){this._currentDrawTool!==n.DRAW_TOOLS.BRUSH&&(this._currentDrawTool=n.DRAW_TOOLS.BRUSH,this._changedTool())},n.prototype._onactCircle=function(e){this._currentDrawTool!==n.DRAW_TOOLS.CIRCLE&&(this._currentDrawTool=n.DRAW_TOOLS.CIRCLE,this._changedTool())},n.prototype._onactRectangle=function(e){this._currentDrawTool!==n.DRAW_TOOLS.RECTANGLE&&(this._currentDrawTool=n.DRAW_TOOLS.RECTANGLE,this._changedTool())},n.prototype._onactLine=function(e){this._currentDrawTool!==n.DRAW_TOOLS.LINE&&(this._currentDrawTool=n.DRAW_TOOLS.LINE,this._changedTool())},n.prototype._onactText=function(e){this._currentDrawTool!==n.DRAW_TOOLS.TEXT&&(this._currentDrawTool=n.DRAW_TOOLS.TEXT,this._changedTool())},n.prototype._eraseSelection=function(){for(var e=0,t=this._fabricCanvas.getActiveObjects();e<t.length;e++){var n=t[e];this._fabricCanvas.remove(n)}this._fabricCanvas.discardActiveObject().renderAll()},n.prototype._undo=function(){if(this._currentUndoRedoPosition>0){if(this._currentUndoRedoPosition--,this._currentUndoRedoPosition>=0){var e=this._undoRedo[this._currentUndoRedoPosition];e.objects&&0===e.objects.length?this._setDirty(!1):e.objects&&e.objects.length>0&&this._setDirty(!0),this.loadFromJSON(e)}this._enableUndoRedoActions()}},n.prototype._redo=function(){if(this._currentUndoRedoPosition>=0&&this._currentUndoRedoPosition+1<=this._undoRedo.length-1){this._currentUndoRedoPosition++;var e=this._undoRedo[this._currentUndoRedoPosition];e.objects&&0===e.objects.length?this._setDirty(!1):e.objects&&e.objects.length>0&&this._setDirty(!0),this.loadFromJSON(e)}this._enableUndoRedoActions()},n.prototype._selectTool=function(e){var t=[];this._buttonbarActions.forEach(function(e){"drawingTools"===e.group&&e.hasStateAvailable("active")&&(e.hasState("active")&&t.push(e),e.setState("active",!1))});var n=this._getAction(e);n?(n.hasStateAvailable("active")?n.setState("active",!0):t.forEach(function(e){e.setState("active",!0)}),n.hasState("visible")&&this["_on"+e]&&this["_on"+e]({action:n})):t.forEach(function(e){e.setState("active",!0)})},n.prototype._selectAll=function(){this._selectTool("actSelector"),this._activeGroup&&this._fabricCanvas.remove(this._activeGroup),this._fabricCanvas.discardActiveObject();var e=this._fabricCanvas.getObjects();this._activeGroup=new s.ActiveSelection(e,{originX:"center",originY:"center"}),this._fabricCanvas.setActiveObject(this._activeGroup).renderAll()},n.prototype._deselectAll=function(){this._fabricCanvas.discardActiveObject().renderAll()},n.prototype._copy=function(e){var t=this;e=!!e;var n=this._fabricCanvas.getActiveObject();n&&n.clone(function(e){t._clipboard=e}),e&&this._eraseSelection()},n.prototype._paste=function(){var e=this;if(this._clipboard){this._selectTool("actSelector"),this._currentDrawTool=n.DRAW_TOOLS.SELECTOR,this._changedTool();try{this._clipboard.clone(function(t){t.isType("activeSelection")?t.forEachObject(function(t){e._fabricCanvas.add(t)}):e._fabricCanvas.add(t),e._fabricCanvas.discardActiveObject(),e._fabricCanvas.setActiveObject(t)})}catch(e){}this._fabricCanvas.renderAll(),this._endDrawing()}},n.prototype._moveSelection=function(e){var t=0,i=0;switch(e){case n.MOVE_DIRECTION.UP:i-=10;break;case n.MOVE_DIRECTION.LEFT:t-=10;break;case n.MOVE_DIRECTION.DOWN:i+=10;break;case n.MOVE_DIRECTION.RIGHT:t+=10}var o=this._fabricCanvas.getActiveObject();o&&(o.left+=t,o.top+=i,o.setCoords()),this._fabricCanvas.renderAll()},n.prototype._changedTool=function(){var e=!1,t=!1;switch(this._fabricCanvas.selection=!1,this._fabricCanvas.isDrawingMode=!1,this._currentDrawTool){case n.DRAW_TOOLS.SELECTOR:this._fabricCanvas.selection=!0,e=!0;break;case n.DRAW_TOOLS.BRUSH:this._fabricCanvas.isDrawingMode=!0,t=!0;break;case n.DRAW_TOOLS.CIRCLE:case n.DRAW_TOOLS.RECTANGLE:case n.DRAW_TOOLS.LINE:case n.DRAW_TOOLS.TEXT:t=!0;break;case n.DRAW_TOOLS.ERASER:}this._fabricCanvas.forEachObject(function(t){t.perPixelTargetFind=!0,t.selectable=e}),t&&this._deselectAll()},n.prototype._drawCircle=function(e){var t=this._currentDrawToolInstance,n=this._currentToolOrigin.x-e.x,i=this._currentToolOrigin.y-e.y;var o=Math.sqrt(Math.pow(this._currentToolOrigin.x-e.x,2)+Math.pow(this._currentToolOrigin.y-e.y,2));t.set({originX:"center",originY:"center",radius:Math.abs(o)})},n.prototype._drawRect=function(e){var t=this._currentDrawToolInstance,n=this._currentToolOrigin.x-e.x,i=this._currentToolOrigin.y-e.y,o="left",r="top";n>0&&(o="right"),i>0&&(r="bottom"),t.set({height:Math.abs(i),originX:o,originY:r,width:Math.abs(n)})},n.prototype._drawLine=function(e){this._currentDrawToolInstance.set({x2:e.x,y2:e.y})},n.prototype._drawText=function(e){},n.prototype._startDrawing=function(e){var t=null,i=this._fabricCanvas.getPointer(e.e);switch(this._currentToolOrigin=i,this._currentDrawTool){case n.DRAW_TOOLS.CIRCLE:t=new s.Circle({fill:this._props.color,left:i.x,originX:"top",originY:"left",radius:1,top:i.y});break;case n.DRAW_TOOLS.RECTANGLE:t=new s.Rect({fill:this._props.color,height:0,left:i.x,originX:"left",originY:"top",top:i.y,width:0});break;case n.DRAW_TOOLS.LINE:var o=[i.x,i.y,i.x,i.y];t=new s.Line(o,{originX:"center",originY:"center",stroke:this._props.color,strokeWidth:this._props.brushSize});break;case n.DRAW_TOOLS.ERASER:case n.DRAW_TOOLS.SELECTOR:case n.DRAW_TOOLS.TEXT:case n.DRAW_TOOLS.BRUSH:default:t=null}null!==t&&this._fabricCanvas.add(t),this._currentDrawToolInstance=t},n.prototype._draw=function(e){if(null!==this._currentDrawToolInstance){var t=this._fabricCanvas.getPointer(e.e);switch(this._currentDrawTool){case n.DRAW_TOOLS.CIRCLE:this._drawCircle(t);break;case n.DRAW_TOOLS.RECTANGLE:this._drawRect(t);break;case n.DRAW_TOOLS.LINE:this._drawLine(t);break;case n.DRAW_TOOLS.TEXT:this._drawText(t);break;case n.DRAW_TOOLS.BRUSH:case n.DRAW_TOOLS.SELECTOR:case n.DRAW_TOOLS.ERASER:}}this._fabricCanvas.renderAll()},n.prototype._endDrawing=function(){var e=this._currentDrawToolInstance;null!==e&&(e.setCoords(),this._currentToolOrigin=null,this._currentDrawToolInstance=null),this._changedTool();var t=this.getCanvasAsJSON(),n=this._undoRedo[this._currentUndoRedoPosition];JSON.stringify(n)!==JSON.stringify(t)&&(this._setDirty(!0),this._addToUndoRedoStack(t,this._currentUndoRedoPosition+1))},n.prototype._enableUndoRedoActions=function(){var e=this._getAction("actUndo"),t=this._getAction("actRedo"),n=this._undoRedo.length;t&&(this._currentUndoRedoPosition!==n-1?t.setState("disabled",!1):t.setState("disabled",!0)),e&&(n>1&&this._currentUndoRedoPosition>0?e.setState("disabled",!1):e.setState("disabled",!0))},n.prototype._addToUndoRedoStack=function(e,t){this._undoRedo.splice(t),this._undoRedo.push(e),this._currentUndoRedoPosition=this._undoRedo.length-1,this._enableUndoRedoActions()},n.prototype._fabOnMouseDown=function(e){this._isMouseDown=!0,this._startDrawing(e)},n.prototype._fabOnMouseMove=function(e){this._isMouseDown&&this._draw(e)},n.prototype._fabOnMouseUp=function(e){this._isMouseDown=!1,this._endDrawing()},n.prototype._fabOnSelectionCreated=function(e){this._selectionActive=!0,this._getAction("actEraser").setState("disabled",!1)},n.prototype._fabOnSelectionCleared=function(e){this._selectionActive=!1,this._getAction("actEraser").setState("disabled",!0)},n.prototype.loadFromJSON=function(e,t){t=t||this._fabricCanvas.renderAll.bind(this._fabricCanvas),this._fabricCanvas&&this._fabricCanvas.loadFromJSON(e,t)},n.prototype.getCanvasAsJSON=function(){return this._fabricCanvas?this._fabricCanvas.toJSON():{}},n.prototype.getCanvasAsDataUrl=function(){return this._fabricCanvas?this._fabricCanvas.toDataURL():""},n.prototype.onCloseComponent=function(){return r.Deferred().resolve(!0)},n.prototype.onSave=function(e){},n}(e("viewBase/js/viewBase").ViewBase);n.Drawing=h,a=h=n.Drawing||(n.Drawing={}),(l=a.DRAW_TOOLS||(a.DRAW_TOOLS={}))[l.BRUSH=1]="BRUSH",l[l.CIRCLE=2]="CIRCLE",l[l.RECTANGLE=3]="RECTANGLE",l[l.LINE=4]="LINE",l[l.TEXT=5]="TEXT",l[l.ERASER=6]="ERASER",l[l.SELECTOR=7]="SELECTOR",l[l.UNKNOWN=99]="UNKNOWN",(c=a.MOVE_DIRECTION||(a.MOVE_DIRECTION={}))[c.UP=0]="UP",c[c.LEFT=1]="LEFT",c[c.DOWN=2]="DOWN",c[c.RIGHT=3]="RIGHT",n.Drawing=h},{"buttonBar/js/buttonBar":11,"drawing/js/actions":20,fabric:"fabric","ion-rangeslider":"ion-rangeslider","jquery-minicolors":"jquery-minicolors","radialMenu/js/radialMenu":39,"viewBase/js/viewBase":58}],22:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("base/js/helpers"),a=e("dialogBase/js/dialogBase"),l=e("indexBrowsing/js/indexBrowsing"),c=e("moment"),p=e("psol.core"),d=e("psol.index"),h=e("psol.translation"),u=e("viewBase/js/progressEvent"),m=function(e){function t(t,n){var i=e.call(this,{buttons:[{callback:function(){i.hide()},label:h.zTR("Abbrechen")}],title:h.zTR("Abgelöstes Teil")})||this;return c.locale(p.getShortIsoByLanguage(p.getLanguage())),i._eolData=r.extend(!0,{expDateTag:"<span class=psol-comp-eolDialog-expirationDate>"+c(t.eol.expirationDate).format("LL")+"</span>"},t),delete i._eolData.lines,i._indexBrowsing=n,i._replacementParts=[],i}return o(t,e),t.prototype._initReplacements=function(){var e=this,t=[],n=function(t){return d.getNodeInfoAsync({eol:1,path:t}).then(function(n){if(n&&n.index&&n.index.nodes)for(var i=n.index.nodes[0],o=0,r=e._replacementParts;o<r.length;o++){var s=r[o];if(s.path===t){s.node=i;break}}else e._replacementParts=e._replacementParts.filter(function(e){return e.path!==t});return n}).fail(function(){e._replacementParts=e._replacementParts.filter(function(e){return e.path!==t})})};if(this._eolData.eol&&this._eolData.eol.replacements)for(var i=0,o=this._eolData.eol.replacements;i<o.length;i++){var a=o[i],l=s.splitMident(a);this._replacementParts.push(l),t.push(n(l.path))}return r.when.apply(r,t)},t.prototype._onNodeClicked=function(e){this._indexBrowsing&&this._indexBrowsing.onNodeClicked(e),this.hide()},t.prototype._getComponentName=function(){return"EolDialog"},t.prototype._updateView=function(){var t=this;this._props._$contentcontainer.html(this._render("tmpl-EolDialog",this._eolData)),e.prototype._updateView.call(this),this._indexOriginalPart=new l({$container:this._props._$contentcontainer.find(".psol-comp-eolDialog-original-part-index"),disallowScroll:!0}),"expired-available"!==this._eolData.eol.state&&"replaced-available"!==this._eolData.eol.state||(this._indexOriginalPart.onNodeClicked=this._onNodeClicked.bind(this)),this._indexReplacedPart=new l({$container:this._props._$contentcontainer.find(".psol-comp-eolDialog-replacement-part-index"),disallowScroll:!0}),this._indexReplacedPart.onNodeClicked=this._onNodeClicked.bind(this);var n=new u.ProgressEvent(h.zTR("Bitte warten..."),h.zTR("Index wird geladen..."));this.onProgressBegin(n),this._indexOriginalPart.show().then(function(){t._indexOriginalPart.loadByIndexNodes([t._eolData],!1,{showCatalogImages:!0})}),this._indexReplacedPart.show().then(function(){t._initReplacements().done(function(){var e=t._replacementParts.map(function(e){return e.node});t._indexReplacedPart.loadByIndexNodes(e,!1,{showCatalogImages:!0}),t.onProgressEnd(n)})})},t}(a.DialogBase);n.EolDialog=m},{"base/js/helpers":7,"dialogBase/js/dialogBase":15,"indexBrowsing/js/indexBrowsing":27,moment:"moment","psol.core":196,"psol.index":200,"psol.translation":207,"viewBase/js/progressEvent":55}],23:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,s,a=e("dialogBase/js/dialogBase"),l=e("hotspot/js/hotspot"),c=e("hotspot/js/hotspotTypesConfig"),p=e("psol.translation"),d=jQuery,h=e("viewBase/js/viewHelper");(s=r||(r={}))[s.ADD_HOTSPOT=0]="ADD_HOTSPOT",s[s.EDIT_HOTSPOT=1]="EDIT_HOTSPOT",s[s.DEL_HOTSPOT=2]="DEL_HOTSPOT",n.HotSpotDialogActions=r;var u=function(t){function n(e){var n=t.call(this,d.extend(!0,{action:e.action||r.ADD_HOTSPOT,buttons:[{callback:function(){return n.hide()},label:p.zTR("OK")}],hotspot:void 0,language:"default",onCloseButton:void 0,showTitleCloseButton:!0,sizeToContent:!1,title:e.action===r.EDIT_HOTSPOT?p.zTR("HotSpot editieren"):p.zTR("HotSpot hinzufügen"),unitBase:"mm"},e||{}))||this;n._editor=void 0,n._cameraParams=void 0,n._componentsSceneMatrix=void 0,n._maxImagesByteSizeForHTMLContent=2097152,n._viewOptions={},n._cameraParams=e.hotspot&&e.hotspot.cameraParams||{},n._componentsSceneMatrix=e.hotspot&&e.hotspot.componentsSceneMatrix||[];var i=e.hotspot,o=i&&l.HotSpot.getTypesObjectByType(i.type)||c.HotSpotTypes.HTML,s=i&&l.HotSpot.getSubtypesObjectByParentTypeAndType(i.meta.subtype,o)||null;return n._viewOptions={activeSubType:s,activeType:o,defaultLanguage:"default",hotspot:e.hotspot,language:e.language,types:c.HotSpotTypes},n._maxLineLength=n._props.sphereRadius,n._maxLineLengthInPercent=100*n._maxLineLength/n._props.sphereRadius,n._props._jsrenderHelpers.isEmptyObject=function(e){return d.isEmptyObject(e)},n._props._jsrenderHelpers.checkForLineLengthUnits=function(e){return n._getLineLengthUnitForHotSpot(e)},n}return o(n,t),n.prototype._getComponentName=function(){return"HotSpotDialog"},n.prototype._getLineLengthUnitForHotSpot=function(e){return e&&e.line?e.line.relativeToPart?"%":this._props.unitBase:"%"},n.prototype._convertUnitValueToPercent=function(e){return Math.round(e/this._props.sphereRadius*100*1e3)/1e3},n.prototype._convertPercentToUnitValue=function(e){return Math.round(e/100*this._props.sphereRadius*1e3)/1e3},n.prototype._updateLineLengthUnit=function(){var e=this._$el.find("input[type=number].psol-comp-hotspotDialog-lineLength"),t=this._$el.find(".psol-comp-hotspotDialog-relativeToPart")[0],n=t&&t.checked||!1,i=this._$el.find(".psol-comp-hotspotDialog-lineLength-units"),o=parseFloat(e.val().toString());n&&"%"!==i[0].innerHTML?(e.val(this._convertUnitValueToPercent(o)),i.html("%")):n||i[0].innerHTML===this._props.unitBase||(e.val(this._convertPercentToUnitValue(o)),i.html(this._props.unitBase)),e.css({"padding-right":this._$el.find(".psol-comp-hotspotDialog-lineLength-units").outerWidth(!0)})},n.prototype._setEditor=function(t){var n=this,i=this._$el.find(".psol-comp-hotspotDialog-editor")[0];if(i){var o=e("quill");this._editor=new o(i,{bounds:this._$el.find(".psol-comp-hotspotDialog")[0],modules:{toolbar:[["bold","italic","underline"],["link","image"]]},theme:"snow"}),this._editor.on("text-change",function(e,t,i){n._checkForHTMLImageData()}),t&&this._editor.clipboard.dangerouslyPasteHTML(t)}},n.prototype._checkForHTMLImageData=function(){if(this._editor.root){for(var e=0,t=0,n=d(this._editor.root).find("img").toArray();t<n.length;t++){e+=.75*n[t].src.replace(/data:image\/\w+;base64,/g,"").replace(/=/g,"").length}return e<this._maxImagesByteSizeForHTMLContent?(this._hideError(),!1):(this._showError(p.zTR("Die Größe der eingebundenen Bilder ist zu groß. Bitte beschränken Sie diese auf %1 MB.",[Math.floor(this._maxImagesByteSizeForHTMLContent/1e6).toString()])),!0)}return!1},n.prototype._showError=function(e,t){var n;if(this._$el.find(".psol-comp-hotspotDialog-errorContainer").html(e),t){t instanceof Array||(n=[t]);var i=void 0;for(i=0;i<t.length;i++)n[i].addClass("error")}},n.prototype._hideError=function(e){this._$el&&(this._$el.find(".psol-comp-hotspotDialog-errorContainer").html(""),e?e.removeClass("error"):this._$el.find(".error").removeClass("error"))},n.prototype._checkUrl=function(e){return e.match(/^(http|https):\/\//gi)?h.isValidUrl(e)?e:"":h.isValidUrl(e,!0)?(0!==e.indexOf("//")&&(e="//"+e),e):""},n.prototype._updateRemoveImageInputTagButtons=function(){var e=this._$el.find(".psol-comp-hotspotDialog-imageLinkContainer");if(e.length){var t=this._$el.find(".psol-comp-hotspotDialog-removeLinkContainer");e.length>1?(t.show(0),t.addClass("psol-comp-viewbase-input-group-button"),e.addClass("psol-comp-viewbase-input-group")):(t.hide(0),t.removeClass("psol-comp-viewbase-input-group-button"),e.removeClass("psol-comp-viewbase-input-group"))}},n.prototype._checkForCameraParamsButtons=function(){var e=this._$el.find(".psol-comp-hotspotDialog-saveCamera"),t=this._$el.find(".psol-comp-hotspotDialog-updateCamera"),n=this._$el.find(".psol-comp-hotspotDialog-removeCamera");d.isEmptyObject(this._cameraParams)?(e.show(0),t.hide(0),n.hide(0)):(e.hide(0),t.show(0),n.show(0))},n.prototype._saveCameraParams=function(){this._props.getCameraParams&&(this._cameraParams=this._props.getCameraParams()),this._checkForCameraParamsButtons()},n.prototype._updateCameraParams=function(){this._saveCameraParams()},n.prototype._removeCameraParams=function(){this._cameraParams={},this._checkForCameraParamsButtons()},n.prototype._checkForMaxLineLength=function(e){var t=this._$el.find(".psol-comp-hotspotDialog-relativeToPart")[0];if(t&&t.checked||!1){if(e>this._maxLineLengthInPercent)return Math.floor(this._maxLineLengthInPercent)}else if(e>Math.floor(this._maxLineLength))return Math.floor(this._maxLineLength);return e},n.prototype.getResult=function(){var e,t,n,i,o,r,s,a,l,u,m,f,g,_,v,b,w,y,x,C=!1,S=[],A=this._viewOptions.language||this._viewOptions.defaultLanguage,T=h.validateForm(this._$el.find(".psol-comp-hotspotDialog"));if(this._hideError(),T.length)return this._showError(p.zTR("Bitte alle mit '*' makierten Felder ausfüllen!"),T),e;if(this._viewOptions.activeType===c.HotSpotTypes.HTML&&this._checkForHTMLImageData())return e;if(e={cameraParams:void 0,componentsSceneMatrix:void 0,id:void 0,line:{length:10,relativeToPart:!0},meta:{},more:{default:""},normal:void 0,position:void 0,title:{default:""},type:void 0},v=this._$el.find(".psol-comp-hotspotDialog-hotspottype").val().toString(),e.type=v,(b=this._$el.find(".psol-comp-hotspotDialog-hotspotsubtype")).length&&(b=b.val(),e.meta.subtype=b),t=(t=this._$el.find(".psol-comp-hotspotDialog-title")).val().toString().replace(/</g,"&lt;").replace(/>/g,"&gt;"),e.title[A]=t,f=this._$el.find(".psol-comp-hotspotDialog-lineLength")[0],e.line.length=f&&!isNaN(parseFloat(f.value))?parseFloat(f.value):e.line.length,g=this._$el.find(".psol-comp-hotspotDialog-relativeToPart")[0],e.line.relativeToPart=g&&g.checked||!1,e.cameraParams=this._cameraParams,this._props.getComponentsSceneMatrix&&(e.componentsSceneMatrix=this._props.getComponentsSceneMatrix().elements),o=(i=this._$el.find(".psol-comp-hotspotDialog-url")).val(),v===c.HotSpotTypes.HTML.type&&this._editor&&this._editor.root){n=this._editor.root;var M=d(n).find("a"),k=void 0;for(k=0;k<M.length;k++)M[k].setAttribute("href",this._checkUrl(M[k].getAttribute("href")));var D=void 0;for(D=n.children.length-1;D>=0&&"<p><br></p>"===n.children[D].outerHTML;D--)d(n.children[D]).remove();n=n.innerHTML,e.meta.content={default:""},e.meta.content[A]=n}else if(v===c.HotSpotTypes.LINK.type){if(s=this._$el.find(".psol-comp-hotspotDialog-videoAutoplay")[0],b===c.HotSpotTypes.LINK.subtypes.YOUTUBE.type)if(s=s&&s.checked||!1,_=o.match(/^(https?):\/\/(www\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||o.match(/^(https?):\/\/(www\.)?youtu\.be\/([a-zA-Z0-9_-]+)/)){var E=o.match(/.*\?.*t=(\d+)/);null===E||E[1];o=_[1]+"://www.youtube.com/embed/"+_[3]+"?showinfo=0&enablejsapi=1"+E}else o.match(/^(https?):\/\/(www\.)?youtube\.com\/embed\/([a-zA-Z0-9_-]+)/)||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[c.HotSpotTypes.LINK.subtypes.YOUTUBE.name]),S.push(i));else b===c.HotSpotTypes.LINK.subtypes.VIMEO.type?(s=s&&s.checked||!1,(_=o.match(/^(https?):\/\/(www\.)?vimeo\.com\/(\d+)/))?o=_[1]+"://player.vimeo.com/video/"+_[3]+"/":o.match(/^(https?):\/\/(www\.)?player\.vimeo\.com\/video\/(\d+)/)||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[c.HotSpotTypes.LINK.subtypes.VIMEO.name]),S.push(i))):b===c.HotSpotTypes.LINK.subtypes.WIKIPEDIA.type?(o=this._checkUrl(o))||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[c.HotSpotTypes.LINK.subtypes.WIKIPEDIA.name]),S.push(i)):b===c.HotSpotTypes.LINK.subtypes.WEBSITE.type&&((o=this._checkUrl(o))||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[c.HotSpotTypes.LINK.subtypes.WEBSITE.name]),S.push(i)));e.meta.url={default:""},e.meta.url[A]=o,"boolean"==typeof s&&(e.meta.autoplay=s)}else if(v===c.HotSpotTypes.CATALOG.type)if(b===c.HotSpotTypes.CATALOG.subtypes.DIR.type||b===c.HotSpotTypes.CATALOG.subtypes.PRJ.type){(o=this._checkUrl(o))&&o.match(/\.partcommunity\.com\/3d-cad-models/)?b!==c.HotSpotTypes.CATALOG.subtypes.PRJ.type||o.match(/.prj$/)||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",["PCOM Project"]),S.push(i)):(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",["PCOM Catalog"]),S.push(i)),u=(l="info=").length;o=o.replace(/^((?:http(?:s)?:)?\/\/[\w-\.]+\.partcommunity\.com\/3d-cad-models\/)(sso\/.*)(\?.*)/,"$1$3"),b===c.HotSpotTypes.CATALOG.subtypes.DIR.type||b===c.HotSpotTypes.CATALOG.subtypes.PRJ.type?(a=o.substring(0,o.indexOf(l)+l.length),e.meta.url={default:""},e.meta.url[A]=a,m=o.substring(o.indexOf(l)+l.length,o.length).replace(/%2F/g,"/"),e.meta.info=m):c.HotSpotTypes.CATALOG.subtypes.CATEGORY.type,r=this._$el.find(".psol-comp-hotspotDialog-varset").val(),e.meta.varset=r}else b===c.HotSpotTypes.CATALOG.subtypes.TEXTSEARCH.type&&(x=this._$el.find(".psol-comp-hotspotDialog-textsearchinput").val(),e.meta.query={default:x},e.meta.query[A]=x);else if(v===c.HotSpotTypes.PARTCLOUD.type)b===c.HotSpotTypes.PARTCLOUD.subtypes.MODEL.type||b===c.HotSpotTypes.PARTCLOUD.subtypes.COLLECTION.type?(o=this._checkUrl(o),b===c.HotSpotTypes.PARTCLOUD.subtypes.MODEL.type?l="model_id=":b===c.HotSpotTypes.PARTCLOUD.subtypes.COLLECTION.type&&(l="collection_id="),u=l.length,a=o.substring(0,o.indexOf(l)+u),m=o.substring(o.indexOf(l)+u,o.length).replace(/%2F/g,"/"),b===c.HotSpotTypes.PARTCLOUD.subtypes.MODEL.type?o&&a.match(/^(?:http(?:s)?:)?\/\/b2b\.partcommunity\.com\/community\/partcloud\/(?:index)?\?route=part/)||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",["PARTcloud model"]),S.push(i)):b===c.HotSpotTypes.PARTCLOUD.subtypes.COLLECTION.type&&(o&&a.match(/^(?:http(?:s)?:)?\/\/b2b\.partcommunity\.com\/community\/partcloud\/(?:index)?\?route=collection/)||(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",["PARTcloud collection"]),S.push(i))),e.meta.url={default:""},e.meta.url[A]=a,e.meta.info=m):b===c.HotSpotTypes.PARTCLOUD.subtypes.TEXTSEARCH.type&&(x=this._$el.find(".psol-comp-hotspotDialog-textsearchinput").val(),e.meta.query={default:x},e.meta.query[A]=x);else if(v===c.HotSpotTypes.IMAGE.type){var B=this._$el.find(".psol-comp-hotspotDialog-imageLink");e.meta.src=e.meta.src||[];var P=void 0;for(P=0;P<B.length;P++)o=d(B[P]).val().toString(),(o=this._checkUrl(o))?e.meta.src.push(o):(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[""]),S.push(d(B[P])))}return w=this._$el.find(".psol-comp-hotspotDialog-showmore").val().toString(),(w=this._checkUrl(w))&&!w&&(C=!0,y=p.zTR("Bitte einen gültigen %1 Link eingeben!",[""]),S.push(this._$el.find(".psol-comp-hotspotDialog-showmore"))),e.more={default:""},e.more[A]=w,C?(this._showError(y,S),{}):e},n.prototype.getEditedHotSpotData=function(){return this.getResult()},n.prototype._updateView=function(){var e,n=d.extend(!0,{},this._viewOptions);switch(this._props.action){case r.EDIT_HOTSPOT:if(n.activeType.type===c.HotSpotTypes.HTML.type){var i="";if(n.hotspot.meta.content&&(i=n.hotspot.meta.content[this._viewOptions.language||this._viewOptions.defaultLanguage])){var o=n.hotspot.meta.content.images;if(o){var s=void 0;for(s=0;s<o.length;s++)i=i.replace("___"+s+"___",o[s])}}e=i}break;case r.ADD_HOTSPOT:}this._props._$contentcontainer.html(this._render("tmpl-HotSpotDialog",n)),n.activeType.type===c.HotSpotTypes.HTML.type&&this._setEditor(e),this._updateRemoveImageInputTagButtons(),this._checkForCameraParamsButtons(),this._updateLineLengthUnit(),t.prototype._updateView.call(this)},n.prototype.onCloseButton=function(){this._props.onCloseButton&&this._props.onCloseButton()},n.prototype._viewEvents=function(){var e=this,n=t.prototype._viewEvents.call(this),i={"change; .psol-comp-hotspotDialog-hotspotsubtype":function(t){var n=t.currentTarget.value;d.each(e._viewOptions.activeType.subtypes,function(t,i){if(i.type===n)return e._viewOptions.activeSubType=e._viewOptions.activeType.subtypes[t],!1}),e._updateView()},"change; .psol-comp-hotspotDialog-hotspottype":function(t){var n=t.currentTarget.value;d.each(c.HotSpotTypes,function(t,i){if(i.type===n){if(e._viewOptions.activeType=c.HotSpotTypes[t],c.HotSpotTypes[t].subtypes){var o=void 0;for(o in c.HotSpotTypes[t].subtypes)if(c.HotSpotTypes[t].subtypes.hasOwnProperty(o)){e._viewOptions.activeSubType=c.HotSpotTypes[t].subtypes[o];break}}else e._viewOptions.activeSubType=void 0;return!1}}),e._updateView()},"change; .psol-comp-hotspotDialog-relativeToPart":function(){e._updateLineLengthUnit()},"click; .psol-comp-hotspotDialog-addMoreButton":function(){var t=e._$el.find(".psol-comp-hotspotDialog-imageLinkContainer"),n=(t=d(t[t.length-1])).clone();n.find(".psol-comp-hotspotDialog-imageLink").val(""),n.insertAfter(t),e._updateRemoveImageInputTagButtons()},"click; .psol-comp-hotspotDialog-removeCamera":function(){e._removeCameraParams()},"click; .psol-comp-hotspotDialog-removeImageLink":function(t){d(t.currentTarget).closest(".psol-comp-hotspotDialog-imageLinkContainer").remove(),e._updateRemoveImageInputTagButtons()},"click; .psol-comp-hotspotDialog-saveCamera":function(){e._saveCameraParams()},"click; .psol-comp-hotspotDialog-updateCamera":function(){e._updateCameraParams()},"input; input.psol-comp-hotspotDialog-lineLength":function(t){var n=t.target,i=parseFloat(n.value),o=e._checkForMaxLineLength(i);o!==i&&(n.value=o.toString())}};return d.extend(!0,n,i)},n.prototype.setErrorMessage=function(e){this._showError(e)},n}(a.DialogBase);n.HotSpotDialog=u},{"dialogBase/js/dialogBase":15,"hotspot/js/hotspot":24,"hotspot/js/hotspotTypesConfig":25,"psol.translation":207,quill:"quill","viewBase/js/viewHelper":59}],24:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("base/js/helpers"),s=e("psol.cloud"),a=e("psol.core"),l=e("psol.index"),c=e("psol.preview"),p=e("psol.search"),d=e("psol.translation"),h=e("viewBase/js/progressEvent"),u=e("viewBase/js/viewBase"),m=e("./hotspotTypesConfig"),f=jQuery,g=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i._info=void 0,i._collapsed=!0,i._maxNaturalWidth=0,i._maxNaturalHeight=0,i._dummyResolvedDeferred=void 0,i._scrollableContent=!1,i._lastXHRoptions={},i._wasShown=!1,i._isVisible=!1,i._body=void 0,i._header=void 0,i._footer=void 0,i._more=void 0,i._content=void 0,i._emptyBody=!1,i._renderData={},i._headerNeedsUpdate=!0,i._colorNeedsUpdate=!1,i._lineNeedsUpdate=!1,i._contentNeedsUpdate=!0,i._footerNeedsUpdate=!0,i._headerHeight=0,i.dest={x:null,y:null,z:null},i._thresholdForSmallText={height:150,width:200},i._language=void 0,i._defaultLanguage="default",i._info=n,i._language=a.getLanguage(),i._dummyResolvedDeferred=f.Deferred().resolve(),i._props._jsrenderHelpers.contentReplaceImages=function(e,t){if(e=e[i._language]||e[a.getLongIsoByLanguage(i._language)]||e[a.getShortIsoByLanguage(i._language)]||e[i._defaultLanguage],t){var n=0;for(n=0;n<t.length;n++)e=e.replace("___"+n+"___",t[n])}return e},i._props._jsrenderHelpers.isEmptyObject=function(e){return f.isEmptyObject(e)},i._props._jsrenderHelpers.preview=function(e,t){var n;i._props.serviceBaseUrl&&(n=a.getServiceBaseUrl(),a.setServiceBaseUrl(i._props.serviceBaseUrl));var o=c.get3dPreviewUrl({format:"ANIMGIF",path:e,varsettransfer:t},"");return n&&a.setServiceBaseUrl(n),o},i._props._jsrenderHelpers.getCloudServicePath=function(){return s.getServicePath()},i._props._jsrenderHelpers.getColorAsHex=function(){return i.getColorAsHex()},i}return o(t,e),t.prototype._getComponentName=function(){return"HotSpot"},t.prototype._setContainers=function(){this._header=this._$el.find(".psol-comp-hotspot-header-container"),this._body=this._$el.find(".psol-comp-hotspot-body"),this._footer=this._$el.find(".psol-comp-hotspot-footer"),this._content=this._$el.find(".psol-comp-hotspot-content")},t.prototype._updateRenderData=function(){this._renderData=f.extend(!0,{},this._info),this._renderData.language=this._language,this._renderData.shortIsoLanguage=a.getShortIsoByLanguage(this._language),this._renderData.longIsoLanguage=a.getLongIsoByLanguage(this._language),this._renderData.defaultLanguage=this._defaultLanguage,this._renderData.type===m.HotSpotTypes.LINK.type&&this._renderData.meta.subtype===m.HotSpotTypes.LINK.subtypes.WIKIPEDIA.type&&this._renderData.meta.description&&(!this._renderData.more[this._language]&&this._renderData.meta.url[this._language]&&this._renderData.meta.description[this._language]?this._renderData.more[this._language]=this._renderData.meta.url[this._language]:!this._renderData.more[this._defaultLanguage]&&this._renderData.meta.url[this._defaultLanguage]&&this._renderData.meta.description[this._defaultLanguage]&&(this._renderData.more[this._defaultLanguage]=this._renderData.meta.url[this._defaultLanguage])),this._emptyBody=this._checkForEmptyBody(this._renderData),this._renderData.emptyBody=this._emptyBody},t.prototype._updateColor=function(){this._colorNeedsUpdate=!1;var e=this.getColorAsHex();this._$el.find(".psol-comp-hotspot-container").css({"background-color":e}),this.onUpdateColor(this)},t.prototype._updateLine=function(){this.onUpdateLine(this)},t.prototype._updateHeader=function(){this._headerNeedsUpdate=!1,this._headerHeight=0,this._header&&this._header.html(this._render("tmpl-HotSpot-Header",this._renderData)),"psolhtml"===this._renderData.type&&this._changeStyleForPSOLHTML()},t.prototype._changeStyleForPSOLHTML=function(){var e=this._$el.find(".psol-comp-hotspot-favicon"),t=this._$el.find(".psol-comp-hotspot-title"),n=this._$el.find(".psol-comp-hotspot-header"),i=this._$el.find(".psol-comp-hotspot-circleContainer");if(i[0]&&"15px"!==i[0].style.top&&(i[0].style.top="15px"),n[0]&&"0.4em"!==n[0].style.paddingRight&&(n[0].style.paddingRight="0.4em"),this._collapsed){if(e[0]&&(e[0].style.display="block"),t[0]&&(t[0].style.display="block",t[0].style.maxWidth="4em",0===t[0].innerText.length&&this._content&&this._content[0])){var o=this._content[0].innerText.replace(/\s\s+/g," ");t[0].innerText=o}n[0]&&(n[0].style.paddingTop="5px")}else e[0]&&(e[0].style.display="none"),t[0]&&(t[0].style.display="none",t[0].style.maxWidth="none"),n[0]&&(n[0].style.paddingTop="1px")},t.prototype._updateBody=function(){var e,t=this;this._contentNeedsUpdate=!1,this._maxNaturalWidth=this._maxNaturalHeight=0,this._currentImageIndex=0,this._body.html(this._render("tmpl-HotSpotContent",this._renderData)),this._setContainers();var n=new h.ProgressEvent(d.zTR("Bitte warten..."),d.zTR("Daten werden geladen..."),!1,0,0,!0);this.onProgressBegin(n),this._renderData.type===m.HotSpotTypes.CATALOG.type&&this._renderData.meta.subtype===m.HotSpotTypes.CATALOG.subtypes.DIR.type?e=this._getNodeInfoAsync():this._renderData.type===m.HotSpotTypes.PARTCLOUD.type&&this._renderData.meta.subtype===m.HotSpotTypes.PARTCLOUD.subtypes.COLLECTION.type?e=this._getPartcloudModelCollection():this._renderData.type===m.HotSpotTypes.PARTCLOUD.type&&this._renderData.meta.subtype===m.HotSpotTypes.PARTCLOUD.subtypes.MODEL.type?e=this._getPartcloudModel():this._renderData.type===m.HotSpotTypes.PARTCLOUD.type&&this._renderData.meta.subtype===m.HotSpotTypes.PARTCLOUD.subtypes.TEXTSEARCH.type?e=this._getNodesFromPCloudFulltextsearch():this._renderData.type===m.HotSpotTypes.CATALOG.type&&this._renderData.meta.subtype===m.HotSpotTypes.CATALOG.subtypes.TEXTSEARCH.type&&(e=this._getNodesFromFulltextsearch()),e?e.always(function(){t._resizeContainer(),n&&t.onProgressEnd(n)}):n&&this.onProgressEnd(n)},t.prototype._updateFooter=function(){this._footerNeedsUpdate=!1,this._footer.html(this._render("tmpl-HotSpot-Footer",this._renderData))},t.prototype._checkForEmpty=function(e){var t=!0;if(e instanceof Array)for(var n=0,i=e;n<i.length;n++){var o=i[n];t=this._checkForEmpty(o)}else if(e instanceof Object)for(var r in e)e.hasOwnProperty(r)&&(t=t&&this._checkForEmpty(e[r]));else null!==e&&void 0!==e&&""!==e&&(t=!1);return t},t.prototype._checkForEmptyBody=function(e){return this._checkForEmpty(e.meta)&&this._checkForEmpty(e.more)},t.prototype._getPartcloudModel=function(e){var t=this,n={model_id:e=isNaN(e)?this._info.meta.info:e};if(!r.compareObject(this._lastXHRoptions,n)){var i=s.models.getSingle(n);return i.done(function(e){if(e.preview&&t._$el){var i=t._$el.find(".psol-comp-hotspot-content"),o={imgpath:s.getServicePath()+e.preview.image_path_normal,url:(t._info.meta.url[t._language]||t._info.meta.url[t._defaultLanguage])+t._info.meta.info};i.html(t._render("tmpl-HotSpot-partcloud-model",o)),t._lastXHRoptions=n}}),i}},t.prototype._getPartcloudModelCollection=function(e){var t,n=this,i={collection_id:e=isNaN(e)?this._info.meta.info:e,models:!0};if(!r.compareObject(this._lastXHRoptions,i)){var o=this._$el.find(".psol-comp-hotspot-partcloud-collection");return(t=s.collections.getSingle(i)).done(function(e){if(e.models&&e.models.models.length){var t={baseUrl:s.getServicePath()+"index?route=part&model_id=",collectionUrl:(n._info.meta.url[n._language]||n._info.meta.url[n._defaultLanguage])+n._info.meta.info,models:e.models};n._$el&&o.html(n._render("tmpl-HotSpot-partcloud-collection",t))}n._lastXHRoptions=i}),t}},t.prototype._getNodeInfoAsync=function(){var e,t=this,n=this._info,i=this._$el.find(".psol-comp-hotspot-catalog-dir");if(i.length){var o=n.meta.url[this._language]||n.meta.url[this._defaultLanguage],s=n.meta.info,c={includeAssistants:!0,parentsDepth:-1,path:s};if(!r.compareObject(this._lastXHRoptions,c)){var p,d=s.split("/");return this._props.serviceBaseUrl&&(p=a.getServiceBaseUrl(),a.setServiceBaseUrl(this._props.serviceBaseUrl)),(e=l.getNodeInfoAsync(c)).done(function(e){if(e&&e.index&&e.index.nodes&&t._$el){var n={domain:o,fancyPath:d};f.extend(!0,n,e),i.html(t._render("tmpl-HotSpot-catalog-dir",n))}t._lastXHRoptions=c}),p&&a.setServiceBaseUrl(p),e}}},t.prototype._getNodesFromPCloudFulltextsearch=function(){var e,t=this,n=this._info.meta.query[this._language]||this._info.meta.query[this._defaultLanguage],i=this._$el.find(".psol-comp-hotspot-textsearchContainer"),o={num:25,search:n};if(!r.compareObject(this._lastXHRoptions,o))return(e=s.models.get(o)).done(function(e){if(e){var r={domain:s.getServicePath(),query:n};f.extend(!0,r,e),t._$el&&i.html(t._render("tmpl-HotSpot-textsearch",r))}t._lastXHRoptions=o}),e},t.prototype._getNodesFromFulltextsearch=function(){var e,t,n=this,i=this._info.meta.query[this._language]||this._info.meta.query[this._defaultLanguage],o=this._$el.find(".psol-comp-hotspot-textsearchContainer"),s={num:25,query:i};if(!r.compareObject(this._lastXHRoptions,s))return this._props.serviceBaseUrl&&(t=a.getServiceBaseUrl(),a.setServiceBaseUrl(this._props.serviceBaseUrl)),(e=p.startFullTextSearchAsync(s)).done(function(e){if(e&&e.index){var t=f.extend(!0,{domain:"https://b2b.partcommunity.com/3d-cad-models?info="},e);n._$el&&o.html(n._render("tmpl-HotSpot-textsearch",t))}n._lastXHRoptions=s}),t&&a.setServiceBaseUrl(t),e},t.prototype._toggleExpandCollapsed=function(){this._$el&&(this._collapsed?this.expand():this.collapse())},t.prototype._showNextImage=function(e){var t=this._$el.find(".psol-comp-hotspot-image");t.length&&(this._currentImageIndex=this._currentImageIndex||0,this._$el.find(".psol-comp-hotspot-image[data-index="+this._currentImageIndex+"]").hide(0),this._$el.find(".psol-comp-hotspot-imagesCircle[data-index="+this._currentImageIndex+"]").removeClass("active"),e?this._currentImageIndex++:this._currentImageIndex--,this._currentImageIndex=this._currentImageIndex%t.length,this._currentImageIndex<0&&(this._currentImageIndex=t.length+this._currentImageIndex),this._$el.find(".psol-comp-hotspot-image[data-index="+this._currentImageIndex+"]").show(0),this._$el.find(".psol-comp-hotspot-imagesCircle[data-index="+this._currentImageIndex+"]").addClass("active"))},t.prototype._checkForClickPreventHandler=function(e){return void 0!==this._props.onHotSpotClicked&&this._props.onHotSpotClicked(this,e)},t.prototype._setFontSizeAccordingToMaxSize=function(){this._props.size.width<this._thresholdForSmallText.width&&this._props.size.height<this._thresholdForSmallText.height?this._$el.find(".psol-comp-hotspot-text").addClass("psol-comp-hotspot-smallText"):this._$el.find(".psol-comp-hotspot-text").removeClass("psol-comp-hotspot-smallText")},t.prototype._checkForScrollableContent=function(){if(this._content){var e=this._content[0];e&&e.clientHeight<e.scrollHeight?this._scrollableContent=!0:this._scrollableContent=!1}},t.prototype.getColorAsHex=function(){var e=this.getColor().toString(16),t=6-e.length,n="";return t>0&&(n=Array(t+1).join("0")),e="#"+n+e},t.prototype.getColor=function(){var e,n=this.getSubType(),i=this.getType();return(e=n?t.getSubtypesObjectByParentTypeAndType(n,t.getTypesObjectByType(i)):t.getTypesObjectByType(i))?e.color:m.HotspotDefaultColor},t.prototype.getPosition=function(){return this._info.position},t.prototype.getCameraParams=function(){return this._info.cameraParams},t.prototype.getComponentsSceneMatrix=function(){return this._info.componentsSceneMatrix},t.prototype.getCollapsed=function(){return this._collapsed},t.prototype.getNormal=function(){return this._info.normal},t.prototype.getHeaderHeight=function(){return this._headerHeight=this._headerHeight||this._header&&this._header.outerHeight(!0)||this._$el&&this._$el.find(".psol-comp-hotspot-header-container")&&this._$el.find(".psol-comp-hotspot-header-container").outerHeight(!0)||0,this._headerHeight},t.prototype.getElement=function(){return this._$el},t.prototype.getId=function(){return this._info.id},t.prototype.getInfo=function(){return this._info},t.prototype.editInfo=function(e){this._info=f.extend(!1,this._info,e);var t=f.extend(!0,{},this._renderData);this._updateRenderData(),r.compareObject(t,this._renderData)||(this._headerNeedsUpdate=!0,this._colorNeedsUpdate=!0,this._contentNeedsUpdate=!0,this._footerNeedsUpdate=!0,this._lineNeedsUpdate=!0),this.collapse(),this.update()},t.prototype.getSubType=function(){return this._info.meta.subtype||""},t.prototype.getType=function(){return this._info.type},t.prototype.stopVideo=function(){if(this._$el)for(var e=this._$el.find("iframe"),t=0,n=e.toArray();t<n.length;t++){var i=n[t];if(i.hasAttribute("data-psol-comp-hotspot-stopped"))break;i.src.match(/youtube.*enablejsapi=1/gi)?i.contentWindow&&i.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*"):(f(i).attr("data-lazysrc",e.attr("src")),f(i).attr("src","")),f(i).attr("data-psol-comp-hotspot-stopped","")}},t.prototype.enableVideo=function(){this._$el&&this._$el.find("iframe").removeAttr("data-psol-comp-hotspot-stopped")},t.prototype.update=function(){this._$el&&(this._headerNeedsUpdate&&this._updateHeader(),this._colorNeedsUpdate&&this._updateColor(),this._lineNeedsUpdate&&this._updateLine(),this._collapsed||(this._contentNeedsUpdate&&this._updateBody(),this._footerNeedsUpdate&&this._updateFooter()),this._resizeContainer())},t.prototype.fade=function(){this._$el.addClass("psol-comp-hotspot-fading")},t.prototype.setOpaque=function(){this._$el.removeClass("psol-comp-hotspot-fading")},t.prototype.collapse=function(){this._$el&&(this._$el.removeClass("psol-comp-hotspot-expanded"),this._body&&this._body[0]&&(this._body[0].style.display="none"),this._footer&&this._footer[0]&&(this._footer[0].style.display="none"),this.stopVideo(),this._collapsed=!0,this._headerNeedsUpdate=!0,this._updateHeader())},t.prototype.expand=function(){this._$el&&!this._emptyBody&&(this._collapsed=!1,this._$el.addClass("psol-comp-hotspot-expanded"),this._body&&this._body[0]&&(this._body[0].style.display="block"),this._footer&&this._footer[0]&&(this._footer[0].style.display="block"),this._headerNeedsUpdate=!0,this.enableVideo(),this.update())},t.prototype.onAddedToDom=function(){this._resizeContainer()},t.prototype.setMaxSize=function(e,t){this._props.size={height:t,width:e},this._resizeContainer()},t.prototype.highlight=function(){this._$el.find(".psol-comp-hotspot-container").addClass("psol-comp-hotspot-highlight")},t.prototype.clearHighlight=function(){this._$el.find(".psol-comp-hotspot-container").removeClass("psol-comp-hotspot-highlight")},t.getTypesObjectByType=function(e){var t;return f.each(m.HotSpotTypes,function(n,i){if(e===i.type)return t=m.HotSpotTypes[n],!1}),t},t.getSubtypesObjectByParentTypeAndType=function(e,t){var n,i=t.subtypes;return!!i&&(f.each(i,function(t,o){if(e===o.type)return n=i[t],!1}),n)},t.prototype._viewPostDisplay=function(t,n){var i=e.prototype._viewPostDisplay.call(this,t,n);return this._setContainers(),this._info.openOnStartup&&this.expand(),i},t.prototype._resizeContainer=function(){var e=this;if(this._$el){var t=200,n=200;if(this._props.size&&(t=this._props.size.height,n=this._props.size.width),!this._collapsed&&this._content){var i=this._content[0];i&&(i.style.width="initial",setTimeout(function(){i.style.width="100%"},0));var o=this._footer.outerHeight(!0),r=this._header.outerHeight(!0),s=this._header.outerWidth(!0),a=parseInt(this._body.css("margin-top"),10)+parseInt(this._body.css("margin-bottom"),10),l=parseInt(this._body.css("margin-left"),10)+parseInt(this._body.css("margin-right"),10),c=t-r-o-a;if(this.getSubType()===m.HotSpotTypes.LINK.subtypes.YOUTUBE.type||this.getSubType()===m.HotSpotTypes.LINK.subtypes.VIMEO.type)this._body.outerHeight(c),this._body.outerWidth(n-l);else if(this.getType()===m.HotSpotTypes.IMAGE.type||this.getSubType()===m.HotSpotTypes.CATALOG.subtypes.PRJ.type||this.getSubType()===m.HotSpotTypes.PARTCLOUD.subtypes.MODEL.type||this.getSubType()===m.HotSpotTypes.LINK.subtypes.PDF.type){var p=this._$el.find("img.psol-comp-hotspot-image");if(c>=this._maxNaturalHeight&&n-l>=this._maxNaturalWidth)this._body.outerHeight(this._maxNaturalHeight),this._body.outerWidth(this._maxNaturalWidth);else{var d=this._maxNaturalWidth/n,h=this._maxNaturalHeight/c;h>d?(this._body.outerHeight(c),this._body.outerWidth(Math.max(this._maxNaturalWidth/h,s-l))):(this._body.outerHeight(this._maxNaturalHeight/d),this._body.outerWidth(Math.max(n-l,s-l)))}for(var u=function(t){t.onload=function(){e._maxNaturalWidth=Math.max(e._maxNaturalWidth||0,t.naturalWidth),e._maxNaturalHeight=Math.max(e._maxNaturalHeight||0,t.naturalHeight),e._resizeContainer()}},f=0,g=p.toArray();f<g.length;f++){u(g[f])}}else{var _=n-parseInt(this._body.css("margin-left"),10)-parseInt(this._body.css("margin-right"),10);this._body.css({height:"initial","max-height":c+"px","max-width":_+"px",width:"initial"})}}this._$el.find(".psol-comp-hotspot-container").css({"max-height":t+"px","max-width":n+"px"}),this._setFontSizeAccordingToMaxSize(),this._checkForScrollableContent()}},t.prototype._viewEvents=function(){var e=this;return{click:function(t){e._checkForClickPreventHandler(t)||(e._toggleExpandCollapsed(),e._resizeContainer())},"click; .psol-comp-hotspot-imagesNavigator-buttonContainer":function(t){if(t.stopPropagation(),!e._checkForClickPreventHandler(t)){var n=f(t.currentTarget);"left"===n.attr("data-direction")?e._showNextImage(!1):"right"===n.attr("data-direction")&&e._showNextImage(!0)}},"click; a":function(t){e._checkForClickPreventHandler(t)&&t.preventDefault(),t.stopPropagation()},mouseenter:function(){e.onMouseEnter(e)},mouseleave:function(){e.onMouseLeave(e)},"mousewheel DOMMouseScroll":function(t){t.preventDefault(),t.stopPropagation();var n=t instanceof WheelEvent?t:t.originalEvent;e.scrollEventOccured(n)},"mousewheel DOMMouseScroll; .psol-comp-hotspot-content":function(t){var n=e._content[0],i=t instanceof WheelEvent?t:t.originalEvent;!e._collapsed&&e._scrollableContent?((i.wheelDeltaY<0&&n.scrollTop+n.clientHeight>=n.scrollHeight||i.wheelDeltaY>0&&n.scrollTop<=0)&&t.preventDefault(),t.stopPropagation()):e.scrollEventOccured(i)}}},t.prototype.hide=function(){if(this._$el)return this._isVisible&&(this.stopVideo(),this._info.keepOpenOnHide||this.collapse()),this._$el[0].style.display="none",this._isVisible=!1,this._dummyResolvedDeferred},t.prototype.isVisible=function(){return this._isVisible},t.prototype.show=function(t,n){var i=this;return this._wasShown?(this._$el[0].style.display="block",this._isVisible=!0,this._dummyResolvedDeferred):(this._updateRenderData(),this._isVisible=!0,e.prototype.show.call(this,this._renderData,n).done(function(){"psolhtml"===i._info.type&&i._toggleExpandCollapsed(),i._resizeContainer(),i._wasShown=!0}))},t.prototype.scrollEventOccured=function(e){},t.prototype.onMouseEnter=function(e){},t.prototype.onMouseLeave=function(e){},t.prototype.onUpdateColor=function(e){},t.prototype.onUpdateLine=function(e){},t}(u.ViewBase);n.HotSpot=g},{"./hotspotTypesConfig":25,"base/js/helpers":7,"psol.cloud":194,"psol.core":196,"psol.index":200,"psol.preview":204,"psol.search":205,"psol.translation":207,"viewBase/js/progressEvent":55,"viewBase/js/viewBase":58}],25:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("psol.translation");n.HotspotDefaultColor=11184810,n.HotSpotTypes={CATALOG:{name:i.zTR("Herstellerkataloge"),subtypes:{DIR:{color:14249984,name:i.zTR("Ordner"),type:"dir"},PRJ:{color:15897648,name:i.zTR("Teilefamilie"),type:"prj"},TEXTSEARCH:{color:3302019,name:i.zTR("Textsuche"),type:"textsearch"}},type:"catalog"},HTML:{color:3568818,name:i.zTR("HTML Text"),type:"html"},PSOLHTML:{color:3568818,name:i.zTR("HTML Text"),type:"psolhtml"},IMAGE:{color:11317170,name:i.zTR("Bilder"),type:"image"},LINK:{name:i.zTR("Link"),subtypes:{PDF:{color:16732160,name:"PDF",type:"pdf"},VIMEO:{color:1751018,name:"Vimeo",type:"vimeo"},WEBSITE:{color:3784282,name:i.zTR("Website"),type:"website"},WIKIPEDIA:{color:6513766,name:"Wikipedia",type:"wikipedia"},YOUTUBE:{color:13443103,name:"YouTube",type:"youtube"}},type:"link"},PARTCLOUD:{name:"PARTcloud",subtypes:{COLLECTION:{color:6335423,name:i.zTR("Sammlung"),type:"collection"},MODEL:{color:8046558,name:i.zTR("Modell"),type:"model"},TEXTSEARCH:{color:3302019,name:i.zTR("Textsuche"),type:"textsearch"}},type:"partcloud"}}},{"psol.translation":207}],26:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("viewBase/js/viewBase").ViewBase,s=e("hammerjs"),a=e("base/js/logger"),l=e("bowser");function c(e){c.super_.call(this,e),this._images=[],this._carousel=!1,this._startsById=0,this._activeImageIndex=0,this._activeImageid=0,this._transitionTime=500,this._showRealMainImageTimeout=null,this._imagesCount=0,this._$images=null,this._$imagesContainer=null,this._$imagesContainerContainer=null,this._$mainImageAndContentContainers=null,this._$previewImages=null,this._$previewImagesContainer=null,this._$previewImageContainers=null,this._mainImagesContainerWidth=0,this._previewImageWidth=0,this._previewImagesContainerWidth=0,this._previewImagesPerWidth=0,this._previewImagesPerWidthHalfFloor=0,this._previewImagesPerWidthHalfCeil=0,this._previewImagesPaddingLeftRight=0,this._totalPreviewImagesWidth=0,this._$currentActivePreviewImage=null,this._hammer=null,this._isHammering=!1,this._isPanning=!1,this._mainImageChangedViaPanEnd=!1,this._$currentPanningContainerElement=null,this._lastPanPosition={x:0,y:0},this._isDragging=!1,this._isDimCalculated=!1,this._zoom={imgWidth:0,lastPosX:0,lastPosY:0,dim:{top:0,right:0,bottom:0,left:0}},this._unveil=[],this._activePreviewClass="psol-comp-ImageViewer-previewImageContainer-active",this._activeImageAndContentContainerClass="psol-comp-ImageViewer-mainImageAndContentContainer-active"}o(c,r),c.prototype._componentName="ImageViewer",c.prototype._viewPostDisplay=function(){c.super_.prototype._viewPostDisplay.call(this),this._images=this._props.images,this._carousel=this._props.carousel,this._imagesCount=this._images.length,this._props.startsById&&!isNaN(this._props.startsById)&&this._props.startsById<this._imagesCount-1&&this._props.startsById>=0&&(this._startsById=parseInt(this._props.startsById)),this._activeImageIndex=this._imagesCount+this._startsById,this._$images=this._$el.find(".psol-comp-ImageViewer-mainImage"),this._$imagesContainer=this._$el.find(".psol-comp-ImageViewer-imagesContainer"),this._$imagesContainerContainer=this._$el.find(".psol-comp-ImageViewer-imagesContainerContainer"),this._$mainImageAndContentContainers=this._$el.find(".psol-comp-ImageViewer-mainImageAndContentContainer"),this._$previewImages=this._$el.find(".psol-comp-ImageViewer-previewImage"),this._$previewImagesContainer=this._$el.find(".psol-comp-ImageViewer-previewImagesContainer"),this._$previewImageContainers=this._$el.find(".psol-comp-ImageViewer-previewImageContainer"),this._hammer=new s.Manager(this._$el[0],{});var e=new s.Pan({direction:s.DIRECTION_ALL,threshold:10}),t=new s.Swipe({direction:s.DIRECTION_HORIZONTAL,velocity:.1}),n=new s.Tap({event:"doubletap",taps:2}),o=new s.Pinch;e.recognizeWith(t),this._hammer.add(e),this._hammer.add(t),this._hammer.add(n),this._hammer.add(o),this._hammer.on("swipe",function(e){this._isDragging||(!this._isZoomed(i(this._$images[this._activeImageIndex]))||e.velocity>.5||e.velocity<-.5)&&(this._resetImg(i(this._$images[this._activeImageIndex])),this._onSwipe(e))}.bind(this)),this._hammer.on("panstart",function(e){this._panStart(e)}.bind(this)),this._hammer.on("panmove",function(e){this._panMove(e)}.bind(this)),this._hammer.on("panend",function(){this._panEnd()}.bind(this)),this._hammer.on("pan",function(n){this._isZoomed(i(this._$images[this._activeImageIndex]))?i(n.target).hasClass("psol-comp-ImageViewer-mainImageContainer")?this._onPan(n):this._onPan(n,!0):e.recognizeWith(t)}.bind(this)),this._hammer.on("doubletap",function(){this._onDoubleTap(i(this._$images[this._activeImageIndex]))}.bind(this)),this._hammer.on("pinchstart",function(){e.dropRecognizeWith(t),e.recognizeWith(o),this._onPinchStart(i(this._$images[this._activeImageIndex]))}.bind(this)),this._hammer.on("pinch",function(e){this._onPinch(e,i(this._$images[this._activeImageIndex]))}.bind(this)),this._hammer.on("pinchend",function(){e.dropRecognizeWith(o),e.recognizeWith(t),this._onPinchEnd(i(this._$images[this._activeImageIndex]))}.bind(this)),this._hammer.get("pinch").set({enable:!0}),this._resizeContainer(),this._unveil.push(this._$el.find("img.lazy-image").unveil({container:this._$el,useRAF:!0,callback:function(){i(this).removeClass("lazy-image")}}).data("unveil"))},c.prototype._onDoubleTap=function(e){this._isZoomed(e)?this._resetImg(e):this._zoomCenter(2,e)},c.prototype._onPan=function(e,t){var n=null,i=null;(t=void 0===t)?(n=e.target.children[0],i=e.target):(n=(i=this._$currentActiveImage.find(".psol-comp-ImageViewer-mainImageContainer")).find(".psol-comp-ImageViewer-image")[0],i=i[0]),this._isDragging||(this._isDragging=!0,this._zoom.lastPosX=n.offsetLeft,this._zoom.lastPosY=n.offsetTop);var o=e.center.x,r=e.center.y;this._isDimCalculated||(this._isDimCalculated=!0,this._zoom.dim.top=i.offsetTop,this._zoom.dim.right=i.offsetWidth,this._zoom.dim.bottom=i.offsetHeight,this._zoom.dim.left=i.offsetLeft),o>this._zoom.dim.left&&r>this._zoom.dim.top&&o<this._zoom.dim.right&&r<this._zoom.dim.bottom?(n.style.left=e.deltaX+this._zoom.lastPosX+"px",n.style.top=e.deltaY+this._zoom.lastPosY+"px"):r>=this._zoom.dim.bottom&&o>this._zoom.dim.left&&o<this._zoom.dim.right?n.style.left=e.deltaX+this._zoom.lastPosX+"px":r<=this._zoom.dim.top&&o>this._zoom.dim.left&&o<this._zoom.dim.right?n.style.left=e.deltaX+this._zoom.lastPosX+"px":o>=this._zoom.dim.right&&r>this._zoom.dim.top&&r<this._zoom.dim.bottom?n.style.top=e.deltaY+this._zoom.lastPosY+"px":o<=this._zoom.dim.left&&r>this._zoom.dim.top&&r<this._zoom.dim.bottom&&(n.style.top=e.deltaY+this._zoom.lastPosY+"px"),e.isFinal&&(this._isDragging=!1,this._isDimCalculated=!1)},c.prototype._onPanPinch=function(e){var t=e.target.children[0],n=e.target;this._isDragging||(this._isDragging=!0,this._zoom.lastPosX=t.offsetLeft,this._zoom.lastPosY=t.offsetTop),e.center.x>n.offsetLeft&&e.center.y>n.offsetTop&&e.center.x<n.offsetWidth&&e.center.y<n.offsetHeight&&(t.style.left=e.deltaX+this._zoom.lastPosX+"px",t.style.top=e.deltaY+this._zoom.lastPosY+"px"),e.isFinal&&(this._isDragging=!1)},c.prototype._onPinchStart=function(e){this._zoom.imgWidth=e.width()},c.prototype._onPinch=function(e,t){(this._zoom.imgWidth*e.scale>document.body.clientWidth||this._zoom.imgWidth*e.scale<document.body.clientWidth)&&(t.addClass("psol-comp-ImageViewer-zoom"),t.removeClass("psol-comp-ImageViewer-mainImage")),this._onPanPinch(e),t.css({width:this._zoom.imgWidth*e.scale+"px"})},c.prototype._onPinchEnd=function(e){this._zoom.imgWidth=e.width()},c.prototype._zoomCenter=function(e,t){t.width()*e>document.body.clientWidth||t.height()*e>document.body.clientHeight?t.removeClass("psol-comp-ImageViewer-mainImage"):t.addClass("psol-comp-ImageViewer-mainImage"),t.addClass("psol-comp-ImageViewer-zoom"),t.css({width:Math.ceil(t.width()*e)+"px"})},c.prototype._resetImg=function(e){this._isZoomed(e)&&(l.msie&&l.version<=9?e.parent().css({clear:"both"}):e.parent().removeAttr("style"),this._zoom={imgWidth:0,lastPosX:0,lastPosY:0,dim:{top:0,right:0,bottom:0,left:0}},e.removeAttr("style"),e.removeClass("psol-comp-ImageViewer-zoom"),e.addClass("psol-comp-ImageViewer-mainImage"))},c.prototype._isZoomed=function(e){if(e.hasClass("psol-comp-ImageViewer-zoom"))return!0},c.prototype._onSwipe=function(e){if(!this._mainImageChangedViaPanEnd&&(i.contains(this._$imagesContainerContainer[0],e.target)||this._$imagesContainerContainer[0]===e.target)&&this._imagesCount>1){var t=e.direction;t===s.DIRECTION_RIGHT?this._backward():t===s.DIRECTION_LEFT&&this._forward()}},c.prototype._panStart=function(e){window.clearTimeout(this._showRealMainImageTimeout),this._lastPanPosition=e.center;var t=e.target;(i.contains(this._$imagesContainerContainer[0],e.target)||this._$imagesContainerContainer[0]===e.target)&&this._imagesCount>1?this._$currentPanningContainerElement=this._$imagesContainer:(i.contains(this._$previewImagesContainer[0],t)||this._$previewImagesContainer[0]===e.target)&&this._totalPreviewImagesWidth-this._previewImagesContainerWidth>0&&(this._$currentPanningContainerElement=this._$previewImagesContainer),this._$currentPanningContainerElement&&this._$currentPanningContainerElement.addClass("psol-comp-ImageViewer-noTransition"),this._isPanning=!0,this._isHammering=!0},c.prototype._panMove=function(e){if(this._isPanning&&this._$currentPanningContainerElement&&!this._isDragging){var t=e.center.x-this._lastPanPosition.x;this._addTranslateX(this._$currentPanningContainerElement,t),this._lastPanPosition=e.center}},c.prototype._panEnd=function(){this._isPanning=!1,this._$currentPanningContainerElement&&this._$currentPanningContainerElement.removeClass("psol-comp-ImageViewer-noTransition");var e=!1;this._$currentPanningContainerElement===this._$imagesContainer?e=this._checkWhichMainImageIsVisible():this._$currentPanningContainerElement===this._$previewImagesContainer&&this._checkForMaxMinPreviewImagesTranslation(),this._$currentPanningContainerElement=null,this._lastPanPosition={x:0,y:0},this._mainImageChangedViaPanEnd=e,window.setTimeout(function(){this._isHammering=!1,this._mainImageChangedViaPanEnd=!1}.bind(this),300)},c.prototype._getTransformTranslateValues=function(e){var t=(e[0].style.transform||e[0].style.msTransform).match(/-?\d+(\.\d+)?px/g);return{x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])}},c.prototype._checkForMaxMinPreviewImagesTranslation=function(){var e=this._getTransformTranslateValues(this._$previewImagesContainer).x,t=0,n=0,i=0;l.msie?(t=0,n=-(this._totalPreviewImagesWidth-this._previewImagesContainerWidth),i=Math.max(Math.min(e,t),n)):(n=-(t=(this._totalPreviewImagesWidth-this._previewImagesContainerWidth)/2),i=Math.max(Math.min(e,t),n)),this._translateX(this._$previewImagesContainer,i)},c.prototype._checkWhichMainImageIsVisible=function(){var e=-this._getTransformTranslateValues(this._$imagesContainer).x,t=Math.round(e/this._mainImagesContainerWidth),n=this._activeImageIndex!==t;return this._showImageByIndex(t,!0),n},c.prototype._forward=function(){this._activeImageIndex<this._$images.length-1?this._activeImageIndex++:(this._activeImageIndex=0,this._translateToActiveIndex(!0)),this._showActiveImage()},c.prototype._backward=function(){this._activeImageIndex>0?this._activeImageIndex--:(this._activeImageIndex=this._imagesCount-1,this._translateToActiveIndex(!0)),this._showActiveImage()},c.prototype._showImageByIndex=function(e,t,n){((t=void 0!==t&&t)||this._activeImageIndex!==e)&&(e=Math.min(Math.max(e,0),this._$images.length-1),this._activeImageIndex=e,this._showActiveImage(n))},c.prototype._showImageById=function(e,t){var n=e+this._imagesCount;this._showImageByIndex(n,void 0,t)},c.prototype.showImageById=function(e,t){e>=0&&e<this._imagesCount-1?this._showImageById(e,t):a.error("ID "+e+" isn't within the possible range (0-"+(this._imagesCount-1)+")")},c.prototype._addTranslateX=function(e,t){var n=this._getTransformTranslateValues(e).x+t;this._translateX(e,n)},c.prototype._translateX=function(e,t,n){(n=void 0!==n)&&e.addClass("psol-comp-ImageViewer-noTransition"),e.css({transform:"translate("+t+"px, 0)","-ms-transform":"translate("+t+"px, 0)"}),n&&(e[0].offsetHeight,e.removeClass("psol-comp-ImageViewer-noTransition"))},c.prototype._translateToActiveIndex=function(e){this._translateX(this._$imagesContainer,-this._activeImageIndex*this._mainImagesContainerWidth,e)},c.prototype._showActiveImage=function(e){this._translateToActiveIndex(e),this._$currentActiveImage&&this._$currentActiveImage.removeClass(this._activeImageAndContentContainerClass);var t=this._$mainImageAndContentContainers.length;this._activeImageid=this._activeImageIndex%(t/3),this._$currentActiveImage=this._$el.find(".psol-comp-ImageViewer-mainImageAndContentContainer[data-id="+this._activeImageid+"]"),this._$currentActiveImage.addClass(this._activeImageAndContentContainerClass),window.clearTimeout(this._showRealMainImageTimeout),this._showRealMainImageTimeout=window.setTimeout(this._showRealMainImage.bind(this),this._transitionTime),this._showActivePreviewImage()},c.prototype._showRealMainImage=function(){if(this._$el){var e=this._$mainImageAndContentContainers.length;this._activeImageid=this._activeImageIndex%(e/3),this._translateX(this._$imagesContainer,-(this._activeImageid+e/3)*this._mainImagesContainerWidth,!0),this._$currentActiveImage=this._$el.find(".psol-comp-ImageViewer-mainImageAndContentContainer[data-id="+this._activeImageid+"]"),this._$currentActiveImage.addClass(this._activeImageAndContentContainerClass),this._activeImageIndex=this._activeImageid+e/3}},c.prototype._showActivePreviewImage=function(){if(this._$previewImages.length&&this._carousel){this._$currentActivePreviewImage&&this._$currentActivePreviewImage.removeClass(this._activePreviewClass),this._$currentActivePreviewImage=this._$el.find(".psol-comp-ImageViewer-previewImageContainer[data-index="+this._activeImageid+"]"),this._$currentActivePreviewImage.addClass(this._activePreviewClass);var e=0,t=0;this._$previewImages.length>this._previewImagesPerWidth&&(t=l.msie?this._totalPreviewImagesWidth-this._previewImagesContainerWidth:e+=(this._totalPreviewImagesWidth-this._previewImagesContainerWidth)/2,this._activeImageid>this._previewImagesPerWidthHalfFloor&&(e+=-(this._activeImageid-this._previewImagesPerWidthHalfFloor)*this._previewImageWidth,e+=this._previewImagesPaddingLeftRight/2)),e=Math.max(e,-t),this._translateX(this._$previewImagesContainer,e)}},c.prototype._initializeVariables=function(){this._mainImagesContainerWidth=this._$imagesContainer.innerWidth(),this._carousel&&(this._previewImagesContainerWidth=this._$previewImagesContainer.innerWidth(),this._previewImageWidth=this._$previewImageContainers.outerWidth(!0),this._previewImagesPerWidth=Math.floor(this._previewImagesContainerWidth/this._previewImageWidth),this._previewImagesPerWidthHalfFloor=Math.floor(this._previewImagesPerWidth/2),this._previewImagesPerWidthHalfCeil=Math.ceil(this._previewImagesPerWidth/2),this._previewImagesPaddingLeftRight=this._previewImagesContainerWidth-this._previewImagesPerWidth*this._previewImageWidth,this._totalPreviewImagesWidth=this._$previewImages.length*this._previewImageWidth)},c.prototype._resizeContainer=function(){c.super_.prototype._resizeContainer.call(this),this._initializeVariables(),this._showActiveImage(!0),l.msie&&l.version<10&&this._ie9FlexFix()},c.prototype._ie9FlexFix=function(){var e;this._$mainImageAndContentContainers.css({position:"absolute",top:0});var t,n,i=0;for(e=0;e<this._$mainImageAndContentContainers.length;e++)this._$mainImageAndContentContainers[e].style.left=e*this._mainImagesContainerWidth+"px",(n=this._$mainImageAndContentContainers.find(".psol-comp-ImageViewer-additionalImageContentContainer")).css({position:"absolute",left:0,right:0,bottom:0}),t=this._$mainImageAndContentContainers.innerHeight(),i=n.outerHeight(!0),this._$mainImageAndContentContainers.find(".psol-comp-ImageViewer-mainImageContainer").outerHeight(t-i);for(this._$previewImageContainers.css("position","absolute"),this._$previewImageContainers.outerHeight(this._$previewImagesContainer.innerHeight()),e=0;e<this._$previewImageContainers.length;e++)this._$previewImageContainers[e].style.left=e*this._previewImageWidth+"px"},c.prototype.show=function(e){return e=e||this._props,c.super_.prototype.show.call(this,e)},c.prototype._winEvents=function(){return{keydown:function(e){switch(e.key){case"Right":case"ArrowRight":this._forward();break;case"Left":case"ArrowLeft":this._backward()}}.bind(this)}},c.prototype._toggleFullscreen=function(){var e=this._$imagesContainerContainer;this.isFullscreen(e)?this.exitFullscreen(e):this.setFullscreen(e,!0)},c.prototype._viewEvents=function(){return{"click; .psol-comp-ImageViewer-backwardsButton":function(){this._resetImg(i(this._$images[this._activeImageIndex])),this._backward()}.bind(this),"click; .psol-comp-ImageViewer-forwardsButton":function(){this._resetImg(i(this._$images[this._activeImageIndex])),this._forward()}.bind(this),"click; .psol-comp-ImageViewer-fullscreenButton":function(){this._toggleFullscreen()}.bind(this),"click; .psol-comp-ImageViewer-previewImageContainer":function(e){if(!this._isHammering){this._resetImg(i(this._$images[this._activeImageIndex]));var t=i(e.currentTarget).data("index");this._showImageById(t)}}.bind(this)}},c.prototype._viewDestroy=function(){this._hammer&&this._hammer.destroy(),c.super_.prototype._viewDestroy.call(this)},t.exports=c},{"base/js/logger":8,bowser:"bowser",hammerjs:"hammerjs",inherits:208,"viewBase/js/viewBase":58}],27:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("viewBase/js/viewBase").ViewBase,s=e("psol.index"),a=e("psol.translation"),l=e("psol.erp"),c=e("viewBase/js/progressEvent").ProgressEvent,p=e("psol.core"),d=e("psol.cloud"),h=e("hammerjs"),u=e("bowser"),m=e("psol.color");function f(e){var t={pathToNodes:{},path:"",useRetinaImages:!1,_$allNodes:void 0,showPreviewImages:!0,enableAlphabeticNavigation:!1,alphabeticNavigationPosition:f.AlphabeticNavigationPosition.RIGHT,enableBackNode:!1,enableBackToAllNode:!1,disallowScroll:!1,eol:!1,$scrollContainer:void 0,parentAutoHeight:void 0};f.super_.call(this,e,t),this._letterCallbackTriggered={},this._alphabeticLetters={},this._imageBasePath="",this._unveil=[],this._requestedPath="",this._currentIndexPath="",this._alphabeticNav=!1,this._backButtons=!1,this._props._jsrenderHelpers.getContentForNodes=function(e){var t="",n=this._getFirstLetter(e);return this._letterCallbackTriggered[n]&&this._letterCallbackTriggered[n]&&this._letterCallbackTriggered[n].before&&(t=this._letterCallbackTriggered[n].before.content,delete this._letterCallbackTriggered[n].before),t}.bind(this),this._props._jsrenderHelpers.alphabeticLetter=function(e){var t=this._getFirstLetter(e);if(this._alphabeticNav&&void 0===this._alphabeticLetters[t]&&this._isRootPath()){var n="";return n=this._viewType===f.ViewType.LIST?this._render("tmpl-IndexBrowsingLetterList",{letter:t}):this._render("tmpl-IndexBrowsingLetterNode",{letter:t}),this._alphabeticLetters[t]=n,n}return""}.bind(this),this._props._jsrenderHelpers.getContentForAlphabeticContainer=function(e){return this._getContentForAlphabeticContainer(e)}.bind(this),this._props._jsrenderHelpers.getBackButtons=function(){var e="";if(this._backButtons&&!this._isRootPath()){var t=this._props.path.split("/");t.pop(),t=t.join("/");var n={from:this._props.path.split("/").shift(),path:"/",backToAll:!0,text:a.zTR("Zurück zu Kataloge")},i={from:this._props.path,path:t,backToAll:!1,text:a.zTR("Zurück")};this._viewType===f.ViewType.LIST?(this._props.enableBackToAllNode&&(e+=this._render("tmpl-ViewIndexBrowsingBackButtonList",n)),this._props.enableBackNode&&(e+=this._render("tmpl-ViewIndexBrowsingBackButtonList",i))):(this._props.enableBackToAllNode&&(e+=this._render("tmpl-ViewIndexBrowsingBackButtonNode",n)),this._props.enableBackNode&&(e+=this._render("tmpl-ViewIndexBrowsingBackButtonNode",i)))}return e}.bind(this),this._props._jsrenderHelpers.getServerBasePath=function(){return p.getServiceBaseUrl()}.bind(this),this._props._jsrenderHelpers.getCloudBasePath=function(){return d.getServicePath()}.bind(this),this._props._jsrenderHelpers.getGeoSearchBackColor=function(e){return e>=90?"#6FFE70":e>=70?"#FFFF00":"#FF0000"}.bind(this),this._props._jsrenderHelpers.getMiniCatalogImage=function(e){return s.getPreviewImageUrl("",e.catalogpreview,{color:"transparent",depth:32,width:50,height:50})}.bind(this),this._props._jsrenderHelpers.round=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}.bind(this),this._props._jsrenderHelpers.showPreviewImages=function(){return this._props.showPreviewImages}.bind(this),this._clonedNodes=[],this._indexType=e.indexType||f.IndexType.PSOL,this._viewType=e.viewType||f.ViewType.TILES,this._useRecalculate=!1,u.msie&&u.version<10&&(this._useRecalculate=!0),this._lastItemSizePerLine=-1,this._parents=[],this._mc=void 0}o(f,r),f.prototype._componentName="IndexBrowsing",f.IndexType={PSOL:0,CLOUD:1},f.ViewType={TILES:0,LIST:1},f.AlphabeticNavigationPosition={LEFT:0,RIGHT:1},f._itemBreakPoints=[{width:0,items:1},{width:260,items:2},{width:501,items:3},{width:750,items:4},{width:950,items:5},{width:1250,items:6},{width:1500,items:7},{width:1750,items:8},{width:2e3,items:9}],f.prototype._measureNodes=function(){var e=this._$el.find(".psol-comp-index-node-list"),t=e.innerWidth();if(0!==t){var n,i=1;if(this._viewType===f.ViewType.TILES)for(n=0;n<f._itemBreakPoints.length&&t>=f._itemBreakPoints[n].width;++n)i=f._itemBreakPoints[n].items;if(this._lastItemSizePerLine!==i){if(this._useRecalculate){var o=Math.floor(t/140);i>o&&(i=o),-1!==this._lastItemSizePerLine&&e.removeClass("psol-comp-index-items-"+this._lastItemSizePerLine),e.addClass("psol-comp-index-items-"+i)}else-1!==this._lastItemSizePerLine&&e.removeClass("psol-comp-viewbase-flex-items-"+this._lastItemSizePerLine),e.addClass("psol-comp-viewbase-flex-items-"+i);this._lastItemSizePerLine=i}}},f.prototype._calculateAlphabeticNavigation=function(){if(this._alphabeticNav){var e=this._$el.find(".psol-comp-index-alphabetic-nav").find(".psol-comp-index-alphabetic-nav-container"),t=e.find(".psol-comp-index-alphabetic-nav-letter"),n=e.height(),o=parseInt(n/20,10),r=t.filter(function(e){return!i(e).hasClass("psol-comp-index-alphabetic-nav-letter-hidden")});if(r.removeClass("psol-comp-index-alphabetic-nav-letter-hidden"),r.length>o&&o>=1){var s,a,l=Math.round(t.length/o);for(s=0;s<t.length;++s){for(a=1;a<l+1;++a)i(t[s+a]).addClass("psol-comp-index-alphabetic-nav-letter-hidden");s+=l}}}},f.prototype._onNodeClicked=function(t){var n=i(t.currentTarget);if(this._indexType===f.IndexType.PSOL?(t.indexNode=this._props.pathToNodes[i(t.currentTarget).data("path")],t.indexNode&&(t.indexNode.lineid=n.data("lineid"),t.indexNode.linesubid=n.data("linesubid"))):this._indexType===f.IndexType.CLOUD&&(t.indexNode=this._props.pathToNodes[i(t.currentTarget).data("modelid")]),t.indexNode)t.indexNode.parents=this._parents,this._props.eol&&t.indexNode.eol?new(0,e("eolDialog/js/eolDialog").EolDialog)(t.indexNode,this).show():this.onNodeClicked.call(t,t);else if(n.data("back")){var o=n.data("backtoall"),r=""+n.data("path"),s=""+n.data("from"),a=!1;o?this._onBackToAllClicked(s)&&(a=!0):this._onBackClicked(r,s)&&(a=!0),a||this.loadByPath(r,!1,{scrollToNodePath:s})}else this.onNodeClicked.call(t,t)},f.prototype._viewEvents=function(){return{"click; .psol-comp-index-item, .psol-comp-index-item-list":function(e){i(e.currentTarget).removeClass("active"),this._onNodeClicked(e)}.bind(this),"click; .psol-comp-index-items-line-result-item":function(e){return this._onNodeClicked(e),e.stopPropagation(),!0}.bind(this),"click; .psol-comp-index-items-line-result-expander":function(e){var t=i(e.currentTarget);if(t.hasClass("expanded"))t.removeClass("expanded");else{t.addClass("expanded");var n=this._props.$scrollContainer;n||(n=this._$el.find(".psol-comp-index-scroll-container")),n.scrollTop(t.parents(".psol-comp-index-items-line-result-item").position().top),t.data("loaded")||this.onLineExpanderClicked(t)}return e.stopPropagation(),!0}.bind(this),"click; .psol-comp-index-items-line-result-line-data":function(e){return this._onNodeClicked(e),e.stopPropagation(),!0}.bind(this),"mouseenter touchstart; .psol-comp-index-item-list, .psol-comp-index-alphabetic-container":function(e){i(e.currentTarget).addClass("active")}.bind(this),"mouseleave touchmove; .psol-comp-index-item-list, .psol-comp-index-alphabetic-container":function(e){i(e.currentTarget).removeClass("active")}.bind(this),"click; .psol-comp-index-alphabetic-nav-letter":function(e){var t=i(e.currentTarget).data("letter");this._scrollToNode(t)}.bind(this)}},f.prototype._nodesRendered=function(e){this.nodesRendered(e)},f.prototype._destroyUnveil=function(){if(this._unveil){var e;for(e=0;e<this._unveil.length;++e)this._unveil[e]&&this._unveil[e].destroy();this._unveil=[]}},f.prototype._viewCreate=function(){return f.super_.prototype._viewCreate.call(this,this._props)},f.prototype._viewDestroy=function(){return this._destroyUnveil(),f.super_.prototype._viewDestroy.call(this)},f.prototype.onNodeClicked=function(e){},f.prototype.nodesRendered=function(e){},f.prototype.filterIndexNodes=function(e){return!0},f.prototype.loadByPath=function(e,t,n){this._destroyUnveil(),this._letterCallbackTriggered={},this._alphabeticLetters={},this._parents=[],n=n||{},this._requestedPath=e,this._props.path=e;var o=i.Deferred(),r=new c(a.zTR("Bitte warten..."),a.zTR("Index wird geladen..."));if(this.onProgressBegin(r),this._indexType===f.IndexType.PSOL){var p=i.Deferred();this._props.erpEnabled?l.tryReconnect().done(function(){p.resolve()}).fail(function(){p.reject()}.bind(this)):p.resolve(),p.done(function(){s.getNodeInfoAsync({path:e,includeAssistants:!0,parentsDepth:-1,eol:this._props.eol?1:0}).done(function(e){e&&e.index&&e.index.nodes_valid&&e.index.nodes?(this._props.path=e.index.path,this._currentIndexPath=e.index.path,this._props.erpEnabled=e.index.erpEnabled,this._imageBasePath=e.index.imgbasepath,this._parents=e.index.parents,this.loadByIndexNodes(e.index.nodes,!1,n,!0),o.resolve(e.index)):o.reject()}.bind(this)).fail(function(){o.reject()})}.bind(this)).fail(function(){this.onAuthError(),o.reject()}.bind(this))}else this._indexType===f.IndexType.CLOUD&&d.models.get(e).done(function(i){(void 0!==e.where_geosearch||void 0!==e.where_sketchsearch||e.where_geosearchfile)&&i.models&&i.models.sort(function(e,t){return e.quality_distance>t.quality_distance?-1:e.quality_distance<t.quality_distance?1:0}),i.status&&"error"===i.status?o.reject(i):(this.loadByIndexNodes(i,t,n,!0),o.resolve(i))}.bind(this));return o.always(function(){this.onProgressEnd(r)}.bind(this)),o.promise()},f.prototype.loadByIndexNodes=function(e,t,n,o){var r;this._destroyUnveil(),this._$el.find(".psol-comp-index-alphabetic-nav").remove(),this._$el.find(".psol-comp-index-scroll-container").removeClass("psol-comp-index-alphabetic-nav-left psol-comp-index-alphabetic-nav-right"),this._mc&&this._mc.destroy(),this._$el.find(".psol-comp-index-alphabetic-nav-preview").remove(),!1==!!o&&(this._parents=[]),this._alphabeticNav=this._props.enableAlphabeticNavigation&&!!o,this._backButtons=(this._props.enableBackNode||this._props.enableBackToAllNode)&&!!o,t=t||!1,n=n||{};var a,l=jQuery.extend(!0,[],e.models?e.models:e);l=l.filter(this.filterIndexNodes);var c={color:"transparent",depth:32};for(t||(this._props.pathToNodes={}),r=0;r<l.length;++r){if((a=l[r]).image=s.getPreviewImageUrl(a.virtpath,a.image,c),a.eol&&("expired-available"===a.eol.state&&(a.eol.imagename="replace_std_templink"),"replaced-available"===a.eol.state&&(a.eol.imagename="replace_std"),"expired"===a.eol.state&&(a.eol.imagename="replace_std_nolink"),"expired-replaced"===a.eol.state&&(a.eol.imagename="replace_std_locked")),a.iconColor&&""!==a.iconColor)a.iconColorTransparent=0,0===new m(a.iconColor).a&&(a.iconColorTransparent=1);this._indexType===f.IndexType.PSOL?(this._props.pathToNodes[a.path]=a,t||"DIR"!==a.type||this._letterCallback(a.name)):this._indexType===f.IndexType.CLOUD&&(this._props.pathToNodes[a.model_id]=a)}var p=l[0]&&void 0!==l[0].lines,d="";this._viewType!==f.ViewType.TILES||p?this._viewType!==f.ViewType.LIST||p?p&&(d=this._render("tmpl-IndexBrowsingLineResult",{nodes:l,append:t,showCatalogImages:n.showCatalogImages&&this._props.showPreviewImages})):d=this._render("tmpl-IndexBrowsingContentList",{nodes:l,append:t,isCloud:this._indexType===f.IndexType.CLOUD}):d=this._render("tmpl-IndexBrowsingContent",{nodes:l,append:t,isCloud:this._indexType===f.IndexType.CLOUD,showCatalogImages:n.showCatalogImages&&this._props.showPreviewImages});var u=this._$el.find(".psol-comp-index-node-list");if(t)this._clonedNodes=this._clonedNodes.concat(l),u.find(".psol-comp-viewbase-clearfix").last().remove(),u.append(d);else{this._clonedNodes=l;var g=document.createElement("div");g.innerHTML=d;var _,v=document.createDocumentFragment();for(r=0;r<g.childNodes.length;++r)(3===(_=g.childNodes[r]).nodeType&&/\S/.test(_.nodeValue)||3!==_.nodeType&&8!==_.nodeType)&&v.appendChild(_);v.normalize(),u.empty(),u[0].appendChild(v)}if(this._alphabeticNav&&this._indexType===f.IndexType.PSOL){var b=Object.keys(this._alphabeticLetters);if(b.length>0){var w=this._$el.find(".psol-comp-index-alphabetic-nav-preview");0===w.length&&this._$el.append(this._render("tmpl-IndexBrowsingAlphabeticNavPreview"));var y=i(this._render("tmpl-IndexBrowsingAlphabeticNav",{letters:b}));0===this._$el.find(".psol-comp-index-alphabetic-nav-preview").length&&this._$el.append(this._render("tmpl-ViewIndexBrowsingAlphabeticNavPreview")).append(w),w=this._$el.find(".psol-comp-index-alphabetic-nav-preview").hide(0),this._props.alphabeticNavigationPosition===f.AlphabeticNavigationPosition.LEFT?(y.addClass("psol-comp-index-alphabetic-nav-left"),this._$el.prepend(y).find(".psol-comp-index-scroll-container").addClass("psol-comp-index-alphabetic-nav-left")):this._props.alphabeticNavigationPosition===f.AlphabeticNavigationPosition.RIGHT&&(y.addClass("psol-comp-index-alphabetic-nav-right"),this._$el.append(y).find(".psol-comp-index-scroll-container").addClass("psol-comp-index-alphabetic-nav-right")),this._mc=new h(this._$el.find(".psol-comp-index-alphabetic-nav-container")[0]),this._mc.get("pan").set({direction:h.DIRECTION_ALL});var x,C="",S=-1;x=this._props.$scrollContainer?this._props.$scrollContainer:this._$el.find(".psol-comp-viewbase-scroll-y"),this._$el.find(".psol-comp-index-alphabetic-nav-container").on({touchstart:function(){x.css("overflow","hidden")},touchend:function(){x.css("overflow","auto")}}),this._mc.on("panmove",function(e){x.css("overflow","hidden");var t="",n=i(document.elementFromPoint(e.center.x,e.center.y));n.hasClass("psol-comp-index-alphabetic-nav-letter")&&(t=n.data("letter")),""!==t&&C!==t&&(C=t,w.html(t).show(0),clearTimeout(S),S=setTimeout(function(){w.hide(0)}.bind(this),500))}.bind(this)),this._mc.on("panend",function(){this._scrollToNode(C),x.css("overflow","auto")}.bind(this))}n.scrollToNodePath?this._scrollToNode(n.scrollToNodePath):this._$el.find(".psol-comp-index-scroll-container").scrollTop(0)}this._$el.find(".psol-comp-index-scroll-container").add(this._$el.find(".psol-comp-index-node-list"));var A=this._$el.find(".psol-comp-index-unveil-container"),T=!1;if(this._props.$scrollContainer&&(A=this._props.$scrollContainer,T=!0),this._unveil.push(this._$el.find("img.lazy-image").unveil({container:A,documentScrolling:T,useRAF:!0,callback:function(){i(this).removeClass("lazy-image")}}).data("unveil")),this._props._$allNodes=this._$el.find(".psol-comp-index-item"),!this._useRecalculate){this._$el.find(".psol-comp-index-node-list").addClass(["psol-comp-viewbase-flex-container","psol-comp-viewbase-flex-wrap","psol-comp-viewbase-flex-align-start","psol-comp-viewbase-flex-row"].join(" ")),this._$el.find(".psol-comp-index-node-list").css({height:"auto"})}return this._resizeContainer(),this._nodesRendered(l),i.Deferred().resolve()},f.prototype.loadByIndexNode=function(e){var t=e.path;return this.loadByPath(t)},f.prototype._resizeContainer=function(){f.super_.prototype._resizeContainer.call(this),this._props.parentAutoHeight&&(this._$el.find(".psol-comp-index-scroll-container").css("position","relative"),this._$el.css("height","auto")),this._measureNodes(),this._calculateAlphabeticNavigation()},f.prototype.getPath=function(){return this._props.path},f.prototype.browseUp=function(){var e=this._props.path,t=e.split("/");return t.length>=1&&t.pop(),e=t.join("/"),this.loadByPath(e)},f.prototype.filter=function(e){if(e=e||"",this._props._$allNodes.length>0){if(""===e)return void this._props._$allNodes.show(0);var t,n,o=new RegExp(e,"ig"),r=[],s=[];for(t=0;t<this._props._$allNodes.length;++t)n=this._props._$allNodes[t],i(n).text().search(o)>=0?r.push(n):s.push(n);i(r).css({display:"block"}),i(s).css({display:"none"}),this._$el.find(".psol-comp-index-scroll-container").add(this._$el.find(".psol-comp-index-node-list"));var a=this._$el.find(".psol-comp-index-unveil-container"),l=!1;this._props.$scrollContainer&&(a=this._props.$scrollContainer,l=!0),this._unveil.push(this._$el.find("img.lazy-image").unveil({container:a,documentScrolling:l}).data("unveil"))}},f.prototype._letterCallback=function(e){var t=this._getFirstLetter(e);if(void 0===this._letterCallbackTriggered[t]){var n=this.letterCallback(t);this._letterCallbackTriggered[t]=n}},f.prototype.letterCallback=function(e){},f.prototype.getImageBasePath=function(){return this._imageBasePath},f.prototype._getFirstLetter=function(e){var t=e.charAt(0);return(t=t.toUpperCase()).match(/[0-9]|\-/)?t="#":t.match(/[a-z]/i)||(t="+"),t},f.prototype._scrollToNode=function(e){var t,n;0===(n=this._$el.find('.psol-comp-index-alphabetic-container[data-letter="'+e+'"]')).length&&(n=this._viewType===f.ViewType.LIST?this._$el.find('.psol-comp-index-item-list[data-path="'+e+'"]'):this._$el.find('.psol-comp-index-item[data-path="'+e+'"]')),(t=n.position())&&this._$el.find(".psol-comp-index-scroll-container").scrollTop(t.top)},f.prototype.scrollToNode=function(e){this._scrollToNode(e)},f.prototype.getContentForAlphabeticContainer=function(e){return""},f.prototype._getContentForAlphabeticContainer=function(e){return this.getContentForAlphabeticContainer(e)},f.prototype._onBackToAllClicked=function(e){return this.onBackToAllClicked(e)},f.prototype._onBackClicked=function(e,t){return this.onBackClicked(e,t)},f.prototype.onBackToAllClicked=function(e){return!1},f.prototype.onBackClicked=function(e,t){return!1},f.prototype.isRootPath=function(e){},f.prototype._isRootPath=function(){var e=this._requestedPath||"";0===e.indexOf("/")&&(e=e.substr(1));var t=this.isRootPath(e);return void 0!==t?t:""===e||""!==e&&e!==this._currentIndexPath},f.prototype.updateLineData=function(e){var t,n,o,r=function(e){return"NB"===e.name&&t.find(".psol-comp-index-items-line-result-name").html(e.value),"NB"!==e.name&&"LINA"!==e.name&&""!==e.value&&(void 0===e.erp||!1===e.erp)},s=e.path.replace("cat/",""),a=this._$el.find('.psol-comp-index-items-line-result-item[data-path="'+s+'"]');for(n=0;n<e.lines.length;++n)if(void 0===(o=e.lines[n]).linesubid&&(o.linesubid=-1),t=a.find('.psol-comp-index-items-line-result-line-data[data-lineid="'+o.lineid+'"][data-linesubid="'+o.linesubid+'"]'),o.erpIcon&&t.find(".psol-comp-index-item-img-wrapper").append(i("<img/>",{src:p.getServiceBaseUrl()+"/FileService/ErpImage/"+o.erpIcon,class:"psol-comp-index-item-img-erp"})),o.variables){var l=o.variables.slice(0);o.erpVariables=l.filter(function(e){return!0===e.erp}),o.variables=o.variables.filter(r),t.length>0&&t.find(".psol-comp-index-items-line-result-line-details-container").html(this._render("tmpl-IndexBrowsingLineResultLineDetails",o))}this._$el.find('.psol-comp-index-items-line-result-expander[data-path="'+s+'"]').data("loaded",!0)},f.prototype.onLineExpanderClicked=function(e){},t.exports=f},{bowser:"bowser","eolDialog/js/eolDialog":22,hammerjs:"hammerjs",inherits:208,"psol.cloud":194,"psol.color":195,"psol.core":196,"psol.erp":197,"psol.index":200,"psol.translation":207,"viewBase/js/progressEvent":55,"viewBase/js/viewBase":58}],28:[function(e,t,n){"use strict";var i=e("viewBase/js/progressHandler"),o=e("base/js/logger"),r=jQuery;t.exports=function(){var t=null,n="",s=null;this.restoreCount=0,this.curSavefile="";var a=e("psol.core");this.setCurrentCustomerId=function(e){n=e},this.setCurrentView=function(e){s=e},this.addToCommandChain=function(e){return t=t&&"resolved"!==t.state()&&"rejected"!==t.state()?t.then(e):e()},this.callCommand=function(e,t){this.addToCommandChain(e).done(function(e){i.onProgressEnd(),t&&(this.restoreCount=0,this.curSavefile=e.currentSaveFile,"undefined"!=typeof Storage&&(sessionStorage.setItem("IPCCURRENTSTATE",this.curSavefile),localStorage.setItem("IPCCURRENTSTATE",this.curSavefile)),t(e.data))}.bind(this)).fail(function(e){i.onProgressEnd(),e.needsInit&&""!==n&&0===this.restoreCount?this.setConfigurator(n,!0,function(){this.restoreCount++}.bind(this)):o.log(e.message)}.bind(this))},this.deferredJson=function(e,t){var n=r.Deferred();i.onProgressBegin();var o=t;return void 0===o&&(o=""),r.post(e,o,function(e,t){!0===e.status?n.resolve({data:e.data,message:e.message,currentSaveFile:e.currentSaveFile}):!1===e.status&&n.reject({message:e.message,needsInit:e.needsInit})},"json"),n.promise()},this.deferredJsonCallBack=function(e,t,n){return function(){return e(t,n)}},this.setConfigurator=function(e,t,i){this.setCurrentCustomerId(e);var o="";"undefined"!=typeof Storage&&(""!==(o=sessionStorage.getItem("IPCCURRENTSTATE"))&&"undefined"!==o&&null!==o||(o=localStorage.getItem("IPCCURRENTSTATE"))),t&&null!==s&&void 0!==s&&""!==o&&"undefined"!==o&&null!==o?(s.showRestoreWarning(),o=s.ipcHelper.replaceAll(o,",","$$COMMA$$"),this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setConfigurator&parameter="+e+","+a.getLanguage()),function(){this.openConfig(encodeURIComponent(o),function(e){s.updateInstanceList(),i(e)})}.bind(this))):this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setConfigurator&parameter="+e+","+a.getLanguage()),i)},this.getConfiggurationInfo=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getConfiggurationInfo"),e)},this.getConnectables=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getConnectables&parameter="+e+","+t),i)},this.addPart=function(e,t,i,o,r,s,a,l){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=addPart&parameter="+e+","+t+","+i+","+o+","+r+","+s+","+a),l)},this.tableChanged=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=tableChanged&parameter="+e),t)},this.replacePart=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=replacePart&parameter="+e+","+t),i)},this.canConnect=function(e,t,i,o,r){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=canConnect&parameter="+e+","+t+","+i+","+o),r)},this.getValidConnectionPoints=function(e,t,i,o){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getValidConnectionPoints&parameter="+e+","+t+","+i),o)},this.connect=function(e,t,i,o,r,s,a,l){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=connect&parameter="+e+","+t+","+i+","+o+","+r+","+s+","+a),l)},this.moveConnection=function(e,t,i,o,r){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=moveConnection&parameter="+e+","+t+","+i+","+o),r)},this.rotateConnection=function(e,t,i,o,r){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=rotateConnection&parameter="+e+","+t+","+i+","+o),r)},this.getAllowedAngle=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getAllowedAngle&parameter="+e),t)},this.getAllowdMovement=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getAllowdMovement&parameter="+e),t)},this.getTable=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getTable&parameter="+e+","+a.getLanguage()),t)},this.setValues=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setValues&parameter="+e+","+t),i)},this.setValue=function(e,t,i,o){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setValue&parameter="+e+","+t+","+i),o)},this.getValue=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getValue&parameter="+e+","+t),i)},this.getAccessories=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getAccessories&parameter="+e),t)},this.getCurrentAccessorie=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getCurrentAccessorie&parameter="+e),t)},this.setAccessorie=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setAccessorie&parameter="+e+","+t),i)},this.duplicatePart=function(e,t,i,o,r,s){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=duplicatePart&parameter="+e+","+t+","+i+","+o+","+r),s)},this.setComment=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setComment&parameter="+e+","+t),i)},this.getComment=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getComment&parameter="+e),t)},this.setFixed=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setFixed&parameter="+e),t)},this.setStarterPart=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setStarterPart&parameter="+e),t)},this.setPosNr=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setPosNr&parameter="+e+","+t),i)},this.getPosNr=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getPosNr&parameter="+e),t)},this.getPartInfo=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getPartInfo&parameter="+e),t)},this.changeLength=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=changeLength&parameter="+e+","+t),i)},this.setInitValues=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setInitValues&parameter="+e),t)},this.getSplitAddParts=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getSplitAddParts&parameter="+e),t)},this.splitChannel=function(e,t,i,o){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=splitChannel&parameter="+e+","+t+","+i),o)},this.canStrechAndConnect=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=canStrechAndConnect&parameter="+e+","+t),i)},this.strechAndConnect=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=strechAndConnect&parameter="+e+","+t),i)},this.getDrillCPs=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getDrillCPs&parameter="+e),t)},this.addDrill=function(e,t,i,o,r,s,a,l,c,p){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=addDrill&parameter="+e+","+t+","+i+","+o+","+r+","+s+","+a+","+l+","+c),p)},this.modDrill=function(e,t,i,o,r,s,a,l){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=modDrill&parameter="+e+","+t+","+i+","+o+","+r+","+s+","+a),l)},this.removeDrill=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=removeDrill&parameter="+e),t)},this.getStatus=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getStatus"),e)},this.getInstanceList=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getInstanceList"),e)},this.getPublisherId=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getPublisherId"),e)},this.keepAlive=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=keepAlive"),e)},this.newConfig=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=newConfig"),e)},this.openConfig=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=openConfig","parameter="+e),t)},this.saveConfig=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=saveConfig"),e)},this.undo=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=undo"),e)},this.redo=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=redo"),e)},this.deletePart=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=deletePart&parameter="+e),t)},this.getPart=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/export?format=PARTJAVA3D&mident="+e),t)},this.getBom=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getBom"),e)},this.getSAPXML=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getSAPXML"),e)},this.getPdf=function(e,t){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/export?format=PDFDATASHEET&mident="+e),t)},this.addToBasket=function(e,t,i,o){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=addToBasket&parameter="+(e?"1":"0")+","+t+","+i),o)},this.addToBasketDebug=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=addToBasketDebug&parameter="+(e?"1":"0")),i)},this.getPdf=function(e){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=getPdf"),e)},this.customCommand=function(e,t,i){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=customCommand&parameter="+e+","+t),i)},this.setDistanceForConnection=function(e,t,i,o){this.callCommand(this.deferredJsonCallBack(this.deferredJson,"/service/ipc/"+n+"?command=setDistanceForConnection&parameter="+e+","+t+","+i),o)}}},{"base/js/logger":8,"psol.core":196,"viewBase/js/progressHandler":56}],29:[function(e,t,n){"use strict";t.exports=function(){var t=window.THREE||e("THREE"),n=[{country:"PT",dki_language:"PTBR",cmsLocale:"pt_PT",langnew:"pt",countrynew:"pt",cadenas_language:"en_US"},{country:"VN",dki_language:"ENGB",cmsLocale:"en-vn_vn",langnew:"en",countrynew:"vn",cadenas_language:"en_US"},{country:"WW",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"WW",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"WW",dki_language:"DE",cmsLocale:"de_de",langnew:"de",countrynew:"de",cadenas_language:"de_DE"},{country:"DE",dki_language:"DE",cmsLocale:"de_de",langnew:"de",countrynew:"de",cadenas_language:"de_DE"},{country:"GB",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"US",dki_language:"ENUS",cmsLocale:"en-us_us",langnew:"en",countrynew:"us",cadenas_language:"en_US"},{country:"IT",dki_language:"IT",cmsLocale:"it_it",langnew:"it",countrynew:"it",cadenas_language:"it_IT"},{country:"FR",dki_language:"FR",cmsLocale:"fr_fr",langnew:"fr",countrynew:"fr",cadenas_language:"fr_FR"},{country:"ES",dki_language:"ES",cmsLocale:"es_es",langnew:"es",countrynew:"es",cadenas_language:"es_ES"},{country:"BE",dki_language:"FR",cmsLocale:"fr-be_be",langnew:"fr",countrynew:"be",cadenas_language:"en_US"},{country:"BE",dki_language:"NLBE",cmsLocale:"nl-be_be",langnew:"nl",countrynew:"be",cadenas_language:"nl_NL"},{country:"CN",dki_language:"ZHCN",cmsLocale:"zh-cn_cn",langnew:"zh",countrynew:"cn",cadenas_language:"en_US"},{country:"RU",dki_language:"RU",cmsLocale:"ru_ru",langnew:"ru",countrynew:"ru",cadenas_language:"ru_RU"},{country:"AT",dki_language:"DE",cmsLocale:"de-at_at",langnew:"de",countrynew:"at",cadenas_language:"de_DE"},{country:"CH",dki_language:"DE",cmsLocale:"de-ch_ch",langnew:"de",countrynew:"ch",cadenas_language:"de_DE"},{country:"CH",dki_language:"IT",cmsLocale:"it-ch_ch",langnew:"it",countrynew:"ch",cadenas_language:"en_US"},{country:"CH",dki_language:"FR",cmsLocale:"fr-ch_ch",langnew:"fr",countrynew:"ch",cadenas_language:"en_US"},{country:"DE",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"NL",dki_language:"ENGB",cmsLocale:"nl_nl",langnew:"nl",countrynew:"nl",cadenas_language:"en_US"},{country:"GR",dki_language:"ENGB",cmsLocale:"el_gr",langnew:"el",countrynew:"gr",cadenas_language:"en_US"},{country:"BG",dki_language:"BG",cmsLocale:"bg_bg",langnew:"bg",countrynew:"bg",cadenas_language:"en_US"},{country:"CZ",dki_language:"CS",cmsLocale:"cs_cz",langnew:"cs",countrynew:"cz",cadenas_language:"cs_CZ"},{country:"HU",dki_language:"HU",cmsLocale:"hu_hu",langnew:"hu",countrynew:"hu",cadenas_language:"en_US"},{country:"PL",dki_language:"PL",cmsLocale:"pl_pl",langnew:"pl",countrynew:"pl",cadenas_language:"pl_PL"},{country:"SI",dki_language:"SL",cmsLocale:"sl_si",langnew:"sl",countrynew:"si",cadenas_language:"sl_SI"},{country:"SK",dki_language:"SK",cmsLocale:"sk_sk",langnew:"sk",countrynew:"sk",cadenas_language:"sk_SK"},{country:"BR",dki_language:"PTBR",cmsLocale:"pt-br_br",langnew:"pt",countrynew:"br",cadenas_language:"en_US"},{country:"IE",dki_language:"ENGB",cmsLocale:"en-gb_ie",langnew:"en",countrynew:"ie",cadenas_language:"en_US"},{country:"LV",dki_language:"LV",cmsLocale:"lv_lv",langnew:"lv",countrynew:"lv",cadenas_language:"en_US"},{country:"KR",dki_language:"KO",cmsLocale:"ko_kr",langnew:"ko",countrynew:"kr",cadenas_language:"ko_KR"},{country:"HR",dki_language:"HR",cmsLocale:"hr_hr",langnew:"hr",countrynew:"hr",cadenas_language:"en_US"},{country:"JP",dki_language:"JA",cmsLocale:"ja_jp",langnew:"ja",countrynew:"jp",cadenas_language:"ja_JP"},{country:"LT",dki_language:"LT",cmsLocale:"lt_lt",langnew:"lt",countrynew:"lt",cadenas_language:"en_US"},{country:"RO",dki_language:"RO",cmsLocale:"ro_ro",langnew:"ro",countrynew:"ro",cadenas_language:"ro_RO"},{country:"TR",dki_language:"TR",cmsLocale:"tr_tr",langnew:"tr",countrynew:"tr",cadenas_language:"tr_TR"},{country:"TW",dki_language:"ZHTW",cmsLocale:"zh-tw_tw",langnew:"zh",countrynew:"tw",cadenas_language:"zh_CN"},{country:"IR",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"EE",dki_language:"ENGB",cmsLocale:"et_ee",langnew:"et",countrynew:"ee",cadenas_language:"en_US"},{country:"ID",dki_language:"ENGB",cmsLocale:"en-id_id",langnew:"en",countrynew:"id",cadenas_language:"en_US"},{country:"IN",dki_language:"ENGB",cmsLocale:"en-in_in",langnew:"en",countrynew:"in",cadenas_language:"en_US"},{country:"PH",dki_language:"ENGB",cmsLocale:"en-ph_ph",langnew:"en",countrynew:"ph",cadenas_language:"en_US"},{country:"TH",dki_language:"ENGB",cmsLocale:"en-th_th",langnew:"en",countrynew:"th",cadenas_language:"en_US"},{country:"ZA",dki_language:"ENGB",cmsLocale:"en-za_za",langnew:"en",countrynew:"za",cadenas_language:"en_US"},{country:"IL",dki_language:"ENGB",cmsLocale:"en-il_il",langnew:"en",countrynew:"il",cadenas_language:"en_US"},{country:"HK",dki_language:"ENGB",cmsLocale:"en-cn_hk",langnew:"en",countrynew:"hk",cadenas_language:"en_US"},{country:"CN",dki_language:"ENGB",cmsLocale:"en-cn_cn",langnew:"en",countrynew:"cn",cadenas_language:"en_US"},{country:"KR",dki_language:"ENGB",cmsLocale:"en-kr_kr",langnew:"en",countrynew:"kr",cadenas_language:"en_US"},{country:"JP",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"},{country:"TW",dki_language:"ENGB",cmsLocale:"en-tw_tw",langnew:"en",countrynew:"tw",cadenas_language:"en_US"},{country:"CA",dki_language:"ENGB",cmsLocale:"en-ca_ca",langnew:"en",countrynew:"ca",cadenas_language:"en_US"},{country:"CA",dki_language:"FR",cmsLocale:"fr-ca_ca",langnew:"fr",countrynew:"ca",cadenas_language:"en_US"},{country:"AR",dki_language:"ES",cmsLocale:"es-ar_ar",langnew:"es",countrynew:"ar",cadenas_language:"en_US"},{country:"CL",dki_language:"ES",cmsLocale:"es-cl_cl",langnew:"es",countrynew:"cl",cadenas_language:"en_US"},{country:"CO",dki_language:"ES",cmsLocale:"es-co_co",langnew:"es",countrynew:"co",cadenas_language:"en_US"},{country:"PE",dki_language:"ES",cmsLocale:"es-pe_pe",langnew:"es",countrynew:"pe",cadenas_language:"en_US"},{country:"VE",dki_language:"ES",cmsLocale:"es-ve_ve",langnew:"es",countrynew:"ve",cadenas_language:"en_US"},{country:"RS",dki_language:"ENGB",cmsLocale:"sr_rs",langnew:"sr",countrynew:"rs",cadenas_language:"en_US"},{country:"UA",dki_language:"RU",cmsLocale:"ru-uk_ua",langnew:"ru",countrynew:"ua",cadenas_language:"en_US"},{country:"BY",dki_language:"RU",cmsLocale:"be_by",langnew:"be",countrynew:"by",cadenas_language:"en_US"},{country:"HK",dki_language:"ZHCN",cmsLocale:"zh-cn_hk",langnew:"zh",countrynew:"hk",cadenas_language:"en_US"},{country:"SE",dki_language:"ENGB",cmsLocale:"sv_se",langnew:"sv",countrynew:"se",cadenas_language:"sv_SE"},{country:"NO",dki_language:"ENGB",cmsLocale:"no_no",langnew:"no",countrynew:"no",cadenas_language:"en_US"},{country:"FI",dki_language:"ENGB",cmsLocale:"fi_fi",langnew:"fi",countrynew:"fi",cadenas_language:"fi_FL"},{country:"DK",dki_language:"ENGB",cmsLocale:"da_dk",langnew:"da",countrynew:"dk",cadenas_language:"da_DK"},{country:"AU",dki_language:"ENGB",cmsLocale:"en-au_au",langnew:"en",countrynew:"au",cadenas_language:"en_US"},{country:"NZ",dki_language:"ENGB",cmsLocale:"en-nz_nz",langnew:"en",countrynew:"nz",cadenas_language:"en_US"},{country:"HQ",dki_language:"ES",cmsLocale:"es_es",langnew:"es",countrynew:"es",cadenas_language:"en_US"},{country:"MX",dki_language:"ES",cmsLocale:"es-mx_mx",langnew:"es",countrynew:"mx",cadenas_language:"en_US"},{country:"MY",dki_language:"ENGB",cmsLocale:"en-my_my",langnew:"en",countrynew:"my",cadenas_language:"en_US"},{country:"SG",dki_language:"ENGB",cmsLocale:"en-sg_sg",langnew:"en",countrynew:"sg",cadenas_language:"en_US"},{country:"GB",dki_language:"DE",cmsLocale:"de_de",langnew:"de",countrynew:"de",cadenas_language:"de_DE"},{country:"DK",dki_language:"DE",cmsLocale:"de_de",langnew:"de",countrynew:"de",cadenas_language:"de_DE"},{country:"CN",dki_language:"DE",cmsLocale:"de_de",langnew:"de",countrynew:"de",cadenas_language:"de_DE"},{country:"HU",dki_language:"ENGB",cmsLocale:"hu_hu",langnew:"hu",countrynew:"hu",cadenas_language:"hu_HU"},{country:"CH",dki_language:"ENGB",cmsLocale:"en-gb_gb",langnew:"en",countrynew:"gb",cadenas_language:"en_US"}];this.mapFestoLanguage=function(e){for(var t in n)if(e===n[t].dki_language||e===n[t].cmsLocale)return n[t].cadenas_language;return""},this.download=function(e,t){var n=new Blob([t],{type:"text/csv"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(n,e);else{var i=window.document.createElement("a");i.href=window.URL.createObjectURL(n),i.download=e,document.body.appendChild(i),i.click(),document.body.removeChild(i)}},this.downloadBin=function(e,t){for(var n=atob(t),i=n.length,o=0,r=new Uint8Array(i);o<i;++o)r[o]=n.charCodeAt(o);var s=new Blob([r],{type:"application/octet-stream"});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(s,e);else{var a=window.document.createElement("a");a.href=window.URL.createObjectURL(s),a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a)}},this.replaceAll=function(e,t,n){return e.replace(new RegExp(t,"g"),n)},this.fileToText=function(e,t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n&&n(e)},i.readAsText(e)},this.jsonToMatrix4=function(e,n){var i=new t.Matrix4;if(i.set(e.XX,e.YX,e.ZX,e.TX,e.XY,e.YY,e.ZY,e.TY,e.XZ,e.YZ,e.ZZ,e.TZ,0,0,0,1),void 0!==n){var o=new t.Matrix4;o.makeScale(n,n,n),o.multiplyMatrices(i,o),i.copy(o)}return i},this.calcMovementRotationMatrix=function(e,n,i,o,r,s,a){var l=new t.Matrix4;l=l.makeTranslation(0,0,r);var c=new t.Matrix4;c=a?c.makeRotationY(Math.PI*s/180):c.makeRotationY(Math.PI*-s/180);var p=new t.Matrix4;a||(p=p.makeRotationX(180*Math.PI/180));var d=new t.Matrix4;d.getInverse(i);var h=new t.Matrix4;return h.identity(),h.copy(n),h.multiplyMatrices(d,h),h.multiplyMatrices(c,h),h.multiplyMatrices(l,h),h.multiplyMatrices(p,h),h.multiplyMatrices(o,h),h}}},{THREE:"THREE"}],30:[function(e,t,n){"use strict";var i=jQuery,o=e("base/js/globals"),r=e("psol.translation"),s=e("radialMenu/js/radialMenu"),a=(e("viewBase/js/viewHelper"),e("buttonBar/js/buttonBar"));e("ion-rangeslider");e("bowser");t.exports=function t(){window.THREE||e("THREE");t.prototype.createMainRadialMenu=function(e){i("#logo").change(function(t){var n=t.currentTarget.files[0];e.loadByFile(n)});var t=o.getApiPath()+"img/ipc/",n=[{name:"core_new_config",text:r.zTR("Neue Konfiguration"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"core_open_config",text:r.zTR("Lade Konfiguration"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"core_save_config",text:r.zTR("Speichere Konfiguration"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"datasheet",text:r.zTR("Datenblatt"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"core_undo",text:r.zTR("Rückgängig"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"core_redo",text:r.zTR("Wiederholen"),availableStates:["visible"],imageBasePath:t,subActions:[]}];i(".radialMain").css({top:32,right:30,width:1,height:1,"z-index":3e3}),this.radialMenuComponentMain=new s({$container:i(".radialMain"),mainActions:n,startDegree:180,endDegree:270,radius:150,directionClockwise:!1,alignHorizontal:!1,alignVertical:!1,mainActionsInitialOpen:!0,submenuDirection:"right"}),this.radialMenuComponentMain._oncore_new_config=function(){var t=window.psol||{},n=new t.components.MessageDialog({title:t.translation.zTR("Neue Konfiguration"),message:t.translation.zTR("Wollen Sie speichern?"),buttons:[{label:t.translation.zTR("Ja"),callback:function(){e.controller.saveConfig(function(t){e.ipcHelper.download("festo.fcfg",t),e.controller.newConfig(function(){e.updateInstanceList(),e.showBasePartBreadCrum([])})}),n.hide()}},{label:t.translation.zTR("Nein"),callback:function(){e.controller.newConfig(function(){e.updateInstanceList(),e.showBasePartBreadCrum([])}),n.hide()}}]});n.onCloseButton=function(){},n.show()},this.radialMenuComponentMain._oncore_open_config=function(){i("#logo").trigger("click")}.bind(this),this.radialMenuComponentMain._oncore_save_config=function(){e.controller.saveConfig(function(t){e.ipcHelper.download("festo.fcfg",t)})},this.radialMenuComponentMain._ondatasheet=function(){e.controller.getPdf(function(t){e.ipcHelper.downloadBin("festo.pdf",t)})},this.radialMenuComponentMain._oncore_undo=function(){e.controller.undo(function(){e.updateInstanceList()})},this.radialMenuComponentMain._oncore_redo=function(){e.controller.redo(function(){e.updateInstanceList()})},this.radialMenuComponentMain._onmod_shopbasket=function(){e.showBasket()},this.radialMenuComponentMain._oncore_export=function(){e.showExport()},this.radialMenuComponentMain.show(),i(".radialMain").show();var l=[{name:"mod_shopbasket",text:r.zTR("Warenkorb"),availableStates:["visible"],imageBasePath:t,subActions:[]},{name:"core_export",text:r.zTR("2D/3D-CAD"),availableStates:["visible"],imageBasePath:t,subActions:[]}];this.buttonMenuComponentMain=new a({$container:i(".buttonBarMain"),actions:l}),this.buttonMenuComponentMain._onmod_shopbasket=function(){e.showBasket()},this.buttonMenuComponentMain._oncore_export=function(){e.showExport()},i(".buttonBarMain").css({top:4,right:10,width:150,height:1,"z-index":3e3}),this.buttonMenuComponentMain.show(),i(".buttonBarMain").show()},t.prototype.showPartRadial=function(e,t,n,o,a,l){var c=i(".radial"),p=e.partManager.getMoveConnections(t.id),d=e.partManager.getRotateConnections(t.id),h=e.partManager.getDistanceConnections(t.id);c.css({top:o,left:n,width:1,height:1,"z-index":3e3}),c.show(),c.focusout(function(){c.hide()});var u=[{name:"core_delete",text:r.zTR("Löschen"),imageBasePath:a,subActions:[]},{name:"mod_show_table",text:r.zTR("Bearbeiten"),imageBasePath:a,subActions:[]}];p.length>0&&!t.isBasePart&&(u[u.length]={name:"mod_moveon_connection",text:r.zTR("Bauteil verschieben"),imageBasePath:a,subActions:[]}),d.length>0&&!t.isBasePart&&(1===d.length&&d[0].strict&&1===d[0].allowedRotations.length||(u[u.length]={name:"mod_rotate_connection",text:r.zTR("Bauteil rotieren"),imageBasePath:a,subActions:[]})),h.length>0&&(u[u.length]={name:"mod_distance_connection",text:r.zTR("Abstand der Bauteile verändern"),imageBasePath:a,subActions:[]});var m=new s({$container:c,mainActions:u,startDegree:0,endDegree:359,radius:80,directionClockwise:!1,alignHorizontal:!1,alignVertical:!1,mainActionsInitialOpen:!0,submenuDirection:"right"});m._oncore_delete=function(){c.hide(),t.isBasePart?e.controller.newConfig(function(){var t=window.psol||{},n=new t.components.MessageDialog({title:"Neue Konfiguration",message:"Wollen Sie speichern?",buttons:[{label:t.translation.zTR("Ja"),callback:function(){e.controller.saveConfig(function(t){e.ipcHelper.download("festo.fcfg",t),e.controller.newConfig(function(){e.updateInstanceList(),e.showBasePartBreadCrum([])})}),n.hide()}},{label:t.translation.zTR("Nein"),callback:function(){e.controller.newConfig(function(){e.updateInstanceList(),e.showBasePartBreadCrum([])}),n.hide()}}]});n.onCloseButton=function(){},n.show()}.bind(this)):e.controller.deletePart(t.id,function(){e.updateInstanceList()})}.bind(this),m._onmod_show_table=function(){c.hide(),e.showTable(e.curPartId)},m._onmod_rotate_connection=function(){var r=i(".popupViewRot");c.hide(),r.blur(function(){r.hide()}),r.css({top:o,left:n,width:200,height:200,"z-index":3e3});var s=e.partManager.getBestConnection(d,[t.id]),a=s.rotation,p=s.flip,h=s.strict,u=s.moveMax,m=s.moveMin,f=s.movement,g=t,_=e.partManager.getPartById(s.otherPart),v=e.partManager.getCpById(g.id,s.thisCp),b=e.partManager.getCpById(_.id,s.otherCp),w=e.ipcHelper.jsonToMatrix4(g.matrix),y=e.ipcHelper.jsonToMatrix4(_.matrix),x=e.ipcHelper.jsonToMatrix4(b.pos),C=e.ipcHelper.jsonToMatrix4(v.pos),S="";if(h){var A=new Object;A.angles=s.allowedRotations,S=e._render("tmpl-Rotate-Strict",A),r.html(S),r.show(),i(".angles-strict").val(a),i(".angles-strict").change(function(){r.hide(),e.controller.rotateConnection(t.id,s.otherCp,i(this).find("option:selected").text(),!1,function(){e.updateInstanceList()})})}else{S=e._render("tmpl-Rotate"),r.html(S),r.show(),i("#angleSlider").roundSlider({sliderType:"min-range",handleShape:"round",radius:100,value:a,max:"360",width:22,handleSize:"+15",drag:function(t){var n,i=t.value;if(s.strict){var o=361;for(var r in s.allowedRotations)if(void 0!==r){var a=s.allowedRotations[r],c=Math.abs(t.value-a);c<o&&(o=c)}}n=p?f+(u-m)/2:f-(u-m)/2;var d=e.ipcHelper.calcMovementRotationMatrix(y,w,C,x,n,i,p);e.view3D.setMatrixSingleMesh(l,d)},change:function(n){var i=n.value;if(s.strict){var o=361;for(var a in s.allowedRotations)if(void 0!==a){var l=s.allowedRotations[a],c=Math.abs(n.value-l);c<o&&(o=c,i=l)}}r.hide(),e.controller.rotateConnection(t.id,s.otherCp,i,!1,function(){e.updateInstanceList()})}});var T=i("#angleSlider");i("#angleSlider").keydown(function(e){13===e.keyCode&&(T.focus(),T.focusout())})}},m._onmod_moveon_connection=function(){var r=i(".popupViewMove");c.hide(),r.focusout(function(){r.hide()}),r.css({top:o,left:n,width:300,height:100,"z-index":3e3});var s=e._render("tmpl-Move");r.html(s),r.show();var a=e.partManager.getBestConnection(p,[t.id]),d=a.movement,h=a.moveMax,u=a.moveMin,m=a.rotation,f=a.flip,g=t,_=e.partManager.getPartById(a.otherPart),v=e.partManager.getCpById(g.id,a.thisCp),b=e.partManager.getCpById(_.id,a.otherCp),w=e.ipcHelper.jsonToMatrix4(g.matrix),y=e.ipcHelper.jsonToMatrix4(_.matrix),x=e.ipcHelper.jsonToMatrix4(b.pos),C=e.ipcHelper.jsonToMatrix4(v.pos),S=i("#moveSlider"),A=i("#res-since-val"),T=function(t){var n;A.val(t.from),n=f?-(t.from-(h-u)/2):t.from-(h-u)/2;var i=e.ipcHelper.calcMovementRotationMatrix(y,w,C,x,n,m,f);e.view3D.setMatrixSingleMesh(l,i)},M=function(n){r.hide(),e.controller.moveConnection(t.id,a.otherCp,n,0,function(){e.updateInstanceList()})};A.keypress(function(e){if(13===e.which){var t=A.prop("value");S.data("ionRangeSlider").update({from:t}),M(t)}}),i("#moveSlider").ionRangeSlider({min:u,max:h,from:d,onFinish:function(e){M(e.from),T(e)},onChange:function(e){T(e)},onUpdate:function(e){T(e)},onStart:function(e){T(e)}})},m._onmod_distance_connection=function(){var r=i(".popupViewDist");c.hide(),r.focusout(function(){r.hide()}),r.css({top:o,left:n,width:300,height:100,"z-index":3e3});var s=new Object;s.minDistance=h[0].minDistance,s.maxDistance=h[0].maxDistance;var a=!1;s.maxDistance<s.minDistance&&(s.maxDistance*=-1,s.minDistance*=-1,a=!0);var l=e._render("tmpl-Distance",s);r.html(l);var p=i("#distanceValue");p.keypress(function(n){if(13===n.which){var i=parseFloat(p.prop("value"));i<s.minDistance&&(i=s.minDistance),i>s.maxDistance&&(i=s.maxDistance),a&&(i*=-1),r.hide(),e.controller.setDistanceForConnection(t.id,h[0].id,""+i,function(){e.updateInstanceList()})}}),r.show()},m.show()}}},{THREE:"THREE","base/js/globals":6,bowser:"bowser","buttonBar/js/buttonBar":11,"ion-rangeslider":"ion-rangeslider","psol.translation":207,"radialMenu/js/radialMenu":39,"viewBase/js/viewHelper":59}],31:[function(e,t,n){"use strict";var i=jQuery;e("round-slider"),e("ion-rangeslider");var o,r,s=e("inherits"),a=e("base/js/globals"),l=e("psol.core"),c=e("psol.translation"),p=e("dialogBase/js/dialogBase").DialogBase,d=e("viewBase/js/progressHandler"),h=e("table/js/table"),u="";function m(e){m.super_.call(this,e),this.ipcHelper=new m.prototype.ipcHelper,this.festoLang="en-gb_gb";var t=l.getParameter("language","de_De"),n=this.ipcHelper.mapFestoLanguage(t);""===n?n=t:this.festoLang=t;var o=l.getLanguageByLongIso(n);if(null!==o)l.setLanguage(o.language);else{var r=l.getLanguageByShortIso(n);null!==r?l.setLanguage(r.language):l.setLanguage(l.getLanguageByLongIso("de_DE"))}this.zoomAfterLoad=!1,u=a.getApiPath()+"img/ipc/",this.sessionId=l.getParameter("sessionId","none"),this.system=l.getParameter("system","none"),this.curPartId=void 0,this.curNodeId=void 0,this.view3D=e.view3D,this.view3D._fullscreen=function(e,t){var n=i(".ipcGroup");n.length&&(!this.isFullscreen(n)&&e?(t&&this._hideButtons(),this.setFullscreen(n)):this.isFullscreen(n)&&!e&&this.exitFullscreen(n))},this.curTableMode=h.TABLE_MODE.LIST,this.view3D._props._viewerBackend.setCPRenderer(!0),this.controller=new m.prototype.controller,this.partManager=new m.prototype.partManager,this.selectionManager=new m.prototype.selectionManager,this.ipcMenus=new m.prototype.ipcMenus,this.partData=void 0,this.basePartData=void 0,this.partManager.loadBaseData(),this.controller.setCurrentView(this);var s=this.selectionManager.createSignals.bind(this);this.view3D._props._viewerBackend.signals=s(),this.view3D._onipcShowTable=function(){this.showTable(this.curPartId)}.bind(this),this._progressCounter=0,d.onProgressBegin=function(){this._progressCounter++,i(".loading").show(0)}.bind(this),d.onProgressEnd=function(){this._progressCounter--,this._progressCounter<=0&&(this._progressCounter=0,i(".loading").hide(0))}.bind(this),this.ipcMenus.createMainRadialMenu(this)}i(document).on("mousemove",function(e){o=e.pageX,r=e.pageY}),i(document).not(".connectView").on("click",function(){i(".connectView").hide()}),i(document).not(".popupView").on("click",function(){i(".popupView").hide()}),i(document).not(".radial").on("click",function(){i(".radial").hide()}),s(m,p),m.prototype._componentName="IPCView",m.prototype.ipcMenus=e("./ipcmenus"),m.prototype.controller=e("./controller"),m.prototype.partManager=e("./partmanager"),m.prototype.selectionManager=e("./selectionmanager"),m.prototype.ipcHelper=e("./ipchelper"),m.prototype.changeMaterial=function(e,t){if(null!==e&&void 0!==e){void 0===e.origMaterial&&(e.origMaterial=e.material),e.material=t;for(var n in e.children)if(void 0!==n){var i=e.children[n];this.changeMaterial(i,t)}}},m.prototype.resetMaterial=function(e){if(null!==e&&void 0!==e){void 0!==e.origMaterial&&(e.material=e.origMaterial,e.origMaterial=void 0);for(var t in e.children)if(void 0!==t){var n=e.children[t];this.resetMaterial(n)}}},m.prototype.loadByFile=function(e){this.zoomAfterLoad=!0,this.ipcHelper.fileToText(e,function(e){e=this.ipcHelper.replaceAll(e,",","$$COMMA$$"),this.controller.openConfig(encodeURIComponent(e),function(){this.updateInstanceList()}.bind(this))}.bind(this),function(e){})},m.prototype.formatDialogFor=function(e){"table"===e?this.curTableMode===h.TABLE_MODE.LIST?i(".psol-comp-ipcview-dialog").css({width:"40%",height:"90%"}):i(".psol-comp-ipcview-dialog").css({width:"90%",height:"90%"}):"basket"===e?i(".psol-comp-ipcview-dialog").css({width:"60%",height:"80%"}):i(".psol-comp-ipcview-dialog").css({width:"40%",height:"60%"})},m.prototype.addPart=function(){var e=i("#partsList").jstree("get_selected").find("a").attr("id");void 0!==e&&this.controller.addPart(e,0,0,0,0,0,0,this.updateInstanceList)},m.prototype.addPartWithPosition=function(){var e=i("#partsList").jstree("get_selected").find("a").attr("id");if(void 0!==e){var t=i("#xInput").val(),n=i("#yInput").val(),o=i("#zInput").val(),r=i("#rotXInput").val(),s=i("#rotYInput").val(),a=i("#rotZInput").val();this.controller.addPart(e,t,n,o,r,s,a,this.updateInstanceList),this.switchToAddPart()}},m.prototype.updateInstanceList=function(){this.controller.getInstanceList(function(e){this.loadData(e)}.bind(this))},m.prototype.loadData=function(e){this.partManager.updateInstanceList(e,function(){this.update3DView()}.bind(this))},m.prototype.update3DView=function(){d.onProgressBegin();var e=this.partManager.getCurInstanceList();if(null===e)this.view3D.loadObjectFromData('S{N{"Assembly"}}',{begin:function(){},done:function(){}});else for(var t=0;t<e.length;t++){var n,i=e[t],o=this.partManager.getPart(i.mident),r=function(e){return function(t){this.curPartId=e.id,this.selectPart(e,t)}.bind(this)}.bind(this),s=function(e,t){return function(n){this.controller.getConnectables(e,t,function(n){this.showConnectables(n,e,t)}.bind(this))}.bind(this)}.bind(this),a=this.ipcHelper.jsonToMatrix4(i.matrix);n=0===t?{matrix:a,clear:!1,begin:function(){},done:function(){},click:r(i),defaultView:!1,resetCamera:!1}:{matrix:a,clearBeforeLoad:!1,clear:!1,begin:function(){},done:function(){},click:r(i),defaultView:!1},this.view3D.loadObjectFromData(o,n).done(function(){1!==e.length&&!0!==this.zoomAfterLoad||(this.view3D.zoomObject(this.view3D._meshes_root),this.zoomAfterLoad=!1)}.bind(this)),this.createLoadDataFunk(i,n,s)}d.onProgressEnd()},m.prototype.createLoadDataFunk=function(e,t,n){for(var i in e.cps){if(void 0!==i)t={matrix:this.ipcHelper.jsonToMatrix4(e.cps[i].pos),clearBeforeLoad:!1,clear:!1,begin:function(){},done:function(){},click:n(e.id,e.cps[i].name),drawType:"cp",defaultView:!1},e.cps[i].isConnectionLine&&null!==this.partManager.line?this.view3D.loadObjectFromData(this.partManager.line,t).done(function(){}.bind(this)):e.cps[i].isConnectionLine||null===this.partManager.ball||this.view3D.loadObjectFromData(this.partManager.ball,t).done(function(){}.bind(this)),d.onProgressEnd()}},m.prototype.showRestoreWarning=function(){d.onProgressEnd();var e=window.psol||{},t=new e.components.MessageDialog({title:c.zTR("Session is abgelaufen"),message:c.zTR("Achtung: Ihre Session ist abgelaufen und wird nun wiederhergestellt."),buttons:[{label:e.translation.zTR("Ok"),callback:function(){t.hide()}}]});t.show()},m.prototype.showBasket=function(){var e=this._render("tmpl-Basket");this._props._$contentcontainer.html(e),i("#packetImage").attr("src",u+"mounted.png"),i("#sapDebug").dblclick(function(){var e=!0;e=!!i("#packetRadio").is(":checked"),this.controller.addToBasketDebug(e,this.sessionId,this.system,function(e){this.ipcHelper.download("sap-debug.xml",e)}.bind(this))}.bind(this)),this.formatDialogFor("basket"),this._props.title=c.zTR("Zum online Warenkorb hinzufügen"),this._props.closeButton=!0,this._props.buttons=[{label:c.zTR("Übernehmen"),callback:function(e){var t=!0;t=!!i("#packetRadio").is(":checked");var n=window.psol||{};this.controller.keepAlive(function(){var e=new n.components.MessageDialog({title:c.zTR("Zum online Warenkorb hinzufügen"),message:c.zTR("Achtung: Dieser Vorgang kann 1-2 Minuten in Anspruch nehmen. Wollen Sie fortfahren?"),buttons:[{label:n.translation.zTR("Ja"),callback:function(){this.controller.addToBasket(t,this.sessionId,this.system,function(e){window.open("https://www.festo.com/basket?sspcontextid="+e)}),e.hide()}.bind(this)},{label:n.translation.zTR("Nein"),callback:function(){e.hide()}}]});e.onCloseButton=function(){},e.show()}.bind(this))}.bind(this)}],this.show().done(function(){i("#packetRadio").change(function(){i("#packetImage").attr("src",u+"packed.png")}),i("#assembledRadio").change(function(){i("#packetImage").attr("src",u+"mounted.png")})})},m.prototype.showExport=function(){this.controller.getInstanceList(function(e){var t=-1;for(var n in e)void 0!==n&&e[n].isBasePart&&(t=e[n].id);i("#exportOpenForm").attr("action","https://www.festo.com/eap/"+this.festoLang+"/DKI3CAD2/start.do");var o=window.btoa(JSON.stringify(e));i("#exportOpenFormData").val(encodeURIComponent(o)),this.controller.getValue(t,"MATNO",function(e){i("#partNrData").val(e),i("#exportOpenForm").submit()})}.bind(this))},m.prototype.showTable=function(e){this.controller.keepAlive(function(){this.formatDialogFor("table"),this.show().done(function(){this._props._$contentcontainer.html(this._render("tmpl-IPCViewTable"));var t=this._props._$contentcontainer.find("#list"),n=this._props._$contentcontainer.find("#row"),i=this._props._$contentcontainer.find("#tableListText"),o=this._props._$contentcontainer.find("#tableRowText");this.curTableMode===h.TABLE_MODE.LIST?(t.prop("checked",!0),i.show(),o.hide()):(n.prop("checked",!0),i.hide(),o.show()),n.on("click",function(){this.updateTableMode(e,0)}.bind(this)),t.on("click",function(){this.updateTableMode(e,1)}.bind(this));var r=this._props._$contentcontainer.find(".ipcTableContainer");this.tableView=new h({$container:r,erpEnabled:!1,wrapAllColumns:!1,viewMode:this.curTableMode,stickyEnabled:!1,dialogSettings:{fullWidth:!1,fullHeight:!1,wrapColumns:!1,wrapAllColumns:!1}}),this.tableView.setAdditionalOptions({servicePath:"/service/ipctable",partId:e}),this.tableView.setHeaderDescMode(!0),this._props.title=c.zTR("Werteauswahl"),this._props.closeButton=!0,this._props.buttons=[{label:c.zTR("Übernehmen"),callback:function(t){this.controller.tableChanged(e,function(){this.updateInstanceList(!0),this.hide()}.bind(this))}.bind(this)}],this.show().done(function(){this.tableView.show().done(function(){this.tableView.load({servicePath:"/service/ipctable",partId:e,headerDescMode:!0})}.bind(this))}.bind(this))}.bind(this))}.bind(this))},m.prototype.updateTableMode=function(e,t){this.hide(),this.curTableMode=1===t?h.TABLE_MODE.LIST:h.TABLE_MODE.TABLE_MODE,this.showTable(e)},m.prototype.selectPart=function(e,t){this.ipcMenus.showPartRadial(this,e,o,r,u,t)},m.prototype.showConnectables=function(e,t,n){var s=new Object;s.parts=this.createConnectPartList(e);var a=i(".connectView"),l=0,c=0;if(2===s.parts.length)l=300,c=200;else if(1===s.parts.length)l=150,c=200;else{var p=Math.floor(Math.sqrt(s.parts.length));Math.pow(p,2)<s.parts.length&&(p+=1),l=150*p,c=s.parts.length<=6?440:150*p}var d=window.innerWidth,h=window.innerHeight,u=o;d-u<l&&(u=d-l);var m=r;h-m<l&&(m=h-c),a.css({top:m,left:u,width:l,height:c,"z-index":3e3});var f=this._render("tmpl-Connect",s);a.html(f),a.show(),a.focusout(function(){a.hide()});for(var g in s.parts)void 0!==s.parts[g]&&i("#"+s.parts[g].id).on("click",function(i){if(a.hide(),void 0!==e)for(var o in e)if(i.target.id===e[o].id){this.controller.addPart(i.target.id,0,0,0,0,0,0,function(e){this.controller.getValidConnectionPoints(t,n,e,function(i){i.length>0&&this.controller.connect(t,n,e,i[0],0,0,0,function(){this.updateInstanceList()}.bind(this))}.bind(this))}.bind(this));break}}.bind(this))},m.prototype.saveConfig=function(){var e=i("#viewerTypeSetting").val();this.setSettingsCookie("viewerType",e)},m.prototype.setConfigurator=function(e){this.controller.setConfigurator(e,!1,function(){this.controller.newConfig(function(){this.controller.getConfiggurationInfo(function(e){this.partData=e,this.createBasePartTree(),this.showBasePartBreadCrum([])}.bind(this))}.bind(this))}.bind(this))},m.prototype.findCatArray=function(e,t){var n=[];for(var i in e){e[i].id===t&&(n[0]={},n[0].id=e[i].id,n[0].icon=e[i].icon,n[0].name=e[i].name,n[0].categories=[],n[0].parts=[]);var o=this.findCatArray(e[i].categories,t);o.length>0&&(n[0]={},n[0].id=e[i].id,n[0].icon=e[i].icon,n[0].name=e[i].name,n[0].categories=[],n[0].parts=[],n=n.concat(o))}return n},m.prototype.createBasePartTree=function(){this.basePartData={},this.basePartData.categories=[],this.basePartData.parts=[];for(var e in this.partData.parts)if(this.partData.parts[e].base){var t=this.partData.parts[e].cat,n=this.findCatArray(this.partData.categories,t),i=this.basePartData;for(var o in n)if(void 0!==o){var r=!1;for(var s in i.categories)if(n[o].id===i.categories[s].id){r=!0,i=i.categories[s];break}r||(i.categories[i.categories.length]=n[o],i=i.categories[i.categories.length-1])}i.parts[i.parts.length]=this.partData.parts[e]}},m.prototype.createConnectPartList=function(e){var t=[];for(var n in this.partData.parts)for(var i in e)if(this.partData.parts[n].id===e[i].id){var o=t.length;t[o]=this.partData.parts[n],t[o].vName=this.partData.parts[n].name.replace(" - ","<br>");break}return t},m.prototype.createConnectPartTree=function(e){var t;this.basePartData={},this.basePartData.categories=[],this.basePartData.parts=[];for(var n in this.partData.parts){t=!1;for(var i in e)if(this.partData.parts[n].id===e[i].id){t=!0;break}if(t){var o=this.partData.parts[n].cat,r=this.findCatArray(this.partData.categories,o),s=this.basePartData;for(var a in r)if(void 0!==a){var l=!1;for(var c in s.categories)if(r[a].id===s.categories[c].id){l=!0,s=s.categories[c];break}l||(s.categories[s.categories.length]=r[a],s=s.categories[s.categories.length-1])}s.parts[s.parts.length]=this.partData.parts[n]}}},m.prototype._updateView=function(){this._props.closeButton?this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-closebtn").show(0):this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-closebtn").hide(0),this._props._$headercontainer.find(".psol-comp-dialogbase-dialog-header-title").html(this._props.title),this._props._$footercontainer.html(this._render("tmpl-DialogBase-buttons",{buttons:this._props.buttons})),this._props.sizeToContent&&this._$el.addClass("psol-comp-dialogbase-dialog-size-to-content"),this._resize()},m.prototype.showBasePartBreadCrum=function(e,t,n,o){this.formatDialogFor("parts");var r={},s=this.basePartData.categories,a=this.basePartData.parts;for(var l in e)if(void 0!==l)for(var p in s)if(e[l].id===s[p].id){a=s[p].parts,s=s[p].categories;break}r.categories=s,r.parts=a,r.breadCrum=e,this._props.title=c.zTR("Bauteilauswahl"),this._props.closeButton=!0,this._props.buttons=[],this._props._$contentcontainer.html(this._render("tmpl-IPCView2",r)),this.show();for(var d in r.breadCrum)void 0!==r.breadCrum&&i("#crum_"+r.breadCrum[d].id).on("click",function(i){var r=[];for(var s in e){if("crum_"+e[s].id===i.target.id)break;r[s]=e[s]}this.showBasePartBreadCrum(r,t,n,o)}.bind(this));for(var h in r.categories)void 0!==r.categories&&i("#"+r.categories[h].id).on("click",function(i){var r=i.target.id;for(var a in s)r===s[a].id&&(e[e.length]={},e[e.length-1].name=s[a].name,e[e.length-1].id=s[a].id);this.showBasePartBreadCrum(e,t,n,o)}.bind(this));for(var u in r.parts)void 0!==r.parts[u]&&i("#"+r.parts[u].id).on("click",function(e){if(this.hide(),void 0!==t){for(var i in t)if(e.target.id===t[i].id){this.controller.addPart(e.target.id,0,0,0,0,0,0,this.createConnectPartFunk(n,o,t[i].cps[0].id));break}}else this.controller.addPart(e.target.id,0,0,0,0,0,0,function(e){this.showTable(e)}.bind(this))}.bind(this))},m.prototype.createConnectPartFunk=function(e,t,n){return function(i){this.controller.connect(e,t,i,n,0,0,0,function(){this.updateInstanceList()}.bind(this))}},m.prototype.showBasePartSelection=function(){},t.exports=m},{"./controller":28,"./ipchelper":29,"./ipcmenus":30,"./partmanager":32,"./selectionmanager":33,"base/js/globals":6,"dialogBase/js/dialogBase":15,inherits:208,"ion-rangeslider":"ion-rangeslider","psol.core":196,"psol.translation":207,"round-slider":"round-slider","table/js/table":50,"viewBase/js/progressHandler":56}],32:[function(e,t,n){"use strict";var i=jQuery,o=e("base/js/globals"),r=function(e){return e.split("").reduce(function(e,t){return(e=(e<<5)-e+t.charCodeAt(0))&e},0)};t.exports=function(){var t,n={},s={},a=null,l={},c=null,p=e("psol.core");this.loadBaseData=function(){this.ball=null,this.line=null,p.ajax({url:o.getApiPath()+"asset/ipc/ball.pjv",dataType:"text"}).done(function(e){this.ball=e}.bind(this)),p.ajax({url:o.getApiPath()+"asset/ipc/line.pjv",dataType:"text"}).done(function(e){this.line=e}.bind(this))},this.updateInstanceList=function(e,o){if(t=e,null!==e)for(var a=0;a<e.length;a++){var l=e[a];l.mident in n||l.mident in s&&s[l.mident]||(s[l.mident]=!0,i.ajax({type:"GET",url:p.getServiceBaseUrl()+"/service/export?format=PARTJAVA3D&mident="+l.mident+l.path,invokedata:{data1:l.mident,data2:o},success:function(e){n[r(this.invokedata.data1)]=e,delete s[this.invokedata.data1],i.isEmptyObject(s)&&this.invokedata.data2()}}))}i.isEmptyObject(s)&&o()},this.getConnections=function(e){for(var n=[],i=0;i<t.length;i++){var o=t[i];if(o.id===e&&null!==o.allcps)for(var r=0;r<o.allcps.length;r++){var s=o.allcps[r];if(null!==s.connections)for(var a=0;a<s.connections.length;a++){var l=s.connections[a];n[n.length]=l}}}return n},this.getMoveConnections=function(e){for(var n=[],i=0;i<t.length;i++){var o=t[i];if(o.id===e&&null!==o.allcps)for(var r=0;r<o.allcps.length;r++){var s=o.allcps[r];if(null!==s.connections)for(var a=0;a<s.connections.length;a++){var l=s.connections[a];l.moveMax>0&&(n[n.length]=l)}}}return n},this.getRotateConnections=function(e){for(var n=[],i=0;i<t.length;i++){var o=t[i];if(o.id===e&&null!==o.allcps)for(var r=0;r<o.allcps.length;r++){var s=o.allcps[r];if(null!==s.connections)for(var a=0;a<s.connections.length;a++){var l=s.connections[a];(!1===l.strict||l.allowedRotations.length>0)&&(n[n.length]=l)}}}return n},this.getDistanceConnections=function(e){for(var n=[],i=0;i<t.length;i++){var o=t[i];if(o.id===e&&null!==o.allcps)for(var r=0;r<o.allcps.length;r++){var s=o.allcps[r];if(null!==s.connections)for(var a=0;a<s.connections.length;a++){var l=s.connections[a];l.canSetDistance&&(n[n.length]=l)}}}return n},this.getBestConnection=function(e,t){var n=null;void 0===t&&(t=[]);for(var i=0;i<e.length;i++){var o=e[i],r=this.getPartById(o.thisPart),s=this.getPartById(o.otherPart);if(r.isBasePart||s.isBasePart){n=o;break}var a=null;if(-1===t.indexOf(o.thisPart)&&(t.push(o.thisPart),a=this.getConnections(o.thisPart),null!==this.getBestConnection(a,t))){n=o;break}if(-1===t.indexOf(o.otherPart)&&(t.push(o.otherPart),a=this.getConnections(o.otherPart),null!==this.getBestConnection(a,t))){n=o;break}}return n},this.getPartById=function(e){for(var n=void 0,i=0;i<t.length;i++){var o=t[i];if(o.id===e){n=o;break}}return n},this.getCpById=function(e,n){for(var i=void 0,o=0;o<t.length;o++){var r=t[o];if(r.id===e&&null!==r.allcps)for(var s=0;s<r.allcps.length;s++){var a=r.allcps[s];if(a.name===n){i=a;break}}}return i},this.getCurInstanceList=function(){return t},this.getPart=function(e){var t=r(e);return t in n?n[t]:null},this.updateConfigData=function(e){null.controller.getConfiggurationInfo(function(e){a=e,null.updateMainCategories(),null.updatePartsList(""),null.updateInstanceList()})},this.getCategories=function(){return this.getStartCategory("")},this.getFirstCategory=function(){var e=this.getStartCategory("");if(e.categories)for(var t=0;t<e.categories.length;t++)if(e.categories[t].id)return e.categories[t].id;return""},this.getPartData=function(e,t,n,i){var o=new Array;return a&&("base"===e?o[0]=this.extractBaseList(t,n,i):"all"===e?o[0]=this.extractAllList(t,n,i):"selected"===e?o[0]=this.extractSelected(t,n,i):"fitting"===e&&(o[0]=this.extractFitting(t,n,i))),o},this.extractBaseList=function(e,t,n){var i=this.getStartCategory(e);return this.updatePartByCategory(),this.createJstreeData(i,this.baseFilter,t,n)},this.extractAllList=function(e,t,n){var i=this.getStartCategory(e);return this.updatePartByCategory(),this.createJstreeData(i,null,t,n)},this.extractSelected=function(e,t,n){var i=this.getStartCategory(e);return this.updatePartByCategory(),this.createJstreeData(i,this.selectedFilter,t,n)},this.extractFitting=function(e,t,n){var i=this.getStartCategory("");return this.updatePartByCategory(),l=e,this.createJstreeData(i,this.fitFilter,t,n)},this.allFilter=function(e){return"pseudo"!==e.type&&"drill"!==e.type},this.baseFilter=function(e){return e.base&&"pseudo"!==e.type&&"drill"!==e.type},this.selectedFilter=function(e){return"pseudo"!==e.type&&"drill"!==e.type},this.fitFilter=function(e,t,n){var i=!1,o=0;if(void 0===t||!1===t)for(o=0;o<l.length;o++)l[o].id===e.id&&(i=!0);else if(t)for(o=0;o<l.length;o++)if(l[o].id===e.id&&null!==l[o].cps)for(var r=0;r<l[o].cps.length;r++)l[o].cps[r].id===n.id&&(i=!0);return i&&"pseudo"!==e.type&&"drill"!==e.type},this.getStartCategory=function(e){var t=null;return""===e?((t=new Object).categories=a.categories,t.id="root",t.icon="",t.name="Bauteile"):t=this.findCatInChild(e,a.categories),t},this.findCatInChild=function(e,t){for(var n=0;n<t.length;n++){var i=t[n];if(i.id===e)return i;if(i.categories){var o=this.findCatInChild(e,i.categories);if(o)return o}}return null},this.updatePartByCategory=function(){if(!c){c={};for(var e=0;e<a.parts.length;e++){var t=a.parts[e];t.cat in c||(c[t.cat]=new Array),c[t.cat][c[t.cat].length]=t}}},this.testSearch=function(e,t){return t.name.indexOf(e)>-1||t.id.indexOf(e)>-1||t.cat.indexOf(e)>-1},this.createJstreeData=function(e,t,n,i){var o=new Object;o.data=new Object,o.data.title=e.name,o.data.icon="/IPCBackend"+e.icon,o.data.attr=new Object,o.data.attr.id=e.id,o.data.attr.isPart=!1,o.state="open";var r=0;if(e.id in c){var s=c[e.id];for(r=0;r<s.length;r++){var a=s[r];if(o.children||(o.children=new Array),(!t||t(a))&&(""===n||this.testSearch(n,a))){var l=new Object;if(l.data=new Object,l.data.title=a.name,l.data.icon="/IPCBackend"+a.icon,l.data.attr=new Object,l.data.attr.id=a.id,l.data.attr.isPart=!0,l.data.attr.isCp=!1,i)for(var p=0;p<a.cps.length;p++){var d=a.cps[p];if(!t||t(a,!0,d)){l.children||(l.children=new Array);var h=new Object;h.data=new Object,h.data.title=d.name,h.data.icon="resources/cpointsmall.png",h.data.attr=new Object,h.data.attr.id=d.id,h.data.attr.parentId=a.id,h.data.attr.isPart=!1,h.data.attr.isCp=!0,l.children[l.children.length]=h,l.state="open"}}o.children[o.children.length]=l}}}if(e.categories)for(r=0;r<e.categories.length;r++){o.children||(o.children=new Array);var u=e.categories[r],m=this.createJstreeData(u,t,n,i);m&&(o.children[o.children.length]=m)}return o.children&&o.children.length>0?o:null}}},{"base/js/globals":6,"psol.core":196}],33:[function(e,t,n){"use strict";var i=jQuery;t.exports=function t(){var n=window.THREE||e("THREE");t.prototype.createSignals=function(){var t=null,o=null,r=null;return{mode:"translate",getContextMenuIntersectionTypes:function(e){return[]},getLeftClickIntersectionTypes:function(e){return["face","cp"]},onLeftClickObject:function(s,a,l,c,p){i(".connectView").hide(),i(".popupView").hide(),i(".radial").hide(),s._transformControl&&(s._transformControl.visible=!1);var d=!0,h=null;if(void 0!==p){var u=p.object;if(h=u,0!==s._options.compareMode){var m=s._transformControl.object;for(s._transformControl.detach();u;){if(!0===u.selectable){s._transformControl.attach(u),s._transformControl.visible=!0,m===u&&"translate"===this.mode?this.mode="rotate":this.mode="translate",s._transformControl.setMode(this.mode);break}u=u.parent}}}var f=!1;if(null!==h&&void 0!==h){do{if(f|="cp"===h.drawType,void 0!==s._clickCallback[h.id]){if(f&&null===o){o=h;break}if(null===t){t=h;break}}h=h.parent}while(void 0!==h&&null!==h);d=!1}else{if(null!==t&&void 0!==t){null!==r&&this.resetMaterial(r),r=t;var g={u_color:{type:"v3",value:new n.Vector3},u_customColor:{type:"v4",value:new n.Vector4(0,.57,.86,1)}},_=e("../../webViewer3D/viewer/webgl/js/cnsthree/shaders/basic.js")({uniforms:g,defines:["USE_CUSTOM_COLOR"]});this.changeMaterial(t,_),this.curNodeId=t.id}else null!==r&&this.resetMaterial(r);null!==o&&void 0!==o?s._clickCallback[o.id](void 0):null!==t&&void 0!==t&&s._clickCallback[t.id](t.id),t=null,o=null}return d}.bind(this),onDoubleLeftClickObject:function(e,t,n,i,o){var r=e._meshes_root.getObjectByName("MeshesFaces");return e.zoomObject(r,e._getParentSphereSize(r)),!0},onContextMenuObject:function(e,t,n,i,o){return!0}}}}},{"../../webViewer3D/viewer/webgl/js/cnsthree/shaders/basic.js":150,THREE:"THREE"}],34:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("base/js/logger"),s=e("psol.location"),a=e("urijs"),l=e("viewBase/js/viewBase"),c=jQuery,p=function(e){function t(n){var i=e.call(this,n)||this;if(i._circles=[],i._markers=[],i._gmap=void 0,i._mapOpts={},i._props.googleClientId||i._props.googleApiKey||r.warn("No googleClientId or googleApiKey given"),void 0===t._gmapsPromise){t._gmapsPromise=c.Deferred(),window.mapViewer_gmapsJsonPCallback=function(){t._gmapsPromise.resolve(),window.mapViewer_gmapsJsonPCallback=void 0};var o=new a("https://maps.googleapis.com/maps/api/js"),s={callback:"mapViewer_gmapsJsonPCallback",v:3};i._props.googleApiKey&&(s.key=i._props.googleApiKey),i._props.googleClientId&&(s.client=i._props.googleClientId),i._props.googleSignedIn&&(s.signed_in=!0),o.query(s);var l=o.toString();c.getScript(l)}return i}return o(t,e),t.prototype._getComponentName=function(){return"MapViewer"},t.prototype._initializeInternal=function(){var e=this,t=c.Deferred();this._mapOpts={zoom:12};var n=c.Deferred();return void 0===this._props.location?this.getCurrentPosition().then(function(t){e._mapOpts.center=t,n.resolve()}):(this._mapOpts.center=this._props.location,n.resolve()),n.then(function(){var n=e._$el.find(".psol-comp-mapViewer-map-canvas")[0];e._gmap=new window.google.maps.Map(n,e._mapOpts),t.resolve()}),t.promise()},t.prototype.getCurrentPosition=function(){var e=c.Deferred();return s.isAvailable()&&s.getCurrentPosition().then(function(t){e.resolve({lat:t.coords.latitude,lng:t.coords.longitude})}),e.promise()},t.prototype.setLocation=function(e){this._gmap.setCenter(e),this._gmap.setZoom(12)},t.prototype.drawCircle=function(e,t){var n=new window.google.maps.Circle({center:e,map:this._gmap,radius:t});return this._circles.push(n),n},t.prototype.drawMarker=function(e){var t=new window.google.maps.Marker({animation:window.google.maps.Animation.DROP,map:this._gmap,position:e});return this._markers.push(t),t},t.prototype.openInfoWindow=function(e){var t=this,n=new window.google.maps.InfoWindow;return n.setContent(e.content),n.open(this._gmap,e.marker),e.marker.addListener(e.marker,"click",function(){n.open(t._gmap,e.marker)}),this._markers.push(n),n},t.prototype._resizeContainer=function(){e.prototype._resizeContainer.call(this),this.getMapsApi().event.trigger(this._gmap,"resize")},t.prototype.getMapsApi=function(){return window.google.maps},t.prototype.show=function(n,i){var o=this;return e.prototype.show.call(this,n,i).then(function(){return t._gmapsPromise}).then(function(){return o._initializeInternal()})},t._gmapsPromise=void 0,t}(l.ViewBase);n.MapViewer=p},{"base/js/logger":8,"psol.location":201,urijs:"urijs","viewBase/js/viewBase":58}],35:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("dialogBase/js/dialogBase"),a=e("psol.translation"),l=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,r.extend(!0,{message:"NO_MESSAGE_SET",showTitleCloseButton:!0,sizeToContent:!0,title:"NO_TITLE_SET"},t))||this;return n._message=n._props.message,n._props.closeButton=void 0===t.closeButton?n._props.showTitleCloseButton:t.closeButton,t.hasOwnProperty("buttons")||(n._props.buttons=[{callback:function(){return n.hide()},label:a.zTR("OK")}]),n}return o(t,e),t.prototype._getComponentName=function(){return"MessageDialog"},t.prototype._updateView=function(){this._props._$contentcontainer.html(this._render("tmpl-MessageDialog",{message:this._message})),e.prototype._updateView.call(this)},t}(s.DialogBase);n.MessageDialog=l},{"dialogBase/js/dialogBase":15,"psol.translation":207}],36:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("dialogBase/js/dialogBase"),s=e("psol.translation"),a=jQuery,l=null,c=function(e){function t(){var t=e.call(this,{buttons:[],closeButton:!1,destroyOnHide:!1,sizeToContent:!0,title:s.zTR("Bitte warten...")})||this;return t._progs={},t._$cont=void 0,t._toShow=[],t._showDef=void 0,t._initialized=!1,t}return o(t,e),t.prototype._getComponentName=function(){return"ProgressDialog"},t.prototype._updateView=function(){for(var e,t=!1;this._toShow.length>0;)t=!0,(e=this._toShow.shift())&&(e.$dom=a(this._render("tmpl-ProgressDialog-loading-text",{text:e.evt.text})).appendTo(this._$cont),e.isShown=!0);t&&(this._showBackDrop(),this._$el.css({display:"block"}),this._resize())},t.prototype.show=function(t){var n=this;return this._progs[t.text]||(this._progs[t.text]={$dom:void 0,counter:0,evt:t,isShown:!1,showImmediate:!1,timeout:-1}),this._progs[t.text].counter++,t.showImmediate?(this._progs[t.text].showImmediate=!0,-1!==this._progs[t.text].timeout&&clearTimeout(this._progs[t.text].timeout),this._progs[t.text].isShown||(this._toShow.push(this._progs[t.text]),this._initialized&&this._updateView())):-1!==this._progs[t.text].timeout&&!0!==this._progs[t.text].showImmediate||(this._progs[t.text].timeout=window.setTimeout(function(){n._progs[t.text]&&(n._progs[t.text].isShown||(n._toShow.push(n._progs[t.text]),n._updateView()))},100)),void 0===this._showDef&&(this._showDef=a.Deferred(),e.prototype.show.call(this).done(function(){n._initialized=!0,n._props._$contentcontainer.html(n._render("tmpl-ProgressDialog")),n._$cont=n._props._$contentcontainer.find(".psol-comp-progress-dialog"),e.prototype.hide.call(n),e.prototype._updateView.call(n),n._showDef.resolve()})),this._showDef.promise()},t.prototype.hide=function(t){var n=this._progs[t.text],i=this._toShow.indexOf(n);-1!==i&&n&&1===n.counter&&this._toShow.splice(i,1),n&&(n.counter--,0===n.counter&&(clearTimeout(n.timeout),void 0!==n.$dom&&n.$dom.bRemove(),delete this._progs[t.text])),0===Object.keys(this._progs).length&&(e.prototype.hide.call(this),this._$cont&&this._$cont.find(".psol-comp-progress-dialog-loading-text").remove())},t.prototype.hideAll=function(){var e;for(e in this._progs)this._progs.hasOwnProperty(e)&&this.hide({text:e})},t.show=function(e){return null===l&&(l=new t),l.show(e)},t.hide=function(e){l&&l.hide(e)},t.hideAll=function(){l&&l.hideAll()},t}(r.DialogBase);n.ProgressDialog=c},{"dialogBase/js/dialogBase":15,"psol.translation":207}],37:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("viewBase/js/viewBase").ViewBase,s=e("camera/js/camera"),a=e("webworkify"),l=e("base/js/logger");function c(t){c.super_.call(this,t),this._props._camera_component=void 0,this._props._scanInterval=t.scanInterval||500,this._props._worker=a(e("./worker")),this._props._worker.addEventListener("message",this._onResult.bind(this)),this._props._$canvasElement=void 0,this._props._canvasContext=void 0,this._props._scanTimer=void 0,this._imagedata=null,this._scanningRect=void 0,this._useAreaScanning=t.areaScanning||!1,this._$focusQuadrat=void 0,this._focusQuadratBorderWidth=0,this._$cover=void 0}o(c,r),c.prototype._componentName="QRScan",c.prototype.show=function(){var e=i.Deferred();return c.super_.prototype.show.call(this).done(function(){this._$focusQuadrat=this._$el.find(".psol-comp-QRScan-focusQuadrat"),this._focusQuadratBorderWidth=parseInt(this._$focusQuadrat.css("border-top-width")),this._$cover=this._$el.find(".psol-comp-QRScan-cover"),this._props._camera_component||(this._props._camera_component=new s({$container:this._$el.find(".psol-comp-QRScan-video-container")}),this._props._camera_component.onStopStreaming=function(){this.stopScanning()}.bind(this),this._props._camera_component.onStreamingStarted=function(){this.startScanning()}.bind(this)),this._props._camera_component.show().done(function(){this._resizeContainer(),e.resolve()}.bind(this)).fail(function(){e.reject()})}.bind(this)),e.promise()},c.prototype.hide=function(){this._props._camera_component&&this._props._camera_component.hide(),c.super_.prototype.hide.call(this)},c.prototype._onResult=function(e){this._props._scanTimer=window.setTimeout(this._scan.bind(this),this._props._scanInterval);var t=e.data.result;t&&t.result&&-1===t.result.indexOf("error decoding QR Code")&&this.onResult(t.result)},c.prototype.onResult=function(e){},c.prototype._scan=function(){if(this._props._camera_component&&this._props._camera_component.isStreaming()){var e=this._props._camera_component.getVideoElement();this._props._$canvasElement||(this._props._$canvasElement=i("<canvas/>").attr({id:"qr-canvas",class:"psol-comp-QRScan-canvas",width:e.videoWidth,height:e.videoHeight}),this._props._canvasContext=this._props._$canvasElement[0].getContext("2d"));var t=0,n=0,o=e.videoWidth,r=e.videoHeight;this._scanningRect&&(t=this._scanningRect.x,n=this._scanningRect.y,o=this._scanningRect.w,r=this._scanningRect.h,this._props._$canvasElement.attr({width:o,height:r}));try{this._props._canvasContext.drawImage(e,t,n,o,r,0,0,o,r),this._imagedata=this._props._canvasContext.getImageData(0,0,o,r),this._props._worker.postMessage(this._imagedata),this._imagedata=null}catch(e){l.error(e)}}},c.prototype.startScanning=function(){this._props._scanTimer||(this._props._scanTimer=window.setTimeout(this._scan.bind(this),this._props._scanInterval))},c.prototype.stopScanning=function(){this._props._scanTimer&&(window.clearTimeout(this._props._scanTimer),this._props._scanTimer=void 0)},c.prototype._resizeContainer=function(){this._scanningRect=null,this._useAreaScanning&&this.setScanningRect()},c.prototype.setScanningRect=function(){var e=this._$el.width(),t=this._$el.height(),n=Math.floor(.666*Math.min(e,t)),i=(e-n)/2,o=(t-n)/2;this._scanningRect={w:n,h:n,x:i,y:o};var r=this._props._camera_component.getVideoElement(),s=r.videoWidth/r.clientWidth;this._$cover.css({borderTopWidth:0,borderLeftWidth:0,borderRightWidth:0,borderBottomWidth:0});var a=this._scanningRect.y-this._focusQuadratBorderWidth,l=this._scanningRect.x-this._focusQuadratBorderWidth,c=t-this._scanningRect.h-this._scanningRect.y-this._focusQuadratBorderWidth,p=e-this._scanningRect.w-this._scanningRect.x-this._focusQuadratBorderWidth,d=this._scanningRect.w+2*this._focusQuadratBorderWidth,h=this._scanningRect.h+2*this._focusQuadratBorderWidth;this._$cover.css({borderTopWidth:a,borderLeftWidth:l,borderRightWidth:p,borderBottomWidth:c}),this._$focusQuadrat.css({top:a,left:l}),this._$cover.innerWidth(d),this._$cover.innerHeight(h),this._$focusQuadrat.innerWidth(this._scanningRect.w),this._$focusQuadrat.innerHeight(this._scanningRect.h),this._scanningRect.x*=s,this._scanningRect.y*=s,this._scanningRect.x-=r.offsetLeft*s,this._scanningRect.y-=r.offsetTop*s,this._scanningRect.w*=s,this._scanningRect.h*=s},t.exports=c},{"./worker":38,"base/js/logger":8,"camera/js/camera":12,inherits:208,"viewBase/js/viewBase":58,webworkify:210}],38:[function(e,t,n){"use strict";var i=e("qrcode-reader");t.exports=function(e){var t=new i,n=null;t.callback=function(t,n){e.postMessage({result:n,error:t})},e.addEventListener("message",function(e){n=e.data,t.decode(n),n=null})}},{"qrcode-reader":209}],39:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("viewBase/js/action").Action;function s(e){s.super_.call(this,e),this._props._mainActions=e.mainActions||[],this._props._startDegree=e.startDegree||360,this._props._endDegree=e.endDegree||0,this._props._radius=e.radius||100,this._props._alignHorizontal=e.alignHorizontal||"center",this._props._alignVertical=e.alignVertical||"middle",this._props.$container.addClass(this._props._alignHorizontal).addClass(this._props._alignVertical),this._props._mainActionsOpen=!1,this._props._mainActionsInitialOpen=!1,void 0!==e.mainActionsInitialOpen&&(this._props._mainActionsInitialOpen=e.mainActionsInitialOpen),this._props._directionClockwise=!0,void 0!==e.directionClockwise&&(this._props._directionClockwise=e.directionClockwise),this._props.submenuDirection=e.submenuDirection||"right",this._props._mainActions.forEach(function(e,t){e.currentState="visible",e.availableStates=["visible","toggle"];var n=this._registerAction(e,e instanceof r);this._props._mainActions[t]=n,n.subActions&&n.subActions.forEach(function(e,t){n.subActions[t]=this._registerAction(e,!0)}.bind(this))}.bind(this)),this._calcActionPositions(),this._props._currentMainActionOpen=void 0}o(s,e("viewBase/js/viewBase").ViewBase),s.prototype._componentName="RadialMenu",s.prototype._calcActionPositions=function(){if(0!==this._props._mainActions.length){var e=this._props._endDegree-this._props._startDegree;this._props._directionClockwise&&(e=this._props._startDegree-this._props._endDegree),e<0&&(e+=360);var t=this._props._mainActions.length;0===t&&(t=1),e<=270&&t--;for(var n=e/t,i=0;i<this._props._mainActions.length;++i){var o;o=this._props._directionClockwise?360+this._props._startDegree-i*n:this._props._startDegree+i*n,o*=Math.PI/180,this._props._mainActions[i].x=Math.round(Math.cos(o)*this._props._radius),this._props._mainActions[i].y=-Math.round(Math.sin(o)*this._props._radius)}}},s.prototype._alignMenu=function(){var e=this._$el.find(".psol-comp-radialMenu-button"),t=this._$el.width(),n=this._$el.height(),i=e.outerWidth(),o=e.outerHeight(),r=0,s=0;switch(this._props._alignHorizontal.toLocaleLowerCase()){case"left":s=0;break;case"center":s=t/2-i/2;break;case"right":s=t-i;break;default:s=0}switch(this._props._alignVertical.toLocaleLowerCase()){case"top":r=0;break;case"middle":r=n/2-o/2;break;case"bottom":r=n-o;break;default:r=0}e.css({top:r,left:s}),this._$el.find(".psol-comp-radialMenu-mainActionsContainer").css({top:r,left:s})},s.prototype._viewPostDisplay=function(e,t){s.super_.prototype._viewPostDisplay.call(this,e,t),this._alignMenu()},s.prototype._resizeContainer=function(){s.super_.prototype._resizeContainer.call(this),this._alignMenu()},s.prototype.updateSettings=function(e){s.super_.prototype.updateSettings.call(this,e),this._alignMenu(),this._calcActionPositions(),this._props._currentMainActionOpen&&this.openSubMenu(this._props._currentMainActionOpen)},s.prototype.show=function(e){return(e=e||{}).mainActions=this._props._mainActions,s.super_.prototype.show.call(this,e).done(function(){this._props._mainActionsInitialOpen&&this.toggleMainActions(!0)}.bind(this))},s.prototype.toggleMainActions=function(e){void 0===e&&(e=!1,this._closeSubMenu()),this._props._mainActionsOpen=e;var t="translate3d(0, 0, 0)",n=0,o="hidden";this._$el.find(".psol-comp-radialMenu-mainAction").each(function(e,r){if(this._props._mainActionsOpen){var s=this._props._mainActions[e].x||0,a=this._props._mainActions[e].y||0;t="translate3d("+s+"px, "+a+"px, 0)",n=1,o="visible"}var l="rotate(0)";i(r).css({opacity:n,visibility:o,"-moz-transform":t,"-webkit-transform":t,"-ms-transform":t,"-o-transform":t,transform:t}).children().css({"-moz-transform":l,"-webkit-transform":l,"-ms-transform":l,"-o-transform":l,transform:l})}.bind(this))},s.prototype._closeSubMenu=function(){this._props._currentMainActionOpen=void 0;var e="translate3d(0, 0, 0)";this._$el.find(".psol-comp-radialMenu-subAction").css({opacity:0,visibility:"hidden","-moz-transform":e,"-webkit-transform":e,"-ms-transform":e,"-o-transform":e,transform:e}),this._props._mainActions.forEach(function(e){e.subActions.length&&this.setActionState(e.name,"toggle",!1)}.bind(this)),this._$el.find(".psol-comp-radialMenu-button").css({opacity:1,visibility:"visible"})},s.prototype.openSubMenu=function(e){this._props._currentMainActionOpen=e;var t=this._getAction(e),n=i(this._$el.find('.psol-comp-radialMenu-subAction[data-mainaction="'+e+'"]')),o=0,r="translate3d(0, 0, 0)",s=this._props._radius/2,a=0,l=0;n.each(function(e){t.subActions[e].hasState("visible")&&l++}),n.each(function(e,n){var c="hidden";if(t.subActions[e].hasState("visible")){a++;var p=0,d=0;switch(o=1,c="visible",this._props.submenuDirection){case"right":p=s*a;break;case"left":p=-s*a;break;case"bottom":d=s*a;break;case"top":d=-s*a;break;case"circle":var h=this._props._endDegree-this._props._startDegree;this._props._directionClockwise&&(h=this._props._startDegree-this._props._endDegree),h<0&&(h+=360);var u=l;0===u&&(u=1),h<=270&&u--;var m,f=h/u;m=this._props._directionClockwise?360+this._props._startDegree-e*f:this._props._startDegree+e*f,m*=Math.PI/180,p=Math.round(Math.cos(m)*this._props._radius),d=-Math.round(Math.sin(m)*this._props._radius)}r="translate3d("+p+"px, "+d+"px, 0)"}i(n).css({opacity:o,visibility:c,"-moz-transform":r,"-webkit-transform":r,"-ms-transform":r,"-o-transform":r,transform:r})}.bind(this)),this._$el.find(".psol-comp-radialMenu-button").css({opacity:0,visibility:"hidden"})},s.prototype._viewEvents=function(){return{"click; .psol-comp-radialMenu-button":function(e){e.stopPropagation(),this.toggleMainActions(!this._props._mainActionsOpen)}.bind(this)}},s.prototype._docEvents=function(){return{click:function(e){var t=i(e.target);t.hasClass("psol-comp-radialMenu-mainAction")||t.hasClass("psol-comp-radialMenu-subAction")||t.hasClass("psol-comp-radialMenu-button")||this._props._currentMainActionOpen||(e.stopPropagation(),this.toggleMainActions())}.bind(this)}},s.prototype._onActionClicked=function(e){var t,n,o;if(e.stopPropagation(),i(e.currentTarget).hasClass("psol-comp-radialMenu-mainAction")&&(n=(t=this._getAction(e.action.name)).name,o=t.hasState("toggle"),t.subActions.length)){this.toggleMainActions(!this._props._mainActionsOpen);var r="rotate(0)";if(o){switch(this._props.submenuDirection){case"left":r="rotate(180deg)";break;case"bottom":r="rotate(90deg)";break;case"top":r="rotate(270deg)"}r+=" translate3d(0, 0, 0)",i(e.currentTarget).css({opacity:1,visibility:"visible"}).children().css({"-moz-transform":r,"-webkit-transform":r,"-ms-transform":r,"-o-transform":r,transform:r}),this.openSubMenu(n)}else this._closeSubMenu(),r+=" translate3d(0, 0, 0)"}s.super_.prototype._onActionClicked.call(this,e)},t.exports=s},{inherits:208,"viewBase/js/action":53,"viewBase/js/viewBase":58}],40:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("psol.search"),s=e("psol.translation"),a=e("viewBase/js/progressEvent"),l=e("viewBase/js/viewBase"),c=jQuery,p=function(e){function t(t){var n=this;return(n=e.call(this,t,{searchParams:{},useAutoComplete:!0})||this)._defaultSearchParams=c.extend(!0,{hl:1,hlpost:"</span>",hlpre:'<span class="psol-comp-index-search-highlight">',num:25},n._props.searchParams),n}return o(t,e),t.prototype._getComponentName=function(){return"SearchBar"},t.prototype.onResult=function(e){},t.prototype.onReset=function(){},t.prototype.setQuery=function(e){this._$inputBar.val(e)},t.prototype.search=function(e){var t=this;if(this._timer&&(window.clearTimeout(this._timer),this._timer=void 0),this._$suggestionContainer.hide(0),e&&""!==e){var n=new a.ProgressEvent(s.zTR("Bitte warten..."),s.zTR("Es wird nach '%1' gesucht",[e]));this.onProgressBegin(n);var i=c.extend(!0,{query:e},this._defaultSearchParams);r.startFullTextSearchAsync(i).done(function(e){t.onProgressEnd(n),t.onResult(e)}).fail(function(){t.onProgressEnd(n)})}},t.prototype.reset=function(){this._$inputBar.val("").trigger("blur"),this._$serchReset.css("display","none"),this.onReset&&this.onReset()},t.prototype._viewDestroy=function(){this._$suggestionContainer=null,this._$inputBar=null,clearTimeout(this._timer),this.onResult=null,this.onReset=null,e.prototype._viewDestroy.call(this)},t.prototype._viewInit=function(t,n){e.prototype._viewInit.call(this,t,n),this._$suggestionContainer=this._$el.find(".psol-comp-searchbar-autocomplete-suggestions-container"),this._$inputBar=this._$el.find(".psol-comp-searchbar-input"),this._$serchReset=this._$el.find(".psol-comp-searchbar-reset"),this._tmplAutoCompBold=this._render("tmpl-SearchBarAutocompleteBold"),this._timer=-1,this._refreshSuggestions=!1},t.prototype._viewEvents=function(){var e=this;return{"blur; .psol-comp-searchbar-input":function(){window.setTimeout(function(){e._$suggestionContainer.hide(0)},301)},"click; .psol-comp-searchbar-autocomplete-suggestion":function(t){var n=c(t.currentTarget).data("suggestion");e._$inputBar.val(n),e.search(n),e._$inputBar.trigger("blur"),e._refreshSuggestions=!0},"click; .psol-comp-searchbar-reset":function(){e.reset()},"focus; .psol-comp-searchbar-input":function(){var t=!!e._$suggestionContainer.children().length;e._refreshSuggestions?e._autocomplete():t&&e._$suggestionContainer.show(0)},"input; .psol-comp-searchbar-input":function(){e._$inputBar.val()?e._$serchReset.css("display","block"):e._$serchReset.css("display","none")},"keyup; .psol-comp-searchbar-input":function(t){13===t.keyCode?(e.search(""+c(t.currentTarget).val()),e._$suggestionContainer.hide(0),e._$inputBar.trigger("blur")):e._autocomplete()},"submit; .psol-comp-searchbar-form":function(e){e.preventDefault()}}},t.prototype._autocomplete=function(){var e=this;if(!1!==this._props.useAutoComplete){this._refreshSuggestions=!1,-1!==this._timer&&(window.clearTimeout(this._timer),this._timer=-1);var t=c.trim(""+this._$inputBar.val());this._timer=window.setTimeout(function(){r.startAutoCompletionSearchAsync({query:t}).done(function(t){var n,i,o;if(t.suggestions){var r=c.extend(!0,{},t),s=r.query;t.suggestions[0]!==s&&r.suggestions.unshift(s);var a=new RegExp(s,"igm");for(n=0;n<r.suggestions.length;n++)o=(i=r.suggestions[n]).replace(a,function(t){return e._tmplAutoCompBold.replace("%1",t).trim()}),r.suggestions[n]={sug:o,suggestion:i};e._$suggestionContainer.html(e._render("tmpl-SearchBarAutocompleteSuggestions",r.suggestions)),e._$suggestionContainer.show(0)}else e._$suggestionContainer.empty(),e._$suggestionContainer.hide(0)})},300)}},t}(l.ViewBase);n.SearchBar=p},{"psol.search":205,"psol.translation":207,"viewBase/js/progressEvent":55,"viewBase/js/viewBase":58}],41:[function(e,t,n){"use strict";var i=jQuery,o=e("dialogBase/js/dialogBase").DialogBase,r=e("psol.translation"),s=e("inherits");function a(e){this._title=e.title,this._message="",this._showTitleCloseButton=e.showTitleCloseButton||!0,this._useImage=!1,e.buttons=this._buttons=e.buttons||[{label:r.zTR("OK"),callback:function(){return this._useImage=!0,this.hide()}.bind(this)}],a.super_.call(this,e),this._$imageContainer,this._$previewImg=void 0,this._doInvert=!1,this._threshold=125,this._imageUrl="",this._initialRotation=e.view.data.rotation||0,this._rotation=0,this._viewData={imageUrl:e.view.data.imageUrl,def:e.view.data.def},this._viewContent=void 0,this._imageEditor=e.imageEditor,this._sketcherCallback=e.callback,this._$contentContainer=void 0}e("ion-rangeslider"),s(a,o),a.prototype._componentName="SketchImageEditor",a.prototype._apply=function(){this._sketcherCallback(this._imageUrl,[{action:this._imageEditor.OPTIONS.BINARY,options:{threshold:this._threshold,invert:this._doInvert}}]).done(function(e){this._$previewImg=this._$el.find(".psol-comp-sketchimageeditor-image"),this._$previewImg.attr("src",e).css({visibility:"visible"})}.bind(this))},a.prototype._updateView=function(){this._props.closeButton=this._showTitleCloseButton,this._props._$contentcontainer.html(this._render("tmpl-SketchImageEditor",{message:this._message})),this._$el.find(".psol-comp-sketchimageeditor-threshold-slider").ionRangeSlider({force_edges:!0,min:0,max:255,from:125}),a.super_.prototype._updateView.call(this)},a.prototype._invert=function(){this._sketcherCallback(this._$previewImg.attr("src"),[{action:this._imageEditor.OPTIONS.INVERT}]).done(function(e){this._$previewImg.attr("src",e).css({visibility:"visible"}),this._doInvert=this._$el.find(".psol-comp-sketchimageeditor-invert").prop("checked")}.bind(this))},a.prototype._updateImage=function(){if(""!==this._imageUrl)this._apply();else{this._$imageContainer=this._$el.find(".psol-comp-sketchimageeditor-container");var e=this._$imageContainer.width(),t=this._$imageContainer.height(),n=Math.min(e,t);this._sketcherCallback(this._viewData.imageUrl,[{action:this._imageEditor.OPTIONS.SCALE,options:{width:parseInt(n,10)||150,height:parseInt(n,10)||150}},{action:this._imageEditor.OPTIONS.ROTATE,options:{rotation:this._initialRotation+this._rotation}}]).done(function(e){this._imageUrl=e,this._apply()}.bind(this))}},a.prototype._addRotation=function(e){this._rotation+=360+e,this._rotation%=360},a.prototype.show=function(e,t){return a.super_.prototype.show.call(this,e,t).done(function(){this._updateImage()}.bind(this))},a.prototype.rotateImage=function(e){var t=this._$el.find(".psol-comp-sketchimageeditor-container");t.removeClass("rotate90").removeClass("rotate180").removeClass("rotate270"),e>0&&t.addClass("rotate"+e)},a.prototype._viewEvents=function(){return i.extend(!0,a.super_.prototype._viewEvents.call(this),{"change; .psol-comp-sketchimageeditor-invert":function(){this._invert()}.bind(this),"change; .psol-comp-sketchimageeditor-threshold-slider":function(e){var t=i(e.currentTarget).val();this._$el.find(".psol-comp-sketchimageeditor-threshold-value").val(t),this._threshold=parseInt(t,10),this._apply()}.bind(this),"click; .psol-comp-sketchimageeditor-rotatebutton-left":function(){this._addRotation(-90),this.rotateImage(this._rotation)}.bind(this),"click; .psol-comp-sketchimageeditor-rotatebutton-right":function(){this._addRotation(90),this.rotateImage(this._rotation)}.bind(this)})},a.prototype._viewDestroy=function(){this._viewData.def.resolve({threshold:this._threshold,invert:this._doInvert,useImage:this._useImage,rotation:this._rotation+this._initialRotation}),a.super_.prototype._viewDestroy.call(this)},t.exports=a},{"dialogBase/js/dialogBase":15,inherits:208,"ion-rangeslider":"ion-rangeslider","psol.translation":207}],42:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,s,a=jQuery,l=e("bowser"),c=e("viewBase/js/viewBase");e("ion-rangeslider"),(s=r=n.INPUT_POSITION||(n.INPUT_POSITION={}))[s.NONE=0]="NONE",s[s.LEFT=1]="LEFT",s[s.RIGHT=2]="RIGHT",s[s.BOTH=3]="BOTH";var p=function(e){function t(t){var n=e.call(this,t,{force_edges:!0,from:0,grid:!0,grid_num:1,max:10,min:0,postfix:"",prettify_enabled:!0,step:1})||this;return n._inputPosition=r.RIGHT,n._$input=void 0,n._slider=void 0,n._currentValue=void 0,n._showSlider=!0,t&&t.input_position&&(n._inputPosition=t.input_position),n._props._jsrenderHelpers.getSliderInputPosition=function(){switch(n._inputPosition){case r.LEFT:return"LEFT";case r.RIGHT:return"RIGHT";case r.BOTH:return"BOTH";case r.NONE:default:return""}},n._props._jsrenderHelpers.canShowSlider=function(){return n._showSlider},n._props._jsrenderHelpers.flexSupport=function(){return!(l.version<10&&l.msie)},n}return o(t,e),t.prototype._getComponentName=function(){return"SliderBase"},t.prototype._getSliderSettings=function(){return{$container:this._props.$container,force_edges:this._props.force_edges,from:this._props.from,grid:this._props.grid,grid_num:this._props.grid_num,max:this._props.max,min:this._props.min,onChange:this._onChange.bind(this),onFinish:this._onFinish.bind(this),onStart:this._onStart.bind(this),postfix:this._props.postfix,prettify:this._prettify.bind(this),prettify_enabled:this._props.prettify_enabled,step:this._props.step,to:this._props.to,type:this._inputPosition===r.BOTH?"double":"single"}},t.prototype._viewInit=function(t,n){e.prototype._viewInit.call(this,t,n);var i=this._getSliderSettings();this._$input=this._$el.find(".psol-comp-slider-input"),this._slider=this._$el.find(".psol-comp-slider-input-slider").ionRangeSlider(i).data("ionRangeSlider")},t.prototype._viewEvents=function(){var t=this,n=e.prototype._viewEvents.call(this);return a.extend(!0,n,{"input; .psol-comp-slider-input:first":function(e){var n=a(e.currentTarget);t._slider&&t._slider.update({from:Number(n.val())})},"input; .psol-comp-slider-input:last":function(e){var n=a(e.currentTarget);t._slider&&t._slider.update({to:Number(n.val())})}})},t.prototype._setInputValue=function(e,t){this._currentValue={from:e,to:t},this._inputPosition===r.BOTH?(this._$input.first().val(e),this._$input.last().val(t)):this._$input.val(e)},t.prototype._onStart=function(e){this._setInputValue(e.from,e.to),this.onStart(e.from,e.to)},t.prototype._onChange=function(e){this._setInputValue(e.from,e.to),this.onChange(e.from,e.to)},t.prototype._onFinish=function(e){this._setInputValue(e.from,e.to),this.onFinish(e.from,e.to)},t.prototype._prettify=function(e){return this.prettify(e)},t.prototype.getCurrentValue=function(){return this._currentValue.from},t.prototype.getCurrentValues=function(){return this._currentValue},t.prototype.setCurrentValue=function(e,t){void 0===t&&(t=null),this._slider&&this._slider.update({from:e,to:t})},t.prototype.onStart=function(e,t){},t.prototype.onChange=function(e,t){},t.prototype.onFinish=function(e,t){},t.prototype.prettify=function(e){return""+e},t.INPUT_POSITION=r,t}(c.ViewBase);n.SliderBase=p},{bowser:"bowser","ion-rangeslider":"ion-rangeslider","viewBase/js/viewBase":58}],43:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("base/js/helpers");n.countSliderValues=function(e,t){var n,o,r,s,a,l,c=0,p=0;for(n=0;n<e.length;++n){if(o=e[n],r=Number(o.ug),s=Number(o.og),a=o.step?Number(o.step):1,void 0!==t)p=parseInt(""+t,10);else if(0===(p=i.getPrecisionHacky(a))){var d=i.getPrecisionHacky(r),h=i.getPrecisionHacky(s);p=d>=h?d:h}l=Math.pow(10,p),o.usestep||(a=1/l),c+=(s-r)/(a*l)*l+1}return c-(n>1?n-1:1)},n.mapSliderValues=function(e,t,n){var o,r,s,a,l,c,p,d=0,h=0,u=0;for(o=0;o<t.length;++o){if(r=t[o],s=Number(r.ug),a=Number(r.og),l=r.step?Number(r.step):1,void 0!==n)u=parseInt(""+n,10);else if(0===(u=i.getPrecisionHacky(l))){var m=i.getPrecisionHacky(s),f=i.getPrecisionHacky(a);u=m>=f?m:f}if(p=Math.pow(10,u),r.usestep||(l=1/p),d+=(a-s)/(l*p)*p,c=e,o>0&&c--,c<=d&&c>=h)return Number((s+l*p*(c-h)/p).toFixed(u));h=d}return null},n.getSliderIndexForValue=function(e,t,n){var o,r,s,a,l,c,p,d,h,u,m,f=0;for(o=0;o<t.length;++o){if(r=t[o],p=Number(r.ug),d=Number(r.og),h=r.step?Number(r.step):1,void 0!==n)s=parseInt(""+n,10);else if(0===(s=i.getPrecisionHacky(h))){var g=i.getPrecisionHacky(p),_=i.getPrecisionHacky(d);s=g>=_?g:_}if(a=Math.pow(10,s),r.usestep||(h=1/a),f+=c=(d-p)/(h*a)*a,l=1/a,u=i.compare(e,p,l),m=i.compare(e,d,l),0===u)return f-c+o;if(0===m)return f+o;if(1===m){if(o===t.length-1)return f}else if(1===u&&-1===m)return o+(f-c)+(e*a-p*a)/h/a}}},{"base/js/helpers":7}],44:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,s,a=e("sliderBase/js/sliderBase"),l=e("sliderTableVar/js/helpers"),c=jQuery;(s=r=n.VAR_TYPE||(n.VAR_TYPE={}))[s.HORIZONTAL=1]="HORIZONTAL",s[s.VERTICAL=2]="VERTICAL";var p=function(e){function t(n){var i=e.call(this,n)||this;if(i._type=void 0,i._variableData=n.variableData,t._isVerticalData(i._variableData)){var o=i._variableData.values;i._valueRanges=o,i._type=r.VERTICAL}else t._isHorizontalData(i._variableData)&&(i._valueRanges=i._variableData.fwrange,i._type=r.HORIZONTAL);return 0===i._props.precision&&(i._props.precision=void 0),i._countValues=l.countSliderValues(i._valueRanges,i._props.precision),i}return o(t,e),t.prototype._getComponentName=function(){return"SliderTableVar"},t._isVerticalData=function(e){return void 0!==e.desc},t._isHorizontalData=function(e){return void 0!==e.image},t.prototype._onSliderChange=function(e){var t=l.mapSliderValues(e.from,this._valueRanges,this._props.precision),n=l.mapSliderValues(e.to,this._valueRanges,this._props.precision);this._setInputValue(t,n),this.onChange(t,n)},t.prototype._onSliderFinish=function(e){var t=l.mapSliderValues(e.from,this._valueRanges,this._props.precision),n=l.mapSliderValues(e.to,this._valueRanges,this._props.precision);this._setInputValue(t,n),this.onFinish(t,n)},t.prototype._getSliderSettingsVertical=function(e,t){var n=this;return{$container:this._props.$container,force_edges:!0,from:l.getSliderIndexForValue(Number(e.current),this._valueRanges,this._props.precision),grid:!0,grid_num:t,max:this._countValues,min:0,onChange:function(e){n._onSliderChange(e)},onFinish:function(e){n._onSliderFinish(e)},onStart:function(e){n._onSliderChange(e)},postfix:this._props.unit?" "+this._props.unit:"",prettify:function(e){return n.prettify(e)},prettify_enabled:!0,step:1}},t.prototype._getSliderSettingsHorizontal=function(e,t){var n=this;return{$container:this._props.$container,force_edges:!0,from:l.getSliderIndexForValue(Number(e.value),e.fwrange,this._props.precision),grid:!0,grid_num:t,max:this._countValues,min:0,onChange:function(e){n._onSliderChange(e)},onFinish:function(e){n._onSliderFinish(e)},onStart:function(e){n._onSliderChange(e)},postfix:this._props.unit?" "+this._props.unit:"",prettify:function(t){return""+l.mapSliderValues(t,e.fwrange,n._props.precision)},prettify_enabled:!0,step:1}},t.prototype._getSliderSettings=function(){var t=5;this._countValues<t&&(t=this._countValues);var n=e.prototype._getSliderSettings.call(this);return this._type===r.VERTICAL?c.extend(!0,{},n,this._getSliderSettingsVertical(this._variableData,t)):this._type===r.HORIZONTAL?c.extend(!0,{},n,this._getSliderSettingsHorizontal(this._variableData,t)):n},t.prototype._verifyInput=function(e){return e.toString().replace(/[^0-9-.,]/g,"").replace(/,/g,".").replace(/(?!^)-/g,"").replace(/([^.]*\.[^.]*)\./g,"$1")},t.prototype._viewEvents=function(){var t=this,n=e.prototype._viewEvents.call(this);return c.extend(!0,n,{"change; .psol-comp-slider-input":function(e){var n=c(e.currentTarget).val(),i=l.getSliderIndexForValue(Number(n),t._valueRanges,t._props.precision),o=l.mapSliderValues(i,t._valueRanges,t._props.precision);t.onFinish(o,o)},"input; .psol-comp-slider-input":function(e){var n=t._verifyInput(c(e.currentTarget).val());c(e.currentTarget).val(n),t._props.variableData.min>=n?n=t._props.variableData.min:c(e.currentTarget).val(n);var i=l.getSliderIndexForValue(Number(n),t._valueRanges,t._props.precision);t._slider.update({from:i});var o=l.mapSliderValues(i,t._valueRanges,t._props.precision);t.onChange(o,o)}})},t.prototype.setCurrentValue=function(e,t){void 0===t&&(t=null);var n=l.getSliderIndexForValue(e,this._valueRanges,this._props.precision),i=l.getSliderIndexForValue(t,this._valueRanges,this._props.precision);this._slider&&this._slider.update({from:n,to:i}),this._setInputValue(e,t)},t.prototype.prettify=function(e){return""+l.mapSliderValues(e,this._valueRanges,this._props.precision)},t.prototype.getCurrentValue=function(){return this._slider?l.mapSliderValues(this._slider.result.from,this._valueRanges,this._props.precision):null},t.prototype.getCurrentValues=function(){return this._slider?{from:l.mapSliderValues(this._slider.result.from,this._valueRanges,this._props.precision),to:l.mapSliderValues(this._slider.result.to,this._valueRanges,this._props.precision)}:null},t.VAR_TYPE=r,t}(a.SliderBase);n.SliderTableVar=p},{"sliderBase/js/sliderBase":42,"sliderTableVar/js/helpers":43}],45:[function(e,t,n){t.exports={mm:1,cm:10,dm:100,m:1e3,INCH:25.4,FEET:304.8,"INCH/10":2.54,"INCH/100":.254,"μm":.001,kg:1,"kg/1000":.001,"kg/100":.01,"kg/10":.1,g:.001,oz:.02835,t:1e3,pound:.45359237,"lbs.":.45359237,lbs:.45359237,lb:.45359237,"lb.":.45359237,"Lbs.":.45359237,Lbs:.45359237}},{}],46:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("bowser"),a=e("psol.erp"),l=e("psol.table"),c=e("psol.translation"),p=e("table/js/tableBase"),d=e("viewBase/js/progressEvent"),h=e("../asset/baseunits.json"),u=function(e){function t(t){var n=e.call(this,t)||this;return n._$maintable=r(),n._availableVars=[],n}return o(t,e),t.prototype._prepareAvailableVars=function(){},t.prototype._getComponentName=function(){return"TableCompare"},t.prototype._filterVariables=function(e,t){var n,i="";for(i in t)t.hasOwnProperty(i)&&((n=t[i]).varname=i,e.push(n));(e=e.filter(function(e){return!e.isHidden})).sort(function(e,t){return e.order-t.order})},t.prototype._load=function(e){var t=this,n=r.Deferred();void 0!==e.servicePath&&l.setTableServicePath(e.servicePath);var i=new d.ProgressEvent(c.zTR("Bitte warten..."),c.zTR("Tabelle wird geladen..."),!1,0,0,!0);this.onProgressBegin(i);var o=r.Deferred();return this._props.erpEnabled?a.tryReconnect().done(function(){o.resolve()}).fail(function(){o.reject()}):o.resolve(),o.done(function(){for(var i=function(i){var o={mident:"",selectrowindex:-1,tabrestricitons:void 0,varsettransfer:""};r.extend(o,e[i]),l.getTableInfoAsync(o).done(function(e){t._props._tableData=e.index,0===i?t._props._tableMaster=e.index:t._props._tableSlave=e.index,t.setHeaderDescMode(!0),t._props._tableMaster&&t._props._tableSlave&&(t._display(),n.resolve(e.index))}).fail(function(){n.reject()})},o=0;o<2;o++)i(o)}).fail(function(){t.onAuthError(),n.reject()}),n.promise()},t.prototype._display=function(){var e={master:{},slave:{}};e.master=r.extend(!0,e.master,this._props._tableMaster),e.slave=r.extend(!0,e.slave,this._props._tableSlave);var t=[],n=[];this._filterVariables(t,e.master.line.values),this._filterVariables(n,e.slave.line.values),t.forEach(function(e){e.isMaster=!0}),n.forEach(function(e){e.isMaster=!1});var i={};t.forEach(function(e){i[e.varname]=[e]}),n.forEach(function(e){i[e.varname]?i[e.varname].push(e):i[e.varname]=[e]});var o=[];for(var a in i)i.hasOwnProperty(a)&&o.push(i[a]);e.master.line.values=o;var l=[{lina:e.master.LINA},{lina:e.slave.LINA}];e.master.line.values.unshift(l),this._availableVars=t,this._CreatePieData(e),s.version<10&&s.msie&&(e.ie=!0),this._props.$container.find(".psol-comp-table-scrollcontainer").html(this._render("tmpl-TableCompareData",e)),this._$maintable=this._$el.find(".psol-comp-table-list-maintable")},t.prototype._CreatePieData=function(e){for(var t=h,n=1;n<e.master.line.values.length;n++){var i=e.master.line.values[n];if(i.length>1){if(isNaN(Number(i[0].resolvedVal))||isNaN(Number(i[1].resolvedVal)))i[0].resolvedVal===i[1].resolvedVal?i[1].percentage=100:i[1].percentage=0;else if(0===Number(i[0].resolvedVal)&&0===Number(i[1].resolvedVal))i[1].percentage=100;else if(0===Number(i[0].resolvedVal)||0===Number(i[1].resolvedVal))i[1].percentage=0;else if(i[0].Unit===i[1].Unit)i[1].percentage=Math.min(i[0].resolvedVal,i[1].resolvedVal)/Math.max(i[0].resolvedVal,i[1].resolvedVal)*100;else if(t.hasOwnProperty(i[0].Unit)&&t.hasOwnProperty(i[1].Unit)){var o=Number(i[0].resolvedVal)*t[i[0].Unit],r=Number(i[1].resolvedVal)*t[i[1].Unit];i[1].percentage=Math.min(o,r)/Math.max(o,r)*100}else i[1].percentage=0;i[1].percentage>0&&i[1].percentage<=25?i[1].color="#ff471a":i[1].percentage>25&&i[1].percentage<50?i[1].color="#ff9900":i[1].percentage>=50&&i[1].percentage<=75?i[1].color="#ffd633":i[1].percentage>75&&i[1].percentage<100?i[1].color="#73e600":i[1].percentage>=100?i[1].color="#00b359":i[1].color="#ff471a",i[1].percentage>0?i[1].stroke=i[1].color:i[1].stroke="none"}else!1===i[0].isMaster&&(i[0].percentage=0,i[0].color="#ff471a",i[0].stroke="none")}},t.prototype._onApplyClicked=function(){},t.prototype._setEditVarDialogData=function(){},t}(p.TableBase);n.TableCompare=u},{"../asset/baseunits.json":45,bowser:"bowser","psol.erp":197,"psol.table":206,"psol.translation":207,"table/js/tableBase":51,"viewBase/js/progressEvent":55}],47:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=jQuery,o=function(){function e(e){this._$table=void 0,this._$win=i(window),this._$thead=void 0,this._$col=void 0,this._$stickyHead=void 0,this._$stickyCol=void 0,this._$stickyInsct=void 0,this._$stickyWrap=void 0,this._tableHeight=0,this._tableOuterHeight=0,this._wrapperHeight=0,this._getWidths=!1,this._getHeights=!1,this._widths=[],this._heights=[],this._resize=!1,this._stopLoop=!1,this._pauseLoop=!1,this._rowsThresh=void 0,this._scroll=!1;this._settings=i.extend(!0,e,{prefix:"psol-comp-table",resizeThrottle:250,scrollThrottle:15,threshold:{allowanceEval:"min",px:!1,rows:1,viewport:.25},useCSS3:!0})}return e.prototype._calcAllowance=function(){var e,t=0,n=[],o=this._rowsThresh=this._rowsThresh||this._$table.find("tbody tr:lt("+this._settings.threshold.rows+")");for(e=0;e<o.length;++e)t+=i(o[e]).height();return n.push(t),n.push(this._$win.height()*this._settings.threshold.viewport),this._settings.threshold.px&&n.push(Number(this._settings.threshold.px)),"min"===this._settings.threshold.allowanceEval?Math.min.apply(null,n):Math.max.apply(null,n)},e.prototype._repositionStickyFixedCSS3=function(){var e=this._calcAllowance(),t=this._$win.scrollTop(),n=this._$stickyWrap.offset(),i=this._$stickyWrap.scrollTop(),o=this._$table.offset(),r=this._$stickyWrap.scrollLeft();this._tableHeight>this._wrapperHeight?i>0?(this._$stickyHead.add(this._$stickyInsct).css({opacity:1,pointerEvents:"auto",position:"fixed",transform:"translate("+n.left+"px, "+(n.top-t)+"px)"}),this._$stickyHead.find("table").css({transform:"translate("+-r+"px)"})):(this._$stickyHead.add(this._$stickyInsct).css({opacity:0,pointerEvents:"none"}),this._$stickyInsct.css({position:"absolute",transform:"translate(0, 0)"})):t>o.top&&t<o.top+this._tableOuterHeight-e?(this._$stickyHead.add(this._$stickyInsct).css({opacity:1,pointerEvents:"auto",position:"fixed",transform:"translate("+n.left+"px)"}),this._$stickyHead.find("table").css({transform:"translate("+-r+"px)"})):this._$stickyHead.add(this._$stickyInsct).css({opacity:0,pointerEvents:"none",position:"absolute",transform:"translate(0)"}),r>0?(this._$stickyCol.css({height:this._wrapperHeight,position:"fixed",transform:"translate("+n.left+"px, "+(n.top-t)+"px)"}).find("table").css({transform:"translate(0, "+-i+"px)"}),this._$stickyCol.add(this._$stickyInsct).css({opacity:1,pointerEvents:"auto"})):this._$stickyCol.css({opacity:0,pointerEvents:"none"})},e.prototype._repositionStickyFixed=function(){var e=this._calcAllowance(),t=this._$win.scrollTop(),n=this._$stickyWrap.offset(),i=this._$stickyWrap.scrollTop(),o=this._$table.offset(),r=this._$stickyWrap.scrollLeft();this._tableHeight>this._wrapperHeight?i>0?(this._$stickyHead.add(this._$stickyInsct).css({left:n.left,opacity:1,pointerEvents:"auto",position:"fixed",top:n.top-t}),this._$stickyHead.find("table").css({left:-r})):(this._$stickyHead.add(this._$stickyInsct).css({opacity:0,pointerEvents:"none"}),this._$stickyInsct.css({left:0,position:"absolute",top:0})):t>o.top&&t<o.top+this._tableOuterHeight-e?(this._$stickyHead.add(this._$stickyInsct).css({left:n.left,opacity:1,pointerEvents:"auto",position:"fixed"}),this._$stickyHead.find("table").css({left:-r})):this._$stickyHead.add(this._$stickyInsct).css({left:0,opacity:0,pointerEvents:"none",position:"absolute"}),r>0?(this._$stickyCol.css({height:this._wrapperHeight,left:n.left,position:"fixed",top:n.top-t}).find("table").css({left:0,top:-i}),this._$stickyCol.add(this._$stickyInsct).css({opacity:1,pointerEvents:"auto"})):this._$stickyCol.css({opacity:0,pointerEvents:"none"})},e.prototype._onScroll=function(){this._scroll=!0},e.prototype._setSize=function(){var e,t=this._$stickyHead.find("th");for(e=0;e<this._widths.length;++e)i(t[e]).width(this._widths[e]);var n=this._$stickyCol.find("tr");for(e=0;e<this._heights.length;++e)i(n[e]).height(this._heights[e]);this._$stickyHead.width(this._$stickyWrap.width()).find("table").width(this._$table.width()),this._$stickyCol.find("th").add(this._$stickyInsct.find("th")).width(this._$table.find("thead th").first().width()),this._$stickyCol.find("table").css({transform:"translate("+this._$stickyWrap.offset().left+"px"}),this._$stickyInsct.find("table").find("th").height(this._$table.find("thead th:first-child").height())},e.prototype._loopy=function(){var e,t,n=this,o=function(r){if(!n._stopLoop&&!n._pauseLoop&&(window.requestAnimationFrame(o),e||(e=r),t=r-e,n._scroll&&t>=n._settings.scrollThrottle&&(n._settings.useCSS3?n._repositionStickyFixedCSS3():n._repositionStickyFixed(),n._scroll=!1),n._resize&&t>=n._settings.resizeThrottle)){if(!n._getWidths){var s=n._$table.find("thead th");s.each(function(e){n._widths.push(i(s[e]).width()),e===s.length-1&&(n._getWidths=!0)})}if(n._getWidths&&!n._getHeights){var a=n._$table.find("tr");a.each(function(e){n._heights.push(i(a[e]).height()),e===a.length-1&&(n._getHeights=!0)})}n._getWidths&&n._getHeights&&(n._resize=!1,n._getWidths=n._getHeights=!1,n._tableHeight=n._$table.height(),n._wrapperHeight=n._$stickyWrap.height(),n._setSize(),n._widths.length=0,n._heights.length=0,n._settings.useCSS3?n._repositionStickyFixedCSS3():n._repositionStickyFixed())}};window.requestAnimationFrame(o.bind(this))},e.prototype.show=function(e,t){e.hasClass(this._settings.prefix+"-sticky-enabled")?this.destroy():(this._$table=e,this._$thead=this._$table.find("thead").clone(),this._$col=this._$table.find("thead, tbody").clone(),this._$table.wrap('<div class="'+this._settings.prefix+'-sticky-wrap"/>'),this._$table.parent().addClass(this._$table.attr("class")),this._$table.addClass(this._settings.prefix+"-sticky-enabled"),this._$table.hasClass("overlow-y")&&this._$table.removeClass("overflow-y").parent().addClass("overflow-y"),this._$table.after('<div class="'+this._settings.prefix+'-sticky-thead"><table/></div>'),this._$table.find("tbody th").length>0&&this._$table.after('<div class="'+this._settings.prefix+'-sticky-col"><table /></div><div class="'+this._settings.prefix+'-sticky-intersect"><table /></div>'),this._$stickyHead=this._$table.siblings("."+this._settings.prefix+"-sticky-thead"),this._$stickyCol=this._$table.siblings("."+this._settings.prefix+"-sticky-col"),this._$stickyInsct=this._$table.siblings("."+this._settings.prefix+"-sticky-intersect"),this._$stickyWrap=this._$table.parent("."+this._settings.prefix+"-sticky-wrap"),this._$stickyHead.find("table").append(this._$thead),this._$stickyCol.find("table").append(this._$col).find("thead th:gt(0)").remove().end().find("tbody td").remove(),this._$stickyInsct.find("table").html('<thead><tr><th class="'+this._settings.prefix+"-th "+this._settings.prefix+"-th-horizontal "+this._settings.prefix+"-cornerheader "+this._settings.prefix+'-columnHeader ComponentCustomizeTableColumnHeaderColor">'+this._$table.find("thead th:first-child").html()+"</th></tr></thead>")),t&&(e.parents().find(".psol-comp-table-sticky-wrap").css("height","auto"),e.parents().find(".psol-comp-table-scrollcontainer").css("height","auto")),this._$stickyWrap.on("scroll",this._onScroll.bind(this)),this._$win.on("resize",this.resize.bind(this)).on("scroll",this._onScroll.bind(this)),this._resize=!0,this._stopLoop=!1,this._loopy()},e.prototype.destroy=function(){this._$stickyWrap.off("scroll"),this._rowsThresh=void 0,this._stopLoop=!0},e.prototype.resize=function(){this._resize=!0},e.prototype.resume=function(){(this._stopLoop||this._pauseLoop)&&(this._stopLoop=!1,this._pauseLoop=!1,this._loopy())},e.prototype.pause=function(){this._stopLoop=!0,this._pauseLoop=!0},e}();n.TableSticky=o},{}],48:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("table/js/tableBase"),a=e("tableHorizontal/js/table-sticky"),l=e("viewBase/js/viewBase"),c=e("base/js/helpers"),p=e("base/js/logger"),d=e("bowser"),h=function(t){function n(e){var n=t.call(this,e,{parentAutoHeight:void 0,stickyEnabled:!0,wrapAllColumns:!1,wrapColumns:!0})||this;return n._sticky=void 0,n._unveil=void 0,n._availableVars=[],n._props._tableData={},n._props._currentContainerWidth=0,n._props._colInfoToggled=!1,n._props._wrapCols=n._props.wrapColumns,n._props._jsrenderHelpers.wrapColumns=function(){return n._props._wrapCols},n._props._jsrenderHelpers.wrapAllColumns=function(){return n._props.wrapAllColumns},n._props._jsrenderHelpers.getColData=function(e,t){return n._props._tableData.columns[e][t]},n._props._jsrenderHelpers.colInfoToggled=function(){return n._props._colInfoToggled},d.msie&&d.version<=10&&(n._props.stickyEnabled=!1),n}return o(n,t),n.prototype._prepareAvailableVars=function(){},n.prototype._getComponentName=function(){return"TableHorizontal"},n.prototype._display=function(t){var n=this;p.time("_displayTable");for(var i=0,o=this._props._tableData.rows;i<o.length;i++){var s=o[i];s.eol&&("expired-available"===s.eol.state&&(s.eol.imagename="replace_std_templink"),"replaced-available"===s.eol.state&&(s.eol.imagename="replace_std"),"expired"===s.eol.state&&(s.eol.imagename="replace_std_nolink"),"expired-replaced"===s.eol.state&&(s.eol.imagename="replace_std_locked"))}this._props._currentContainerWidth=this._props.$container.find(".psol-comp-table-scrollcontainer").innerWidth(),this._unveil&&(this._unveil.destroy(),this._unveil=void 0);var c=this._render("tmpl-TableHorizontalData",this._props._tableData);r(this._$el).find("*").bRemove(),this._$el.bEmpty();var d=r(this._$el.html(c).find("table")),h=r(d.find("thead th")),u=r(d.find('th[data-current="true"]').parent("tr")),m=r(d).find(".psol-comp-table-coldesc");this._props._colInfoToggled?(m.removeClass("psol-comp-table-coldesc-reduced"),m.addClass("psol-comp-table-coldesc-full")):(m.removeClass("psol-comp-table-coldesc-full"),m.addClass("psol-comp-table-coldesc-reduced"));if(this._props._wrapCols){var f=void 0,g=0,_=0,v=this._props._currentContainerWidth-l.ViewBase.scrollbarWidth,b=0,w=0;for(f=0;f<h.length;++f)if((g+=b=r(h[f])[0].getBoundingClientRect().width)>v){if(1!==f){_=h.length-f;break}p.warn("not even the first column fits!"),w=g-v,g=v,r(d).find("tr").children(":nth-child(2)").css("width",b-w).css("word-break","break-all").css("word-break","break-word")}for(;f<h.length;++f)r(h[f]).remove();var y,x=r(d).find("tbody tr");if(x.each(function(){(y=(y=r(this).find("td")).slice(y.length-_)).remove()}),_>0&&1===u.length){var C=this._props._tableData.columns.length;C-=_;var S={cells:this._props._tableData.rows[this._props._tableData.visiblerowindex-1].cells.slice(this._props.wrapAllColumns?0:C),columns:this._props._tableData.columns.slice(this._props.wrapAllColumns?0:C),imgbasepath:this._props._tableData.imgbasepath,visCols:C};r(u).after(this._render("tmpl-TableHorizontalMissingCols",S)),this._props.wrapAllColumns&&(r(u).find("td").hide(0),1===x.length&&(r(u).find("th").width(r(d).find(".psol-comp-table-cornerheader").width()),r(d).find("thead").hide(0),""===this._props._tableData.rows[this._props._tableData.visiblerowindex-1].description&&r(u).find("th").hide(0)),this._props.stickyEnabled&&this._$el.css({overflow:"hidden",overflowY:"hidden"}).removeClass("psol-comp-table-sticky-disabled"));var A=r(u).find("th");A.length>0&&A.attr("rowspan",2)}if(!this._props.stickyEnabled)this._$el.addClass("psol-comp-table-sticky-disabled"),"iOS"===e("viewBase/js/viewHelper").getMobileOS()&&this._$el.css({overflowX:"scroll"})}h.each(function(){var e=r(this).find(".psol-comp-table-colname");if(e.length){var t=e.width();r(e).parent().width(t),r(this).find(".psol-comp-table-coldesc").width("100%")}}),function(){var e=r(u).find(".psol-comp-table-selectrow").height();e&&r(u).find(".psol-comp-table-rowheadercontainer").height(e);var i=!1;if((n._props.wrapAllColumns&&d.children("tbody").children("tr").length>2||!n._props.wrapAllColumns||!n._props._wrapCols)&&n._props.stickyEnabled&&(n._sticky||(n._sticky=new a.TableSticky),i=!0,n._sticky.show(d,n._props.parentAutoHeight)),!t&&1===u.length){var o,s=u.position().top;i&&(s-=n._props.$container.find(".psol-comp-table-sticky-thead").outerHeight(!0)),s>0&&((o=i?n._props.$container.find(".psol-comp-table-sticky-wrap"):n._props.$container.find(".psol-comp-table-scrollcontainer")).scrollTop(s),setTimeout(function(){o.trigger("scroll")},125))}var l=n._$el.find("img.lazy-image");n._unveil=l.unveil({callback:function(){r(this).removeClass("lazy-image")},container:i?n._props.$container.find(".psol-comp-table-sticky-wrap"):n._props.$container.find(".psol-comp-table-scrollcontainer"),useRAF:!0}).data("unveil"),p.timeEnd("_displayTable")}(),this.onTableModeSet(this._props._wrapCols)},n.prototype._setEditVarDialogData=function(e,t){for(var n=-1,i=this._props._tableData.columns,o=0;o<i.length;++o)if(i[o].name===e){n=o;break}-1===n&&(n=e),t.setTableData(this._props._tableData,n,this._props.dialogSettings)},n.prototype._onApplyClicked=function(e){var t,n=this,i=e.newvalue,o=e.id,r=this._props._tableData,s="";t=r.rows[r.visiblerowindex-1].cells[o].value,void 0!==i&&0!==c.compare(i,t)&&(void 0!==e.row?this.load({headerDescMode:r.descMode,path:r.path,selectrowindex:e.row}):(s='td[data-index="'+o+'"][data-name="'+r.columns[o].name+'"]',this.load({changefwname:r.columns[o].name,changefwrowindex:r.rowindex,changefwvalue:i,path:r.path,selectrowindex:r.rowindex,varsettransfer:r.varsettransfer}).done(function(){var e,t=n._$el.find('th[data-current="true"]').parent("tr").find(s),i=t.offset(),o=t.position();e=n._sticky?n._$el.find(".psol-comp-table-sticky-wrap"):n._$el.find(".psol-comp-table-scrollcontainer"),i.top<o.top&&(n._sticky&&(o.top-=n._$el.find(".psol-comp-table-sticky-thead").outerHeight(!0)),e.scrollTop(o.top)),n._props._wrapCols||e.scrollLeft(o.left)})))},n.prototype._onEditVariableClicked=function(e){var t,n=r(e.currentTarget);if(this._$el.find('th[data-current="true"]').parent("tr")[0].contains(e.currentTarget)||n.parents("table.psol-comp-table-wrappedcols-table").length>0){var i=n;i.length&&(t=i.data("index")),this.showEditVarDialog(t)}},n.prototype._onExecVariableClicked=function(e){var t;t=r(e.currentTarget).data("index");var n=this._props._tableData,i=n.rows[n.visiblerowindex-1].cells[t];e.executabledoc=i.executabledoc,e.executableprog=i.executableprog,this.onExecVariableClicked.call(e,e)},n.prototype._resizeContainer=function(){t.prototype._resizeContainer.call(this);var e=this._props.$container.find(".psol-comp-table-scrollcontainer").innerWidth();r.isEmptyObject(this._props._tableData)||e===this._props._currentContainerWidth||this._display()},n.prototype.load=function(e,n){return e.viewtype="table",this._lastPath!==e.path&&(this._props._wrapCols=this._props.wrapColumns),t.prototype.load.call(this,e,n)},n.prototype.show=function(e,n){var i=this;return t.prototype.show.call(this,e,n).done(function(){i._props.stickyEnabled&&i._sticky&&i._sticky.resume()})},n.prototype.hide=function(){t.prototype.hide.call(this),this._props.stickyEnabled&&this._sticky&&this._sticky.pause()},n.prototype.getAvailableVars=function(){return this._props._tableData&&this._props._tableData.columns?this._props._tableData.columns.map(function(e){return e.name}):[]},n.prototype.updateScrollPosition=function(){var e,t=this._props.$container.find(".psol-comp-table-scrollcontainer").find("table").find('th[data-current="true"]').parent("tr").position().top;(this._sticky&&(t-=this._props.$container.find(".psol-comp-table-sticky-thead").outerHeight(!0)),t>0)&&((e=this._sticky?this._props.$container.find(".psol-comp-table-sticky-wrap"):this._props.$container.find(".psol-comp-table-scrollcontainer")).scrollTop(t),setTimeout(function(){e.trigger("scroll")},125))},n}(s.TableBase);n.TableHorizontal=h},{"base/js/helpers":7,"base/js/logger":8,bowser:"bowser","table/js/tableBase":51,"tableHorizontal/js/table-sticky":47,"viewBase/js/viewBase":58,"viewBase/js/viewHelper":59}],49:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=jQuery,s=e("table/js/tableBase"),a=e("base/js/helpers"),l=function(e){function t(t){var n=e.call(this,t,{dialogSettings:{}})||this;return n._$maintable=r(),n._wrapped=void 0,n._availableVars=[],n._props._jsrenderHelpers.shouldShowOptionsButton=function(e){var t=n._props._tableData.line.values[e];return""===t.ExecDocument&&(""===t.status||"ranged"===t.status||"static"===t.status)},n}return o(t,e),t.prototype._prepareAvailableVars=function(){var e,t=[],n="",i=r.extend(!0,{},this._props._tableData).line.values;for(n in i)i.hasOwnProperty(n)&&((e=i[n]).varname=n,t.push(e));(t=t.filter(function(e){return!e.isHidden})).sort(function(e,t){return e.order-t.order}),this._availableVars=t},t.prototype._getComponentName=function(){return"TableVertical"},t.prototype._display=function(){var e=r.extend(!0,{},this._props._tableData);e.eol&&("expired-available"===e.eol.state&&(e.line.values.INFO.buttonstate="replace_std_templink"),"replaced-available"===e.eol.state&&(e.line.values.INFO.buttonstate="replace_std"),"expired"===e.eol.state&&(e.line.values.INFO.buttonstate="replace_std_nolink"),"expired-replaced"===e.eol.state&&(e.line.values.INFO.buttonstate="replace_std_locked")),e.line.values=this._availableVars,this._props.$container.find(".psol-comp-table-scrollcontainer").html(this._render("tmpl-TableVerticalData",e)),this._$maintable=this._$el.find(".psol-comp-table-list-maintable"),this._calcAndRealignItems()},t.prototype._setEditVarDialogData=function(e,t){t.setListData(this._props._tableData,e)},t.prototype._onApplyClicked=function(e){var t,n,i=this,o=e.newvalue,r=e.id,s=""===e.erpstate?void 0:e.erpstate,l=this._props._tableData,c="";t=l.line.values[r].current,n=l.line.values[r].erpstate,(void 0!==o&&0!==a.compare(o,t)||s!==n)&&(c='.psol-comp-table-list-item[data-varname="'+r+'"]',this.load({changeerpstate:s,changeval:o,changevar:r,headerDescMode:l.descMode,path:l.path,varsettransfer:l.varsettransfer}).done(function(){var e=i._$el.find(c).position();void 0!==e&&i._$el.find(".psol-comp-table-list-container").scrollTop(e.top)}))},t.prototype._resizeContainer=function(){e.prototype._resizeContainer.call(this),this._calcAndRealignItems()},t.prototype._calcAndRealignItems=function(){var e=this._$el.width();(!0===this._wrapped||void 0===this._wrapped)&&e>=500?(this._wrapped=!1,this._$maintable.removeClass("collapsed")):(!1===this._wrapped||void 0===this._wrapped)&&e<500&&(this._wrapped=!0,this._$maintable.addClass("collapsed"))},t.prototype._onEditVariableClicked=function(e){var t=r(e.currentTarget).data("varname");this.showEditVarDialog(t)},t.prototype._onExecVariableClicked=function(e){var t=r(e.currentTarget).data("varname");e.executabledoc=this._props._tableData.line.values[t].ExecDocument,this.onExecVariableClicked.call(e,e)},t.prototype.load=function(t,n){return t.viewtype="list",e.prototype.load.call(this,t,n)},t.prototype.getAvailableVars=function(){return this._availableVars.map(function(e){return e.varname})},t.prototype.isEmptyViaPreferredLine=function(){return!(!this._props._tableData||!this._props._tableData.line)&&"-1"===this._props._tableData.line.nr},t}(s.TableBase);n.TableVertical=l},{"base/js/helpers":7,"table/js/tableBase":51}],50:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("table/js/tableBase"),o=e("tableHorizontal/js/tableHorizontal"),r=e("tableVertical/js/tableVertical"),s=e("base/js/logger"),a=function(){function e(e){this.__inst=null,s.warn('[DEPRECATED] Table constructor is deprecated, please use "TableHorizontal" or "TableVertical" instead'),e.viewMode===i.TableBase.TABLE_MODE.TABLE?this.__inst=new o.TableHorizontal(e):e.viewMode===i.TableBase.TABLE_MODE.LIST&&(this.__inst=new r.TableVertical(e)),this.__inst.onTableChanged=this._onTableChanged.bind(this),this.__inst.onAfterTableChanged=this._onAfterTableChanged.bind(this),this.__inst.onExecVariableClicked=this._onExecVariableClicked.bind(this),this.__inst.onTableModeSet=this._onTableModeSet.bind(this),this.__inst.onBeforeLoad=this._onBeforeLoad.bind(this)}return e.prototype._onTableChanged=function(e){return this.onTableChanged.call(this.__inst,e)},e.prototype._onAfterTableChanged=function(e,t){this.onAfterTableChanged(e,t)},e.prototype._onExecVariableClicked=function(e){return this.onExecVariableClicked.call(this.__inst,e)},e.prototype._onTableModeSet=function(e){return this.onTableModeSet.call(this.__inst,e)},e.prototype._onBeforeLoad=function(e){return this.onBeforeLoad.call(this.__inst,e)},e.prototype.show=function(e,t){return this.__inst.show(e,t)},e.prototype.hide=function(){this.__inst.hide()},e.prototype.load=function(e,t){return this.__inst.load(e,t)},e.prototype.updateScrollPosition=function(){this.__inst.updateScrollPosition()},e.prototype.setAdditionalOptions=function(e){this.__inst.setAdditionalOptions(e)},e.prototype.showEditVarDialog=function(e){this.__inst.showEditVarDialog(e)},e.prototype.setHeaderDescMode=function(e){this.__inst.setHeaderDescMode(e)},e.prototype.getTableData=function(){return this.__inst.getTableData()},e.prototype.getAvailableVars=function(){return this.__inst.getAvailableVars()},e.prototype.onTableChanged=function(e){return e},e.prototype.onAfterTableChanged=function(e,t){},e.prototype.onExecVariableClicked=function(e){},e.prototype.onTableModeSet=function(e){},e.prototype.onBeforeLoad=function(e){return e},e.prototype.isEmptyViaPreferredLine=function(){return this.__inst.isEmptyViaPreferredLine()},e.prototype.getCurrentMIdent=function(){return this.__inst.getCurrentMIdent()},e.prototype.getCurrentVarsetTransfer=function(){return this.__inst.getCurrentVarsetTransfer()},e.prototype.getCurrentPath=function(){return this.__inst.getCurrentPath()},e.TABLE_MODE=i.TABLE_MODE,e}();n.Table=a},{"base/js/logger":8,"table/js/tableBase":51,"tableHorizontal/js/tableHorizontal":48,"tableVertical/js/tableVertical":49}],51:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,s,a=jQuery,l=e("dialogEditTableVar/js/dialogEditTableVar"),c=e("viewBase/js/progressEvent"),p=e("viewBase/js/viewBase"),d=e("psol.color"),h=e("psol.erp"),u=e("psol.table"),m=e("psol.translation");(s=r=n.TABLE_MODE||(n.TABLE_MODE={}))[s.TABLE=1]="TABLE",s[s.LIST=2]="LIST",s[s.VERTICAL=3]="VERTICAL";var f=function(t){function n(e,n){var i=t.call(this,e,a.extend(!0,n,{dialogSettings:{},useServerColors:!0}))||this;return i._bypassEOL=!0,i._lastPath="",i._lastMident="",i._lastVarsetTransfer="",i.additionalOptions={},i._editDialog=void 0,i._props._jsrenderHelpers.tableERPEnabled=function(){return i._props._erpEnabled},i._props._jsrenderHelpers.erpBackgroundColor=i._getERPBackgroundColor.bind(i),i._props._jsrenderHelpers.isHeaderDescModeEnabled=function(){return!!i._props._tableData.descMode},i._props._jsrenderHelpers.useServerColors=function(){return i._props.useServerColors},i}return o(n,t),n.prototype._getERPBackgroundColor=function(e,t,n){var i=n%2==0;if(i&&!t)return e;var o=new d.Color(e);return t?o.lightenDarken(-18):i||o.lightenDarken(18),o.getHTML()},n.prototype._viewEvents=function(){return{"click; .psol-comp-table-colheaderinfo":this._onColumnInfoClicked.bind(this),"click; .psol-comp-table-collapse":this._onCollapseClicked.bind(this),"click; .psol-comp-table-selectrow":this._onRowClicked.bind(this),"click; td[data-isexecutable=true], .psol-comp-table-list-execfile":this._onExecVariableClicked.bind(this),'click; td[data-type="MM_FW"], .psol-comp-table-list-editvar':this._onEditVariableClicked.bind(this)}},n.prototype._onColumnInfoClicked=function(e){this._props._colInfoToggled=!this._props._colInfoToggled,a(e.currentTarget).data("toggled",this._props._colInfoToggled),this._display(!0)},n.prototype._onRowClicked=function(t){var n=a(t.currentTarget).data("value"),i=this._props._tableData;if(i.rows[n].eol&&!this._bypassEOL){var o=a.extend(!0,{eol:i.rows[n].eol},i);new(0,e("eolDialog/js/eolDialog").EolDialog)(o,this).show()}else this.load({headerDescMode:i.descMode,path:i.path,selectrowindex:n,varsettransfer:i.varsettransfer})},n.prototype._onCollapseClicked=function(){this._props._wrapCols=!this._props._wrapCols,this._display(!0)},n.prototype._onEditVariableClicked=function(e){},n.prototype._onExecVariableClicked=function(e){},n.prototype.getCurrentPath=function(){return this._lastPath},n.prototype.getCurrentMIdent=function(){return this._lastMident},n.prototype.getCurrentVarsetTransfer=function(){return this._lastVarsetTransfer},n.prototype.show=function(e,n){return t.prototype.show.call(this,e,n)},n.prototype.hide=function(){t.prototype.hide.call(this)},n.prototype.load=function(t,n){var i=this;n=!!n,a.extend(t,this.additionalOptions),this._lastPath!==t.path&&(this._lastPath=t.path),void 0!==t.servicePath&&u.setTableServicePath(t.servicePath);var o=a.Deferred(),r={mident:"",selectrowindex:-1,tabrestricitons:void 0,varsettransfer:""},s=a.extend(r,t);this._lastMident=s.mident,this._lastVarsetTransfer=s.varsettransfer;var l=new c.ProgressEvent(m.zTR("Bitte warten..."),m.zTR("Tabelle wird geladen..."),!1,0,0,!0);this.onProgressBegin(l);var p=a.Deferred();return this._props.erpEnabled?h.tryReconnect().done(function(){p.resolve()}).fail(function(){p.reject()}):p.resolve(),p.done(function(){s=i.onBeforeLoad(s),u.getTableInfoAsync(s).done(function(r){if(r&&r.index)if(n)o.resolve(r.index);else{if(r.index.eol&&!i._bypassEOL){new(0,e("eolDialog/js/eolDialog").EolDialog)(r.index,i).show()}else{i._props._tableData=r.index,i.setHeaderDescMode(t.headerDescMode);var s=i.onTableChanged(i._props._tableData);void 0!==s&&(i._props._tableData=s),i._prepareAvailableVars(),i.onAfterTableChanged(r.index.varsettransfer,i._props._tableData),i._display()}o.resolve()}else o.reject()}).fail(function(){o.reject()})}).fail(function(){i.onAuthError(),o.reject()}),o.always(function(){i.onProgressEnd(l)}),o.promise()},n.prototype.updateScrollPosition=function(){},n.prototype.setAdditionalOptions=function(e){this.additionalOptions=e},n.prototype.showEditVarDialog=function(e){this._editDialog||(this._editDialog=new l.DialogEditTableVar,this._editDialog.onApplyClicked=this._onApplyClicked.bind(this)),this._setEditVarDialogData(e,this._editDialog),this._editDialog.show()},n.prototype.setHeaderDescMode=function(e){this._props._tableData.descMode=e},n.prototype.getTableData=function(){return this._props._tableData},n.prototype.getAvailableVars=function(){return[]},n.prototype.isEmptyViaPreferredLine=function(){return!1},n.prototype.onTableChanged=function(e){return e},n.prototype.onAfterTableChanged=function(e,t){},n.prototype.onExecVariableClicked=function(e){},n.prototype.onTableModeSet=function(e){},n.prototype.onBeforeLoad=function(e){return e},n.TABLE_MODE=r,n}(p.ViewBase);n.TableBase=f},{"dialogEditTableVar/js/dialogEditTableVar":16,"eolDialog/js/eolDialog":22,"psol.color":195,"psol.erp":197,"psol.table":206,"psol.translation":207,"viewBase/js/progressEvent":55,"viewBase/js/viewBase":58}],52:[function(e,t,n){t.exports='<svg id="Ebene_1" data-name="Ebene 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1524" height="1888" viewBox="0 0 1524 1888">\r\n  <defs>\r\n    \r\n    <linearGradient id="right-to-left" x1="1.5" y1="60.47" x2="86.5" y2="60.47" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#8d9091"/>\r\n      <stop offset="1" stop-color="#e2e3e4"/>\r\n    </linearGradient>\r\n    <linearGradient id="left-to-right" x1="1.5" y1="51.36" x2="86.5" y2="51.36" gradientTransform="matrix(1, 0, 0, -1, 0, 86.72)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#e2e3e4"/>\r\n      <stop offset="1" stop-color="#8d9091"/>\r\n    </linearGradient>\r\n\t<linearGradient id="right-to-left-active" x1="1.5" y1="60.47" x2="86.5" y2="60.47" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#87c65a"/>\r\n      <stop offset="1" stop-color="#c9f4ae"/>\r\n    </linearGradient>\r\n    <linearGradient id="left-to-right-active" x1="1.5" y1="51.36" x2="86.5" y2="51.36" gradientTransform="matrix(1, 0, 0, -1, 0, 86.72)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#c9f4ae"/>\r\n      <stop offset="1" stop-color="#87c65a"/>\r\n    </linearGradient>\r\n    <radialGradient id="sphere_gradient_dark" cx="56.23" cy="22.37" r="18.75" gradientTransform="translate(80.12 -33.86) rotate(90) scale(1 1.07)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#d4d7d8"/>\r\n      <stop offset="0.5" stop-color="#acafb2"/>\r\n      <stop offset="1" stop-color="#5b6166"/>\r\n    </radialGradient>\r\n    <radialGradient id="sphere_gradient_medium" cx="29.33" cy="25.92" r="25.67" gradientTransform="translate(56.7 -3.42) rotate(90) scale(1 1.06)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#fff"/>\r\n      <stop offset="0.33" stop-color="#e2e3e4"/>\r\n      <stop offset="1" stop-color="#8d9091"/>\r\n    </radialGradient>\r\n\t<radialGradient id="sphere_gradient_dark_active" cx="56.23" cy="22.37" r="18.75" gradientTransform="translate(80.12 -33.86) rotate(90) scale(1 1.07)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#c9f4ae"/>\r\n      <stop offset="0.5" stop-color="#87c65a"/>\r\n      <stop offset="1" stop-color="#6b9947"/>\r\n    </radialGradient>\r\n    <radialGradient id="sphere_gradient_medium_active" cx="29.33" cy="25.92" r="25.67" gradientTransform="translate(56.7 -3.42) rotate(90) scale(1 1.06)" gradientUnits="userSpaceOnUse">\r\n      <stop offset="0" stop-color="#fff"/>\r\n      <stop offset="0.33" stop-color="#c9f4ae"/>\r\n      <stop offset="1" stop-color="#87c65a"/>\r\n    </radialGradient>\r\n    <symbol id="actLine" data-name="actLine" viewBox="0 0 88 83.17">\r\n      <path class="border-thick" d="M1.5,18.17V65.31c0,9,20,16.36,43.72,16.36S86.5,74.34,86.5,65.31c0,0,0-.1,0-.14h0v-47"/>\r\n      <path class="border-thick" d="M86.5,17.81c0,9-17.53,16.31-41.28,16.31S1.5,26.82,1.5,17.81,21.47,1.5,45.22,1.5,86.5,8.8,86.5,17.81Z"/>\r\n      <path class="border-thick" d="M1.5,66.67c0-9,20-16.31,43.72-16.31S86.5,57.66,86.5,66.67"/>\r\n    </symbol>\r\n    <symbol id="actCustomDimensions" data-name="actCustomDimensions" viewBox="0 0 88 86.72">\r\n      <g>\r\n        <path class="gradient-right-to-left_border-thick" d="M86.5,35.72H1.5V68.86c0,9,20,16.36,43.72,16.36S86.5,77.9,86.5,68.86c0,0,0-.09,0-.14h0Z"/>\r\n        <path class="gradient-left-to-right_border-thick" d="M86.5,35.36c0,9-17.53,16.31-41.28,16.31S1.5,44.37,1.5,35.36s20-16.31,43.72-16.31S86.5,26.35,86.5,35.36Z"/>\r\n        <line class="border-thick" x1="1.5" y1="42.97" x2="1.5" y2="1.26"/>\r\n        <line class="border-thick" x1="86.5" y1="43.22" x2="86.5" y2="1.22"/>\r\n        <line class="border-thick" x1="4" y1="8.72" x2="88" y2="8.72"/>\r\n        <polygon class="solid-dark" points="16 17.93 1.66 8.96 16 0 16 17.93"/>\r\n        <polygon class="solid-dark" points="72 0 86.34 8.96 72 17.93 72 0"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="menu_special" data-name="menu_special" viewBox="0 0 93.97 94.74">\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="12.52 46.77 23.51 40.63 23.46 52.91 12.5 59.13 12.52 46.77"/>\r\n        <polygon class="solid-light_border-thick" points="1.5 40.56 12.45 34.36 23.51 40.63 12.52 46.77 1.5 40.56"/>\r\n        <polygon class="solid-light_border-thick" points="12.52 46.77 12.5 59.13 1.5 52.89 1.5 40.56 12.52 46.77"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="47.51 13.9 58.51 7.76 58.46 20.05 47.49 26.27 47.51 13.9"/>\r\n        <polygon class="solid-light_border-thick" points="36.49 7.7 47.44 1.5 58.51 7.76 47.51 13.9 36.49 7.7"/>\r\n        <polygon class="solid-light_border-thick" points="47.51 13.9 47.49 26.27 36.49 20.03 36.49 7.7 47.51 13.9"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="47.51 80.88 58.51 74.74 58.46 87.03 47.49 93.24 47.51 80.88"/>\r\n        <polygon class="solid-light_border-thick" points="36.49 74.67 47.44 68.47 58.51 74.74 47.51 80.88 36.49 74.67"/>\r\n        <polygon class="solid-light_border-thick" points="47.51 80.88 47.49 93.24 36.49 87 36.49 74.67 47.51 80.88"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="81.48 46.77 92.47 40.63 92.42 52.91 81.46 59.13 81.48 46.77"/>\r\n        <polygon class="solid-light_border-thick" points="70.46 40.56 81.41 34.36 92.47 40.63 81.48 46.77 70.46 40.56"/>\r\n        <polygon class="solid-light_border-thick" points="81.48 46.77 81.46 59.13 70.46 52.89 70.46 40.56 81.48 46.77"/>\r\n      </g>\r\n      <polygon class="solid-dark" points="45 30.49 45 34.49 42.05 34.49 47.51 42.46 52.94 34.49 50 34.49 50 30.49 45 30.49"/>\r\n      <polygon class="solid-dark" points="50 63.49 50 59.49 52.95 59.49 47.49 51.51 42.06 59.49 45 59.49 45 63.49 50 63.49"/>\r\n      <polygon class="solid-dark" points="28 49.49 32 49.49 32 52.44 39.98 46.98 32 41.55 32 44.49 28 44.49 28 49.49"/>\r\n      <polygon class="solid-dark" points="66 44.49 62 44.49 62 41.53 54.02 47 62 52.42 62 49.49 66 49.49 66 44.49"/>\r\n    </symbol>\r\n    <symbol id="actBack" data-name="actBack" viewBox="0 0 84.5 83.5">\r\n      <g>\r\n        <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n        <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n        <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      </g>\r\n      <g>\r\n        <rect class="solid-dark" x="34.75" y="1.25" width="49" height="50.5"/>\r\n        <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      </g>\r\n      <g>\r\n        <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actBottom" data-name="actBottom" viewBox="0 0 84.5 83.5">\r\n      <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n      <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n      <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      <polygon class="solid-dark" points="0.75 82.75 51.75 82.75 83.75 51.75 34.75 51.75 0.75 82.75"/>\r\n      <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n    </symbol>\r\n    <symbol id="actFront" data-name="actFront" viewBox="0 0 84.5 83.5">\r\n      <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n      <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n      <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      <rect class="solid-dark" x="0.75" y="32.75" width="51" height="50"/>\r\n      <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n    </symbol>\r\n    <symbol id="actLeft" data-name="actLeft" viewBox="0 0 84.5 83.5">\r\n      <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n      <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n      <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      <polygon class="solid-dark" points="0.75 82.75 34.75 51.75 34.75 0.75 0.75 32.75 0.75 82.75"/>\r\n      <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n    </symbol>\r\n    <symbol id="actRight" data-name="actRight" viewBox="0 0 84.5 83.5">\r\n      <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n      <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n      <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      <polygon class="solid-dark" points="51.75 82.75 83.75 51.75 83.75 0.75 51.75 32.75 51.75 82.75"/>\r\n      <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n      <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n      <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n    </symbol>\r\n    <symbol id="actTop" data-name="actTop" viewBox="0 0 84.5 83.5">\r\n      <g>\r\n        <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n        <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n        <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n        <polygon class="solid-dark" points="0.75 32.75 34.75 0.75 83.75 0.75 51.75 32.75 0.75 32.75"/>\r\n        <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n        <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="menu_active" data-name="menu_active" viewBox="0 0 64 64">\r\n      <polygon class="solid-active" points="64 16 32 16 32 0 0 32 32 64 32 48 64 48 64 16"/>\r\n    </symbol>\r\n    <symbol id="act2D" data-name="act2D" viewBox="0 0 85.6 84.9">\r\n      <path class="border-thick" d="M25.06,2.8a4,4,0,0,0-4,4V24.7c0,1.88,2.23,3.1,3.86,3.1H39.1v33a4,4,0,0,0,4,4H63.13a4,4,0,0,0,4-4v-33H80.74a3.23,3.23,0,0,0,3.36-3.17V6.77a4,4,0,0,0-4-4Z"/>\r\n      <line class="border-thick" x1="27.6" y1="78.8" x2="74.6" y2="78.8"/>\r\n      <polygon class="solid-dark" points="32.03 84.36 29.67 78.8 32.03 73.25 18.86 78.8 32.03 84.36"/>\r\n      <polygon class="solid-dark" points="85.6 78.8 70.67 84.9 74.22 78.8 70.67 72.71 85.6 78.8"/>\r\n      <line class="border-thick" x1="6.1" y1="10.3" x2="6.1" y2="56.3"/>\r\n      <polygon class="solid-dark" points="6.1 0 0 14.92 6.1 11.38 12.2 14.92 6.1 0"/>\r\n      <polygon class="solid-dark" points="6.1 66.93 0 52 6.1 55.54 12.2 52 6.1 66.93"/>\r\n    </symbol>\r\n    <symbol id="act3D" data-name="act3D" viewBox="0 0 73.16 48">\r\n      <path class="solid-dark" d="M13.88,1.23c11.9,0,15.8,4,15.8,12.44,0,4.93-2,7.53-5.27,9.71,3.76,2.06,6.09,4.11,6.09,10.19C30.5,43.08,26.12,48,15.11,48A95.17,95.17,0,0,1,0,46.36l.89-8.48s7.66,1,12.85,1c4.65,0,7-1.58,7-5.06S18.12,29,14.22,29H5.13V20.44h9.09c3.08,0,5.75-3,5.75-5.26,0-3.56-2.81-4.79-6.77-4.79a103.93,103.93,0,0,0-11.83.89L.55,3A75.82,75.82,0,0,1,13.88,1.23Z"/>\r\n      <path class="solid-dark" d="M37.88,47.18V0H53.4C69.61,0,73.16,7.11,73.16,22.7c0,16-3.08,24.48-19.76,24.48ZM53.4,9H47.18V38.22H53.4c9.16,0,10.05-5.81,10.05-15.52S62.56,9,53.4,9Z"/>\r\n    </symbol>\r\n    <symbol id="actAnaglyph" data-name="actAnaglyph" viewBox="0 0 94.19 62.73">\r\n      <path class="solid-dark" d="M31,0a9,9,0,0,1,1.69.93c2.24,1.9,2.73,4.61,2.69,7.47a4.11,4.11,0,0,1-.67,1.86c-.45.82-1.1.9-1.77.24a4.48,4.48,0,0,1-.85-1.24c-.53-1.15-1-2.33-1.54-3.57l-1.38.87c-1.47.94-2.89,2-4.42,2.8a18.51,18.51,0,0,0-7.18,7c-1.54,2.51-2,2.22-3.73,4.69.61.36,1.16.72,1.73,1Q34.86,32.72,54.16,43.41a2.36,2.36,0,0,0,2.92-.14c3.11-2.48,20.53-15.36,27.28-19.92a47.59,47.59,0,0,1,5-2.82c2.19-1.11,4.45.83,4.67,3.21.1,1,.21,3.56.2,3.7a9.29,9.29,0,0,1-1.93,4.74,3.62,3.62,0,0,1-1.06,1c-.65.39-1.23.08-1.34-.7-.2-1.43-.32-2.86-.47-4.29,0-.34-.1-.68-.17-1.1-.22.11-.33.14-.42.2C85.21,29.88,81.61,32.4,78.05,35a8.39,8.39,0,0,0-1.92,2.06c-3.46,5.12-10.87,16.18-11.21,16.5-1.85,1.73-3.75,3.4-5.56,5.18a21.46,21.46,0,0,1-5.33,4h-.51a6,6,0,0,1-1.5-.82c-.55-.52-.92-.32-1.27.15a.77.77,0,0,1-1.23.21Q39.23,55.81,28.94,49.35a3.13,3.13,0,0,1-1.06-1c-1.23-2.14-2.33-4.36-3.6-6.47a10.55,10.55,0,0,0-2.19-2.51c-.74-.62-1.12-.37-1.41.61-.13.44-.24.89-.4,1.31-.47,1.25-1.3,1.52-2.33.79C14,39.28,10.09,36.52,6.19,33.7A8.72,8.72,0,0,1,4.73,32c-.36-.47-.6-1.14-1.05-1.4a1.76,1.76,0,0,1-.89-1.33Q1.52,23.57.2,17.89c-.35-1.49-.36-1.47.91-2.16l15.7-8.47Q23.55,3.62,30.29,0ZM46.44,50.31c-.13-.86-.24-1.68-.4-2.49A9.09,9.09,0,0,0,41.11,41c-1.75-.88-3.44-1.89-5.16-2.83-1.37-.75-2.73-1.51-4.12-2.21-1.72-.87-3,0-3,2a17.57,17.57,0,0,0,0,1.92A10.88,10.88,0,0,0,33.11,48c2.07,1.55,4.34,2.78,6.54,4.12a33.42,33.42,0,0,0,3.77,2.11c1.36.6,2.32,0,2.71-1.55A22.06,22.06,0,0,0,46.44,50.31Zm-36.57-27C8.94,22.7,8,22.13,7,21.58s-1.67-.14-1.56,1.05.38,2.57.63,3.84a10.21,10.21,0,0,0,4.58,6.79c1.42,1,2.82,1.93,4.26,2.83.45.27,1.18.58,1.5.37s.53-1,.57-1.6a13.62,13.62,0,0,0-1.27-5.78,30.13,30.13,0,0,0-1.7-2.73C13.35,25,12,24.72,10.93,24Z"/>\r\n    </symbol>\r\n    <symbol id="actAnimate" data-name="actAnimate" viewBox="0 0 87.52 91">\r\n      <path class="border-thick" d="M33.27,7.21C17,9,1.5,16,1.5,24.21c0,9.66,19.37,17.5,42.77,17.5S86,33.87,86,24.21C86,16,72.37,9,52.82,7.21"/>\r\n      <polygon class="solid-dark" points="54.76 14 40.76 7 54.76 0 54.76 14"/>\r\n      <path class="solid-dark" d="M63.76,53V88h-40V53h40m3-3h-46V91h46V50Z"/>\r\n      <path class="solid-dark" d="M39.79,60.27l12.74,8.06a2,2,0,0,1,.1,3.34L39.74,79.73a2,2,0,0,1-3-1.66V61.93A2,2,0,0,1,39.79,60.27Z"/>\r\n    </symbol>\r\n    <symbol id="actBackDimension" data-name="actBackDimension" viewBox="0 0 76.64 74.64">\r\n      <line class="border-thick" x1="61.75" y1="3.39" x2="27.75" y2="3.39"/>\r\n      <polygon class="solid-dark" points="57.48 0 60.87 3.39 57.48 6.78 60.36 6.78 63.75 3.39 60.36 0 57.48 0"/>\r\n      <polygon class="solid-dark" points="32.02 0 28.63 3.39 32.02 6.78 29.14 6.78 25.75 3.39 29.14 0 32.02 0"/>\r\n      <line class="border-thick" x1="73.25" y1="47.89" x2="73.25" y2="12.89"/>\r\n      <polygon class="solid-dark" points="76.64 43.62 73.25 47.01 69.86 43.62 69.86 46.5 73.25 49.89 76.64 46.5 76.64 43.62"/>\r\n      <polygon class="solid-dark" points="76.64 17.16 73.25 13.77 69.86 17.16 69.86 14.28 73.25 10.89 76.64 14.28 76.64 17.16"/>\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M26.26,12.37V50.63"/>\r\n          <line class="border-thin--transparent--dashed" x1="63.02" y1="50.63" x2="26.26" y2="50.63"/>\r\n          <line class="border-thin--transparent--dashed" x1="26.26" y1="50.63" x2="0.75" y2="73.89"/>\r\n        </g>\r\n        <g>\r\n          <rect class="solid-dark" x="26.26" y="12.74" width="36.76" height="37.89"/>\r\n          <rect class="transparent-medium" x="0.75" y="36.38" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M39,36.38l24-24V50.63L39,73.89Z"/>\r\n          <polygon class="transparent-medium" points="0.75 36.38 39.01 36.38 63.02 12.37 26.26 12.37 0.75 36.38"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="0.75" y="36.38" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M39,36.38l24-24V50.63L39,73.89Z"/>\r\n          <polygon class="border-thin" points="0.75 36.38 39.01 36.38 63.02 12.37 26.26 12.37 0.75 36.38"/>\r\n        </g>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actBottomDimension" data-name="actBottomDimension" viewBox="0 0 72.47 74.27">\r\n      <line class="border-thick" x1="37.23" y1="70.77" x2="2.1" y2="70.77"/>\r\n      <polygon class="solid-dark" points="33.73 67.27 37.23 70.77 33.73 74.27 36.7 74.27 40.2 70.77 36.7 67.27 33.73 67.27"/>\r\n      <polygon class="solid-dark" points="6.47 67.27 2.97 70.77 6.47 74.27 3.5 74.27 0 70.77 3.5 67.27 6.47 67.27"/>\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M26.78.75V39"/>\r\n          <line class="border-thin--transparent--dashed" x1="63.54" y1="39.01" x2="26.78" y2="39.01"/>\r\n          <line class="border-thin--transparent--dashed" x1="26.78" y1="39.01" x2="1.27" y2="62.27"/>\r\n        </g>\r\n        <g>\r\n          <polygon class="solid-dark" points="1.27 62.27 39.53 62.27 63.54 39.01 26.78 39.01 1.27 62.27"/>\r\n          <rect class="transparent-medium" x="1.27" y="24.76" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M39.53,24.76l24-24V39l-24,23.26Z"/>\r\n          <polygon class="transparent-medium" points="1.27 24.76 39.53 24.76 63.54 0.75 26.78 0.75 1.27 24.76"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="1.27" y="24.76" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M39.53,24.76l24-24V39l-24,23.26Z"/>\r\n          <polygon class="border-thin" points="1.27 24.76 39.53 24.76 63.54 0.75 26.78 0.75 1.27 24.76"/>\r\n        </g>\r\n      </g>\r\n      <line class="border-thick" x1="49.54" y1="67.28" x2="71.41" y2="45.41"/>\r\n      <polygon class="solid-dark" points="54.98 66.27 50.27 66.28 50.27 61.56 48.27 63.56 48.27 68.27 52.98 68.27 54.98 66.27"/>\r\n      <polygon class="solid-dark" points="70.27 50.99 70.27 46.27 65.56 46.27 67.56 44.27 72.27 44.27 72.27 48.99 70.27 50.99"/>\r\n    </symbol>\r\n    <symbol id="actCameraBackground" data-name="actCameraBackground" viewBox="0 0 91.98 92">\r\n      <path class="solid-dark" d="M42.38,20.16A7.28,7.28,0,0,0,37.13,18H7.23A7.28,7.28,0,0,0,2,20.16,6.17,6.17,0,0,0,0,25V84.46a7.27,7.27,0,0,0,2,5.38A7.28,7.28,0,0,0,7.23,92h29.9a7.28,7.28,0,0,0,5.25-2.16C43.86,88.39,44,86.33,44,84.36V24.94c0-2-.14-3.33-1.62-4.78ZM17.44,24h9a.82.82,0,0,1,.94.92c0,.62-.16,1.08-.79,1.08H17.12A1.06,1.06,0,0,1,16,24.92.82.82,0,0,1,17,24ZM25,88.42a4.72,4.72,0,0,1-6.59,0,4.45,4.45,0,0,1,0-6.44A4.72,4.72,0,0,1,25,82a4.47,4.47,0,0,1,0,6.44ZM39,76.17a1.76,1.76,0,0,1-.56,1.29,1.87,1.87,0,0,1-1.33.54H6.89a1.85,1.85,0,0,1-1.33-.54A1.76,1.76,0,0,1,5,76.17V32.83a1.76,1.76,0,0,1,.56-1.29A1.85,1.85,0,0,1,6.89,31H37.11a1.85,1.85,0,0,1,1.33.54A1.76,1.76,0,0,1,39,32.83Zm-.52-.1"/>\r\n      <path class="solid-dark" d="M28,63.65v1.49a14.51,14.51,0,0,1-6.41,1.36l5.67-3.28A.49.49,0,0,1,28,63.65Z"/>\r\n      <path class="solid-dark" d="M28,60.54V57.61a.49.49,0,0,0-.73-.42l-11,6.35A.48.48,0,0,0,16,64v1.12a14.84,14.84,0,0,0,2.91,1L27.75,61A.47.47,0,0,0,28,60.54Z"/>\r\n      <path class="solid-dark" d="M34.53,44.86,32,42.43A1.52,1.52,0,0,0,31,42H24.3a.29.29,0,0,0-.3.3v1.23a1.5,1.5,0,1,1-3,0V42.31a.31.31,0,0,0-.31-.31H14.05a1.51,1.51,0,0,0-1.07.43l-2.52,2.45A1.57,1.57,0,0,0,10,46v6.49A1.53,1.53,0,0,0,11.53,54H33.47A1.53,1.53,0,0,0,35,52.48V46A1.54,1.54,0,0,0,34.53,44.86Z"/>\r\n      <path class="solid-dark" d="M23.32,56H16.49a.49.49,0,0,0-.49.49v3.94a.48.48,0,0,0,.73.42l6.83-3.93A.49.49,0,0,0,23.32,56Z"/>\r\n      <path class="solid-dark" d="M87.44,17A33.84,33.84,0,0,0,75.07,4.57a34.15,34.15,0,0,0-34.13,0A33.7,33.7,0,0,0,30.51,14H38a28.11,28.11,0,0,1,6.42-4.82,6.57,6.57,0,0,1,1,0,1.78,1.78,0,0,1,.67.23,3.55,3.55,0,0,1,.64.48,6.29,6.29,0,0,0,.51.45,1.11,1.11,0,0,0-.22-.8c0-.18.38-.36,1-.53a2.5,2.5,0,0,1,1.33,0,11.76,11.76,0,0,0-.89-1.11l-.22.22c-.23-.2-.86-.1-1.86.31l-.44.25A6.17,6.17,0,0,1,45.3,9a1.18,1.18,0,0,1-.53,0,25.08,25.08,0,0,1,4.16-1.82,5,5,0,0,1,.45.38,5.88,5.88,0,0,0,.48.42c-.09-.06-.14,0-.17.09a1.14,1.14,0,0,0,0,.89.81.81,0,0,0,.59.35,3.26,3.26,0,0,0,.91-.05,7,7,0,0,1,.71-.08l.44,0c.95.09,1.31,0,1.11-.26a2.69,2.69,0,0,1,.31.73,1.87,1.87,0,0,0,.4.77c.14-.12.17-.32.09-.62a.72.72,0,0,1,0-.62A.48.48,0,0,1,54.51,9l.51-.2.38-.15c.17-.12.06-.33-.36-.62a2.73,2.73,0,0,0-.37-.14,3.37,3.37,0,0,1-.51-.17,2.4,2.4,0,0,1-.47-.25.38.38,0,0,1-.22-.35,1.25,1.25,0,0,1,.24-.51,1.21,1.21,0,0,1,.87-.18,2.2,2.2,0,0,1,.91.22c.79.45.91.85.35,1.2a3.08,3.08,0,0,1,1.06.36c.42.2.58.42.49.66.24-.44.47-.66.71-.66s.28.22.42.59a3.48,3.48,0,0,0,.24.6c.24.33.47.4.71.22a3.41,3.41,0,0,0,.73-.77c.25-.34.39-.5.42-.47-.3-.12-.32-.23-.09-.35a1.4,1.4,0,0,1,1.2-.22,1.69,1.69,0,0,1,.35.4c.27.53.22.78-.13.75a1,1,0,0,1,.33.89c-.05.35-.27.51-.69.48a1.54,1.54,0,0,1-.64-.22,1.78,1.78,0,0,0-.64-.24,1.06,1.06,0,0,0-.62.24,5.07,5.07,0,0,0-.47.76,3.39,3.39,0,0,1-.51.75,2.61,2.61,0,0,1-2.21.49c.09,0,.08.09,0,.26a5.17,5.17,0,0,1-.42.6l-.31.38a2.09,2.09,0,0,0-.53,1c0,.05,0,.26,0,.59a2.24,2.24,0,0,1-.18.78c.36-.09.64.09.85.53s.17.64,0,.67a5.1,5.1,0,0,1,2.56.18c1.07.38,1.67.76,1.82,1.15.18-.27.6-.28,1.28,0,.27.15.5.6.71,1.33a2.81,2.81,0,0,0,.6,1.15.72.72,0,0,0,.91.27l.13-.09.29-.15.24-.18a.36.36,0,0,0,.15-.2.17.17,0,0,0-.06-.18,1.6,1.6,0,0,1-.47-.73.93.93,0,0,1,.07-.82,3.24,3.24,0,0,1,.71-.53,1.64,1.64,0,0,0,.71-.71.78.78,0,0,0-.44-1c-.42-.25-.62-.48-.62-.69a.86.86,0,0,1,.28-.53.69.69,0,0,0,.25-.58,2.36,2.36,0,0,0-.16-.55,3.83,3.83,0,0,1-.18-.62.69.69,0,0,1,.2-.47,2.75,2.75,0,0,1,1.46,0,5.45,5.45,0,0,1,1.51.42,4,4,0,0,0,.57.27c.3.12.56,0,.78.13a.75.75,0,0,0,.37.13h-.22c.21,1,.34.63.38.87a.6.6,0,0,1-.33.65,1.64,1.64,0,0,1,.71.2c.47.18.49.37,0,.52a3,3,0,0,1,.38-.08.94.94,0,0,0,.37-.12,1.08,1.08,0,0,0,.22-.15.57.57,0,0,1,.2-.13l.2,0a.39.39,0,0,1,.27.07s.09-.07.2-.22a4.59,4.59,0,0,1,.33-.44c.12-.15.22-.22.31-.22a.33.33,0,0,1,.24.1,1.05,1.05,0,0,1,.18.25c0,.09.09.18.13.29s.08.18.11.24a1.16,1.16,0,0,0,.42.46,1.24,1.24,0,0,1,.42.47c0,.09.09.31.18.67a1.5,1.5,0,0,0,.35.73,1.81,1.81,0,0,0,.67.33.68.68,0,0,0,.39-.05,1.18,1.18,0,0,1,.51,0c.14,0,.2.15.2.35.18-.17.27-.29.27-.35a1.83,1.83,0,0,0,.29.93.77.77,0,0,0,.77.31l-.09,1c-.09.15-.31.25-.66.33a2.23,2.23,0,0,0-.67.2,3.2,3.2,0,0,0-.64.53c-.34.33-.48.52-.42.58A2.15,2.15,0,0,0,73,21.72a11.12,11.12,0,0,0-2.3.53,3.12,3.12,0,0,0-1,.67,1.23,1.23,0,0,0-.16.31,4.3,4.3,0,0,1-.22.48c-.07.15-.14.23-.2.23a1.14,1.14,0,0,0,.6-.42,2.31,2.31,0,0,1,.42-.43A2.4,2.4,0,0,1,72,22.56c.65.18.75.42.31.71a.67.67,0,0,1-.47.07,1.79,1.79,0,0,0-.51,0,2.18,2.18,0,0,1,.67.25.29.29,0,0,1,.13.42c.47.26.56.56.26.89a1.59,1.59,0,0,1-1.37.48q.14,0,0,.18l-.75.49-.58.22a1.53,1.53,0,0,0-.66.4.84.84,0,0,0-.13.53,2.3,2.3,0,0,1,0,.53c0,.12-.14.15-.35.09-.09.18-.36.32-.82.42a1.51,1.51,0,0,0-.91.46.51.51,0,0,1,0,.71.57.57,0,0,1-.93-.08.61.61,0,0,0-.33.44.89.89,0,0,1-.33.49c.2.32.17.56-.09.71a.66.66,0,0,1,.2.09,2.35,2.35,0,0,1,.33.22.6.6,0,0,0,.22.13c-.12.26-.28.4-.49.4.18.47,0,1-.66,1.55a1.8,1.8,0,0,1-.55.35,7,7,0,0,1-.69.29,1.66,1.66,0,0,0-.36.16,3.05,3.05,0,0,0-.66.82,1,1,0,0,0-.07.82.82.82,0,0,0,.71.53L63,36.7v.8l.16.36c0,.2.11.39.12.55a5.34,5.34,0,0,1,0,.62c0,.25-.07.4-.19.42a.75.75,0,0,1-.47-.09q-.36-.16-.84-2a3.14,3.14,0,0,0-.53-1.06,1.36,1.36,0,0,1-.38.29c-.1,0-.17,0-.22,0l-.24-.2-.31-.24a2.4,2.4,0,0,0-.78-.22,1.57,1.57,0,0,1-.68-.22c-.71.53-1.14.39-1.29-.4a.94.94,0,0,0,0,.59c.07.26.11.4.11.43-.21.38-.53.41-1,.08-.17-.17-.58-.19-1.21-.06a2.52,2.52,0,0,1-1.26.06s.08.05.17.14l.18.13a.68.68,0,0,1-.13.27.19.19,0,0,1-.18.06h-.2l-.2.07a2.84,2.84,0,0,0-.44.46,2.36,2.36,0,0,1-.4.42,2.78,2.78,0,0,1,.24,1.09c0,.25-.06.62-.13,1.11a8.89,8.89,0,0,0-.11,1.17A4.09,4.09,0,0,0,53.29,43a2.81,2.81,0,0,0,1,1.29,3.72,3.72,0,0,0,2.12.13,1.09,1.09,0,0,0,.4-.31,1.53,1.53,0,0,0,.22-.51c.06-.22.1-.37.13-.46a1.23,1.23,0,0,1,1.15-.89,1.31,1.31,0,0,1,.78.11.39.39,0,0,1,.2.42,2.27,2.27,0,0,1-.18.56c-.09.19-.2.4-.33.64a2.4,2.4,0,0,0-.24.53,6.75,6.75,0,0,0-.16,1,4.53,4.53,0,0,1-.11.77,2.37,2.37,0,0,0,.66,0,1.28,1.28,0,0,1,.07-.29.93.93,0,0,0,.07-.24.89.89,0,0,0,.7.4.66.66,0,0,0,.71-.36c.06.09.24.31.54.67a1.94,1.94,0,0,1,.48.88c0,.12.09.31.18.58a1.11,1.11,0,0,1,.09.56q0,.15-.45.15a.21.21,0,0,0-.22.13.65.65,0,0,0,0,.34,2.29,2.29,0,0,0,.12.37,3,3,0,0,0,.17.38.66.66,0,0,1,.11.24,1.49,1.49,0,0,0,2.17.8c0,.86-.2,1.33-.62,1.42-.23.05-.5-.09-.79-.45s-.4-.65-.31-.88a.63.63,0,0,1-.31.39,5,5,0,0,0-.8-.66,4.5,4.5,0,0,1-.8-.67c-.06-.08-.14-.21-.24-.37s-.23-.38-.4-.64a4.48,4.48,0,0,1-.35-.69c-.08-.2-.08-.3,0-.33a3.07,3.07,0,0,1-2.44-.49,4.31,4.31,0,0,1-.93-.93A1.44,1.44,0,0,0,54.38,46a5.61,5.61,0,0,0-.6.16,2.52,2.52,0,0,1-.64.11,2,2,0,0,1-.71-.18,6.25,6.25,0,0,1-1-.51,5.31,5.31,0,0,0-.82-.46l-.58-.31-.7-.36a2.21,2.21,0,0,1-.56-.42,1.39,1.39,0,0,1-.37-.6,7.15,7.15,0,0,1-.22-1.06,3,3,0,0,0-.5-1.15c-.14-.24.27-.48-.73-.72V66.38a37.54,37.54,0,0,0,10.86,1.7A33.52,33.52,0,0,0,75,63.52,34.05,34.05,0,0,0,87.41,51.13,33.45,33.45,0,0,0,92,34,33.35,33.35,0,0,0,87.44,17Zm-24,44.52a3,3,0,0,1-.08-.71,1.62,1.62,0,0,1,.31-1,2.08,2.08,0,0,0,.35-.9c-.47-.12-.65-.51-.53-1.16A3.71,3.71,0,0,1,64.73,56a2,2,0,0,0,.53-2.13A12.22,12.22,0,0,1,65,52.16a14.92,14.92,0,0,0-.18-1.55c0,.09.14.17.43.24a.81.81,0,0,1,.51.29,3.68,3.68,0,0,0,.22-.49,1.86,1.86,0,0,1,.26-.53,1.33,1.33,0,0,1,.38-.33,3.33,3.33,0,0,1,.37-.25,2.78,2.78,0,0,0,.4-.28c.21-.17.38-.29.51-.38a1.37,1.37,0,0,1,.53-.2.38.38,0,0,1,.47.2c.14.18.11.45-.09.82s-.21.63,0,.78a3.51,3.51,0,0,0,.09-.58,1.06,1.06,0,0,1,.26-.67,1.09,1.09,0,0,1,.51-.31.66.66,0,0,1,.44.07,3.74,3.74,0,0,1,.47.31,1.26,1.26,0,0,0,.48.24,5.54,5.54,0,0,1,1.6,1,.08.08,0,0,1,0-.11.47.47,0,0,1,.18-.14l.24-.13a1.33,1.33,0,0,1,.24-.11l.13,0a1.41,1.41,0,0,0,.44-.05.51.51,0,0,1,.38.09l.33.2.31.25a2,2,0,0,1,.31.26l.49.31.55.36a1.14,1.14,0,0,1,.36.39.9.9,0,0,1,.11.58,7.51,7.51,0,0,1,1.06.35,1.45,1.45,0,0,0,.55.16,1,1,0,0,1,.56.2A27.43,27.43,0,0,1,63.4,61.47Z"/>\r\n    </symbol>\r\n    <symbol id="actCut" data-name="actCut" viewBox="0 0 86.94 89.13">\r\n      <path class="gradient-left-to-right_border-thick" d="M3.43,10.43,60.26,37.31c3.87-1.5,44.52-15.84,12-30.91C54.2-2,22.08,1.08,3.43,10.43Z"/>\r\n      <path class="gradient-right-to-left_border-thick" d="M59.44,37.31V87.63s26-5.47,26-16.83V18.58C85.44,28.11,67.44,34.25,59.44,37.31Z"/>\r\n      <path class="border-thick" d="M2.44,10.43l57,26.88V87.63L2.44,64Z"/>\r\n      <path class="solid-dark" d="M2.94,59.86V52.55l29.27-27.4,5.21,2.43Zm43.86-28-5.21-2.43L4.52,64.12,10,66.35ZM28.28,23.32l-5.2-2.44L2.94,39.73V47ZM2.94,26.92v7.31L19.15,19.05l-5.21-2.43Zm53,9.19-5.2-2.43L14,68l5.42,2.23Zm3,35.41V64.21L42.33,79.76,47.76,82Zm0-25.64v-7.3L23.3,71.94l5.43,2.23ZM51.85,83.66l7.09,2.92V77ZM10,14.78l-7.08-3.3v9.93ZM58.94,58.7V51.39L32.82,75.85l5.42,2.22Z"/>\r\n    </symbol>\r\n    <symbol id="actDreamocHD3" data-name="actDreamocHD3" viewBox="0 0 68.02 40">\r\n      <polygon class="solid-dark" points="27 2.08 15.01 9.75 46.17 10.53 56.21 1.4 27 2.08"/>\r\n      <path class="solid-dark" d="M55.34,40H0L11.23,9.37,30,0H57.5L68,28.76ZM3.67,37h50L44.87,11H13.29ZM47.24,10.28l8.69,25.63,9-7.94L56.24,4.18ZM18.42,9H45.05l8.52-6H30.49ZM56.64,2.21l-1.48,1,1.5-1Z"/>\r\n      <polygon class="solid-light_border-thick" points="30.68 24.23 38.57 20.06 38.55 28.36 30.66 32.54 30.68 24.23"/>\r\n      <polygon class="solid-light_border-thick" points="22.74 20.06 30.63 15.89 38.57 20.06 30.68 24.23 22.74 20.06"/>\r\n      <polygon class="solid-light_border-thick" points="30.68 24.23 30.66 32.54 22.71 28.36 22.74 20.06 30.68 24.23"/>\r\n    </symbol>\r\n    <symbol id="actDreamocXL2" data-name="actDreamocXL2" viewBox="0 0 95.62 61">\r\n      <polygon class="solid-dark" points="37.88 3.41 20.89 15.21 65.04 16.4 79.27 2.37 37.88 3.41"/>\r\n      <path class="solid-dark" d="M77.8,61H0L15.79,14.29,42.23,0H80.84L95.62,43.86Zm-73-4H75.65L63.22,17H18.43ZM66.15,16.32,78.37,55.88,91.59,43.21,79.32,6.64ZM26.32,14H63.15L74.93,5H43ZM79.88,3.62l-2.1,1.6L79.9,3.66Z"/>\r\n      <polygon class="solid-light_border-thick" points="43.09 37.46 54.27 31.05 54.27 43.76 43.09 49.76 43.09 37.46"/>\r\n      <polygon class="solid-light_border-thick" points="31.84 31.05 43.02 24.64 54.27 31.05 43.09 37.46 31.84 31.05"/>\r\n      <polygon class="solid-light_border-thick" points="43.09 37.46 43.09 49.76 31.86 43.29 31.84 31.05 43.09 37.46"/>\r\n    </symbol>\r\n    <symbol id="actEnableHotSpots" data-name="actEnableHotSpots" viewBox="0 0 87.99 82.68">\r\n      <polygon class="border-thick" points="26.07 53.63 50.43 39.59 50.43 67.1 25.95 81.18 26.07 53.63"/>\r\n      <polygon class="border-thick" points="1.54 39.59 25.91 25.56 50.43 39.59 26.07 53.63 1.54 39.59"/>\r\n      <polygon class="border-thick" points="26.07 53.63 25.95 81.18 1.5 67.97 1.58 39.59 26.07 53.63"/>\r\n      <circle class="solid-dark" cx="25.99" cy="40" r="2"/>\r\n      <circle class="border-thin" cx="25.99" cy="40" r="4"/>\r\n      <line class="border-thin" x1="26.81" y1="39.25" x2="49.59" y2="16.47"/>\r\n      <rect class="solid-light_border-thick" x="33.49" y="1.5" width="53" height="20"/>\r\n      <circle class="solid-dark" cx="37.99" cy="60" r="2"/>\r\n      <circle class="border-thin" cx="37.99" cy="60" r="4"/>\r\n      <line class="border-thin" x1="37.99" y1="60" x2="57.99" y2="60"/>\r\n      <rect class="solid-light_border-thick" x="56.49" y="43.5" width="29" height="31"/>\r\n    </symbol>\r\n    <symbol id="actEnv" data-name="actEnv" viewBox="0 0 77.84 87.08">\r\n      <path class="solid-dark" d="M39,87.07a2.05,2.05,0,0,1-1-.25L1,66a2,2,0,0,1-1-1.74,2,2,0,0,1,1-1.75L37.75,41.7a2,2,0,0,1,2,0l37,20.83a2,2,0,0,1,0,3.48L40,86.82A2,2,0,0,1,39,87.07ZM6.07,64.25,39,82.78,71.66,64.26,38.74,45.73Z"/>\r\n      <path class="solid-dark" d="M19.67,64.23l-9,5.21-9-5.21,9-5.21,9,5.21m18,0-9-5.21-9,5.21,9,5.21,9-5.21M37.6,53.81l-9-5.21-9,5.21,9,5.21,9-5.21m18,0-9-5.21-9,5.21,9,5.21,9-5.21M37.72,74.65l-9-5.21-9,5.21,9,5.21,9-5.21m18,0-9-5.21-9,5.21,9,5.21,9-5.21m-.07-10.42-9-5.21-9,5.21,9,5.21,9-5.21m18,0-9-5.21-9,5.21,9,5.21,9-5.21"/>\r\n      <path class="solid-dark" d="M76.83,21.08,39.84.26a2,2,0,0,0-2,0L1.13,21.08a2,2,0,0,0-1,1.73L0,64.25A2,2,0,0,0,3,66L38.74,45.73,74.74,66a2.05,2.05,0,0,0,1,.26,2,2,0,0,0,2-2l.12-41.43A2,2,0,0,0,76.83,21.08Zm-10.68,6c0,3.95-2.81,5.54-6.24,3.56A13.65,13.65,0,0,1,53.7,19.86c0-3.95,2.81-5.54,6.25-3.56A13.71,13.71,0,0,1,66.15,27.05ZM38.74,41.44a2,2,0,0,0-1,.26L4,60.82v-.17c.35-1.1.86-2.66,1.63-5,2.85-8.7,3.41-19.76,8.19-30.34A7.89,7.89,0,0,1,16,22.12l.21-.13a2.24,2.24,0,0,1,2.44.23l2.78,1.64a4.82,4.82,0,0,1,1.76,1.48c.46.74.66,1.76,1.16,2.45.75,1,2.08,1.12,3.35,1.21a1.44,1.44,0,0,0,.89-.15l.1-.06c.74-.53,1-1.73,1.26-2.68.79-2.68,2.86-5.07,4.76-7.17a3.45,3.45,0,0,1,.7-.64.84.84,0,0,1,.14-.06.66.66,0,0,1,.63.09c1.13.63,1.72,2.11,2.51,3.23v.17a13.45,13.45,0,0,0,1.84,3.37A11.94,11.94,0,0,0,44.1,28l.68.38.58.34a11.91,11.91,0,0,1,3.77,3c.63.84,1.14,1.8,1.79,2.6a6.9,6.9,0,0,0,1.91,1.69,5.1,5.1,0,0,0,4.53.36c1.78-.76,3.23-2.23,5.36-2.15a1.71,1.71,0,0,1,.79.2l.2.14a3.72,3.72,0,0,1,.81,1.14c1.88,3.57,2.55,7.37,4.11,11,1.16,2.71,2.82,5.37,3.58,8.09A34.55,34.55,0,0,1,73,60.45L39.72,41.69A2,2,0,0,0,38.74,41.44Z"/>\r\n    </symbol>\r\n    <symbol id="actErpFilter" data-name="actErpFilter" viewBox="0 0 83.47 66">\r\n      <path class="solid-dark" d="M42.54,0H81.46a2.23,2.23,0,0,1,1.73,3.35L67.29,32.67A2.38,2.38,0,0,0,67,33.81V55.3a2.29,2.29,0,0,1-.85,1.81l-6,4.63A2,2,0,0,1,57,59.93V33.81a2.38,2.38,0,0,0-.29-1.14L40.81,3.35A2.23,2.23,0,0,1,42.54,0Z"/>\r\n      <rect class="transparent-medium" x="6" y="18" width="11" height="5"/>\r\n      <rect class="transparent-medium" x="25" y="18" width="11" height="5"/>\r\n      <path class="solid-dark" d="M4,66H53.39c-.12-1.43-.23-2.85-.3-4H42V53H53V49H42V41H53V37H42V29h8.08l-2.24-4H42V16h.8l-2.24-4H4a4,4,0,0,0-4,4V62A4,4,0,0,0,4,66ZM23,16H38v9H23Zm0,13H38v8H23Zm0,12H38v8H23Zm0,12H38v9H23ZM4,16H19v9H4ZM4,29H19v8H4ZM4,41H19v8H4ZM4,53H19v9H4Z"/>\r\n    </symbol>\r\n    <symbol id="actExplosion" data-name="actExplosion" viewBox="0 0 94.27 95.27">\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="47.26 29.92 58.21 23.72 58.17 36.07 47.23 42.27 47.26 29.92"/>\r\n        <polygon class="solid-light_border-thick" points="36.24 23.72 47.19 17.52 58.21 23.72 47.26 29.92 36.24 23.72"/>\r\n        <polygon class="solid-light_border-thick" points="47.26 29.92 47.23 42.27 36.21 36.07 36.24 23.72 47.26 29.92"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="68.25 47.17 79.2 40.97 79.16 53.32 68.22 59.52 68.25 47.17"/>\r\n        <polygon class="solid-light_border-thick" points="57.23 40.97 68.18 34.77 79.2 40.97 68.25 47.17 57.23 40.97"/>\r\n        <polygon class="solid-light_border-thick" points="68.25 47.17 68.22 59.52 57.2 53.32 57.23 40.97 68.25 47.17"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="47.24 64.92 58.19 58.72 58.15 71.07 47.21 77.27 47.24 64.92"/>\r\n        <polygon class="solid-light_border-thick" points="36.22 58.72 47.17 52.52 58.19 58.72 47.24 64.92 36.22 58.72"/>\r\n        <polygon class="solid-light_border-thick" points="47.24 64.92 47.21 77.27 36.19 71.07 36.22 58.72 47.24 64.92"/>\r\n      </g>\r\n      <g>\r\n        <polygon class="solid-light_border-thick" points="26.24 47.55 37.19 41.35 37.15 53.69 26.21 59.89 26.24 47.55"/>\r\n        <polygon class="solid-light_border-thick" points="15.22 41.35 26.17 35.14 37.19 41.35 26.24 47.55 15.22 41.35"/>\r\n        <polygon class="solid-light_border-thick" points="26.24 47.55 26.21 59.89 15.19 53.69 15.22 41.35 26.24 47.55"/>\r\n      </g>\r\n      <polygon class="solid-dark" points="12.63 46.63 8.63 46.63 8.63 43.65 0 48.63 8.63 53.62 8.63 50.63 12.63 50.63 12.63 46.63"/>\r\n      <polygon class="solid-dark" points="81.64 50.63 85.64 50.63 85.64 53.62 94.27 48.63 85.64 43.65 85.64 46.63 81.64 46.63 81.64 50.63"/>\r\n      <polygon class="solid-dark" points="49.63 12.63 49.63 8.63 52.63 8.63 47.63 0 42.62 8.63 45.63 8.63 45.63 12.63 49.63 12.63"/>\r\n      <polygon class="solid-dark" points="44.63 82.64 44.63 86.64 41.61 86.64 46.63 95.27 51.66 86.64 48.63 86.64 48.63 82.64 44.63 82.64"/>\r\n    </symbol>\r\n    <symbol id="actFrontDimension" data-name="actFrontDimension" viewBox="0 0 73.91 74.27">\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M36.4.75V39"/>\r\n          <line class="border-thin--transparent--dashed" x1="73.16" y1="39.01" x2="36.4" y2="39.01"/>\r\n          <line class="border-thin--transparent--dashed" x1="36.4" y1="39.01" x2="10.89" y2="62.27"/>\r\n        </g>\r\n        <g>\r\n          <rect class="solid-dark" x="10.89" y="24.76" width="38.26" height="37.51"/>\r\n          <rect class="transparent-medium" x="10.89" y="24.76" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M49.16,24.76l24-24V39l-24,23.26Z"/>\r\n          <polygon class="transparent-medium" points="10.89 24.76 49.16 24.76 73.16 0.75 36.4 0.75 10.89 24.76"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="10.89" y="24.76" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M49.16,24.76l24-24V39l-24,23.26Z"/>\r\n          <polygon class="border-thin" points="10.89 24.76 49.16 24.76 73.16 0.75 36.4 0.75 10.89 24.76"/>\r\n        </g>\r\n      </g>\r\n      <line class="border-thick" x1="46.86" y1="70.77" x2="11.72" y2="70.77"/>\r\n      <polygon class="solid-dark" points="43.35 67.27 46.85 70.77 43.35 74.27 46.33 74.27 49.83 70.77 46.33 67.27 43.35 67.27"/>\r\n      <polygon class="solid-dark" points="16.09 67.27 12.59 70.77 16.09 74.27 13.12 74.27 9.62 70.77 13.12 67.27 16.09 67.27"/>\r\n      <line class="border-thick" x1="3.39" y1="61.02" x2="3.39" y2="26.02"/>\r\n      <polygon class="solid-dark" points="6.78 56.75 3.39 60.14 0 56.75 0 59.63 3.39 63.02 6.78 59.63 6.78 56.75"/>\r\n      <polygon class="solid-dark" points="6.78 30.29 3.39 26.89 0 30.29 0 27.41 3.39 24.02 6.78 27.41 6.78 30.29"/>\r\n    </symbol>\r\n    <symbol id="actFullscreen" data-name="actFullscreen" viewBox="0 0 90 74">\r\n      <path class="solid-dark" d="M84,0H6A6,6,0,0,0,0,6V54a6,6,0,0,0,6,6H34.74l-4.52,9a3.42,3.42,0,0,0,3.07,5H57.71a3.42,3.42,0,0,0,3.07-5l-4.52-9H84a6,6,0,0,0,6-6V6A6,6,0,0,0,84,0ZM83,43a4,4,0,0,1-4,4H11a4,4,0,0,1-4-4V10a4,4,0,0,1,4-4H79a4,4,0,0,1,4,4Z"/>\r\n    </symbol>\r\n    <symbol id="actHelp" data-name="actHelp" viewBox="0 0 90 90">\r\n      <path class="solid-dark" d="M45,7A38,38,0,1,1,7,45,38,38,0,0,1,45,7m0-7A45,45,0,1,0,90,45,45.05,45.05,0,0,0,45,0Zm3.16,54.57V50.41a5.22,5.22,0,0,1,.92-3.26c.62-.9,1-1.35,3.3-3.08,3.4-2.42,5.44-4.28,6.65-6.22a12.8,12.8,0,0,0,2-6.91c0-4-1.67-8.33-4.62-10.73s-6.85-3.74-11.85-3.74A30.33,30.33,0,0,0,29,20.82l2.25,9.49c5-2.71,9-3.63,12.64-3.63a8.29,8.29,0,0,1,4.88,1.24,4,4,0,0,1,1.55,3.6,6.77,6.77,0,0,1-1.15,3.95,16.92,16.92,0,0,1-4.38,4.18,19.43,19.43,0,0,0-5.46,5.49,9.68,9.68,0,0,0-1.69,5.42v4Zm-10.8,17a7.53,7.53,0,0,0,5.51,1.93,7.26,7.26,0,0,0,5.41-2,7.36,7.36,0,0,0,1.95-5.4,7.35,7.35,0,0,0-1.92-5.46,7.42,7.42,0,0,0-5.44-1.9,7.63,7.63,0,0,0-5.55,1.86,7.36,7.36,0,0,0-1.9,5.5A7.34,7.34,0,0,0,37.36,71.6Z"/>\r\n    </symbol>\r\n    <symbol id="actHoloLens" data-name="actHoloLens" viewBox="0 0 90.68 41.33">\r\n      <path class="transparent-medium" d="M45.31,27.92c-3.78,0-12.73,0-36.58-2.92a.61.61,0,0,0-.59.85c3,7.62,8.33,10.39,16.52,13.52,11.25,4.28,15.37.48,16.93-1.24a5.15,5.15,0,0,1,7.44,0c1.56,1.72,5.68,5.52,16.92,1.24,8.19-3.13,13.55-5.9,16.52-13.52a.6.6,0,0,0-.59-.85C58,27.92,49.08,27.92,45.31,27.92Z"/>\r\n      <path class="solid-dark" d="M3,21.16a2.47,2.47,0,0,1-1.58.17A1.53,1.53,0,0,1,.65,20.2a3,3,0,0,0-.1-.49A24.42,24.42,0,0,1,.29,17C.18,15.36.1,13.7.05,12,0,10.93,0,9.82,0,8.71A3.22,3.22,0,0,1,.89,6.18a6.57,6.57,0,0,1,1.78-1c.21-.09,1.64-.57,1.93-.67a2.88,2.88,0,0,0,0,.33,36.36,36.36,0,0,0-.22,5.52,53.94,53.94,0,0,0,.72,8.7c.08.48.3,1.07-.17,1.41a1.65,1.65,0,0,1-.25.15A12,12,0,0,1,3,21.16Zm84.7,0a2.47,2.47,0,0,0,1.58.17A1.53,1.53,0,0,0,90,20.2a3,3,0,0,1,.1-.49,24.42,24.42,0,0,0,.26-2.7c.11-1.65.19-3.31.24-5,0-1.11.08-2.22,0-3.33a3.22,3.22,0,0,0-.85-2.53A6.57,6.57,0,0,0,88,5.2c-.21-.09-1.64-.57-1.93-.67a2.88,2.88,0,0,1,0,.33,36.36,36.36,0,0,1,.22,5.52,53.94,53.94,0,0,1-.72,8.7c-.08.48-.3,1.07.17,1.41a1.65,1.65,0,0,0,.25.15A12,12,0,0,0,87.69,21.16Zm-6.18,1.22a1.6,1.6,0,0,0,1.39-1.23,43.93,43.93,0,0,0,.75-4.48c1-8.47.74-12.61,0-12.88s-4.93-2-17-3S45.31,0,45.31,0,36-.16,24,.83,7.7,3.52,7,3.79,6,8.2,7,16.67c.2,1.64.45,3.13.75,4.48A1.6,1.6,0,0,0,9.1,22.38C32.85,25,41.63,25,45.31,25S57.76,25,81.51,22.38Z"/>\r\n    </symbol>\r\n    <symbol id="actHotSpots" data-name="actHotSpots" viewBox="0 0 76 85.93">\r\n      <polygon class="border-thick" points="20.5 62.87 38.5 52.77 38.44 73.34 20.44 84.43 20.5 62.87"/>\r\n      <polygon class="border-thick" points="1.56 52.02 20.57 41.79 38.5 52.77 20.5 62.87 1.56 52.02"/>\r\n      <polygon class="border-thick" points="20.5 62.86 20.44 84.43 1.5 73.59 1.56 52.02 20.5 62.86"/>\r\n      <circle class="solid-dark" cx="20.09" cy="51.93" r="2"/>\r\n      <circle class="border-thin" cx="20.09" cy="51.93" r="4.03"/>\r\n      <line class="border-thin" x1="20.09" y1="51.93" x2="47.25" y2="17.84"/>\r\n      <rect class="solid-light_border-thick" x="8.5" y="1.5" width="66" height="25"/>\r\n      <rect class="solid-dark" x="53.09" y="36.93" width="22" height="43" rx="11"/>\r\n      <circle class="solid-white" cx="64.09" cy="68.93" r="8"/>\r\n    </symbol>\r\n    <symbol id="actHotSpots-active" data-name="actHotSpots-active" viewBox="0 0 76 85.93">\r\n      <polygon class="border-thick" points="20.5 62.87 38.5 52.77 38.44 73.34 20.44 84.43 20.5 62.87"/>\r\n      <polygon class="border-thick" points="1.56 52.02 20.57 41.79 38.5 52.77 20.5 62.87 1.56 52.02"/>\r\n      <polygon class="border-thick" points="20.5 62.86 20.44 84.43 1.5 73.59 1.56 52.02 20.5 62.86"/>\r\n      <circle class="solid-dark" cx="20.09" cy="51.93" r="2"/>\r\n      <circle class="border-thin" cx="20.09" cy="51.93" r="4.03"/>\r\n      <line class="border-thin" x1="20.09" y1="51.93" x2="47.25" y2="17.84"/>\r\n      <rect class="solid-light_border-thick" x="8.5" y="1.5" width="66" height="25"/>\r\n      <path class="solid-dark" d="M64.09,36.93h0a11,11,0,0,1,11,11v21a11,11,0,0,1-11,11h0a11,11,0,0,1-11-11v-21A11,11,0,0,1,64.09,36.93Z"/>\r\n      <circle class="solid-white" cx="64.09" cy="47.93" r="8"/>\r\n    </symbol>\r\n    <symbol id="actIsometric" data-name="actIsometric" viewBox="0 0 84.5 83.5">\r\n      <g>\r\n        <path class="border-thin--transparent--dashed" d="M34.75.75v51"/>\r\n        <line class="border-thin--transparent--dashed" x1="83.75" y1="51.75" x2="34.75" y2="51.75"/>\r\n        <line class="border-thin--transparent--dashed" x1="34.75" y1="51.75" x2="0.75" y2="82.75"/>\r\n      </g>\r\n      <g>\r\n        <rect class="transparent-medium" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="transparent-medium" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="transparent-medium" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      </g>\r\n      <g>\r\n        <rect class="border-thin" x="0.75" y="32.75" width="51" height="50"/>\r\n        <path class="border-thin" d="M51.75,32.75l32-32v51l-32,31Z"/>\r\n        <polygon class="border-thin" points="0.75 32.75 51.75 32.75 83.75 0.75 34.75 0.75 0.75 32.75"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actLabels" data-name="actLabels" viewBox="0 0 79 69">\r\n      <path class="solid-dark" d="M46,18H31a3,3,0,0,1,0-6H46a3,3,0,0,1,0,6Zm21-3a3,3,0,0,0-3-3H56a3,3,0,0,0,0,6h8A3,3,0,0,0,67,15ZM25,15a3,3,0,0,0-3-3H14a3,3,0,0,0,0,6h8A3,3,0,0,0,25,15ZM49,28a3,3,0,0,0-3-3H31a3,3,0,0,0,0,6H46A3,3,0,0,0,49,28Zm18,0a3,3,0,0,0-3-3H56a3,3,0,0,0,0,6h8A3,3,0,0,0,67,28ZM25,28a3,3,0,0,0-3-3H14a3,3,0,0,0,0,6h8A3,3,0,0,0,25,28ZM49,41a3,3,0,0,0-3-3H31a3,3,0,0,0,0,6H46A3,3,0,0,0,49,41Zm18,0a3,3,0,0,0-3-3H56a3,3,0,0,0,0,6h8A3,3,0,0,0,67,41ZM25,41a3,3,0,0,0-3-3H14a3,3,0,0,0,0,6h8A3,3,0,0,0,25,41ZM49,54a3,3,0,0,0-3-3H31a3,3,0,0,0,0,6H46A3,3,0,0,0,49,54Zm18,0a3,3,0,0,0-3-3H56a3,3,0,0,0,0,6h8A3,3,0,0,0,67,54ZM25,54a3,3,0,0,0-3-3H14a3,3,0,0,0,0,6h8A3,3,0,0,0,25,54Z"/>\r\n      <rect class="border-thick" x="1.5" y="1.5" width="76" height="66"/>\r\n    </symbol>\r\n    <symbol id="actLeapMotion" data-name="actLeapMotion" viewBox="0 0 64.64 92.46">\r\n      <g>\r\n        <polygon class="border-thin" points="24.54 72.02 28.54 73.93 29.2 74.43 29.59 75.52 28.21 76.64 27.07 77.07 22.67 74.79 24.54 72.02"/>\r\n        <path class="border-thin" d="M27.63,64.3c.35,3.5.52,7.71.7,8,.37.51,2.18.19,2.61-.34a.71.71,0,0,0,.13-.24"/>\r\n        <path class="border-thin" d="M21.19,65l1.58.34,1.37-.64s.22-.21.16.73a57.71,57.71,0,0,0,.87,5.83s-.13.85-.7,1a8,8,0,0,1-2.27.42c-.38-.08-1-6.69-1-6.69Z"/>\r\n        <path class="border-thin" d="M44.14,60a8.15,8.15,0,0,1,1.26-.77,2,2,0,0,1,1-.33s.25-.51.56-.38c1.36.56,5.25,20.28,5.25,20.28h0a7.24,7.24,0,0,1-1.45.66,9.42,9.42,0,0,0-1.15.45s-.37-1.18-.37-1.18S44,62.25,44.14,60Z"/>\r\n        <path class="border-thin" d="M39.25,59.27l-5.51,3.24s-.87.73-.54,1.52,3.25,6.9,3.25,6.9h3l-2.68-6s-1-1-.37-1.58a67.27,67.27,0,0,1,6.65-3.51"/>\r\n        <path class="border-thin" d="M29.49,59.11a12.4,12.4,0,0,1,2.76-1.28,16.26,16.26,0,0,1,2.68-.73,30.48,30.48,0,0,1,5-.26c4.79.14,4.42.69,5.69.57a1.5,1.5,0,0,1,.77.48.66.66,0,0,1-.06,1c-.5.55-.18,1.68-.82,1.58,0,0-4.17-1.41-7.14-1.14a25.7,25.7,0,0,0-5.19,1.52c-1.44.57-2.5,1.38-3.64,1.07a1.49,1.49,0,0,1-1-.75,1.23,1.23,0,0,1,.06-.89A2.2,2.2,0,0,1,29.49,59.11Z"/>\r\n        <path class="border-thin" d="M22.8,62.25c-1.49.19-.78,1.5-.7,2s.84,1,.84,1l.92-.54a31.31,31.31,0,0,1,3-1.23h0l-.59-1.2h0c-.12-.58-.13-.63-.19-.69C25.69,61.2,24.23,61.61,22.8,62.25Z"/>\r\n        <path class="border-thin" d="M7.17,68.53l9.09,6.54s5.81,3.92,6.53,4.36S31,83.6,31,83.6s8.34,4.62,9.48,4.81.92,2.28.92,2.28l-1.4,1-3.28-1.33s-11-5.2-12.24-6-12.37-8-12.37-8L5.48,71Z"/>\r\n        <path class="border-thin" d="M3.06,53.17C3.44,52,6.56,51,7.94,50.61a9.92,9.92,0,0,1,3.23-.38,44.12,44.12,0,0,1,5.53,1,27.5,27.5,0,0,1,5.84,3.16A50.13,50.13,0,0,1,29.28,60a29.66,29.66,0,0,1,2.59,5c4.4,10.14,9.54,20.8,10.05,22.44-.1.08-.89-.35-1.55,0a20.78,20.78,0,0,0-2,1.59c-.57-1.46-2.6-6.33-2.6-6.33s-4.78-11.42-8.43-18.68a23.29,23.29,0,0,0-2.75-3.36,34.59,34.59,0,0,0-9-5.83c-2.19-1-3.54-1.44-4.93-1.24a6.45,6.45,0,0,0-2.66.76,11.79,11.79,0,0,1-3.17,1.43A2,2,0,0,1,3.35,55,2.08,2.08,0,0,1,3.06,53.17Z"/>\r\n        <polygon class="border-thin" points="50.39 79.91 40.92 87.87 40.92 88.89 41.73 90.15 41.92 90.66 46.72 87.18 52.54 82.44 53.3 81.3 50.39 79.91"/>\r\n      </g>\r\n      <g>\r\n        <path class="solid-dark" d="M30.8,72.9l.14-.13a1.44,1.44,0,0,0,.62-.87.66.66,0,0,0-.17-.46,2.53,2.53,0,0,0-2-.58,2.17,2.17,0,0,0-1.36.7A2,2,0,0,0,28,74.08a1.86,1.86,0,0,0,1.08.49,2.25,2.25,0,0,1,.41.16,2.65,2.65,0,0,0,1,.28,1,1,0,0,0,.7-.27,1.25,1.25,0,0,0-.22-1.65A.94.94,0,0,1,30.8,72.9Z"/>\r\n        <path class="solid-dark" d="M24.8,64.44c-.15-.47-.65-.33-.86-.27s-.57.15-.76,0a1.06,1.06,0,0,1-.26-1.07,1.15,1.15,0,0,1,.25-.33.83.83,0,0,0,.31-.73c0-.22-.2-.54-.77-.75a2.15,2.15,0,0,0-2.2.53,3,3,0,0,0-.72,3.08,2.45,2.45,0,0,0,2.57,1.53h.07a2.5,2.5,0,0,0,1.42-.31A1.55,1.55,0,0,0,24.8,64.44Z"/>\r\n        <path class="solid-dark" d="M25.46,71a2.82,2.82,0,0,0-4.13,3.42A2.78,2.78,0,0,0,23,76.17a2.54,2.54,0,0,0,.64.08,1.41,1.41,0,0,0,1-.33.41.41,0,0,0,.09-.42l0-.08a2.93,2.93,0,0,1,.57-2,2,2,0,0,1,.63-.44c.28-.13.62-.3.66-.72C26.62,71.61,25.74,71.11,25.46,71Z"/>\r\n        <path class="solid-dark" d="M47.31,58a2.64,2.64,0,0,0-2.18-1.28.89.89,0,0,0-.84.29c-.18.28,0,.54.15.77a3.67,3.67,0,0,1,.5,1.05c.13.36-.4.69-.43.71-.89.66-1,.86-.95,1.11.1.46.79.53,1.21.53h.17A2.62,2.62,0,0,0,47.25,60,2.2,2.2,0,0,0,47.31,58Z"/>\r\n        <path class="solid-dark" d="M9.86,68.32c-.27-1.13-2-1.43-3-1.43h0c-1.59,0-2.72.53-3.18,1.48A3.11,3.11,0,0,0,4,71.1a2.71,2.71,0,0,0,1.71,1.65,2.09,2.09,0,0,0,.51.06,1.47,1.47,0,0,0,1.11-.42,1.35,1.35,0,0,0,.27-1.17c0-.29-.05-.48.07-.63s.24-.15.51-.2a1.9,1.9,0,0,0,1.16-.52A1.77,1.77,0,0,0,9.86,68.32Zm-3-1Z"/>\r\n        <path class="solid-dark" d="M15.21,72.47a3,3,0,0,0-2.06-.85,3.58,3.58,0,0,0-3.07,1.46,3,3,0,0,0-.53,2.7,3.53,3.53,0,0,0,2.57,2.28,2.78,2.78,0,0,0,.72.12,1.23,1.23,0,0,0,.63-.16,1.61,1.61,0,0,0,.68-1.34,1.81,1.81,0,0,1,.47-1.17,1.11,1.11,0,0,1,.59-.28A1,1,0,0,0,16,74.6C16.35,73.73,15.83,73.07,15.21,72.47Z"/>\r\n        <path class="solid-dark" d="M26.15,79.29a3,3,0,0,0-2.24-1.08,3.11,3.11,0,0,0-2,.8,4.54,4.54,0,0,0-1,2.13A3.87,3.87,0,0,0,20.57,83,2.92,2.92,0,0,0,23.36,85h.05a2.11,2.11,0,0,0,1.74-.72,1.66,1.66,0,0,0,.26-1.23,1.16,1.16,0,0,1,.14-.82,1.08,1.08,0,0,1,.51-.39,1.18,1.18,0,0,0,.73-.7C27.06,80.36,26.37,79.55,26.15,79.29Z"/>\r\n        <path class="solid-dark" d="M54.58,80.61a2.81,2.81,0,0,0-1.52-2.26A4.07,4.07,0,0,0,49,79.88h0c-.1.19-.38.69-.08,1.06a.76.76,0,0,0,.77.19,1.3,1.3,0,0,1,.52,0A1.43,1.43,0,0,1,51,82a1.94,1.94,0,0,1,.12.92,1,1,0,0,0,.31,1A.93.93,0,0,0,52,84a2.39,2.39,0,0,0,.93-.24,2.65,2.65,0,0,0,1.14-1A3.12,3.12,0,0,0,54.58,80.61Z"/>\r\n        <path class="solid-dark" d="M37.37,58a2.63,2.63,0,0,0-1.19-1.57,3.27,3.27,0,0,0-2.15-.3c-.32,0-1.93.31-1.91,1.13,0,.39.35.53.62.64a2.21,2.21,0,0,1,.78.49,1.64,1.64,0,0,1,.45,1,1.18,1.18,0,0,1-.17.68.8.8,0,0,0,0,.86,1.05,1.05,0,0,0,.79.35h.15a3.06,3.06,0,0,0,2.11-.87A2.56,2.56,0,0,0,37.37,58Z"/>\r\n        <path class="solid-dark" d="M41.62,56.81a1.72,1.72,0,0,0-1-1,1.47,1.47,0,0,0-1.28.24.89.89,0,0,0-.4.64.85.85,0,0,0,.45.75c.19.14.31.23.34.39a1.26,1.26,0,0,1-.21.84l-.09.11a.78.78,0,0,0-.24.63.88.88,0,0,0,.73.63l.19,0a1.85,1.85,0,0,0,1.43-1A2.58,2.58,0,0,0,41.62,56.81Z"/>\r\n        <circle class="solid-dark" cx="37.87" cy="71.46" r="2.25"/>\r\n        <path class="solid-dark" d="M29.22,73.25a2.87,2.87,0,1,0,2.86,2.86A2.87,2.87,0,0,0,29.22,73.25Z"/>\r\n        <path class="solid-dark" d="M7.29,54.92c-.14-.34-.49-.31-.73-.29a1.88,1.88,0,0,1-.88-.08,2,2,0,0,1-1.16-1.23,2,2,0,0,1,0-.93c0-.27.1-.63-.22-.83a.74.74,0,0,0-.69,0,2.55,2.55,0,0,0-1.42,1.53,2.66,2.66,0,0,0,.55,2.38A3.12,3.12,0,0,0,5,56.58h.2a2.89,2.89,0,0,0,2-1.11A.63.63,0,0,0,7.29,54.92Z"/>\r\n        <path class="solid-dark" d="M10,50.66c.24-.11.58-.26.59-.64,0-.76-1.44-1-1.6-1.05a2.87,2.87,0,0,0-2.74.71,2.84,2.84,0,0,0-.42,2.83,3.16,3.16,0,0,0,1.56,1.91,2.86,2.86,0,0,0,1.27.29,1.63,1.63,0,0,0,1.4-.55L10.1,54,10,53.8a.76.76,0,0,0-.49-.4c-.36-.16-.64-.31-.73-.67a1.89,1.89,0,0,1,.43-1.61A1.91,1.91,0,0,1,10,50.66Z"/>\r\n        <path class="solid-dark" d="M18.6,51.09a3.64,3.64,0,0,0-2-1.73,3.06,3.06,0,0,0-3.18.57,2.94,2.94,0,0,0-.74,1.62,3.57,3.57,0,0,0,.53,2.87,3.33,3.33,0,0,0,2.3,1.32h.05a.79.79,0,0,0,.65-.25.74.74,0,0,0,0-.81,1.33,1.33,0,0,1-.13-.71,2.27,2.27,0,0,1,1.12-1.35,2.31,2.31,0,0,1,.73-.26.83.83,0,0,0,.68-.44A1,1,0,0,0,18.6,51.09Z"/>\r\n        <path class="solid-dark" d="M30.84,60.68a3.36,3.36,0,0,0-1.79-2.23,3,3,0,0,0-2.31-.13,3.27,3.27,0,0,0-1.88,2.5A3.49,3.49,0,0,0,25.22,63,2.71,2.71,0,0,0,27,64.47a1.85,1.85,0,0,0,.46,0,3.48,3.48,0,0,0,1-.18,3.34,3.34,0,0,0,1.9-1.14A3.12,3.12,0,0,0,30.84,60.68Z"/>\r\n        <path class="solid-dark" d="M43.5,88.4a3,3,0,0,0-1.26-2,2.71,2.71,0,0,0-2.49-.38,1.66,1.66,0,0,0-.8,1,4.41,4.41,0,0,1-.79,1.23,5.61,5.61,0,0,1-.51.5,1.27,1.27,0,0,0-.51.73,2.64,2.64,0,0,0,1.27,2.4,3.34,3.34,0,0,0,3.06.38,3.26,3.26,0,0,0,2-3.85Z"/>\r\n        <circle class="solid-dark" cx="38" cy="66.7" r="4.8"/>\r\n      </g>\r\n      <g>\r\n        <path class="solid-dark" d="M64.64,46.68a1.84,1.84,0,0,0-.28-.21,15.36,15.36,0,0,1-2.1-1.74c-.71-.7-1.5-1.67-2.13-2.44-.43-.53-.81-1-1-1.2s-1.48-1.15-2.51-1.89c-.77-.55-1.51-1.09-1.91-1.4a7.33,7.33,0,0,1-2.28-2.88,9.4,9.4,0,0,0-1.76-2.41,7.09,7.09,0,0,1-1.55-2.14,8.87,8.87,0,0,1-.81-2.45,14.79,14.79,0,0,0-.85-2.81,10.58,10.58,0,0,0-.82-1.63c-.24-.42-.54-.94-1-1.9C43,16.45,41.48,13.08,41.47,13a2.69,2.69,0,0,0-1.31-1.52,1.33,1.33,0,0,0-.69-.07,4.52,4.52,0,0,1-1,0,3.83,3.83,0,0,1-1.84-.93,5,5,0,0,0-.71-.5c-.48-.25-.74-.23-1.89-.06-.52.07-1.18.17-2.09.25a63.27,63.27,0,0,1-6.42.37c-.49-.1-4.95-3.85-7.11-6.15a3.81,3.81,0,0,0-1.16-.93,3.71,3.71,0,0,0-1.85-.29h-.48a4.29,4.29,0,0,1-2-.52A27.19,27.19,0,0,0,9.63,1.43,13.71,13.71,0,0,0,6.46.63a7,7,0,0,0-1.17,0A4.64,4.64,0,0,1,3.46.54L3.14.45A11.29,11.29,0,0,0,1.59.07,1.66,1.66,0,0,0,.53.09,1.1,1.1,0,0,0,.07.6,1.67,1.67,0,0,0,.43,2.11,3.21,3.21,0,0,0,1.85,3.17c1.83.71,3.6,1.31,4.65,1.67l.7.24c.44.16,2.25,1.07,6.22,3.08A6.26,6.26,0,0,1,14.77,9a6.87,6.87,0,0,1,1.79,2.5l.12.27A3.69,3.69,0,0,0,18,13.32a8.48,8.48,0,0,1,1.91,2A10,10,0,0,1,21.25,18a9.53,9.53,0,0,0,1.56,2.82c.2.26.36.45.49.6A3.1,3.1,0,0,1,24,22.5a3.91,3.91,0,0,1-.35,2.86,19.5,19.5,0,0,0-.74,2.24c-.22.82-.34,1.5-.44,2-.2,1.12-.33,1.87-1.13,2.26a3.08,3.08,0,0,1-2.45-.19A7.9,7.9,0,0,1,16,29.78l-.1-.1c-1.37-1.29-2.81-2.41-5.66-4.64a12.55,12.55,0,0,0-2.12-1.39A5.54,5.54,0,0,0,5,22.81a4,4,0,0,0-1.88.75,1.83,1.83,0,0,0-.36,1.22c0,.16.1.64,2.54,2.34.6.42,1,.66,1.25.83a3.75,3.75,0,0,1,1,.76,5.42,5.42,0,0,1,1.12,1.88,8.2,8.2,0,0,0,.47,1c.38.71.71,1.05,2.71,2.82,3.49,3.1,4.53,3.89,5.15,4.36A13,13,0,0,1,18.37,40l.33.33a6.18,6.18,0,0,0,2.69,1.89,3.43,3.43,0,0,0,1,.14,8,8,0,0,1,1.57.19,18.21,18.21,0,0,1,3.6,1.26c1.1.47,1.63.75,2,.93a4.17,4.17,0,0,0,1,.43,7.54,7.54,0,0,0,1.71.28,6.78,6.78,0,0,1,1.82.34,8.47,8.47,0,0,1,2.68,1.53l.08.07c.84.67,5.66,3.57,8,3.92,8,.43,17.31-2.24,19.42-4.18A1.07,1.07,0,0,0,64.64,46.68Z"/>\r\n        <path class="solid-dark" d="M21.93,27.34A21.8,21.8,0,0,1,22.71,25c.4-1.05.55-1.51.33-2.19a1.89,1.89,0,0,0-.51-.79L22,21.38a10.71,10.71,0,0,1-1.17-1.82,9.62,9.62,0,0,0-1.66,1.55C17.83,22.63,17.27,24,17.53,25a6.14,6.14,0,0,0,.34.8,13,13,0,0,0,1.57,2.45l.31.4c.62.82,1.09,1.45,1.45,2a6.77,6.77,0,0,0,.28-1.19C21.58,28.9,21.7,28.21,21.93,27.34Z"/>\r\n        <path class="solid-dark" d="M16.74,26.48a4,4,0,0,1,.38-4.79,25.4,25.4,0,0,1,3.26-3.24,13.21,13.21,0,0,0-1.32-2.57,7.58,7.58,0,0,0-1.71-1.77,4.63,4.63,0,0,1-1.57-1.88L15.65,12c0-.09-.09-.18-.14-.27a5.44,5.44,0,0,0-.83.34,7.84,7.84,0,0,0-1.6,3.22,19.16,19.16,0,0,0-.52,3.33c-.08.69-.22,1.92-.31,3.61-.05,1-.07,1.66-.07,2.17,0,.35,0,.63,0,.93,2,1.59,3.26,2.57,4.43,3.68l.09.09a10.14,10.14,0,0,0,1.4,1.13c.74.34,1-.39.3-1.18A15.45,15.45,0,0,1,16.74,26.48Z"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actLeftDimension" data-name="actLeftDimension" viewBox="0 0 73.91 68.96">\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M36.4,6.69V45"/>\r\n          <line class="border-thin--transparent--dashed" x1="73.16" y1="44.95" x2="36.4" y2="44.95"/>\r\n          <line class="border-thin--transparent--dashed" x1="36.4" y1="44.95" x2="10.89" y2="68.21"/>\r\n        </g>\r\n        <g>\r\n          <polygon class="solid-dark" points="10.89 68.21 36.4 44.95 36.4 6.68 10.89 30.69 10.89 68.21"/>\r\n          <rect class="transparent-medium" x="10.89" y="30.69" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M49.16,30.69l24-24V45l-24,23.26Z"/>\r\n          <polygon class="transparent-medium" points="10.89 30.69 49.16 30.69 73.16 6.68 36.4 6.68 10.89 30.69"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="10.89" y="30.69" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M49.16,30.69l24-24V45l-24,23.26Z"/>\r\n          <polygon class="border-thin" points="10.89 30.69 49.16 30.69 73.16 6.68 36.4 6.68 10.89 30.69"/>\r\n        </g>\r\n      </g>\r\n      <line class="border-thick" x1="3.39" y1="66.95" x2="3.39" y2="31.95"/>\r\n      <polygon class="solid-dark" points="6.78 62.68 3.39 66.07 0 62.68 0 65.56 3.39 68.95 6.78 65.56 6.78 62.68"/>\r\n      <polygon class="solid-dark" points="6.78 36.22 3.39 32.83 0 36.22 0 33.34 3.39 29.95 6.78 33.34 6.78 36.22"/>\r\n      <line class="border-thick" x1="4.15" y1="22.93" x2="26.01" y2="1.06"/>\r\n      <polygon class="solid-dark" points="9.61 22.21 4.89 22.21 4.89 17.5 2.89 19.5 2.89 24.21 7.61 24.21 9.61 22.21"/>\r\n      <polygon class="solid-dark" points="24.89 6.92 24.89 2.21 20.18 2.21 22.18 0.21 26.89 0.21 26.89 4.92 24.89 6.92"/>\r\n    </symbol>\r\n    <symbol id="actRightDimension" data-name="actRightDimension" viewBox="0 0 76.75 67.43">\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M26.26.86V39.13"/>\r\n          <line class="border-thin--transparent--dashed" x1="63.02" y1="39.13" x2="26.26" y2="39.13"/>\r\n          <line class="border-thin--transparent--dashed" x1="26.26" y1="39.13" x2="0.75" y2="62.39"/>\r\n        </g>\r\n        <g>\r\n          <polygon class="solid-dark" points="39.01 62.39 63.02 39.13 63.02 0.86 39.01 24.87 39.01 62.39"/>\r\n          <rect class="transparent-medium" x="0.75" y="24.87" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M39,24.87l24-24V39.13L39,62.39Z"/>\r\n          <polygon class="transparent-medium" points="0.75 24.87 39.01 24.87 63.02 0.86 26.26 0.86 0.75 24.87"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="0.75" y="24.87" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M39,24.87l24-24V39.13L39,62.39Z"/>\r\n          <polygon class="border-thin" points="0.75 24.87 39.01 24.87 63.02 0.86 26.26 0.86 0.75 24.87"/>\r\n        </g>\r\n      </g>\r\n      <g>\r\n        <line class="border-thick" x1="73.25" y1="37.39" x2="73.25" y2="2.39"/>\r\n        <polygon class="solid-dark" points="76.75 32.73 73.25 36.23 69.75 32.73 69.75 35.7 73.25 39.2 76.75 35.7 76.75 32.73"/>\r\n        <polygon class="solid-dark" points="76.75 6.47 73.25 2.97 69.75 6.47 69.75 3.5 73.25 0 76.75 3.5 76.75 6.47"/>\r\n      </g>\r\n      <g>\r\n        <line class="border-thick" x1="49.76" y1="66.37" x2="71.63" y2="44.5"/>\r\n        <polygon class="solid-dark" points="55.47 65.39 50.75 65.39 50.75 60.67 48.75 62.67 48.75 67.39 53.46 67.39 55.47 65.39"/>\r\n        <polygon class="solid-dark" points="70.75 50.1 70.75 45.39 66.04 45.39 68.04 43.39 72.75 43.39 72.75 48.1 70.75 50.1"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actPseudoFullscreen" data-name="actPseudoFullscreen" viewBox="0 0 94 75">\r\n      <path class="solid-dark" d="M76,18V57H18V18H76m6-6H12V63H82V12ZM6,6H18V0H0V18H6ZM18,69H6V57H0V75H18ZM94,57H88V69H76v6H94ZM94,0H76V6H88V18h6Z"/>\r\n    </symbol>\r\n    <symbol id="actSaveCameraParams" data-name="actSaveCameraParams" viewBox="0 0 88.06 84.53">\r\n      <path class="solid-dark" d="M42.08,16.66l-8.35,5.69a5.62,5.62,0,0,0-2-4.22,9.79,9.79,0,1,0-11.9-1.26l-5.14.05A8.37,8.37,0,0,0,8.33,3,8.42,8.42,0,0,0,0,11.46a8.33,8.33,0,0,0,3,6.29A5.58,5.58,0,0,0,.11,22.67l.1,11.2A5.8,5.8,0,0,0,6,39.53H28.25a5.91,5.91,0,0,0,5.58-6l8.46,5.53A2.73,2.73,0,0,0,45,36.24V19.5A2.92,2.92,0,0,0,42.08,16.66ZM8.46,17A5.6,5.6,0,1,1,14,11.33,5.6,5.6,0,0,1,8.46,17Zm18.21-.15a7,7,0,1,1,6.95-7.09A7,7,0,0,1,26.67,16.83Z"/>\r\n      <path class="solid-dark" d="M48.66,24.89,47.83,21l7.82-1.67.84,3.92Zm15.65-3.33-.83-3.91L71.3,16l.84,3.91ZM80,18.23l-.83-3.92,7.77-1.65.84,3.91Z"/>\r\n      <path class="solid-dark" d="M87.26,41.32l-7.84-1.6.8-3.92,7.84,1.6Zm-15.68-3.2-7.84-1.59.8-3.92,7.84,1.59ZM55.91,34.93l-7.84-1.6.8-3.92L56.7,31Z"/>\r\n      <path class="solid-dark" d="M51,48.53h0v14H31v-14H26.23A1.25,1.25,0,0,0,25,49.78v33.5a1.25,1.25,0,0,0,1.25,1.25h33.5A1.25,1.25,0,0,0,61,83.28V59.05a1.25,1.25,0,0,0-.36-.88Z"/>\r\n      <rect class="solid-dark" x="42.98" y="48.53" width="5" height="11" rx="0.53"/>\r\n    </symbol>\r\n    <symbol id="actScreenShot" data-name="actScreenShot" viewBox="0 0 83 71">\r\n      <path class="solid-dark" d="M72.63,71H10.38A10.54,10.54,0,0,1,0,60.36V22.94C0,17.18,4.61,12,10.24,12h5.12c0-5.81,4.55-12,10.24-12H56.31c5.63,0,10.24,6.19,10.24,12h6.08C78.33,12,83,17.27,83,23.12V60.36A10.54,10.54,0,0,1,72.63,71ZM41.15,17.6C29.59,17.6,21.29,27.15,21.29,39s8.3,21.39,19.86,21.39S60.78,50.82,60.78,39,52.72,17.6,41.15,17.6Zm0,32.63c-5.65,0-10.1-5.62-10.1-11.41s4.45-11.16,10.1-11.16S51,33,51,38.82,46.81,50.23,41.15,50.23Z"/>\r\n    </symbol>\r\n    <symbol id="actTeleport" data-name="actTeleport" viewBox="0 0 83.83 81.75">\r\n      <path class="solid-dark" d="M48.13,18H35.87A5.75,5.75,0,0,0,30,23.63V43.1a5.73,5.73,0,0,0,5,5.58v.11l1.77,15.7c0,1.94,1.94,3.51,4.33,3.51h1.76c2.39,0,4.33-1.57,4.33-3.51L49,48.79v-.11a5.73,5.73,0,0,0,5-5.58V23.63A5.75,5.75,0,0,0,48.13,18Z"/>\r\n      <circle class="solid-dark" cx="41.96" cy="7.96" r="7.96"/>\r\n      <path class="solid-dark" d="M81.81,51.4a20.32,20.32,0,0,0-4.42-5.12,36.44,36.44,0,0,0-11.17-6.09A58.24,58.24,0,0,0,58,37.93v3.49a55,55,0,0,1,6.85,2.28,33.25,33.25,0,0,1,9.58,5.94c2.68,2.44,4.52,5.57,4.4,8.67s-2,6-4.7,8.33A31.83,31.83,0,0,1,64.5,72a56.76,56.76,0,0,1-11.07,2.85,71.37,71.37,0,0,1-11.51.9,71.58,71.58,0,0,1-11.52-.9A56.67,56.67,0,0,1,19.34,72,32,32,0,0,1,9.7,66.64C7,64.36,5,61.4,5,58.31s1.73-6.23,4.41-8.67A33.06,33.06,0,0,1,19,43.7a54.47,54.47,0,0,1,7-2.33V37.9a57.92,57.92,0,0,0-8.39,2.29A36.4,36.4,0,0,0,6.45,46.28,20.16,20.16,0,0,0,2,51.4a13.54,13.54,0,0,0-.19,13.92,20.68,20.68,0,0,0,4.32,5.35,37.58,37.58,0,0,0,11.11,6.67,67.72,67.72,0,0,0,24.66,4.41,67.71,67.71,0,0,0,24.65-4.41,37.58,37.58,0,0,0,11.11-6.67A20.68,20.68,0,0,0,82,65.32a14.28,14.28,0,0,0,1.83-7A14.1,14.1,0,0,0,81.81,51.4Z"/>\r\n    </symbol>\r\n    <symbol id="state_error" data-name="state_error" viewBox="0 0 65.67 65.67">\r\n      <path class="solid-red" d="M64,48.43a5.32,5.32,0,0,1,1.64,3.88,5.4,5.4,0,0,1-1.64,4L56.27,64a5.4,5.4,0,0,1-4,1.64A5.32,5.32,0,0,1,48.43,64L32.84,48.43,17.24,64a5.33,5.33,0,0,1-3.88,1.64,5.44,5.44,0,0,1-4-1.64L1.64,56.27a5.4,5.4,0,0,1-1.64-4,5.32,5.32,0,0,1,1.64-3.88l15.6-15.59L1.64,17.23A5.29,5.29,0,0,1,0,13.36a5.38,5.38,0,0,1,1.64-4L9.39,1.64a5.44,5.44,0,0,1,4-1.64,5.33,5.33,0,0,1,3.88,1.64l15.6,15.59L48.43,1.64A5.32,5.32,0,0,1,52.31,0a5.4,5.4,0,0,1,4,1.64L64,9.4a5.38,5.38,0,0,1,1.64,4A5.29,5.29,0,0,1,64,17.23L48.43,32.84Z"/>\r\n    </symbol>\r\n    <symbol id="state_success" data-name="state_success" viewBox="0 0 85.37 65.43">\r\n      <path class="solid-green" d="M83.83,9,76.34,1.54a5.32,5.32,0,0,0-7.49,0L32.71,37.73,16.52,21.48a5.08,5.08,0,0,0-3.74-1.54A5.1,5.1,0,0,0,9,21.48L1.54,29a5.32,5.32,0,0,0,0,7.49L21.48,56.4,29,63.89a5.32,5.32,0,0,0,7.49,0L44,56.4,83.83,16.52a5.08,5.08,0,0,0,1.54-3.74A5.1,5.1,0,0,0,83.83,9Zm0,0"/>\r\n    </symbol>\r\n    <symbol id="actShadeLine" data-name="actShadeLine" viewBox="0 0 88 83.17">\r\n      <path class="gradient-right-to-left_border-thick" d="M86.5,18.17H1.5V65.31c0,9,20,16.36,43.72,16.36S86.5,74.35,86.5,65.31c0,0,0-.1,0-.14h0Z"/>\r\n      <path class="gradient-left-to-right_border-thick" d="M86.5,17.81c0,9-17.53,16.31-41.28,16.31S1.5,26.82,1.5,17.81,21.47,1.5,45.22,1.5,86.5,8.8,86.5,17.81Z"/>\r\n    </symbol>\r\n    <symbol id="actShade" data-name="actShade" viewBox="0 0 85 80.17">\r\n      <path class="gradient-right-to-left" d="M85,16.67H0V63.81c0,9,20,16.36,43.72,16.36S85,72.84,85,63.81c0-.05,0-.1,0-.14h0Z"/>\r\n      <path class="gradient-left-to-right" d="M85,16.31c0,9-17.53,16.31-41.28,16.31S0,25.32,0,16.31,20,0,43.72,0,85,7.3,85,16.31Z"/>\r\n    </symbol>\r\n    <symbol id="actToggleCameraMode" data-name="actToggleCameraMode" viewBox="0 0 80.51 80.68">\r\n      <line class="border-thick--dashed" x1="79.28" y1="54.77" x2="39.74" y2="32.33"/>\r\n      <polygon class="solid-medium" points="1.01 22.27 1.01 54.65 40.01 32.38 40.01 0 1.01 22.27"/>\r\n      <polygon class="transparent-dark" points="23.01 36.07 23.01 68.45 62.01 46.18 62.01 13.79 23.01 36.07"/>\r\n      <polygon class="border-thick--dashed" points="40.01 46.72 40.01 78.1 79.01 55.83 79.01 24.45 40.01 46.72"/>\r\n      <line class="border-thick--dashed" x1="40.28" y1="44.77" x2="0.74" y2="22.33"/>\r\n      <line class="border-thick--dashed" x1="78.28" y1="23.77" x2="38.74" y2="1.33"/>\r\n      <line class="border-thick--dashed" x1="40.28" y1="77.77" x2="0.74" y2="55.33"/>\r\n    </symbol>\r\n    <symbol id="actToggleCameraMode-active" data-name="actToggleCameraMode-active" viewBox="0 0 64.74 64.47">\r\n      <line class="border-thick--dashed" x1="38.74" y1="32.54" x2="62.74" y2="62.98"/>\r\n      <polygon class="solid-medium" points="0.47 22.49 0.47 54.87 39.47 32.6 39.47 0.22 0.47 22.49"/>\r\n      <polygon class="transparent-dark" points="27.47 40.01 27.47 58.28 49.47 45.71 49.47 27.45 27.47 40.01"/>\r\n      <line class="border-thick--dashed" x1="62.74" y1="62.98" x2="38.74" y2="0.54"/>\r\n      <line class="border-thick--dashed" x1="1.39" y1="22.64" x2="63.93" y2="63.08"/>\r\n      <line class="border-thick--dashed" x1="62.74" y1="62.98" x2="0.2" y2="54.55"/>\r\n    </symbol>\r\n    <symbol id="actToggleCenterLines" data-name="actToggleCenterLines" viewBox="0 0 90.55 90.55">\r\n      <circle class="border-thick" cx="45.28" cy="45.28" r="43.78"/>\r\n      <line class="border-thick" x1="44.78" y1="1.5" x2="44.78" y2="36.5"/>\r\n      <line class="border-thick" x1="44.78" y1="54.5" x2="44.78" y2="88.5"/>\r\n      <circle class="solid-dark" cx="44.8" cy="45.5" r="4.48"/>\r\n      <line class="border-thick" x1="1.28" y1="46" x2="36.28" y2="46"/>\r\n      <line class="border-thick" x1="54.28" y1="46" x2="88.28" y2="46"/>\r\n    </symbol>\r\n    <symbol id="actToggleDashedLines" data-name="actToggleDashedLines" viewBox="0 0 88 83.17">\r\n      <path class="border-thick--dashed" d="M1.5,27.17V65.31c0,9,20,16.36,43.72,16.36S86.5,74.34,86.5,65.31c0,0,0-.1,0-.14h0v-39"/>\r\n      <path class="border-thick--dashed" d="M86.5,17.81c0,9-17.53,16.31-41.28,16.31S1.5,26.82,1.5,17.81,21.47,1.5,45.22,1.5,86.5,8.8,86.5,17.81Z"/>\r\n      <path class="border-thick--dashed" d="M6.5,60.56c7.38-5.22,22.13-8.78,38.72-8.78,17.81,0,32.13,4.1,38.17,10"/>\r\n    </symbol>\r\n    <symbol id="actToggleDimLines" data-name="actToggleDimLines" viewBox="0 0 89 90">\r\n      <path class="border-thick" d="M84.5,51V15.76c0,6.49-12.71,11.76-29.76,11.76S22.5,22.25,22.5,15.76V51"/>\r\n      <path class="border-thick" d="M84.41,15.76c0,6.49-12.59,11.76-29.65,11.76S22.65,22.25,22.65,15.76,37.71,4,54.76,4,84.41,9.26,84.41,15.76Z"/>\r\n      <path class="border-thick" d="M84.5,50.36c0,6.5-12.71,11.76-29.76,11.76S22.5,56.86,22.5,50.36"/>\r\n      <path class="border-thick" d="M84.41,50.36c0,6.5-12.59,11.76-29.65,11.76S22.65,56.86,22.65,50.36,37.71,38.6,54.76,38.6,84.41,43.87,84.41,50.36Z"/>\r\n      <line class="border-thick" x1="11.5" x2="11.5" y2="90"/>\r\n      <line class="border-thick" x1="12" y1="5.5" y2="5.5"/>\r\n      <line class="border-thick" x1="12" y1="29.5" y2="29.5"/>\r\n      <line class="border-thick" x1="12" y1="53.5" y2="53.5"/>\r\n      <line class="border-thick" x1="35.5" y1="78" x2="35.5" y2="90"/>\r\n      <line class="border-thick" x1="59.5" y1="77" x2="59.5" y2="89"/>\r\n      <line class="border-thick" x1="83.5" y1="77" x2="83.5" y2="89"/>\r\n      <line class="border-thick" x1="89" y1="77.5" y2="77.5"/>\r\n      <line class="border-thick" x1="12" y1="61.5" x2="5" y2="61.5"/>\r\n      <line class="border-thick" x1="12" y1="69.5" x2="5" y2="69.5"/>\r\n      <line class="border-thick" x1="12" y1="37.5" x2="5" y2="37.5"/>\r\n      <line class="border-thick" x1="12" y1="45.5" x2="5" y2="45.5"/>\r\n      <line class="border-thick" x1="12" y1="13.5" x2="5" y2="13.5"/>\r\n      <line class="border-thick" x1="12" y1="21.5" x2="5" y2="21.5"/>\r\n      <line class="border-thick" x1="67.5" y1="77" x2="67.5" y2="84"/>\r\n      <line class="border-thick" x1="75.5" y1="77" x2="75.5" y2="84"/>\r\n      <line class="border-thick" x1="43.5" y1="77" x2="43.5" y2="84"/>\r\n      <line class="border-thick" x1="51.5" y1="77" x2="51.5" y2="84"/>\r\n      <line class="border-thick" x1="19.5" y1="77" x2="19.5" y2="84"/>\r\n      <line class="border-thick" x1="27.5" y1="77" x2="27.5" y2="84"/>\r\n    </symbol>\r\n    <symbol id="actToggleRotationMode" data-name="actToggleRotationMode" viewBox="0 0 87.52 90.6">\r\n      <polygon class="border-thick" points="43.85 68.9 61.76 58.75 61.7 78.95 43.79 89.1 43.85 68.9"/>\r\n      <polygon class="border-thick" points="25.82 58.75 43.73 48.6 61.76 58.75 43.85 68.9 25.82 58.75"/>\r\n      <polygon class="border-thick" points="43.85 68.9 43.79 89.1 25.76 78.95 25.82 58.75 43.85 68.9"/>\r\n      <path class="border-thick" d="M33.27,7.21C17,9,1.5,16,1.5,24.21c0,9.66,19.37,17.5,42.77,17.5S86,33.87,86,24.21C86,16,72.37,9,52.82,7.21"/>\r\n      <polygon class="solid-dark" points="54.76 14 40.76 7 54.76 0 54.76 14"/>\r\n    </symbol>\r\n    <symbol id="actToggleRotationMode-active" data-name="actToggleRotationMode-active" viewBox="0 0 87.52 88.36">\r\n      <path class="solid-dark" d="M63.37,66,55,71.55a5.58,5.58,0,0,0-2-4.23A9.79,9.79,0,1,0,41.11,66H36a8.3,8.3,0,0,0,2.18-5.61,8.41,8.41,0,1,0-13.89,6.32,5.6,5.6,0,0,0-2.92,4.89V82.76A5.61,5.61,0,0,0,27,88.36H49.36a5.6,5.6,0,0,0,5.6-5.6l8.41,5.6a2.8,2.8,0,0,0,2.8-2.8V68.75A2.8,2.8,0,0,0,63.37,66ZM29.75,66a5.61,5.61,0,1,1,5.6-5.61A5.61,5.61,0,0,1,29.75,66ZM48,66a7,7,0,1,1,7-7A7,7,0,0,1,48,66Z"/>\r\n      <path class="border-thick" d="M33.27,7.21C17,9,1.5,16,1.5,24.21c0,9.66,19.37,17.5,42.77,17.5S86,33.87,86,24.21C86,16,72.37,9,52.82,7.21"/>\r\n      <polygon class="solid-dark" points="55.26 14 41.26 7 55.26 0 55.26 14"/>\r\n    </symbol>\r\n    <symbol id="actTopDimension" data-name="actTopDimension" viewBox="0 0 71.57 74.75">\r\n      <g>\r\n        <g>\r\n          <path class="border-thin--transparent--dashed" d="M34.06,12.48V50.74"/>\r\n          <line class="border-thin--transparent--dashed" x1="70.82" y1="50.74" x2="34.06" y2="50.74"/>\r\n          <line class="border-thin--transparent--dashed" x1="34.06" y1="50.74" x2="8.55" y2="74"/>\r\n        </g>\r\n        <g>\r\n          <polygon class="solid-dark" points="46.81 36.49 70.82 12.48 34.06 12.48 8.55 36.49 46.81 36.49"/>\r\n          <rect class="transparent-medium" x="8.55" y="36.49" width="38.26" height="37.51"/>\r\n          <path class="transparent-medium" d="M46.81,36.49l24-24V50.74L46.81,74Z"/>\r\n          <polygon class="transparent-medium" points="8.55 36.49 46.81 36.49 70.82 12.48 34.06 12.48 8.55 36.49"/>\r\n        </g>\r\n        <g>\r\n          <rect class="border-thin" x="8.55" y="36.49" width="38.26" height="37.51"/>\r\n          <path class="border-thin" d="M46.81,36.49l24-24V50.74L46.81,74Z"/>\r\n          <polygon class="border-thin" points="8.55 36.49 46.81 36.49 70.82 12.48 34.06 12.48 8.55 36.49"/>\r\n        </g>\r\n      </g>\r\n      <line class="border-thick" x1="1.06" y1="29.07" x2="22.93" y2="7.2"/>\r\n      <polygon class="solid-dark" points="6.76 28.09 2.05 28.09 2.05 23.38 0.05 25.38 0.05 30.09 4.76 30.09 6.76 28.09"/>\r\n      <polygon class="solid-dark" points="22.05 12.8 22.05 8.09 17.34 8.09 19.34 6.09 24.05 6.09 24.05 10.8 22.05 12.8"/>\r\n      <line class="border-thick" x1="69.55" y1="3.5" x2="35.55" y2="3.5"/>\r\n      <polygon class="solid-dark" points="64.68 0 68.18 3.5 64.68 7 67.65 7 71.15 3.5 67.65 0 64.68 0"/>\r\n      <polygon class="solid-dark" points="39.42 0 35.92 3.5 39.42 7 36.45 7 32.95 3.5 36.45 0 39.42 0"/>\r\n    </symbol>\r\n    <symbol id="actPseudoVR" data-name="actPseudoVR" viewBox="0 0 88 71.71">\r\n      <g id="actPseudoVR-3" data-name="actPseudoVR">\r\n        <path class="solid-dark" d="M72.85,37.69A19.12,19.12,0,0,1,88,45.16v-38C88,4.33,85.75,0,83,0H5C2.25,0,0,4.33,0,7.14V47.83C0,50.64,2.25,52,5,52H32.55c1.91-10.23,6.59-19.71,12.08-19.71,4.78,0,8.94,7.19,11.2,15.8A19.14,19.14,0,0,1,72.85,37.69Zm-3.71-26.1A11.45,11.45,0,1,1,57.83,23,11.39,11.39,0,0,1,69.14,11.59ZM18.86,34.48A11.45,11.45,0,1,1,30.17,23,11.39,11.39,0,0,1,18.86,34.48Z"/>\r\n        <g>\r\n          <circle class="border-thin" cx="72.88" cy="56.85" r="14.12"/>\r\n          <line class="border-thin" x1="72.72" y1="42.73" x2="72.72" y2="54.02"/>\r\n          <line class="border-thin" x1="72.72" y1="59.82" x2="72.72" y2="70.79"/>\r\n          <circle class="solid-dark" cx="72.73" cy="56.92" r="1.44"/>\r\n          <line class="border-thin" x1="58.69" y1="57.08" x2="69.98" y2="57.08"/>\r\n          <line class="border-thin" x1="75.78" y1="57.08" x2="86.75" y2="57.08"/>\r\n        </g>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actVR" data-name="actVR" viewBox="0 0 88 52">\r\n      <path class="solid-dark" d="M83,0H5C2.25,0,0,4.33,0,7.14V47.83C0,50.64,2.25,52,5,52H32.55c1.91-10.23,6.59-19.71,12.08-19.71S54.8,41.77,56.7,52H83c2.78,0,5-1.36,5-4.17V7.14C88,4.33,85.75,0,83,0ZM18.86,34.48A11.45,11.45,0,1,1,30.17,23,11.39,11.39,0,0,1,18.86,34.48Zm50.28,0A11.45,11.45,0,1,1,80.46,23,11.38,11.38,0,0,1,69.14,34.48Z"/>\r\n    </symbol>\r\n    <symbol id="actZoomall" data-name="actZoomall" viewBox="0 0 83.66 89.19">\r\n      <polygon class="solid-dark" points="22 31 16 31 16 16 30 16 30 22 22 22 22 31"/>\r\n      <polygon class="solid-dark" points="30 50 16 50 16 36 22 36 22 44 30 44 30 50"/>\r\n      <polygon class="solid-dark" points="49 50 35 50 35 44 43 44 43 36 49 36 49 50"/>\r\n      <polygon class="solid-dark" points="49 31 43 31 43 22 35 22 35 16 49 16 49 31"/>\r\n      <path class="solid-dark" d="M81.65,77.49,60,55.85a6.71,6.71,0,0,0-1.5-1.13A33.61,33.61,0,0,0,66,33.5C66,15,51.2,0,33,0S0,15,0,33.5,14.8,67,33,67a32.39,32.39,0,0,0,15.7-4,6.82,6.82,0,0,0,1.61,2.59L72,87.18a6.86,6.86,0,1,0,9.7-9.69ZM6,33.5C6,18.21,18.11,5.77,33,5.77S60,18.21,60,33.5,47.89,61.23,33,61.23,6,48.79,6,33.5Z"/>\r\n    </symbol>\r\n    <symbol id="actZoomAll2d" data-name="actZoomAll2d" viewBox="0 0 83.66 89.19">\r\n      <polygon class="solid-dark" points="22 31 16 31 16 16 30 16 30 22 22 22 22 31"/>\r\n      <polygon class="solid-dark" points="30 50 16 50 16 36 22 36 22 44 30 44 30 50"/>\r\n      <polygon class="solid-dark" points="49 50 35 50 35 44 43 44 43 36 49 36 49 50"/>\r\n      <polygon class="solid-dark" points="49 31 43 31 43 22 35 22 35 16 49 16 49 31"/>\r\n      <path class="solid-dark" d="M81.65,77.49,60,55.85a6.71,6.71,0,0,0-1.5-1.13A33.61,33.61,0,0,0,66,33.5C66,15,51.2,0,33,0S0,15,0,33.5,14.8,67,33,67a32.39,32.39,0,0,0,15.7-4,6.82,6.82,0,0,0,1.61,2.59L72,87.18a6.86,6.86,0,1,0,9.7-9.69ZM6,33.5C6,18.21,18.11,5.77,33,5.77S60,18.21,60,33.5,47.89,61.23,33,61.23,6,48.79,6,33.5Z"/>\r\n    </symbol>\r\n    <symbol id="actZoomCloser" data-name="actZoomCloser" viewBox="0 0 83 89">\r\n      <path class="solid-dark" d="M81,77.32,59.54,55.73a6.44,6.44,0,0,0-1.49-1.13,33.68,33.68,0,0,0,7.43-21.17C65.48,15,50.79,0,32.74,0S0,15,0,33.43,14.69,66.86,32.74,66.86a32,32,0,0,0,15.57-4,6.8,6.8,0,0,0,1.61,2.57L71.39,87A6.78,6.78,0,0,0,81,87,6.89,6.89,0,0,0,81,77.32ZM5.94,33.43c0-15.26,12-27.67,26.8-27.67s26.8,12.41,26.8,27.67-12,27.67-26.8,27.67S5.94,48.68,5.94,33.43Z"/>\r\n      <path class="solid-dark" d="M50.12,28.63a2.34,2.34,0,0,0-1.73-.73H37.83V17.45a2.49,2.49,0,0,0-.54-1.63,2.45,2.45,0,0,0-2-.92h-5a2.52,2.52,0,0,0-1.57.51,2.35,2.35,0,0,0-1,1.93V27.9H17.37a2.51,2.51,0,0,0-1.63.55,2.48,2.48,0,0,0-.91,1.95v5a2.49,2.49,0,0,0,.47,1.52,2.37,2.37,0,0,0,2,1H27.83V48.37a2.45,2.45,0,0,0,2.5,2.53h5a2.48,2.48,0,0,0,1.52-.46,2.38,2.38,0,0,0,1-2V37.9H48.28a2.53,2.53,0,0,0,1.64-.54,2.45,2.45,0,0,0,.91-2v-5a2.43,2.43,0,0,0-.71-1.77Zm-.1-.05"/>\r\n    </symbol>\r\n    <symbol id="actZoomAway" data-name="actZoomAway" viewBox="0 0 83 89">\r\n      <path class="solid-dark" d="M81,77.32,59.54,55.73a6.44,6.44,0,0,0-1.49-1.13,33.68,33.68,0,0,0,7.43-21.17C65.48,15,50.79,0,32.74,0S0,15,0,33.43,14.69,66.86,32.74,66.86a32,32,0,0,0,15.57-4,6.8,6.8,0,0,0,1.61,2.57L71.39,87A6.78,6.78,0,0,0,81,87,6.89,6.89,0,0,0,81,77.32ZM5.94,33.43c0-15.26,12-27.67,26.8-27.67s26.8,12.41,26.8,27.67-12,27.67-26.8,27.67S5.94,48.68,5.94,33.43Z"/>\r\n      <path class="solid-dark" d="M50.12,28.63a2.38,2.38,0,0,0-1.74-.73h-31a2.46,2.46,0,0,0-2.54,2.5v5a2.5,2.5,0,0,0,.47,1.53,2.41,2.41,0,0,0,2,1h31a2.51,2.51,0,0,0,1.63-.53,2.44,2.44,0,0,0,.92-2v-5a2.43,2.43,0,0,0-.71-1.77Zm-.39.11"/>\r\n    </symbol>\r\n    <symbol id="actZoomObject" data-name="actZoomObject" viewBox="0 0 83 89">\r\n      <path class="solid-dark" d="M81,77.32,59.54,55.73a6.44,6.44,0,0,0-1.49-1.13,33.68,33.68,0,0,0,7.43-21.17C65.48,15,50.79,0,32.74,0S0,15,0,33.43,14.69,66.86,32.74,66.86a32,32,0,0,0,15.57-4,6.8,6.8,0,0,0,1.61,2.57L71.39,87A6.78,6.78,0,0,0,81,87,6.89,6.89,0,0,0,81,77.32ZM5.94,33.43c0-15.26,12-27.67,26.8-27.67s26.8,12.41,26.8,27.67-12,27.67-26.8,27.67S5.94,48.68,5.94,33.43Z"/>\r\n      <polygon class="border-thick" points="32.83 32.81 48.34 24.27 48.34 41.44 32.78 50.68 32.83 32.81"/>\r\n      <polygon class="border-thick" points="17.4 23.88 32.79 15.53 48.34 24.27 32.83 32.81 17.4 23.88"/>\r\n      <polygon class="border-thick" points="32.83 32.81 32.78 50.68 17.34 41.75 17.4 23.88 32.83 32.81"/>\r\n    </symbol>\r\n    <symbol id="menu_button" data-name="menu_button" viewBox="0 0 86 68">\r\n      <path class="solid-dark" d="M9.5,25a9.43,9.43,0,0,0-6.73,2.63,8.72,8.72,0,0,0,0,12.75A9.43,9.43,0,0,0,9.5,43a9.43,9.43,0,0,0,6.73-2.62,8.72,8.72,0,0,0,0-12.75A9.43,9.43,0,0,0,9.5,25Z"/>\r\n      <path class="solid-dark" d="M9.5,0A9.47,9.47,0,0,0,2.77,2.62,8.49,8.49,0,0,0,0,9a8.49,8.49,0,0,0,2.77,6.38A9.43,9.43,0,0,0,9.5,18a9.43,9.43,0,0,0,6.73-2.62A8.45,8.45,0,0,0,19,9a8.45,8.45,0,0,0-2.77-6.38A9.47,9.47,0,0,0,9.5,0Z"/>\r\n      <path class="solid-dark" d="M9.5,50a9.47,9.47,0,0,0-6.73,2.62,8.69,8.69,0,0,0,0,12.72A9.43,9.43,0,0,0,9.5,68a9.43,9.43,0,0,0,6.73-2.62,8.69,8.69,0,0,0,0-12.72A9.47,9.47,0,0,0,9.5,50Z"/>\r\n      <path class="solid-dark" d="M85.54,3.44A1.54,1.54,0,0,0,84.45,3H25.55a1.54,1.54,0,0,0-1.09.44A1.42,1.42,0,0,0,24,4.5v9a1.42,1.42,0,0,0,.46,1.06,1.54,1.54,0,0,0,1.09.44h58.9a1.54,1.54,0,0,0,1.09-.44A1.42,1.42,0,0,0,86,13.5v-9a1.42,1.42,0,0,0-.46-1.06Z"/>\r\n      <path class="solid-dark" d="M84.45,28H25.55a1.51,1.51,0,0,0-1.09.45A1.38,1.38,0,0,0,24,29.5v9a1.4,1.4,0,0,0,.46,1,1.51,1.51,0,0,0,1.09.45h58.9a1.51,1.51,0,0,0,1.09-.45,1.4,1.4,0,0,0,.46-1v-9a1.38,1.38,0,0,0-.46-1.05A1.51,1.51,0,0,0,84.45,28Z"/>\r\n      <path class="solid-dark" d="M84.45,53H25.55a1.51,1.51,0,0,0-1.09.45,1.38,1.38,0,0,0-.46,1v9a1.42,1.42,0,0,0,.46,1.06,1.54,1.54,0,0,0,1.09.44h58.9a1.54,1.54,0,0,0,1.09-.44A1.42,1.42,0,0,0,86,63.5v-9a1.38,1.38,0,0,0-.46-1A1.51,1.51,0,0,0,84.45,53Z"/>\r\n    </symbol>\r\n    <symbol id="actBluebox" data-name="actBluebox" viewBox="0 0 84.38 66">\r\n      <polygon class="solid-dark" points="58.06 66 84.38 46.37 81.46 38.85 42.19 34.25 2.51 43.02 0 46.37 6.27 50.96 58.06 66"/>\r\n      <polygon class="transparent-medium" points="53.05 60.15 0 46.37 2.51 43.02 55.14 55.56 53.05 60.15"/>\r\n      <polygon class="solid-medium" points="30.91 37.18 3.48 43.3 55.14 55.56 76.44 43.86 30.91 37.18"/>\r\n      <polygon class="transparent-medium" points="56.39 0 2.51 5.85 30.91 37.18 76.03 43.02 56.39 0"/>\r\n      <polygon class="solid-dark" points="47.31 19.13 56.03 16 55.61 31.12 47.19 35.82 47.31 19.13"/>\r\n      <polygon class="solid-dark" points="32.44 15.12 41.33 12.58 53.6 14.27 45.44 17.2 32.44 15.12"/>\r\n      <polygon class="solid-dark" points="45.28 19.13 45.16 35.82 31.78 32.5 31.39 16.9 45.28 19.13"/>\r\n    </symbol>\r\n    <symbol id="actDreamocMOBILE" data-name="actDreamocMOBILE" viewBox="0 0 82.97 70.76">\r\n      <polygon class="solid-white" points="6.37 41.06 41.24 34.04 73.59 53.18 36.34 61.47 6.37 41.06"/>\r\n      <polygon class="solid-dark" points="36.52 65.29 36.83 70.76 0.36 45.03 0 40.05 36.52 65.29"/>\r\n      <path class="solid-medium" d="M0,40.05l42.73-8.67L82.8,55,36.52,65.29ZM74.2,53.11l-33-19.68L5.77,40.65,36.32,61.46,74.2,53.11"/>\r\n      <polygon class="solid-dark" points="82.8 54.97 82.97 60.3 36.83 70.76 36.52 65.29 82.8 54.97"/>\r\n      <polygon class="gradient-left-to-right_border-thin--transparent" points="76.76 18.18 51.68 49.52 44.08 43.77 50.29 0.85 76.76 18.18"/>\r\n      <polygon class="gradient-right-to-left_border-thin--transparent" points="30.41 47.26 4.72 10.78 50.29 0.85 44.08 43.77 30.41 47.26"/>\r\n      <polygon class="border-thin--transparent" points="4.72 10.78 30.41 47.26 38.32 52.61 30.92 29.48 4.72 10.78"/>\r\n      <polyline class="border-thin--transparent" points="38.32 52.61 51.68 49.52 76.76 18.18 30.92 29.48"/>\r\n    </symbol>\r\n    <symbol id="actDrawing" data-name="actDrawing" viewBox="0 0 78.61 69.57">\r\n      <path class="solid-dark" d="M11.56,52.22C7.94,61.32-1.52,59.82.21,64.63c1.06,3,14.1,6.21,23.64,4.45,10.2-1.88,17.69-11.49,7.71-21.47C19.64,35.7,13.11,48.32,11.56,52.22Z"/>\r\n      <path class="solid-dark" d="M77.32,1.11C74-2.37,58.08,2.35,43,15.35c-2.5,2.16-7.86,6.26-7,7.75.45.74,5.17,4.55,10,9.32s7.74,9.33,9.55,10.26c1.39.71,5.37-4.81,7.46-7.28C75.92,20.26,81.3,5.21,77.32,1.11Z"/>\r\n      <path class="solid-dark" d="M33.91,25c-1.69-.27-7.3,12.54-7.15,13.23.55,2.45,2,1.61,7.05,6.67,4.86,4.86,3.75,5.69,6.16,6.74.68.29,13.4-6,13.32-7.2S35.61,25.29,33.91,25Z"/>\r\n    </symbol>\r\n    <symbol id="actSlideshow" data-name="actSlideshow" viewBox="0 0 88 76">\r\n      <path class="solid-dark" d="M0,24V76H64V24ZM59,71H5V29H59ZM41.19,39.12,56,53V68H8V61.58L18.71,50.89l5.35,5.34ZM76,12V64H68V20H12V12ZM88,0V52H80V8H24V0ZM9.75,44.25A6,6,0,0,1,14,34a6,6,0,0,1,4.25,10.25A5.77,5.77,0,0,1,14,46,5.77,5.77,0,0,1,9.75,44.25Z"/>\r\n    </symbol>\r\n    <symbol id="previous" data-name="previous" viewBox="0 0 76 76">\r\n      <path class="solid-white" d="M76,38a37.14,37.14,0,0,1-5.1,19.07A37.6,37.6,0,0,1,57.07,70.9,37.14,37.14,0,0,1,38,76a37.14,37.14,0,0,1-19.07-5.1A37.6,37.6,0,0,1,5.1,57.07,37.14,37.14,0,0,1,0,38,37.14,37.14,0,0,1,5.1,18.93,37.6,37.6,0,0,1,18.93,5.1,37.14,37.14,0,0,1,38,0,37.14,37.14,0,0,1,57.07,5.1,37.6,37.6,0,0,1,70.9,18.93,37.14,37.14,0,0,1,76,38Z"/>\r\n      <path class="solid-dark" d="M69,38a30.35,30.35,0,0,0-4.16-15.56A30.82,30.82,0,0,0,53.56,11.16,30.35,30.35,0,0,0,38,7a30.35,30.35,0,0,0-15.56,4.16A30.82,30.82,0,0,0,11.16,22.44,30.35,30.35,0,0,0,7,38a30.35,30.35,0,0,0,4.16,15.56A30.82,30.82,0,0,0,22.44,64.84,30.35,30.35,0,0,0,38,69a30.35,30.35,0,0,0,15.56-4.16A30.82,30.82,0,0,0,64.84,53.56,30.35,30.35,0,0,0,69,38Z"/>\r\n      <path class="solid-white" d="M57,32.63v9.75a1.59,1.59,0,0,1-.47,1.14,1.49,1.49,0,0,1-1.11.48H38v9.75a1.61,1.61,0,0,1-.45,1.17,1.51,1.51,0,0,1-1.13.45,1.82,1.82,0,0,1-1.19-.5L19.45,38.67a1.75,1.75,0,0,1,0-2.34L35.28,20.08a1.53,1.53,0,0,1,1.14-.45,1.49,1.49,0,0,1,1.11.48A1.59,1.59,0,0,1,38,21.25V31H55.42a1.49,1.49,0,0,1,1.11.48A1.59,1.59,0,0,1,57,32.63Z"/>\r\n    </symbol>\r\n    <symbol id="next" data-name="next" viewBox="0 0 76 76">\r\n      <path class="solid-white" d="M0,38A37.14,37.14,0,0,1,5.1,18.93,37.6,37.6,0,0,1,18.93,5.1,37.14,37.14,0,0,1,38,0,37.14,37.14,0,0,1,57.07,5.1,37.6,37.6,0,0,1,70.9,18.93,37.14,37.14,0,0,1,76,38a37.14,37.14,0,0,1-5.1,19.07A37.6,37.6,0,0,1,57.07,70.9,37.14,37.14,0,0,1,38,76a37.14,37.14,0,0,1-19.07-5.1A37.6,37.6,0,0,1,5.1,57.07,37.14,37.14,0,0,1,0,38Z"/>\r\n      <path class="solid-dark" d="M7,38a30.35,30.35,0,0,0,4.16,15.56A30.82,30.82,0,0,0,22.44,64.84,30.35,30.35,0,0,0,38,69a30.35,30.35,0,0,0,15.56-4.16A30.82,30.82,0,0,0,64.84,53.56,30.35,30.35,0,0,0,69,38a30.35,30.35,0,0,0-4.16-15.56A30.82,30.82,0,0,0,53.56,11.16,30.35,30.35,0,0,0,38,7a30.35,30.35,0,0,0-15.56,4.16A30.82,30.82,0,0,0,11.16,22.44,30.35,30.35,0,0,0,7,38Z"/>\r\n      <path class="solid-white" d="M19,43.38V33.63a1.59,1.59,0,0,1,.47-1.15A1.49,1.49,0,0,1,20.58,32H38V22.25a1.61,1.61,0,0,1,.45-1.17,1.51,1.51,0,0,1,1.13-.45,1.8,1.8,0,0,1,1.19.5l15.78,16.2a1.75,1.75,0,0,1,0,2.34L40.72,55.92a1.53,1.53,0,0,1-1.14.45,1.49,1.49,0,0,1-1.11-.48A1.59,1.59,0,0,1,38,54.75V45H20.58a1.49,1.49,0,0,1-1.11-.48A1.59,1.59,0,0,1,19,43.38Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_save" data-name="drawer_save" viewBox="0 0 64 64">\r\n      <path class="solid-dark" d="M61.66,9.66,54.34,2.34A8,8,0,0,0,48.69,0H44V14a2,2,0,0,1-2,2H10a2,2,0,0,1-2-2V0H4A4,4,0,0,0,0,4V60a4,4,0,0,0,4,4H60a4,4,0,0,0,4-4V15.31a8,8,0,0,0-2.34-5.65ZM56,56H8V32H56Zm-.2-.2M28,0h8V12H28Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_undo" data-name="drawer_undo" viewBox="0 0 67.96 43.58">\r\n      <path class="solid-dark" d="M66.5,43.58a1.47,1.47,0,0,1-1.35-.88C65,42.3,60.78,32.87,45.07,31a106.48,106.48,0,0,0-12-.63V42.12a1.28,1.28,0,0,1-.7,1.29,1.47,1.47,0,0,1-1.5-.08L.65,23a1.45,1.45,0,0,1,0-2.42L29.85.25a1.42,1.42,0,0,1,1.5-.07c.48.26.77.75,1.69,1.27V12.39C38.69,13.25,68,18.33,68,42.13a1.41,1.41,0,0,1-1.46,1.45Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_redo" data-name="drawer_redo" viewBox="0 0 67.96 43.58">\r\n      <path class="solid-dark" d="M1.46,43.58a1.37,1.37,0,0,1-.29,0A1.47,1.47,0,0,1,0,42.13c0-23.8,29.27-28.88,35-29.74V1.45c.84-.52,1.13-1,1.62-1.27A1.41,1.41,0,0,1,38.1.25L67.31,20.58a1.45,1.45,0,0,1,0,2.42L37.12,43.33a1.47,1.47,0,0,1-1.5.08A1.13,1.13,0,0,1,35,42.12V30.37a106.61,106.61,0,0,0-12.1.63C7.17,32.87,3,42.3,2.8,42.7a1.45,1.45,0,0,1-1.34.88Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_grid" data-name="drawer_grid" viewBox="0 0 72 72">\r\n      <path class="solid-dark" d="M0,0V72H72V0ZM66,16H56V6H66ZM39,16V6H50V16Zm11,6V33H39V22ZM33,16H22V6H33Zm0,6V33H22V22Zm0,17V50H22V39Zm6,0H50V50H39Zm17,0H66V50H56Zm0-6V22H66V33ZM6,6H16V16H6ZM6,22H16V33H6ZM6,39H16V50H6ZM6,66V56H16V66Zm16,0V56H33V66Zm17,0V56H50V66Zm17,0V56H66V66Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_circle" data-name="drawer_circle" viewBox="0 0 72 72">\r\n      <path class="solid-dark" d="M36,0A36,36,0,1,1,0,36,36,36,0,0,1,36,0Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_rect" data-name="drawer_rect" viewBox="0 0 72 57">\r\n      <path class="solid-dark" d="M0,0H72V57H0Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_line" data-name="drawer_line" viewBox="0 0 68.02 68.02">\r\n      <polygon class="solid-dark" points="4.02 68.02 0 64 64 0 68.02 4.02 4.02 68.02"/>\r\n    </symbol>\r\n    <symbol id="drawer_text" data-name="drawer_text" viewBox="0 0 72 24.76">\r\n      <path class="solid-dark" d="M16.08,16.29H6.91L5.31,20a5.78,5.78,0,0,0-.6,2.06,1.22,1.22,0,0,0,.52.95,4.49,4.49,0,0,0,2.22.53v.65H0v-.65a4.06,4.06,0,0,0,1.92-.68,10.81,10.81,0,0,0,2-3.41L12.22,0h.61l8.24,19.69a9,9,0,0,0,1.81,3.08,3.63,3.63,0,0,0,2.26.8v.65H15.8v-.65a3.51,3.51,0,0,0,1.91-.47,1.24,1.24,0,0,0,.5-1,7.2,7.2,0,0,0-.7-2.43ZM15.59,15l-4-9.57L7.45,15Zm26.47-2.87a7.56,7.56,0,0,1,3.68,1.68,5.21,5.21,0,0,1,1.7,3.93,5.92,5.92,0,0,1-1.12,3.38,6.42,6.42,0,0,1-3.07,2.35,17.56,17.56,0,0,1-5.94.75H26.14v-.65H27a2.41,2.41,0,0,0,2.13-.94,5.57,5.57,0,0,0,.4-2.6V4.73A4.73,4.73,0,0,0,29.05,2a2.53,2.53,0,0,0-2-.77h-.89V.54H36.37A20.12,20.12,0,0,1,41,1a7.38,7.38,0,0,1,4,2.23,5.44,5.44,0,0,1,1.38,3.67,5.05,5.05,0,0,1-1.09,3.19A6.33,6.33,0,0,1,42.06,12.13Zm-9.15-.94a13.33,13.33,0,0,0,1.48.18c.55,0,1.16.07,1.82.07A10.31,10.31,0,0,0,40,10.89,4.14,4.14,0,0,0,42,9.2a4.77,4.77,0,0,0,.68-2.48A4.53,4.53,0,0,0,41,3.18a7.32,7.32,0,0,0-4.94-1.47,12.12,12.12,0,0,0-3.14.38Zm0,11.31a17.28,17.28,0,0,0,4,.48,7.22,7.22,0,0,0,4.82-1.43A4.48,4.48,0,0,0,43.39,18a5.19,5.19,0,0,0-.76-2.65,5,5,0,0,0-2.44-2A10.56,10.56,0,0,0,36,12.64c-.72,0-1.34,0-1.85,0a10.09,10.09,0,0,0-1.24.13ZM70.92,0l.54,8.05h-.54a10.1,10.1,0,0,0-3.09-5.2A7.54,7.54,0,0,0,63,1.26a7.91,7.91,0,0,0-4.26,1.19,7.93,7.93,0,0,0-3,3.82,17.09,17.09,0,0,0-1.09,6.51,14,14,0,0,0,1,5.57A7.74,7.74,0,0,0,58.79,22a8.91,8.91,0,0,0,4.72,1.26,8.15,8.15,0,0,0,4.07-1,13.23,13.23,0,0,0,3.88-3.92l.54.35a12.41,12.41,0,0,1-4.16,4.63,10.47,10.47,0,0,1-5.63,1.47,10.69,10.69,0,0,1-9.12-4.37,12.5,12.5,0,0,1-2.41-7.65,13.57,13.57,0,0,1,1.59-6.51,11.54,11.54,0,0,1,4.37-4.6A11.83,11.83,0,0,1,62.73,0a11.11,11.11,0,0,1,5.06,1.26,2.84,2.84,0,0,0,1,.38,1.16,1.16,0,0,0,.82-.33A2.74,2.74,0,0,0,70.31,0Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_select_rect" data-name="drawer_select_rect" viewBox="0 0 70 70">\r\n      <path class="solid-dark" d="M70,70H60V64h4V60h6ZM52,64H39v6H52ZM31,64H18v6H31ZM10,64H6V60H0V70H10ZM6,39H0V52H6ZM6,18H0V31H6ZM6,6h4V0H0V10H6ZM52,0H39V6H52ZM31,0H18V6H31ZM70,0H60V6h4v4h6Zm0,39H64V52h6Zm0-21H64V31h6Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_select_delete" data-name="drawer_select_delete" viewBox="0 0 75.09 75.09">\r\n      <path class="solid-dark" d="M66,59.09l9.06,9.07-6.93,6.93L59.09,66,50,75.09l-6.94-6.93,9.07-9.07L43.09,50,50,43.09l9.06,9.07,9.07-9.07L75.09,50ZM31,64H18v6H31ZM10,70H0V60H6v4h4ZM6,39H0V52H6ZM6,18H0V31H6Zm0-8H0V0H10V6H6ZM52,0H39V6H52ZM31,0H18V6H31ZM70,10H64V6H60V0H70Zm0,8H64V31h6Z"/>\r\n    </symbol>\r\n    <symbol id="cross_circle" data-name="cross_circle" viewBox="0 0 72 72">\r\n      <circle class="solid-dark" cx="36" cy="36" r="36"/>\r\n      <path class="solid-white" d="M55,46.5a3.21,3.21,0,0,1,1,2.36,3.28,3.28,0,0,1-1,2.42L50.28,56a3.28,3.28,0,0,1-2.42,1,3.23,3.23,0,0,1-2.36-1L36,46.5,26.5,56a3.21,3.21,0,0,1-2.36,1,3.28,3.28,0,0,1-2.42-1L17,51.28a3.28,3.28,0,0,1-1-2.42,3.21,3.21,0,0,1,1-2.36L26.5,37,17,27.5a3.21,3.21,0,0,1-1-2.36,3.28,3.28,0,0,1,1-2.42L21.72,18a3.28,3.28,0,0,1,2.42-1,3.21,3.21,0,0,1,2.36,1L36,27.5,45.5,18a3.23,3.23,0,0,1,2.36-1,3.28,3.28,0,0,1,2.42,1L55,22.72a3.28,3.28,0,0,1,1,2.42,3.21,3.21,0,0,1-1,2.36L45.5,37Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_select_color" data-name="drawer_select_color" viewBox="0 0 78 65.83">\r\n      <path class="solid-color-selection" d="M59.09,12.28A17.13,17.13,0,0,0,57.82,11C51.39,5.3,43.56,1.07,35,.77l-1.14,0a33,33,0,0,0-25,11.7A32.9,32.9,0,0,0,1.12,38.86c.12.78.27,1.58.45,2.36C3.91,51.54,9.91,59.39,18,62.76A15.62,15.62,0,0,0,24,64a13.32,13.32,0,0,0,11.76-7.2,15.78,15.78,0,0,0,1.87-5.35,12.92,12.92,0,0,0-.06-3.17,11.79,11.79,0,0,1,0-3.08,4.13,4.13,0,0,1,4.34-3.71c.66,0,2.7.58,2,.33,1.5.56,3.36,1.41,5.48,2.11.08-.57.17-1.13.28-1.7.06-.36.13-.8.2-1.27a48.34,48.34,0,0,1,2.68-8.31c0-.07,3-6.19,5.6-8.1a8.43,8.43,0,0,1-1.45-3.15A11.16,11.16,0,0,1,59.09,12.28ZM18.61,43.87A4.59,4.59,0,0,1,14.7,46a4.54,4.54,0,0,1-2.45-.71,4.62,4.62,0,1,1,6.36-1.44Zm.94-17.25a4.6,4.6,0,0,1-3.91,2.16,4.61,4.61,0,0,1-4.5-3.6,4.63,4.63,0,0,1,4.51-5.64,4.61,4.61,0,0,1,3.9,7.08ZM33.4,16.44a4.6,4.6,0,0,1-3.91,2.16A4.61,4.61,0,0,1,25,15,4.63,4.63,0,0,1,29.5,9.36a4.52,4.52,0,0,1,2.45.72A4.61,4.61,0,0,1,33.4,16.44Zm17.23,4a4.6,4.6,0,0,1-3.91,2.16,4.66,4.66,0,0,1-2.46-.71,4.62,4.62,0,1,1,6.37-1.45Z"/>\r\n      <path class="solid-dark" d="M24,64.76a16.38,16.38,0,0,1-6.27-1.3C9.39,60,3.24,52,.84,41.38.66,40.59.5,39.78.38,39A33.64,33.64,0,0,1,8.27,12,33.81,33.81,0,0,1,33.88,0l1.17,0C42.9.29,51,3.9,58.31,10.44a15.35,15.35,0,0,1,1.33,1.34l.42.46-.38.5a10.31,10.31,0,0,0-2.27,8.5,7.82,7.82,0,0,0,1.32,2.88l.44.6-.59.44c-2.1,1.58-4.77,6.57-5.37,7.82a48.15,48.15,0,0,0-2.62,8.1c-.08.51-.14.94-.21,1.29q-.15.84-.27,1.68l-.13.88-.85-.28c-1.36-.45-2.62-1-3.73-1.42l-1.55-.62a4.21,4.21,0,0,1-.49-.09,11.46,11.46,0,0,0-1.5-.27,3.39,3.39,0,0,0-3.6,3.08,11.18,11.18,0,0,0,.05,2.88,13.44,13.44,0,0,1,0,3.36,16.37,16.37,0,0,1-2,5.61A14,14,0,0,1,24,64.76ZM33.88,1.5A32.31,32.31,0,0,0,9.41,12.93,32.17,32.17,0,0,0,1.86,38.75c.12.77.27,1.54.44,2.3,2.29,10.08,8.12,17.75,16,21A14.87,14.87,0,0,0,24,63.26a12.58,12.58,0,0,0,11.1-6.81,15,15,0,0,0,1.79-5.09,12.48,12.48,0,0,0-.06-3,12,12,0,0,1,0-3.28,4.88,4.88,0,0,1,5.08-4.34,10.08,10.08,0,0,1,1.82.31l.41.08,0,.25.1-.27c.56.21,1.17.46,1.82.73.85.34,1.79.73,2.8,1.09,0-.28.09-.56.14-.83s.12-.76.19-1.21a48.39,48.39,0,0,1,2.75-8.55c0-.06,2.69-5.52,5.28-7.93A9.11,9.11,0,0,1,56,21.57a11.61,11.61,0,0,1,2.17-9.24c-.28-.28-.55-.54-.8-.77C50.22,5.25,42.5,1.78,35,1.52ZM14.7,46.77a5.37,5.37,0,0,1,0-10.73,5.37,5.37,0,0,1,4.54,8.22h0A5.35,5.35,0,0,1,14.7,46.77Zm0-9.23a3.87,3.87,0,0,0-2.06,7.14A3.88,3.88,0,0,0,18,43.47h0a3.86,3.86,0,0,0-3.27-5.93Zm.93-8a5.37,5.37,0,1,1,2.86-9.91A5.38,5.38,0,0,1,20.19,27h0A5.35,5.35,0,0,1,15.64,29.53Zm0-9.24a3.87,3.87,0,1,0,3.27,5.93h0a3.87,3.87,0,0,0-3.27-5.93Zm31.07,3.06a5.37,5.37,0,1,1,4.55-2.51h0A5.35,5.35,0,0,1,46.72,23.35Zm0-9.24A3.87,3.87,0,1,0,50,20h0a3.87,3.87,0,0,0-3.27-5.93ZM29.49,19.35a5.38,5.38,0,0,1-2.86-.83A5.37,5.37,0,1,1,34,16.84h0A5.35,5.35,0,0,1,29.49,19.35Zm0-9.24a3.88,3.88,0,1,0,2.05.6A3.86,3.86,0,0,0,29.5,10.11Z"/>\r\n      <path class="solid-dark" d="M70,25.91a12.85,12.85,0,0,1-3.26-.48c-3.18-.84-5.14-2.49-5.67-4.78-.59-2.58.73-5.71,3.38-8,3.75-3.22,9.68-5.2,12.27-5.2.75,0,.95.16,1,.17.57.47.5.79-.52,2.4a10.08,10.08,0,0,0-2,7.43c.33,2.23.17,5.21-1.28,6.9A4.91,4.91,0,0,1,70,25.91Z"/>\r\n      <path class="solid-dark" d="M71.81,40.84c-.47-.26-4.23-.84-8.36-1.89S56.31,36.34,55,36.41c-1,.05-1.39,4.3-1.75,6.29-2.18,12.25-.35,22.09,3.1,23.07,2.91.82,10-6.74,14.1-18.54C71.16,45.27,72.77,41.36,71.81,40.84Z"/>\r\n      <path class="solid-dark" d="M66.14,28.33c-4.16-1.1-3.82-1.9-5.45-1.71-.47.06-5.39,7.46-4.95,8.1s15.62,4.8,16.62,4.42,0-9.09-.3-9.42C71,28.57,70.47,29.47,66.14,28.33Z"/>\r\n    </symbol>\r\n    <symbol id="drawer_brushsize" data-name="drawer_brushsize" viewBox="0 0 76 74.11">\r\n      <path class="solid-dark" d="M29.05,74.11c-6.84,0-12.63-2.19-13-3.33s.07-1.39,2.13-2.46,5.07-2.63,6.65-6.62c.46-1.16,3-7,7.47-7,2.08,0,4.36,1.23,6.79,3.65,2.92,2.93,4,6,3.12,8.81-1,3.18-4.4,5.75-8.7,6.54a24.15,24.15,0,0,1-4.42.37Z"/>\r\n      <path class="solid-dark" d="M75,21.86c-2.61-2.7-14.9,1-26.58,11-1.94,1.66-6.09,4.84-5.39,6,.34.57,4,3.52,7.76,7.21s6,7.22,7.39,7.94c1.08.55,4.16-3.72,5.78-5.64C73.92,36.69,78.08,25,75,21.86Z"/>\r\n      <path class="solid-dark" d="M41.4,40.37c-1.32-.22-5.65,9.7-5.54,10.24.42,1.89,1.54,1.24,5.46,5.16,3.76,3.76,2.9,4.41,4.76,5.21.54.23,10.38-4.61,10.32-5.57S42.71,40.58,41.4,40.37Z"/>\r\n      <circle class="solid-dark" cx="7" cy="57" r="7"/>\r\n      <circle class="solid-dark" cx="15" cy="38" r="10"/>\r\n      <circle class="solid-dark" cx="26" cy="13" r="13"/>\r\n    </symbol>\r\n    <symbol id="table_locked" data-name="table_locked" viewBox="0 0 69.96 88">\r\n      <path class="table_opacity_50" d="M22,34H48V24.67a12.84,12.84,0,0,0-3.69-9.45A13.29,13.29,0,0,0,35,11a13.3,13.3,0,0,0-9.07,4l-.24.24A12.89,12.89,0,0,0,22,24.67Zm48,5V83a4.84,4.84,0,0,1-1.44,3.55A4.7,4.7,0,0,1,65,88H4.94a4.75,4.75,0,0,1-3.5-1.46A4.88,4.88,0,0,1,0,83V39a4.92,4.92,0,0,1,1.44-3.55A5.51,5.51,0,0,1,5,34h7V23.42a22.66,22.66,0,0,1,6.79-16.5A20.88,20.88,0,0,1,35,0,20.94,20.94,0,0,1,51.24,6.89,22.72,22.72,0,0,1,58,23.39V34h7a5.42,5.42,0,0,1,3.5,1.46A4.83,4.83,0,0,1,70,39Z"/>\r\n    </symbol>\r\n    <symbol id="table_state_greenone" data-name="table_state_greenone" viewBox="0 0 88 70">\r\n      <polygon id="small_stategreenone_96" data-name="small stategreenone 96" class="table_green" points="88 13 75 0 32 43 14 24 0 38.05 32 70 44.52 56.74 44.52 56.73 88 13"/>\r\n    </symbol>\r\n    <symbol id="table_small_edit" data-name="table_small_edit" viewBox="0 0 59 58.45">\r\n      <path class="table_opacity_35" d="M51.7,21.45,37.57,7.32,47.24,0,59,12.57ZM0,58.45v-15l15,15ZM48,25.12,33.91,11l-4,4,3-3-28,28L19.06,54.11l3-3,1-1Z"/>\r\n    </symbol>\r\n    <symbol id="table_edit" data-name="table_edit" viewBox="0 0 88 88.45">\r\n      <path id="edit_96" data-name="edit 96" class="table_opacity_100" d="M80.7,21.45,66.57,7.32,76.24,0,88,12.57ZM21,66.45v-15l15,15Zm48,17H5v-64H44v-5H0v74H74v-45H69Zm8-58.33L62.91,11l-4,4h0l-34,34L39.06,63.11l4-4h0Z"/>\r\n    </symbol>\r\n    <symbol id="table_state_locked" data-name="table_state_locked" viewBox="0 0 87.67 87.7">\r\n      <path class="table_opacity_100" d="M87.46,25.23l-25-25S55.63-.52,53.94.7c-2.66,1.94-4,12-4,12s-11.39,14-16.66,16.66c-6.55,3.34-29.12,4.2-29.12,4.2L24.94,54.38,0,87.7l33.32-25L54.14,83.54S55,61,58.3,54.39C60.94,49.11,74.94,37.7,74.94,37.7s10.08-1.33,12-4C88.19,32,87.46,25.23,87.46,25.23Z"/>\r\n    </symbol>\r\n    <symbol id="table_search_filter" data-name="table_search_filter" viewBox="0 0 87.96 87.79">\r\n      <path class="table_opacity_35" d="M21,27.29,0,0H49.59L28,28.53V41.18L21,49.58Zm67,19A27.5,27.5,0,0,1,45,69.06L26.35,87.79l-7.46-7.51L37.6,61.58A27.5,27.5,0,1,1,88,46.29Zm-9,0a18.5,18.5,0,1,0-18.5,18.5A18.5,18.5,0,0,0,79,46.29Z"/>\r\n    </symbol>\r\n    <symbol id="table_filter" data-name="table_filter" viewBox="0 0 72 72">\r\n      <polygon class="table_opacity_35" points="72 0 0 0 30 39.64 30 72 41 59.8 41 41.44 72 0"/>\r\n    </symbol>\r\n    <symbol id="actMeasureGrid" data-name="actMeasureGrid" viewBox="0 0 88 83">\r\n      <path class="solid-dark" d="M45,1.69l-8,4.5L34,7.88l-8,4.5-3,1.68-9,5.07-3,1.68-8,4.5L0,27V57l3-1.75,8-4.67,3-1.75,9-5.25,3-1.75,8-4.66,3-1.75,8-4.67L48,29V0Zm-11,9.6v10l-8,4.57v-10ZM23,17.57v10l-9,5.14v-10ZM3,29l8-4.57v10L3,39ZM3,52V42.25l8-4.67v9.85Zm11-6.29V35.83l9-5.25v10Zm12-6.85v-10l8-4.66V34.29ZM45,28l-8,4.57V22.42l8-4.67Zm-8-8.43v-10L45,5V15Zm48-.22L77,14.8l-3-1.71L65,8,62,6.26,54,1.71,51,0V29l3,1.7,8,4.54L65,37l9,5.1,3,1.71,8,4.54L88,50V21.06ZM74,16V26.18l-9-5V11ZM54,5,62,9.4V19.47L54,15Zm0,23V17.7l8,4.54V32.47Zm11,6.15V24l9,5.1V39.18ZM85,45.32l-8-4.47V30.76l8,4.54ZM77,27.85V17.62L85,22V32.32ZM50,33H49L2,61,38,83,86,54ZM38.15,43l8.78,5.11-8.87,5.11L29.3,48.1ZM26.77,49.56l8.76,5.09-8.86,5.12-8.76-5.09Zm11.29,6.56,8.79,5.11L38,66.35l-8.8-5.11Zm2.53-1.46,8.86-5.12,8.8,5.11-8.87,5.12ZM52,48.08,60.85,43l8.79,5.12-8.86,5.11Zm6.34-6.58-8.86,5.12-8.78-5.11,8.85-5.12ZM7.49,60.71l7.89-4.56,8.76,5.08L16,65.94Zm10.94,6.74,8.24-4.75,8.79,5.11L27,72.71ZM38,79.49l-8.54-5.27L38,69.28l8.58,5ZM49,72.77l-8.53-5,8.87-5.12,8.31,4.83ZM60.15,66l-8.24-4.79,8.86-5.12,8,4.67Zm11.12-6.74-8-4.63,8.87-5.12L80,54Z"/>\r\n    </symbol>\r\n    <symbol id="actDebug" data-name="actDebug" viewBox="0 0 81.13 75.71">\r\n      <path class="solid-dark" d="M25.65,20.79a14.52,14.52,0,0,0,.81,4.77H54.79a14.52,14.52,0,0,0,.81-4.77A14.92,14.92,0,0,0,49.75,8.94l4.67-4.67A2.5,2.5,0,0,0,50.89.73L45.12,6.5a14.85,14.85,0,0,0-4.49-.69,15,15,0,0,0-4.43.67L30.46.73a2.5,2.5,0,0,0-3.54,3.54L31.55,8.9A14.91,14.91,0,0,0,25.65,20.79Z"/>\r\n      <path class="solid-dark" d="M17.63,29.56l-3.82-2.13L9.72,23.34a2.5,2.5,0,0,0-3.53,3.54l7.57,7.56h5.79a26,26,0,0,0-4.64,11.12H2.5a2.5,2.5,0,0,0,0,5H14.59A25.84,25.84,0,0,0,17,60.73H11.76L4.19,68.29a2.5,2.5,0,1,0,3.53,3.54l3.72-3.71,3.19-2.56h5a27.08,27.08,0,0,0,19,10.15V29.56h-21Z"/>\r\n      <path class="solid-dark" d="M78.63,45.56H66.34A26,26,0,0,0,61.7,34.44h5.71L75,26.88a2.5,2.5,0,1,0-3.54-3.54l-4.09,4.09-2.72,2.13h-22V75.71c7.54-.57,13.61-4.52,18-10.15h5l4.1,2.56,3.71,3.71a2.51,2.51,0,0,0,3.54,0,2.52,2.52,0,0,0,0-3.54l-7.57-7.56H64.25a25.84,25.84,0,0,0,2.41-10.17h12a2.5,2.5,0,0,0,0-5Z"/>\r\n    </symbol>\r\n    <symbol id="actLineSearchExpand" data-name="actLineSearchExpand" viewBox="0 0 73 67">\r\n      <path class="solid-dark" d="M54,42h3v8H42V42H54a22.91,22.91,0,0,1-16-6.5V38H23V30H33.81a22.54,22.54,0,0,1-1.72-4H23V17h8.09a22.92,22.92,0,0,1,.71-4H4a4,4,0,0,0-4,4V63a4,4,0,0,0,4,4H57a4,4,0,0,0,4-4V40.91A23.14,23.14,0,0,1,54,42ZM19,63H4V54H19Zm0-13H4V42H19Zm0-12H4V30H19Zm0-12H4V17H19ZM38,63H23V54H38Zm0-13H23V42H38ZM57,63H42V54H57ZM54,0A19,19,0,1,0,73,19,19,19,0,0,0,54,0Z"/>\r\n      <path class="solid-light" d="M17,24H6V19H17Zm14-5H25v5h6.55A23.5,23.5,0,0,1,31,19Z"/>\r\n      <path class="solid-white" d="M64.08,16.36,56,26.28a2.38,2.38,0,0,1-3.33.08l-8.07-10c-.75-.91.18-2.32,1.67-2.32H62.41C63.9,14,64.83,15.45,64.08,16.36Z"/>\r\n    </symbol>\r\n    <symbol id="actLineSearchCollapse" data-name="actLineSearchCollapse" viewBox="0 0 73 67">\r\n      <path class="solid-light" d="M17,24H6V19H17Zm14-5H25v5h6.55A23.5,23.5,0,0,1,31,19Z"/>\r\n      <path class="solid-dark" d="M54,42h3v8H42V42H54a22.91,22.91,0,0,1-16-6.5V38H23V30H33.81a22.54,22.54,0,0,1-1.72-4H23V17h8.09a22.92,22.92,0,0,1,.71-4H4a4,4,0,0,0-4,4V63a4,4,0,0,0,4,4H57a4,4,0,0,0,4-4V40.91A23.14,23.14,0,0,1,54,42ZM19,63H4V54H19Zm0-13H4V42H19Zm0-12H4V30H19Zm0-12H4V17H19ZM38,63H23V54H38Zm0-13H23V42H38ZM57,63H42V54H57ZM54,0A19,19,0,1,0,73,19,19,19,0,0,0,54,0Z"/>\r\n      <path class="solid-white" d="M62.41,25H46.28c-1.49,0-2.42-1.45-1.67-2.36l8.07-9.92A2.38,2.38,0,0,1,56,12.64l8.07,10C64.83,23.59,63.9,25,62.41,25Z"/>\r\n    </symbol>\r\n    <symbol id="actLineSearch" data-name="actLineSearch" viewBox="0 0 86 66.45">\r\n      <path class="solid-dark" d="M57,45v4.46H42V41.58a24.66,24.66,0,0,1-5.13-4.13H23v-8h8.78a25.62,25.62,0,0,1-1.19-4H23v-9h7.45a25.23,25.23,0,0,1,1-4H4a4,4,0,0,0-4,4v46a4,4,0,0,0,4,4H57a4,4,0,0,0,4-4V44.26A24.49,24.49,0,0,1,57,45ZM19,62.45H4v-9H19Zm0-13H4v-8H19Zm0-12H4v-8H19Zm0-12H4v-9H19Zm19,37H23v-9H38Zm0-13H23v-8H38Zm19,13H42v-9H57ZM85,45.76,71.5,32.31a20.59,20.59,0,1,0-5.09,5.09L79.86,50.84A3.55,3.55,0,0,0,82.4,51.9,3.6,3.6,0,0,0,85,45.76ZM40.27,20.55A14.39,14.39,0,1,1,54.66,34.94,14.4,14.4,0,0,1,40.27,20.55Z"/>\r\n      <path class="solid-light" d="M17,23.45H6v-5H17Zm13.1-2.9c0-.71,0-1.41.1-2.1H25v5h5.28A25.23,25.23,0,0,1,30.1,20.55Z"/>\r\n    </symbol>\r\n    <symbol id="actSAO" data-name="actSAO" viewBox="0 0 76 58">\r\n      <circle class="sphere_gradient_dark" cx="56" cy="24" r="20"/>\r\n      <circle class="sphere_gradient_medium" cx="29" cy="29" r="29"/>\r\n    </symbol>\r\n    <symbol id="replace_std_templink" data-name="replace_std_templink" viewBox="0 0 46 58">\r\n      <path class="replace_yellow" d="M44,15H34a3,3,0,0,1-3-3V2ZM34,17a4.72,4.72,0,0,1-5-5V2H5A3,3,0,0,0,2,5V54.5A1.5,1.5,0,0,0,3.5,56h39A1.5,1.5,0,0,0,44,54.5V17Z"/>\r\n      <path class="solid-medium" d="M46,15a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,31,0H5A5,5,0,0,0,0,5V54.5A3.5,3.5,0,0,0,3.5,58h39A3.5,3.5,0,0,0,46,54.5V15ZM2,54.5V5A3,3,0,0,1,5,2H29V12a4.72,4.72,0,0,0,5,5H44V54.5A1.5,1.5,0,0,1,42.5,56H3.5A1.5,1.5,0,0,1,2,54.5ZM31,2,44,15H34a3,3,0,0,1-3-3Z"/>\r\n    </symbol>\r\n    <symbol id="replace_std" data-name="replace_std" viewBox="0 0 69 72">\r\n      <path class="replace_green" d="M67,15H57a3,3,0,0,1-3-3V2ZM57,17a4.72,4.72,0,0,1-5-5V2H28a3,3,0,0,0-3,3V54.5A1.5,1.5,0,0,0,26.5,56h39A1.5,1.5,0,0,0,67,54.5V17Z"/>\r\n      <path class="solid-medium" d="M69,15a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,54,0H28a5,5,0,0,0-5,5V54.5A3.5,3.5,0,0,0,26.5,58h39A3.5,3.5,0,0,0,69,54.5V15ZM25,54.5V5a3,3,0,0,1,3-3H52V12a4.72,4.72,0,0,0,5,5H67V54.5A1.5,1.5,0,0,1,65.5,56h-39A1.5,1.5,0,0,1,25,54.5ZM54,2,67,15H57a3,3,0,0,1-3-3Z"/>\r\n      <path class="replace_yellow" d="M44,29H34a3,3,0,0,1-3-3V16ZM34,31a4.72,4.72,0,0,1-5-5V16H5a3,3,0,0,0-3,3V68.5A1.5,1.5,0,0,0,3.5,70h39A1.5,1.5,0,0,0,44,68.5V31Z"/>\r\n      <path class="solid-medium" d="M46,29a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,31,14H5a5,5,0,0,0-5,5V68.5A3.5,3.5,0,0,0,3.5,72h39A3.5,3.5,0,0,0,46,68.5V29ZM2,68.5V19a3,3,0,0,1,3-3H29V26a4.72,4.72,0,0,0,5,5H44V68.5A1.5,1.5,0,0,1,42.5,70H3.5A1.5,1.5,0,0,1,2,68.5ZM31,16,44,29H34a3,3,0,0,1-3-3Z"/>\r\n    </symbol>\r\n    <symbol id="replace_std_locked" data-name="replace_std_locked" viewBox="0 0 69 72">\r\n      <path class="replace_green" d="M67,15H57a3,3,0,0,1-3-3V2ZM57,17a4.72,4.72,0,0,1-5-5V2H28a3,3,0,0,0-3,3V54.5A1.5,1.5,0,0,0,26.5,56h39A1.5,1.5,0,0,0,67,54.5V17Z"/>\r\n      <path class="solid-medium" d="M69,15a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,54,0H28a5,5,0,0,0-5,5V54.5A3.5,3.5,0,0,0,26.5,58h39A3.5,3.5,0,0,0,69,54.5V15ZM25,54.5V5a3,3,0,0,1,3-3H52V12a4.72,4.72,0,0,0,5,5H67V54.5A1.5,1.5,0,0,1,65.5,56h-39A1.5,1.5,0,0,1,25,54.5ZM54,2,67,15H57a3,3,0,0,1-3-3Z"/>\r\n      <path class="replace_red" d="M44,29H34a3,3,0,0,1-3-3V16ZM34,31a4.72,4.72,0,0,1-5-5V16H5a3,3,0,0,0-3,3V68.5A1.5,1.5,0,0,0,3.5,70h39A1.5,1.5,0,0,0,44,68.5V31Z"/>\r\n      <path class="solid-medium" d="M46,29a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,31,14H5a5,5,0,0,0-5,5V68.5A3.5,3.5,0,0,0,3.5,72h39A3.5,3.5,0,0,0,46,68.5V29ZM2,68.5V19a3,3,0,0,1,3-3H29V26a4.72,4.72,0,0,0,5,5H44V68.5A1.5,1.5,0,0,1,42.5,70H3.5A1.5,1.5,0,0,1,2,68.5ZM31,16,44,29H34a3,3,0,0,1-3-3Z"/>\r\n    </symbol>\r\n    <symbol id="replace_std_nolink" data-name="replace_std_nolink" viewBox="0 0 46 58">\r\n      <path class="replace_red" d="M44,15H34a3,3,0,0,1-3-3V2ZM34,17a4.72,4.72,0,0,1-5-5V2H5A3,3,0,0,0,2,5V54.5A1.5,1.5,0,0,0,3.5,56h39A1.5,1.5,0,0,0,44,54.5V17Z"/>\r\n      <path class="solid-medium" d="M46,15a2,2,0,0,0-.59-1.41l-13-13A2,2,0,0,0,31,0H5A5,5,0,0,0,0,5V54.5A3.5,3.5,0,0,0,3.5,58h39A3.5,3.5,0,0,0,46,54.5V15ZM2,54.5V5A3,3,0,0,1,5,2H29V12a4.72,4.72,0,0,0,5,5H44V54.5A1.5,1.5,0,0,1,42.5,56H3.5A1.5,1.5,0,0,1,2,54.5ZM31,2,44,15H34a3,3,0,0,1-3-3Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_upload" data-name="pcl_upload" viewBox="0 0 64 47">\r\n      <path class="pcl" d="M64,34.13a12.41,12.41,0,0,1-3.75,9.12,12.27,12.27,0,0,1-9,3.75H14.87a14.35,14.35,0,0,1-10.5-4.37A15.06,15.06,0,0,1,0,32a14.25,14.25,0,0,1,2.38-8,14.3,14.3,0,0,1,6.25-5.5,6.54,6.54,0,0,1-.13-1.38A17.14,17.14,0,0,1,35.13,2.87a16.5,16.5,0,0,1,6.25,7.76,8.28,8.28,0,0,1,5.5-2.13A8.86,8.86,0,0,1,53,11a8.88,8.88,0,0,1,2.5,6.12,8.41,8.41,0,0,1-1.37,4.63,11.49,11.49,0,0,1,7.12,4.5A11.81,11.81,0,0,1,64,34.13ZM42.63,24.5a1.06,1.06,0,0,0-.25-.75L30.63,12a1.93,1.93,0,0,0-.75-.25,1,1,0,0,0-.75.25L17.37,23.75a1.06,1.06,0,0,0-.24.75,1.27,1.27,0,0,0,.24.88,2.09,2.09,0,0,0,.76.25h7.5V37.38a1.85,1.85,0,0,0,.25.74,1,1,0,0,0,.74.26h6.51a1,1,0,0,0,.75-.26,2,2,0,0,0,.25-.74V25.63h7.5a1.09,1.09,0,0,0,.75-.38A1.06,1.06,0,0,0,42.63,24.5Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_download" data-name="pcl_download" viewBox="0 0 64 47">\r\n      <path class="pcl" d="M64,34.13a12.41,12.41,0,0,1-3.75,9.12,12.27,12.27,0,0,1-9,3.75H14.88a14.32,14.32,0,0,1-10.5-4.37A15,15,0,0,1,0,32a14.25,14.25,0,0,1,2.38-8,14.3,14.3,0,0,1,6.25-5.5,6.51,6.51,0,0,1-.13-1.37A17.12,17.12,0,0,1,35.13,2.88a16.43,16.43,0,0,1,6.25,7.75,8.28,8.28,0,0,1,5.5-2.13A8.86,8.86,0,0,1,53,11a8.88,8.88,0,0,1,2.5,6.13,8.4,8.4,0,0,1-1.37,4.62,11.49,11.49,0,0,1,7.12,4.5A11.81,11.81,0,0,1,64,34.13ZM42.63,26.75a1.22,1.22,0,0,0-.25-.87,1.93,1.93,0,0,0-.75-.25h-7.5V13.88a2,2,0,0,0-.25-.75,1,1,0,0,0-.75-.25h-6.5a1,1,0,0,0-.75.25,1.83,1.83,0,0,0-.25.75V25.63h-7.5a1.07,1.07,0,0,0-.75.37c-.17.08-.25.33-.25.75a1,1,0,0,0,.25.75L29.13,39.25a1,1,0,0,0,.75.25,1.93,1.93,0,0,0,.75-.25L42.38,27.5A2,2,0,0,0,42.63,26.75Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_edit" data-name="pcl_edit" viewBox="0 0 72 56.75">\r\n      <path class="pcl" d="M56.75,37.41v7.77A11.57,11.57,0,0,1,45.18,56.75H11.58a11.16,11.16,0,0,1-8.19-3.39A11.12,11.12,0,0,1,0,45.18V11.58A11.16,11.16,0,0,1,3.39,3.39,11.16,11.16,0,0,1,11.58,0h33.6a10.32,10.32,0,0,1,4.66,1,1.25,1.25,0,0,1,.84.85,2.56,2.56,0,0,1-.42,1.27l-2,2A1.65,1.65,0,0,1,47,5.36a13.53,13.53,0,0,0-1.83-.28H11.58a6.21,6.21,0,0,0-4.52,2,6.15,6.15,0,0,0-1.84,4.52v33.6a6.28,6.28,0,0,0,6.36,6.35h33.6a6.11,6.11,0,0,0,4.51-1.84,6.19,6.19,0,0,0,2-4.51V40.09a2.2,2.2,0,0,1,.28-1l2.69-2.55c.28-.47.75-.56,1.41-.28A1.27,1.27,0,0,1,56.75,37.41ZM52.94,7.62,64.52,19.34,37.41,46.45H25.84V34.73ZM35.86,42.49l4.66-4.65-6.21-6.08-4.66,4.66v2.26h4v3.81ZM53.51,13.55c-.47-.47-.9-.47-1.27,0L38.12,27.67a.9.9,0,1,0,1.27,1.27L53.51,14.82C54,14.45,54,14,53.51,13.55ZM70.87,13l-3.81,3.67L55.48,5.08l3.67-3.67A4.55,4.55,0,0,1,62,.28a3.68,3.68,0,0,1,2.68,1.13l6.21,6.07A4.53,4.53,0,0,1,72,10.31,3.68,3.68,0,0,1,70.87,13Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_folder" data-name="pcl_folder" viewBox="0 0 64 54.05">\r\n      <path class="pcl" d="M64,18.42v27a8.91,8.91,0,0,1-2.55,6,8.29,8.29,0,0,1-6.06,2.55H8.61A8.29,8.29,0,0,1,2.55,51.5a8.91,8.91,0,0,1-2.55-6V8.61A9,9,0,0,1,2.55,2.42,8.53,8.53,0,0,1,8.61,0H21A8.53,8.53,0,0,1,27,2.42a9,9,0,0,1,2.55,6.19V9.82H55.39a8.29,8.29,0,0,1,6.06,2.55A8.27,8.27,0,0,1,64,18.42Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_folder_open" data-name="pcl_folder_open" viewBox="0 0 71.95 54">\r\n      <path class="pcl" d="M58.88,18.38v6.18H27a17.37,17.37,0,0,0-7.61,1.87,20.11,20.11,0,0,0-6.32,4.45L.29,46.1,0,46.39V8.62a8.23,8.23,0,0,1,2.59-6A7.66,7.66,0,0,1,8.62,0h12.2a8.27,8.27,0,0,1,6,2.59,8.26,8.26,0,0,1,2.58,6V9.77H50.27a8.29,8.29,0,0,1,6,2.58A8.28,8.28,0,0,1,58.88,18.38ZM72,31.6a4.81,4.81,0,0,1-1.15,2.58L57.88,49.26a11.45,11.45,0,0,1-4.6,3.3A12.17,12.17,0,0,1,47.82,54H6.18a3.7,3.7,0,0,1-2.3-.57,1.58,1.58,0,0,1-1.15-1.58A3.72,3.72,0,0,1,4,49.26L16.8,34.18a15.88,15.88,0,0,1,4.6-3.45A14.33,14.33,0,0,1,27,29.44H68.65a6.72,6.72,0,0,1,2.3.43A1.87,1.87,0,0,1,72,31.6Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_star" data-name="pcl_star" viewBox="0 0 64 61.04">\r\n      <path class="pcl" d="M64,23.66a3,3,0,0,1-1.08,1.89L49.08,39.13,52.3,58.35V59a1.85,1.85,0,0,1-.4,1.34,1.22,1.22,0,0,1-1.08.67,4.11,4.11,0,0,1-1.61-.54L32,51.5l-17.21,9a4.11,4.11,0,0,1-1.61.54A1.31,1.31,0,0,1,12,60.37,1.85,1.85,0,0,1,11.56,59a1.52,1.52,0,0,1,.14-.68l3.22-19.22L.94,25.55A5.5,5.5,0,0,1,0,23.66c0-1,.72-1.56,2.15-1.74l19.36-2.83L30.12,1.61C30.66.54,31.28,0,32,0s1.34.54,1.88,1.61l8.61,17.48,19.36,2.83C63.28,22.1,64,22.68,64,23.66Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_info" data-name="pcl_info" viewBox="0 0 28.98 64">\r\n      <path class="pcl" d="M29,55.24v5.89a2.3,2.3,0,0,1-.8,1.91,2.9,2.9,0,0,1-2.07,1H2.87A2.86,2.86,0,0,1,.8,63,2.3,2.3,0,0,1,0,61.13V55.24a2.8,2.8,0,0,1,.8-2.07,3.62,3.62,0,0,1,2.07-.79H5.73V34.87H2.87a3.64,3.64,0,0,1-2.07-.8A2.8,2.8,0,0,1,0,32V26.11A2.8,2.8,0,0,1,.8,24a3.64,3.64,0,0,1,2.07-.8H20.38a2.61,2.61,0,0,1,1.91.8,2.88,2.88,0,0,1,.95,2.07V52.38h2.87a3.62,3.62,0,0,1,2.07.79A2.8,2.8,0,0,1,29,55.24ZM23.24,2.87v8.75a2.88,2.88,0,0,1-.95,2.07,2.61,2.61,0,0,1-1.91.8H8.6a2.6,2.6,0,0,1-1.91-.8,2.9,2.9,0,0,1-1-2.07V2.87A2.86,2.86,0,0,1,6.69.8,2.3,2.3,0,0,1,8.6,0H20.38a2.31,2.31,0,0,1,1.91.8A2.85,2.85,0,0,1,23.24,2.87Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_magnifier" data-name="pcl_magnifier" viewBox="0 0 64 63.87">\r\n      <path class="pcl" d="M64,58.89a4.94,4.94,0,0,1-8.47,3.5L42.35,49.21A25.93,25.93,0,0,1,27,54.05,25.57,25.57,0,0,1,16.54,51.9a25.57,25.57,0,0,1-8.61-5.78,25.57,25.57,0,0,1-5.78-8.61A28.18,28.18,0,0,1,0,27,26.83,26.83,0,0,1,2.15,16.54,28.09,28.09,0,0,1,7.93,7.8,27.33,27.33,0,0,1,16.54,2,27.52,27.52,0,0,1,27,0,28.59,28.59,0,0,1,37.65,2a29.49,29.49,0,0,1,8.6,5.78A27.91,27.91,0,0,1,52,16.54,26.65,26.65,0,0,1,54.18,27a25.93,25.93,0,0,1-4.84,15.32L62.52,55.53A4.63,4.63,0,0,1,64,58.89ZM44.24,27A17,17,0,0,0,27,9.82a16.46,16.46,0,0,0-12.11,5A16.71,16.71,0,0,0,9.82,27a16.56,16.56,0,0,0,5.1,12.1A16.58,16.58,0,0,0,27,44.24a16.71,16.71,0,0,0,12.23-5.11A16.47,16.47,0,0,0,44.24,27Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_view" data-name="pcl_view" viewBox="0 0 64 41.13">\r\n      <path class="pcl" d="M64,20.5a5.32,5.32,0,0,1-.75,2.5A36.15,36.15,0,0,1,49.88,36.13a34.45,34.45,0,0,1-35.75,0A36.1,36.1,0,0,1,.75,23,5.32,5.32,0,0,1,0,20.5a4.2,4.2,0,0,1,.75-2.37A37,37,0,0,1,14.13,4.88a35.18,35.18,0,0,1,35.75,0A37,37,0,0,1,63.25,18.13,4.2,4.2,0,0,1,64,20.5Zm-4.62,0A36.89,36.89,0,0,0,45.88,7.88,16.71,16.71,0,0,1,48,16a15.37,15.37,0,0,1-4.75,11.25,15.7,15.7,0,0,1-22.5,0A15.37,15.37,0,0,1,16,16a16.61,16.61,0,0,1,2.13-8.12A36.74,36.74,0,0,0,4.63,20.5,38.91,38.91,0,0,0,16.5,32.25,29.32,29.32,0,0,0,32,36.5a29.32,29.32,0,0,0,15.5-4.25A39.05,39.05,0,0,0,59.38,20.5ZM33.75,6.88a2.44,2.44,0,0,0-.5-1.25A1.67,1.67,0,0,0,32,5.13a10.37,10.37,0,0,0-7.62,3.12A10.57,10.57,0,0,0,21.13,16a1.31,1.31,0,0,0,.5,1.13,1.81,1.81,0,0,0,2.5,0,1.58,1.58,0,0,0,.5-1.13,6.85,6.85,0,0,1,2.12-5.25A7.2,7.2,0,0,1,32,8.5,1.7,1.7,0,0,0,33.25,8,1.56,1.56,0,0,0,33.75,6.88Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_matrix" data-name="pcl_matrix" viewBox="0 0 64 50.25">\r\n      <path class="pcl" d="M18.25,3.38v6.87a3,3,0,0,1-1,2.38,3,3,0,0,1-2.37,1H3.38a3,3,0,0,1-2.38-1,3.24,3.24,0,0,1-1-2.38V3.38A3.24,3.24,0,0,1,1,1,3,3,0,0,1,3.38,0h11.5a3,3,0,0,1,2.37,1A3,3,0,0,1,18.25,3.38Zm0,18.25V28.5a3.38,3.38,0,0,1-1,2.5,3.24,3.24,0,0,1-2.37,1H3.38A3.24,3.24,0,0,1,1,31a4,4,0,0,1-1-2.5V21.63a3.24,3.24,0,0,1,1-2.38,3.24,3.24,0,0,1,2.38-1h11.5a3.24,3.24,0,0,1,2.37,1A3,3,0,0,1,18.25,21.63Zm0,18.37v6.75a3.13,3.13,0,0,1-1,2.5,3.24,3.24,0,0,1-2.37,1H3.38a3.24,3.24,0,0,1-2.38-1,3.38,3.38,0,0,1-1-2.5V40a3.38,3.38,0,0,1,1-2.5,3.24,3.24,0,0,1,2.38-1h11.5a3.24,3.24,0,0,1,2.37,1A3.13,3.13,0,0,1,18.25,40ZM41.13,3.38v6.87a3.28,3.28,0,0,1-1,2.38,3,3,0,0,1-2.38,1H26.25a3,3,0,0,1-2.37-1,3.24,3.24,0,0,1-1-2.38V3.38a3.24,3.24,0,0,1,1-2.38,3,3,0,0,1,2.37-1h11.5a3,3,0,0,1,2.38,1A3.28,3.28,0,0,1,41.13,3.38Zm0,18.25V28.5a4,4,0,0,1-1,2.5,3.24,3.24,0,0,1-2.38,1H26.25a3.2,3.2,0,0,1-2.37-1,4,4,0,0,1-1-2.5V21.63a3.24,3.24,0,0,1,1-2.38,3.2,3.2,0,0,1,2.37-1h11.5a3.24,3.24,0,0,1,2.38,1A3.28,3.28,0,0,1,41.13,21.63Zm0,18.37v6.75a3.42,3.42,0,0,1-1,2.5,3.24,3.24,0,0,1-2.38,1H26.25a3.2,3.2,0,0,1-2.37-1,3.38,3.38,0,0,1-1-2.5V40a3.38,3.38,0,0,1,1-2.5,3.2,3.2,0,0,1,2.37-1h11.5a3.24,3.24,0,0,1,2.38,1A3.42,3.42,0,0,1,41.13,40ZM64,3.38v6.87a3.24,3.24,0,0,1-1,2.38,3,3,0,0,1-2.37,1H49.13a3,3,0,0,1-2.38-1,3,3,0,0,1-1-2.38V3.38a3,3,0,0,1,1-2.38,3,3,0,0,1,2.38-1h11.5A3,3,0,0,1,63,1,3.24,3.24,0,0,1,64,3.38Zm0,18.25V28.5A4,4,0,0,1,63,31a3.24,3.24,0,0,1-2.37,1H49.13a3.24,3.24,0,0,1-2.38-1,3.38,3.38,0,0,1-1-2.5V21.63a3,3,0,0,1,1-2.38,3.24,3.24,0,0,1,2.38-1h11.5A3.42,3.42,0,0,1,64,21.63ZM64,40v6.75a3.38,3.38,0,0,1-1,2.5,3.24,3.24,0,0,1-2.37,1H49.13a3.24,3.24,0,0,1-2.38-1,3.13,3.13,0,0,1-1-2.5V40a3.13,3.13,0,0,1,1-2.5,3.24,3.24,0,0,1,2.38-1h11.5a3.24,3.24,0,0,1,2.37,1A3.38,3.38,0,0,1,64,40Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_tag" data-name="pcl_tag" viewBox="0 0 64 51.1">\r\n      <path class="pcl" d="M51.1,30.23a3.85,3.85,0,0,1-1.27,3L33.26,49.83a4.26,4.26,0,0,1-6.07,0L3,25.68A10.34,10.34,0,0,1,.89,22.26,9.16,9.16,0,0,1,0,18.34V4.3a4.17,4.17,0,0,1,1.26-3A4.79,4.79,0,0,1,4.3,0h14a12,12,0,0,1,3.92.89A10.34,10.34,0,0,1,25.68,3L49.83,27.19A4.14,4.14,0,0,1,51.1,30.23Zm-36-19.35a4.28,4.28,0,0,0-1.26-3.16,4.14,4.14,0,0,0-3-1.27,4.71,4.71,0,0,0-3,1.27,4.84,4.84,0,0,0-1.27,3.16,4.71,4.71,0,0,0,1.27,3,4.71,4.71,0,0,0,3,1.27,4.14,4.14,0,0,0,3-1.27A4.13,4.13,0,0,0,15.05,10.88ZM64,30.23a4.08,4.08,0,0,1-1.14,3L46.29,49.83a4.25,4.25,0,0,1-3.16,1.27,3,3,0,0,1-1.9-.51,8.16,8.16,0,0,1-1.89-1.51L55.27,33.26a4.1,4.1,0,0,0,1.27-3,4.76,4.76,0,0,0-1.27-3L31.11,3A15.4,15.4,0,0,0,27.7.89,12,12,0,0,0,23.78,0h7.46a14.13,14.13,0,0,1,4.05.89A15.4,15.4,0,0,1,38.7,3L62.86,27.19A4.4,4.4,0,0,1,64,30.23Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_back" data-name="pcl_back" viewBox="0 0 64 57.13">\r\n      <path class="pcl" d="M64,37.75q0,6-4.5,16.13a1.61,1.61,0,0,0-.37.87.71.71,0,0,0-.19.31,1.69,1.69,0,0,1-.19.38.61.61,0,0,0-.12.31,3.49,3.49,0,0,1-.32.5.77.77,0,0,0-.18.38,1.2,1.2,0,0,1-1,.5,2.12,2.12,0,0,1-.88-.25,2.21,2.21,0,0,1-.25-1,2.59,2.59,0,0,1,.13-.88v-.87c.16-2.17.25-3.63.25-4.38a35.45,35.45,0,0,0-.63-6.5A16.18,16.18,0,0,0,54,38.38a12.37,12.37,0,0,0-2.87-3.63,16.32,16.32,0,0,0-3.75-2.5,19.59,19.59,0,0,0-4.75-1.5,32.75,32.75,0,0,0-5.5-.75c-2.5-.17-4.59-.25-6.25-.25h-8v9.13a2.26,2.26,0,0,1-.75,1.62,1.82,1.82,0,0,1-1.5.63A2,2,0,0,1,19,40.5L.63,22.25A2.82,2.82,0,0,1,0,20.63,2.85,2.85,0,0,1,.63,19L19,.75A2,2,0,0,1,20.63,0a1.9,1.9,0,0,1,1.5.75,1.81,1.81,0,0,1,.75,1.63V11.5h8q25.5,0,31.25,14.38A32.52,32.52,0,0,1,64,37.75Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_questio_mark" data-name="pcl_questio_mark" viewBox="0 0 64 64">\r\n      <path class="pcl" d="M64,32a32.2,32.2,0,0,1-4.57,16.43A30,30,0,0,1,48,59.86,32.87,32.87,0,0,1,32,64a32.2,32.2,0,0,1-16.43-4.57A30,30,0,0,1,4.14,48a33,33,0,0,1,0-32A37.11,37.11,0,0,1,16,4.14,32.87,32.87,0,0,1,32,0,32.2,32.2,0,0,1,48.43,4.57,30,30,0,0,1,59.86,16,32.87,32.87,0,0,1,64,32ZM48,24.29a13.22,13.22,0,0,0-2.29-6.86q-1.43-2.29-6-5.14a13.48,13.48,0,0,0-6.85-1.72q-10,0-15.43,9.14c-.57.39-.43,1,.43,1.72l5.43,3.71a1.33,1.33,0,0,0,1,.43l.85-.43c.57-.76,1.22-1.54,1.93-2.35s1.12-1.27,1.22-1.36A9.5,9.5,0,0,1,32,20.57a8.14,8.14,0,0,1,4.14.86,2.62,2.62,0,0,1,1.29,2.28,4.63,4.63,0,0,1-.86,2.86,7.51,7.51,0,0,1-2.71,1.72Q30,30.42,28.86,32a6.94,6.94,0,0,0-2.29,5v1.86l.43.85a.47.47,0,0,1,.43.29c.19.19.33.29.43.29h8.28c.1,0,.24-.1.43-.29s.33-.29.43-.29c.29,0,.43-.28.43-.85a2.85,2.85,0,0,1,1-2.29,4.23,4.23,0,0,1,2.28-1.86,6,6,0,0,1,1-.71,6.56,6.56,0,0,0,.86-.57c.1,0,.33-.19.72-.57a6.73,6.73,0,0,1,1-.86l1.85-1.86a8.16,8.16,0,0,1,.72-1.35,7.53,7.53,0,0,0,.71-1.36A7.76,7.76,0,0,0,48,24.29ZM37.43,43.86A1.23,1.23,0,0,0,37,43c0-.29-.29-.43-.86-.43H27.86a.81.81,0,0,0-.43.22A.86.86,0,0,1,27,43c-.29,0-.43.29-.43.86v8.28A1.23,1.23,0,0,0,27,53c0,.29.29.43.86.43h8.28a.81.81,0,0,0,.43-.22A.86.86,0,0,1,37,53c.29,0,.43-.29.43-.86Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_comment" data-name="pcl_comment" viewBox="0 0 64 54.88">\r\n      <path class="pcl" d="M64,22.88a17.58,17.58,0,0,1-4.25,11.5,28.29,28.29,0,0,1-11.62,8.25A41,41,0,0,1,32,45.75c-1.08,0-2.79-.08-5.12-.25a41.36,41.36,0,0,1-16.5,8.63c-1,.25-2.34.5-4,.75-.59,0-1-.13-1.13-.38a1.26,1.26,0,0,1-.62-1c-.09-.08-.09-.25,0-.5v-.25c0-.08.08-.21.25-.37L5,52l.25-.25.38-.37,1-1.25,1.25-1.25c.08-.09.25-.3.5-.63s.45-.62.62-.87c.42-.59.79-1.17,1.13-1.75.16-.34.5-1.05,1-2.13a12.55,12.55,0,0,0,.56-1.44l.44-1.31a25.69,25.69,0,0,1-8.88-7.87A17.41,17.41,0,0,1,0,22.88,17.7,17.7,0,0,1,2.5,14,24.7,24.7,0,0,1,9.38,6.75,30.51,30.51,0,0,1,19.63,1.88,40.41,40.41,0,0,1,32,0,40.84,40.84,0,0,1,48.13,3.13a28.29,28.29,0,0,1,11.62,8.25A17.56,17.56,0,0,1,64,22.88Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_photo" data-name="pcl_photo" viewBox="0 0 64 55.5">\r\n      <path class="pcl" d="M55.5,8.5a8.18,8.18,0,0,1,6,2.5A8.88,8.88,0,0,1,64,17.13V47a8.72,8.72,0,0,1-2.5,6,8.18,8.18,0,0,1-6,2.5H8.5a8.18,8.18,0,0,1-6-2.5A8.72,8.72,0,0,1,0,47V17.13A8.88,8.88,0,0,1,2.5,11a8.18,8.18,0,0,1,6-2.5H16L17.75,4A5,5,0,0,1,20,1.25,5.64,5.64,0,0,1,23.5,0h17A5.64,5.64,0,0,1,44,1.25,5,5,0,0,1,46.25,4L48,8.5ZM32,47a13.86,13.86,0,0,0,10.5-4.5A14,14,0,0,0,46.88,32,14,14,0,0,0,42.5,21.5,14,14,0,0,0,32,17.13,14,14,0,0,0,21.5,21.5,14,14,0,0,0,17.13,32,14,14,0,0,0,21.5,42.5,13.86,13.86,0,0,0,32,47ZM25.25,25.25a9.37,9.37,0,0,1,13.5,0,9.35,9.35,0,0,1,0,13.5,9.35,9.35,0,0,1-13.5,0,9.37,9.37,0,0,1,0-13.5Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_folder_add" data-name="pcl_folder_add" viewBox="0 0 64 58">\r\n      <path class="pcl" d="M32.69,36.44A18.66,18.66,0,0,0,42.75,40V52.38A5.34,5.34,0,0,1,37.25,58H5.63a5.19,5.19,0,0,1-4-1.62,5.17,5.17,0,0,1-1.63-4V33.63a5.4,5.4,0,0,1,1.63-4,5.4,5.4,0,0,1,4-1.63h20A20.9,20.9,0,0,0,32.69,36.44ZM17.63,26.38h-12V26a2.45,2.45,0,0,1,1.12-2.37,3.57,3.57,0,0,1,2.5-1.25H14c1.25,0,2,.41,2.38,1.25A3.22,3.22,0,0,1,17.63,26ZM24,20A19.64,19.64,0,0,1,44,0,19.64,19.64,0,0,1,64,20,19.64,19.64,0,0,1,44,40,19.64,19.64,0,0,1,24,20ZM44,36a15.37,15.37,0,0,0,11.25-4.75A15.37,15.37,0,0,0,60,20,15.37,15.37,0,0,0,55.25,8.75a15.7,15.7,0,0,0-22.5,0A15.37,15.37,0,0,0,28,20a15.37,15.37,0,0,0,4.75,11.25A15.37,15.37,0,0,0,44,36ZM55.25,18.38a1.33,1.33,0,0,0-.5-1.13,1.32,1.32,0,0,0-1.12-.5H47.25V10.38a1.33,1.33,0,0,0-.5-1.13,1.32,1.32,0,0,0-1.12-.5H42.38a1.33,1.33,0,0,0-1.13.5,1.33,1.33,0,0,0-.5,1.13v6.37H34.38a1.33,1.33,0,0,0-1.13.5,1.33,1.33,0,0,0-.5,1.13v3.25a1.32,1.32,0,0,0,.5,1.12,1.33,1.33,0,0,0,1.13.5h6.37v6.38a1.32,1.32,0,0,0,.5,1.12,1.33,1.33,0,0,0,1.13.5h3.25a1.72,1.72,0,0,0,1.62-1.62V23.25h6.38a1.32,1.32,0,0,0,1.12-.5,1.32,1.32,0,0,0,.5-1.12Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_folder_star" data-name="pcl_folder_star" viewBox="0 0 64 58">\r\n      <path class="pcl" d="M32.69,36.44A18.66,18.66,0,0,0,42.75,40V52.38A5.34,5.34,0,0,1,37.25,58H5.63a5.19,5.19,0,0,1-4-1.62,5.17,5.17,0,0,1-1.63-4V33.63a5.4,5.4,0,0,1,1.63-4,5.4,5.4,0,0,1,4-1.63h20A20.9,20.9,0,0,0,32.69,36.44ZM17.63,26.38h-12V26a2.45,2.45,0,0,1,1.12-2.37,3.57,3.57,0,0,1,2.5-1.25H14c1.25,0,2,.41,2.38,1.25A3.22,3.22,0,0,1,17.63,26ZM24,20A19.64,19.64,0,0,1,44,0,19.64,19.64,0,0,1,64,20,19.64,19.64,0,0,1,44,40,19.64,19.64,0,0,1,24,20ZM44,36a15.37,15.37,0,0,0,11.25-4.75A15.37,15.37,0,0,0,60,20,15.37,15.37,0,0,0,55.25,8.75a15.7,15.7,0,0,0-22.5,0A15.37,15.37,0,0,0,28,20a15.37,15.37,0,0,0,4.75,11.25A15.37,15.37,0,0,0,44,36ZM54.38,17.63l-4.75,4.75,1.12,6.87V30H50l-6-3.25L37.63,30h-.88v-.75L38,22.75,33.25,18a1,1,0,0,1-.5-.75.77.77,0,0,1,.88-.87l6-1.13,3.12-6a1.39,1.39,0,0,1,.88-.5c.5,0,.75.17.75.5l3.25,6,6.75.75a1.31,1.31,0,0,0,.37.25,1.56,1.56,0,0,1,.38.25.37.37,0,0,1,.12.25C55.25,17.08,55,17.38,54.38,17.63Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_folder_delete" data-name="pcl_folder_delete" viewBox="0 0 64 58">\r\n      <path class="pcl" d="M32.69,36.44A18.66,18.66,0,0,0,42.75,40V52.38A5.34,5.34,0,0,1,37.25,58H5.63a5.19,5.19,0,0,1-4-1.62,5.17,5.17,0,0,1-1.63-4V33.63a5.4,5.4,0,0,1,1.63-4,5.4,5.4,0,0,1,4-1.63h20A20.9,20.9,0,0,0,32.69,36.44ZM17.63,26.38h-12V26a2.45,2.45,0,0,1,1.12-2.37,3.57,3.57,0,0,1,2.5-1.25H14c1.25,0,2,.41,2.38,1.25A3.22,3.22,0,0,1,17.63,26ZM24,20A19.64,19.64,0,0,1,44,0,19.64,19.64,0,0,1,64,20,19.64,19.64,0,0,1,44,40,19.64,19.64,0,0,1,24,20ZM44,36a15.37,15.37,0,0,0,11.25-4.75A15.37,15.37,0,0,0,60,20,15.37,15.37,0,0,0,55.25,8.75a15.7,15.7,0,0,0-22.5,0A15.37,15.37,0,0,0,28,20a15.37,15.37,0,0,0,4.75,11.25A15.37,15.37,0,0,0,44,36Zm4.75-16,4.88-4.75A2,2,0,0,0,54,14a2,2,0,0,0-.37-1.25l-2.38-2.37a2.25,2.25,0,0,0-2.5,0L44,15.25l-4.75-4.87a2.25,2.25,0,0,0-2.5,0l-2.37,2.37A2,2,0,0,0,34,14a1.91,1.91,0,0,0,.19.56,2,2,0,0,1,.19.69L39.25,20l-4.87,4.75A2,2,0,0,0,34,26a1.91,1.91,0,0,0,.19.56,2,2,0,0,1,.19.69l2.37,2.38A2,2,0,0,0,38,30a1.91,1.91,0,0,0,.56-.19,2,2,0,0,1,.69-.18L44,24.75l4.75,4.88a2.3,2.3,0,0,0,2.5,0l2.38-2.38a2.3,2.3,0,0,0,0-2.5Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_no_download" data-name="pcl_no_download" viewBox="0 0 64 64">\r\n      <path class="pcl" d="M64,32a26.56,26.56,0,0,1-2.71,12.29,39,39,0,0,1-6.86,10.14,34,34,0,0,1-10.14,6.86A26.56,26.56,0,0,1,32,64a31.63,31.63,0,0,1-12.86-2.29,41.22,41.22,0,0,1-10-6.85A27.13,27.13,0,0,1,2.71,44.29,26.56,26.56,0,0,1,0,32,28.89,28.89,0,0,1,2.71,19.71,26.74,26.74,0,0,1,9.14,9.57,28.12,28.12,0,0,1,19.71,2.71,26.56,26.56,0,0,1,32,0,26.56,26.56,0,0,1,44.29,2.71,39,39,0,0,1,54.43,9.57a34,34,0,0,1,6.86,10.14A28.89,28.89,0,0,1,64,32ZM44.29,12.86A22.58,22.58,0,0,0,32,9.14q-4.58,0-11.43,3.15a17.51,17.51,0,0,0-8.28,8.28A21.46,21.46,0,0,0,9.14,32a19.7,19.7,0,0,0,4.15,12.29ZM14.14,32.43a1.79,1.79,0,0,1-.43-1.29,2.77,2.77,0,0,1,.43-1.85L17.86,26c0-.29.43-.43,1.28-.43a1.94,1.94,0,0,1,1.43.43l3.72,3.71-6.43,6.43ZM54.86,32a22.58,22.58,0,0,0-3.72-12.29L19.71,51.14A22.58,22.58,0,0,0,32,54.86a25,25,0,0,0,8.71-1.43A24.13,24.13,0,0,0,53,41.14,32.56,32.56,0,0,0,54.86,32ZM27.43,26.57V15.14a13.45,13.45,0,0,1,.86-1.85c0-.29.47-.43,1.42-.43h4.58a1,1,0,0,1,.42.14c.19.1.41.21.65.36a3.94,3.94,0,0,0,.78.35c.29,0,.43.48.43,1.43v2.29Zm22.43,3.14c.28,0,.43.48.43,1.43a2.49,2.49,0,0,1-.86,1.72l-16,16c0,.38-.48.57-1.43.57a1.94,1.94,0,0,1-1.43-.57l-2.71-2.72L47.14,27Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_trash" data-name="pcl_trash" viewBox="0 0 58.74 64">\r\n      <path class="pcl" d="M58.74,12v2.63a2.38,2.38,0,0,1-.29,1,2.31,2.31,0,0,1-1,.3H53.48v39.6a9.11,9.11,0,0,1-2,6A5.69,5.69,0,0,1,46.76,64H12a5.79,5.79,0,0,1-4.67-2.34,9.07,9.07,0,0,1-2-6V15.93H1.32a2.31,2.31,0,0,1-1-.3,2.38,2.38,0,0,1-.29-1V12a2.42,2.42,0,0,1,.29-1,2.28,2.28,0,0,1,1-.29H14.17l2.93-7A6,6,0,0,1,19.43,1a5.52,5.52,0,0,1,3.22-1H36.09a5.52,5.52,0,0,1,3.22,1,6,6,0,0,1,2.33,2.63l2.93,7H57.42a2.28,2.28,0,0,1,1,.29A2.42,2.42,0,0,1,58.74,12ZM48.07,55.53V15.93H10.67v39.6A7.72,7.72,0,0,0,11,57.28a3,3,0,0,0,.58,1l.44.44H46.76l.44-.44a3,3,0,0,0,.58-1A7.72,7.72,0,0,0,48.07,55.53ZM21.33,25.28V49.39a1.14,1.14,0,0,1-.29.87,1.36,1.36,0,0,1-1,.44H17.39a1.36,1.36,0,0,1-1-.44q-.3-.13-.3-.87V25.28c0-.49.1-.78.3-.88a1.4,1.4,0,0,1,1-.44H20a1.4,1.4,0,0,1,1,.44A1.18,1.18,0,0,1,21.33,25.28ZM20,10.67h18.7l-2-5A3.85,3.85,0,0,0,36,5.26H22.79a3.53,3.53,0,0,0-.73.44ZM32,25.28V49.39a1.18,1.18,0,0,1-.29.87,1.39,1.39,0,0,1-1,.44H28.05a1.38,1.38,0,0,1-1-.44,1.18,1.18,0,0,1-.29-.87V25.28A1.23,1.23,0,0,1,27,24.4a1.42,1.42,0,0,1,1-.44h2.63a1.42,1.42,0,0,1,1,.44A1.23,1.23,0,0,1,32,25.28Zm10.67,0V49.39q0,.73-.3.87a1.36,1.36,0,0,1-1,.44H38.72a1.36,1.36,0,0,1-1-.44,1.14,1.14,0,0,1-.29-.87V25.28a1.18,1.18,0,0,1,.29-.88,1.4,1.4,0,0,1,1-.44h2.63a1.4,1.4,0,0,1,1,.44C42.57,24.5,42.67,24.79,42.67,25.28Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_printer_delete" data-name="pcl_printer_delete" viewBox="0 0 64 59.88">\r\n      <path class="pcl" d="M21.46,47.91H0V8A9.59,9.59,0,0,1,1.37,3.49,11.42,11.42,0,0,1,3.62,1.37,7.56,7.56,0,0,1,8,0h28a7.78,7.78,0,0,1,4.49,1.37,8.42,8.42,0,0,1,2.12,2.12A7.71,7.71,0,0,1,43.91,8v8a7.94,7.94,0,0,0-1.49.12H41.17c-.67.09-1.75.21-3.24.38V16H28v4H24v4H20V20H16V16H6v26h6V28h9.73a19.29,19.29,0,0,0-1.62,8v4A23.59,23.59,0,0,0,21.46,47.91ZM6,12H37.93V8a1.76,1.76,0,0,0-2-2H8a2,2,0,0,0-1.37.56A1.85,1.85,0,0,0,6,8ZM64,39.92a19.6,19.6,0,0,1-2.74,10A21.11,21.11,0,0,1,54,57.26a19.84,19.84,0,0,1-10,2.62,20.54,20.54,0,0,1-10.11-2.62A21,21,0,0,1,26.7,49.9a19.4,19.4,0,0,1-2.62-10,19.42,19.42,0,0,1,2.62-10,18.87,18.87,0,0,1,7.23-7.23A19.44,19.44,0,0,1,44,20a19.19,19.19,0,0,1,10,2.75,19,19,0,0,1,7.24,7.23A21.84,21.84,0,0,1,64,39.92Zm-14.85,0,4.74-4.74a1.52,1.52,0,0,0,.5-1.12,1.67,1.67,0,0,0-.5-1.25l-2.37-2.37a1.55,1.55,0,0,0-1.12-.5,2.47,2.47,0,0,0-1.25.5l-4.61,4.74L39.8,30.44a2.46,2.46,0,0,0-1.13-.5,2.44,2.44,0,0,0-1.24.5l-2.37,2.37a1.67,1.67,0,0,0-.5,1.25,1.52,1.52,0,0,0,.5,1.12l4.74,4.74-4.74,4.74a1.31,1.31,0,0,0-.5,1.13,1.66,1.66,0,0,0,.5,1.24l2.37,2.25a1.7,1.7,0,0,0,1.24.5,1.58,1.58,0,0,0,1.13-.5l4.74-4.62,4.61,4.62a1.72,1.72,0,0,0,1.25.5,1.32,1.32,0,0,0,1.12-.5L53.89,47a1.66,1.66,0,0,0,.5-1.24,1.31,1.31,0,0,0-.5-1.13Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_printer_question" data-name="pcl_printer_question" viewBox="0 0 64 60">\r\n      <path class="pcl" d="M21.38,48H0V8A7.72,7.72,0,0,1,1.38,3.5,8.54,8.54,0,0,1,3.5,1.38,7.72,7.72,0,0,1,8,0H36a6.87,6.87,0,0,1,4.38,1.38A11.13,11.13,0,0,1,42.63,3.5,7.79,7.79,0,0,1,44,8v8a6.2,6.2,0,0,0-1.5.13H41.25L38,16.5V16H28v4H24v4H20V20H16V16H6V42h6V28h9.63A21,21,0,0,0,20,36a15.3,15.3,0,0,0,.13,2.25A8.84,8.84,0,0,0,20,40,23.66,23.66,0,0,0,21.38,48ZM6,12H38V8a1.77,1.77,0,0,0-2-2H8A1.77,1.77,0,0,0,6,8ZM64,40a19.47,19.47,0,0,1-2.62,10A21,21,0,0,1,54,57.38,19.47,19.47,0,0,1,44,60a19.47,19.47,0,0,1-10-2.62A20.92,20.92,0,0,1,26.63,50,19.48,19.48,0,0,1,24,40a19.48,19.48,0,0,1,2.63-10A19.76,19.76,0,0,1,34,22.75,18.43,18.43,0,0,1,44,20a18.43,18.43,0,0,1,10,2.75A19.86,19.86,0,0,1,61.38,30,19.47,19.47,0,0,1,64,40ZM53.38,35a7.39,7.39,0,0,0-.88-3.25,12.46,12.46,0,0,0-2.12-2.62,13.69,13.69,0,0,0-3-1.63A8.13,8.13,0,0,0,44,26.88a10.16,10.16,0,0,0-9.37,5.37.58.58,0,0,0-.13.63.73.73,0,0,0,.25.5l3.38,2.5a.74.74,0,0,0,.5.12.83.83,0,0,0,.62-.25,8.34,8.34,0,0,1,2.25-2.37,3.53,3.53,0,0,1,2.13-.63,4.15,4.15,0,0,1,2.25.63,2,2,0,0,1,1,1.5,2.19,2.19,0,0,1-.63,1.62,3.56,3.56,0,0,1-1.62,1.13,9.31,9.31,0,0,0-3,2.25A4.46,4.46,0,0,0,40.38,43v1a1,1,0,0,0,.25.75.49.49,0,0,0,.5.38H46c.17,0,.33-.13.5-.38.17-.08.25-.29.25-.62a3.46,3.46,0,0,1,.63-1.38,3.81,3.81,0,0,1,1.37-1.25A8.07,8.07,0,0,1,50,40.75a3.34,3.34,0,0,1,.5-.37,5.13,5.13,0,0,0,.63-.5,3.38,3.38,0,0,0,1.12-1.25,4.4,4.4,0,0,0,.75-1.5A6.76,6.76,0,0,0,53.38,35Zm-6.5,12.25a.75.75,0,0,0-.25-.5c-.09-.17-.3-.25-.63-.25H41.13a.88.88,0,0,0-.75.75v4.88c0,.33.08.54.25.62a.69.69,0,0,0,.5.25H46a.85.85,0,0,0,.63-.25.87.87,0,0,0,.25-.62Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_printer_check" data-name="pcl_printer_check" viewBox="0 0 64 60">\r\n      <path class="pcl" d="M21.38,48H0V8A8.14,8.14,0,0,1,1.38,3.5,8.26,8.26,0,0,1,3.5,1.38,7.72,7.72,0,0,1,8,0H36a7.58,7.58,0,0,1,4.38,1.38A8.43,8.43,0,0,1,42.5,3.5,7.72,7.72,0,0,1,43.88,8v8a7.15,7.15,0,0,0-1.5.13H41.13c-.34.08-.86.16-1.57.25A15.58,15.58,0,0,1,38,16.5V16H28v4H24v4H20V20H16V16H6V42h6V28h9.63A19.23,19.23,0,0,0,20,36v4A23.66,23.66,0,0,0,21.38,48ZM6,12H38V8a1.77,1.77,0,0,0-2-2H8A1.77,1.77,0,0,0,6,8ZM64,40A20.61,20.61,0,0,1,54,57.38,20.38,20.38,0,0,1,44,60a20.12,20.12,0,0,1-10.12-2.62A21,21,0,0,1,26.63,50,19.48,19.48,0,0,1,24,40a19.48,19.48,0,0,1,2.63-10,18.84,18.84,0,0,1,7.25-7.25,19.78,19.78,0,0,1,20.12,0A18.91,18.91,0,0,1,61.25,30,19.7,19.7,0,0,1,64,40Zm-6.62-4.25A1.52,1.52,0,0,0,57,34.63l-2.37-2.38a1.72,1.72,0,0,0-1.25-.5,1.57,1.57,0,0,0-1.13.5L41.63,42.88l-5.88-6a2.38,2.38,0,0,0-1.25-.5,2.33,2.33,0,0,0-1.12.5L31,39.25a1.7,1.7,0,0,0-.5,1.25,1.33,1.33,0,0,0,.5,1.13l9.38,9.5a2.44,2.44,0,0,0,1.25.5,1.56,1.56,0,0,0,1.12-.5L56.88,37A1.7,1.7,0,0,0,57.38,35.75Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_flag" data-name="pcl_flag" viewBox="0 0 64 56.74">\r\n      <path class="pcl" d="M9.46,4.66A4.78,4.78,0,0,1,7.13,8.81V55.58a1.26,1.26,0,0,1-.39.91c-.09.17-.35.25-.78.25H3.63a1.29,1.29,0,0,1-.91-.25,1.3,1.3,0,0,1-.26-.91V8.81A4.73,4.73,0,0,1,0,4.66,4.6,4.6,0,0,1,1.43,1.3,4.51,4.51,0,0,1,4.79,0,4.46,4.46,0,0,1,9.46,4.66ZM64,7V35.24a1.66,1.66,0,0,1-.52,1.42,2.64,2.64,0,0,1-1.42,1Q54.16,42,48.45,42a14.6,14.6,0,0,1-4.66-.78,24,24,0,0,1-4-1.82A16.38,16.38,0,0,0,35.5,37.7a18.42,18.42,0,0,0-5.18-.91q-7.12,0-17.23,5.44a2.37,2.37,0,0,1-1.17.39,2.13,2.13,0,0,1-1.69-.77,2.13,2.13,0,0,1-.77-1.69V12.7a2.3,2.3,0,0,1,1.16-1.95,27.23,27.23,0,0,1,3-1.68q9.07-4.41,15.55-4.41a25.86,25.86,0,0,1,7.38,1A61.67,61.67,0,0,1,44.7,9.07a8.33,8.33,0,0,0,3.24.65,15.78,15.78,0,0,0,4.4-.78,20.62,20.62,0,0,0,4-1.68c.17-.09.64-.37,1.42-.85a13.2,13.2,0,0,1,1.82-1,6.15,6.15,0,0,1,2.07-.78,2.35,2.35,0,0,1,1.68.78A2.13,2.13,0,0,1,64,7Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_users" data-name="pcl_users" viewBox="0 0 64 59.75">\r\n      <path class="pcl" d="M19.75,29.88a11.49,11.49,0,0,0-8.87,4.25H6.5a7.22,7.22,0,0,1-4.62-1.38A4.53,4.53,0,0,1,0,28.88Q0,17.12,4.13,17.13a4.13,4.13,0,0,1,1.5.62,11.89,11.89,0,0,0,3.25,1.5,13.65,13.65,0,0,0,3.87.63,14.16,14.16,0,0,0,4.5-.75,17.07,17.07,0,0,0-.12,2.25A15.23,15.23,0,0,0,19.75,29.88ZM21.38,8.5a9,9,0,0,1-2.5,6.13,9,9,0,0,1-6.13,2.5,8.22,8.22,0,0,1-6-2.5A8.9,8.9,0,0,1,4.25,8.5a8.18,8.18,0,0,1,2.5-6,8.18,8.18,0,0,1,6-2.5,8.9,8.9,0,0,1,6.13,2.5A8.22,8.22,0,0,1,21.38,8.5ZM55.5,51.13A8,8,0,0,1,53,57.38a8.62,8.62,0,0,1-6.37,2.37H17.38A8.63,8.63,0,0,1,11,57.38a8,8,0,0,1-2.5-6.25c0-.42,0-1,.06-1.82s.07-1.35.07-1.68c.16-1.5.33-2.71.5-3.63A32.56,32.56,0,0,1,10,40.38c.17-.42.63-1.5,1.38-3.25A15.19,15.19,0,0,1,13.5,34.5a9,9,0,0,1,2.88-1.87A11.71,11.71,0,0,1,20.13,32a4.58,4.58,0,0,1,1.37.75c1,.67,1.79,1.21,2.38,1.63a15.41,15.41,0,0,0,3.62,1.5,13.88,13.88,0,0,0,9,0,15.61,15.61,0,0,0,3.63-1.5c.58-.42,1.37-1,2.37-1.63A4.46,4.46,0,0,1,43.88,32a11.71,11.71,0,0,1,3.75.63A9.09,9.09,0,0,1,50.5,34.5a15.74,15.74,0,0,1,2.13,2.63c.75,1.75,1.2,2.83,1.37,3.25A34.44,34.44,0,0,1,54.88,44c.16.92.33,2.13.5,3.63q0,.49.06,1.68C55.48,50.1,55.5,50.71,55.5,51.13ZM44.75,21.38a12.27,12.27,0,0,1-3.75,9,12.27,12.27,0,0,1-9,3.75,12.27,12.27,0,0,1-9-3.75,12.27,12.27,0,0,1-3.75-9A12.42,12.42,0,0,1,23,12.25,12.27,12.27,0,0,1,32,8.5a12.27,12.27,0,0,1,9,3.75A12.42,12.42,0,0,1,44.75,21.38Zm15-12.88a8.9,8.9,0,0,1-2.5,6.13,8.22,8.22,0,0,1-6,2.5,8.9,8.9,0,0,1-6.12-2.5,8.9,8.9,0,0,1-2.5-6.13,8.18,8.18,0,0,1,2.5-6A8.86,8.86,0,0,1,51.25,0a8.18,8.18,0,0,1,6,2.5A8.18,8.18,0,0,1,59.75,8.5ZM64,28.88a4.52,4.52,0,0,1-1.87,3.87,7.27,7.27,0,0,1-4.63,1.38H53.13a11.53,11.53,0,0,0-8.88-4.25,15.24,15.24,0,0,0,2.63-8.5,16.83,16.83,0,0,0-.13-2.25,14.16,14.16,0,0,0,4.5.75,13.77,13.77,0,0,0,3.88-.63,12,12,0,0,0,3.25-1.5,4.13,4.13,0,0,1,1.5-.62Q64,17.13,64,28.88Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_mixer" data-name="pcl_mixer" viewBox="0 0 58.97 64">\r\n      <path class="pcl" d="M10.32,12.9A3.94,3.94,0,0,1,9,15.74,3.94,3.94,0,0,1,6.19,17H4.13a4,4,0,0,1-2.84-1.29A3.94,3.94,0,0,1,0,12.9V10.84A4,4,0,0,1,1.29,8,4,4,0,0,1,4.13,6.71H6.19A3.94,3.94,0,0,1,9,8a4,4,0,0,1,1.29,2.84Zm0,20.65a4,4,0,0,1-1.22,3,4.11,4.11,0,0,1-2.91,1.16H4.13a4.07,4.07,0,0,1-2.9-1.16,3.92,3.92,0,0,1-1.23-3V31.48a3.89,3.89,0,0,1,1.23-3,4,4,0,0,1,2.9-1.17H6.19A4.08,4.08,0,0,1,9.1,28.52a3.91,3.91,0,0,1,1.22,3ZM4.13,48a4.07,4.07,0,0,0-2.9,1.16,3.91,3.91,0,0,0-1.23,3v2.06a3.89,3.89,0,0,0,1.23,3,4,4,0,0,0,2.9,1.16H6.19A4.07,4.07,0,0,0,9.1,57.16a3.92,3.92,0,0,0,1.22-3V52.13a3.93,3.93,0,0,0-1.22-3A4.11,4.11,0,0,0,6.19,48ZM58.58,11.61a7.32,7.32,0,0,0-1.29-4.13,11.11,11.11,0,0,0-4.13-5.35A11,11,0,0,0,46.58,0a10.77,10.77,0,0,0-6.52,2.13,12.15,12.15,0,0,0-4.19,5.35H17.29a4,4,0,0,0-2.84,1.29,4,4,0,0,0-1.29,2.84,3.94,3.94,0,0,0,1.29,2.84,4,4,0,0,0,2.84,1.29H35.48a12.13,12.13,0,0,0,4.2,5.36,10.71,10.71,0,0,0,6.51,2.13A10.58,10.58,0,0,0,52.71,21a12.24,12.24,0,0,0,4.19-5.68C58,14.84,58.58,13.59,58.58,11.61ZM54.45,28.13H36.26a11,11,0,0,0-4.2-5,11.46,11.46,0,0,0-6.51-1.94,11.35,11.35,0,0,0-10.71,7.36c-1.12.51-1.68,1.76-1.68,3.74a5.12,5.12,0,0,0,1.68,4.13A12.15,12.15,0,0,0,19,41.74a11,11,0,0,0,13,0,12.1,12.1,0,0,0,4.2-5.35H54.45a4,4,0,0,0,2.84-7A4,4,0,0,0,54.45,28.13Zm3.81,26.71A6.74,6.74,0,0,0,59,52.13c0-2-.56-3.23-1.68-3.74A11.55,11.55,0,0,0,46.58,40.9,10.77,10.77,0,0,0,40.06,43a12.18,12.18,0,0,0-4.19,5.36H17.29a4,4,0,0,0-2.84,1.29,3.76,3.76,0,0,0,0,5.67,3.93,3.93,0,0,0,2.84,1.3H35.48a11.46,11.46,0,0,0,21.42,0C57.33,56.47,57.78,55.87,58.26,54.84ZM25.55,37.68a4.47,4.47,0,0,1-3.49-1.62,5.84,5.84,0,0,1,0-7.61,4.49,4.49,0,0,1,3.49-1.61,5.19,5.19,0,0,1,3.74,1.68,5,5,0,0,1,0,7.48A5.19,5.19,0,0,1,25.55,37.68ZM46.19,58.32a5.73,5.73,0,1,1,3.75-1.67A5.21,5.21,0,0,1,46.19,58.32Zm4-42.9A4.6,4.6,0,0,1,46.58,17a5.09,5.09,0,0,1-3.68-1.61,5.23,5.23,0,0,1-1.61-3.81,5.54,5.54,0,0,1,1.42-3.8,4.46,4.46,0,0,1,3.48-1.62,5.19,5.19,0,0,1,3.75,1.68,5.21,5.21,0,0,1,1.67,3.74A5.56,5.56,0,0,1,50.19,15.42Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_phone" data-name="pcl_phone" viewBox="0 0 38.47 64">\r\n      <path class="pcl" d="M38.47,6.47V57.53A6.56,6.56,0,0,1,32,64H6.47a6.24,6.24,0,0,1-4.55-1.92A6.24,6.24,0,0,1,0,57.53V6.47A6.24,6.24,0,0,1,1.92,1.92,6.24,6.24,0,0,1,6.47,0H32a6.24,6.24,0,0,1,4.55,1.92A6.24,6.24,0,0,1,38.47,6.47Zm-4.9,43.19V14.34a2.61,2.61,0,0,0-.35-1.05A1.66,1.66,0,0,0,32,12.77H6.47a1.66,1.66,0,0,0-1.22.52,2.61,2.61,0,0,0-.35,1.05V49.66a2.61,2.61,0,0,0,.35,1.05,1.66,1.66,0,0,0,1.22.52H32a1.66,1.66,0,0,0,1.22-.52A2.61,2.61,0,0,0,33.57,49.66ZM24,7.17a.62.62,0,0,0-.7-.7h-8a.62.62,0,0,0-.7.7c0,.58.24.87.7.87h8.05C23.72,8,24,7.75,24,7.17Zm-.7,50.36A3.85,3.85,0,0,0,22,54.73a4,4,0,0,0-6.82,2.8,3.49,3.49,0,0,0,1.23,2.8,3.51,3.51,0,0,0,2.79,1.22A3.51,3.51,0,0,0,22,60.33,3.49,3.49,0,0,0,23.26,57.53Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_vr" data-name="pcl_vr" viewBox="0 0 64 36.63">\r\n      <path class="pcl" d="M62.94,1.44A5.05,5.05,0,0,1,64,4.5V33.75q0,2.88-3.62,2.88H41.13A35.8,35.8,0,0,0,37.56,26.5q-2.31-4.12-5.18-4.12t-5.25,4.18a32.65,32.65,0,0,0-3.5,10.07h-20Q0,36.63,0,33.75V4.5A5.05,5.05,0,0,1,1.06,1.44,3.13,3.13,0,0,1,3.63,0H60.38A3.11,3.11,0,0,1,62.94,1.44ZM19.56,21.75A7.71,7.71,0,0,0,22,16a7.85,7.85,0,0,0-2.44-5.87,8,8,0,0,0-5.81-2.38A8.13,8.13,0,0,0,5.5,16a7.81,7.81,0,0,0,2.38,5.75,8,8,0,0,0,5.87,2.38A8,8,0,0,0,19.56,21.75Zm36.57,0A7.83,7.83,0,0,0,58.5,16a8.26,8.26,0,0,0-14.06-5.87A7.85,7.85,0,0,0,42,16a7.71,7.71,0,0,0,2.44,5.75,8.37,8.37,0,0,0,11.69,0Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_link" data-name="pcl_link" viewBox="0 0 64 54.88">\r\n      <path class="pcl" d="M50.25,33.13v11.5A10.24,10.24,0,0,1,40,54.88H10.25a9.88,9.88,0,0,1-7.25-3,9.88,9.88,0,0,1-3-7.25V14.88A9.87,9.87,0,0,1,3,7.63a9.88,9.88,0,0,1,7.25-3H35.38a1.21,1.21,0,0,1,.87.25,1.2,1.2,0,0,1,.38.87V8a1.22,1.22,0,0,1-.38.88,2.08,2.08,0,0,1-.87.25H10.25a5.5,5.5,0,0,0-4,1.75,5.43,5.43,0,0,0-1.62,4V44.63a5.53,5.53,0,0,0,5.62,5.62H40a5.75,5.75,0,0,0,5.75-5.62V33.13a1,1,0,0,1,.25-.75,1.2,1.2,0,0,1,.88-.38h2.25a1.2,1.2,0,0,1,.87.38A1,1,0,0,1,50.25,33.13ZM64,2.25V20.63a2.08,2.08,0,0,1-.62,1.5,2.29,2.29,0,0,1-1.63.75,2,2,0,0,1-1.62-.75l-6.25-6.25L30.5,39.13a1.07,1.07,0,0,1-.75.37,1.19,1.19,0,0,1-.87-.37l-4-4a1.22,1.22,0,0,1-.38-.88,1.09,1.09,0,0,1,.38-.75L48.13,10.13,41.88,3.88a2,2,0,0,1-.75-1.63A2.26,2.26,0,0,1,41.88.63,2,2,0,0,1,43.38,0H61.75a2.87,2.87,0,0,1,1.63.63A2.87,2.87,0,0,1,64,2.25Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_link_alt" data-name="pcl_link_alt" viewBox="0 0 64 64">\r\n      <path class="pcl" d="M64,12V52A12,12,0,0,1,52,64H12a11.52,11.52,0,0,1-8.47-3.51A11.52,11.52,0,0,1,0,52V12A11.52,11.52,0,0,1,3.51,3.51,11.52,11.52,0,0,1,12,0H52a11.52,11.52,0,0,1,8.47,3.51A11.52,11.52,0,0,1,64,12ZM53.33,33.32v-20a3.3,3.3,0,0,0-.73-1.9,3.3,3.3,0,0,0-1.9-.73h-20a2.37,2.37,0,0,0-2.48,1.6,2.66,2.66,0,0,0,.59,2.93l6,6L12.57,43.54a2.21,2.21,0,0,0-.88,1.76,2.11,2.11,0,0,0,.88,1.9l4.23,4.23a2.35,2.35,0,0,0,1.9.88,2.21,2.21,0,0,0,1.76-.88L42.81,29.22l6,6a2.57,2.57,0,0,0,1.9.74,2.5,2.5,0,0,0,1-.15A2.37,2.37,0,0,0,53.33,33.32Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_code" data-name="pcl_code" viewBox="0 0 64 48.16">\r\n      <path class="pcl" d="M20,39.48,18.27,41.2a1.2,1.2,0,0,1-.86.36c-.41,0-.65-.12-.74-.36L.25,24.89A1.9,1.9,0,0,1,0,24a1.77,1.77,0,0,1,.25-.73L16.67,7c.09-.25.33-.37.74-.37a1.17,1.17,0,0,1,.86.37L20,8.7a1.07,1.07,0,0,1,.37.74,1.17,1.17,0,0,1-.37.86L6.25,24,20,37.89c.25.08.37.32.37.73A1.17,1.17,0,0,1,20,39.48ZM40.7,2.08,27.59,47.33c0,.24-.17.45-.49.61a.7.7,0,0,1-.86.12L24,47.45a1.35,1.35,0,0,1-.61-.49c-.17-.41-.21-.7-.12-.86L36.41.86c0-.17.17-.41.49-.74a.83.83,0,0,1,.86,0L40,.61a2.25,2.25,0,0,1,.61.62A1,1,0,0,1,40.7,2.08Zm23,22.81L47.33,41.2c-.09.24-.33.36-.74.36a1.2,1.2,0,0,1-.86-.36L44,39.48a1.17,1.17,0,0,1-.37-.86c0-.41.12-.65.37-.73L57.75,24,44,10.3a1.17,1.17,0,0,1-.37-.86A1.07,1.07,0,0,1,44,8.7L45.73,7a1.17,1.17,0,0,1,.86-.37c.41,0,.65.12.74.37L63.75,23.3A1.77,1.77,0,0,1,64,24,1.9,1.9,0,0,1,63.75,24.89Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_categories" data-name="pcl_categories" viewBox="0 0 54.86 64">\r\n      <path class="pcl" d="M13.71,32V54.86H32a4.4,4.4,0,0,1,4.57-4.57H50.29a4.4,4.4,0,0,1,4.57,4.57v4.57A4.41,4.41,0,0,1,50.29,64H36.57A4.41,4.41,0,0,1,32,59.43H9.14V13.71H4.57A4.4,4.4,0,0,1,0,9.14V4.57A4.41,4.41,0,0,1,4.57,0H18.29a4.41,4.41,0,0,1,4.57,4.57V9.14a4.4,4.4,0,0,1-4.57,4.57H13.71V27.43H32a4.4,4.4,0,0,1,4.57-4.57H50.29a4.4,4.4,0,0,1,4.57,4.57V32a4.4,4.4,0,0,1-4.57,4.57H36.57A4.4,4.4,0,0,1,32,32Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_part_delete" data-name="pcl_part_delete" viewBox="0 0 63.94 64">\r\n      <path class="pcl" d="M63.94,46A17.53,17.53,0,0,1,55,61.5a17.43,17.43,0,0,1-18,0A17.09,17.09,0,0,1,30.35,55,17.4,17.4,0,0,1,28,46.14L25.1,47.77a.57.57,0,0,0-.25.06.57.57,0,0,1-.25.06.73.73,0,0,1-.5.13h-.62l-.13-.13a.51.51,0,0,1-.37-.12L1.12,36A1.93,1.93,0,0,1,0,34.28V13.17a1.43,1.43,0,0,1,.12-.62v-.12a.5.5,0,0,0,.13-.38.37.37,0,0,0,.25-.12.35.35,0,0,1,.12-.25c.09,0,.13,0,.13-.07s0-.06.12-.06l.25-.12V11.3L23,.31a2,2,0,0,1,2.12,0l21.6,11v.13a.35.35,0,0,1,.25.12.33.33,0,0,1,.25.13l.25.25v.25l.25.25v.12a1.29,1.29,0,0,1,.13.62v15A18.26,18.26,0,0,1,55,30.41,19.3,19.3,0,0,1,61.56,37,17.19,17.19,0,0,1,63.94,46ZM21.85,25.41,4.37,16.55V33l17.48,9.49ZM41.08,13.17l-17-8.74L6.74,13.17,24.1,21.79ZM26.22,42.4l2.38-1.25A13.33,13.33,0,0,1,30.35,37,19.3,19.3,0,0,1,37,30.41a17,17,0,0,1,6.5-2.13V16.55L26.22,25.41ZM50.2,46l4.25-4.25a1.34,1.34,0,0,0,.37-1,1.51,1.51,0,0,0-.37-1.12l-2.13-2.12a1.52,1.52,0,0,0-1.12-.38,1.35,1.35,0,0,0-1,.38L46,41.77l-4.25-4.24a1.35,1.35,0,0,0-1-.38,1.52,1.52,0,0,0-1.12.38l-2.13,2.12a1.51,1.51,0,0,0-.37,1.12,1.34,1.34,0,0,0,.37,1L41.71,46l-4.25,4.24a1.36,1.36,0,0,0-.37,1,1.54,1.54,0,0,0,.37,1.13l2.13,2.12a1.51,1.51,0,0,0,1.12.37,1.34,1.34,0,0,0,1-.37L46,50.26l4.24,4.25a1.34,1.34,0,0,0,1,.37,1.51,1.51,0,0,0,1.12-.37l2.13-2.12a1.54,1.54,0,0,0,.37-1.13,1.36,1.36,0,0,0-.37-1Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_part" data-name="pcl_part" viewBox="0 0 64 64.07">\r\n      <path class="pcl" d="M64,17.5V45.79a2.39,2.39,0,0,1-1.43,2.28L33.71,63.64l-1.57.43a2.75,2.75,0,0,1-1.43-.43L1.43,48.07A2.39,2.39,0,0,1,0,45.79V17.5l.43-1.43a2.34,2.34,0,0,1,1.14-1L30.86.36a2.73,2.73,0,0,1,2.71,0L62.43,15.07l1.14,1.14A2.09,2.09,0,0,1,64,17.5ZM29.29,33.93,5.86,22.07v22L29.29,56.64ZM55,17.5,32.14,5.93,9.14,17.5l23,11.71Zm3.14,4.57-23,11.72V56.64l23-12.57Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_part_edit" data-name="pcl_part_edit" viewBox="0 0 64 63.94">\r\n      <path class="pcl" d="M58.57,58.38A17.88,17.88,0,0,1,46,63.93a16.78,16.78,0,0,1-12.58-5,16.72,16.72,0,0,1-5.24-13.21l-3,2-1.12.25a1.83,1.83,0,0,1-.68-.13,1.53,1.53,0,0,0-.44-.12L1.12,36A1.9,1.9,0,0,1,0,34.21V13.15A1.51,1.51,0,0,1,.37,12a1.66,1.66,0,0,1,.75-.75L23.05.31a1.78,1.78,0,0,1,2,0l21.68,11,.87.87a3.9,3.9,0,0,1,.25,1V28.23a12.38,12.38,0,0,1,4.37,1.12l-6.48,6.48q-2.25,2.23-.5,4L52,46.67c1.16,1.16,2.49,1,4-.5l6.61-6.6Q66.79,50.16,58.57,58.38Zm-36.64-33L4.36,16.51V33l17.57,9.47ZM41.12,13.15,24.05,4.42,6.73,13.15l17.32,8.6Zm-7.6,20.19a17.29,17.29,0,0,1,10-5.24V16.51l-17.2,8.85v17L29,40.81A18.05,18.05,0,0,1,33.52,33.34ZM51.16,52a1.13,1.13,0,0,0-.31-1.37l-9.1-9.1a1.44,1.44,0,0,0-1.5-.37,1.57,1.57,0,0,0-1.12,1.24l-1.25,9.72a1.62,1.62,0,0,0,.5,1.69,2.13,2.13,0,0,0,1.75.56L50,53A1.43,1.43,0,0,0,51.16,52Z"/>\r\n    </symbol>\r\n    <symbol id="pcl_heart" data-name="pcl_heart" viewBox="0 0 64 54.86">\r\n      <path class="pcl" d="M32,54.86a2.14,2.14,0,0,1-1.57-.65L8.14,32.71a13.2,13.2,0,0,1-1-.92q-.63-.64-2-2.34A30.42,30.42,0,0,1,2.75,26,21.89,21.89,0,0,1,.84,21.64,15.62,15.62,0,0,1,0,16.71Q0,8.87,4.54,4.43T17.07,0a14.31,14.31,0,0,1,4.52.77,18.28,18.28,0,0,1,4.29,2.07c1.32.87,2.45,1.68,3.41,2.45A34.65,34.65,0,0,1,32,7.71a34.65,34.65,0,0,1,2.71-2.42c1-.77,2.09-1.58,3.42-2.45A18.21,18.21,0,0,1,42.41.77,14.31,14.31,0,0,1,46.93,0q8,0,12.53,4.43T64,16.71q0,7.91-8.18,16.08L33.57,54.21A2.14,2.14,0,0,1,32,54.86Z"/>\r\n    </symbol>\r\n    <symbol id="actAR" data-name="actAR" viewBox="0 0 74 87">\r\n      <g>\r\n        <g>\r\n          <path class="solid-dark" d="M13.12,0H27l9.78,39H29.68L27.4,31.34H12.34L10.3,39H3.22Zm.72,25H26L21.4,6.09H18.58Z"/>\r\n          <path class="solid-dark" d="M57.52,25.7H48.28V39h-7V0H56.92C66.4,0,71,3.66,71,12.57c0,5.86-2.28,9.24-6.54,11.21L71,39H63.22Zm-.6-19.39H48.28V19.39H57c4.86,0,6.66-2.71,6.66-6.71C63.7,8.4,61.48,6.31,56.92,6.31Z"/>\r\n        </g>\r\n        <g>\r\n          <path class="solid-dark" d="M13.12,0H27l9.78,39H29.68L27.4,31.34H12.34L10.3,39H3.22Zm.72,25H26L21.4,6.09H18.58Z"/>\r\n          <path class="solid-dark" d="M57.52,25.7H48.28V39h-7V0H56.92C66.4,0,71,3.66,71,12.57c0,5.86-2.28,9.24-6.54,11.21L71,39H63.22Zm-.6-19.39H48.28V19.39H57c4.86,0,6.66-2.71,6.66-6.71C63.7,8.4,61.48,6.31,56.92,6.31Z"/>\r\n        </g>\r\n      </g>\r\n      <path class="solid-dark" d="M2.16,44.62A7.28,7.28,0,0,0,0,49.87v29.9A7.28,7.28,0,0,0,2.16,85,6.17,6.17,0,0,0,7,87H66.46A7.08,7.08,0,0,0,74,79.77V49.87a7.28,7.28,0,0,0-2.16-5.25C70.39,43.14,68.33,43,66.36,43H6.94c-2,0-3.33.14-4.78,1.62ZM6,69.56v-9a.82.82,0,0,1,.92-.94c.62,0,1.08.16,1.08.79v9.43A1.06,1.06,0,0,1,6.92,71,.82.82,0,0,1,6,70ZM70.42,62a4.72,4.72,0,0,1,0,6.59,4.45,4.45,0,0,1-6.44,0A4.72,4.72,0,0,1,64,62a4.47,4.47,0,0,1,6.44,0ZM58.17,48a1.76,1.76,0,0,1,1.29.56A1.87,1.87,0,0,1,60,49.89V80.11a1.85,1.85,0,0,1-.54,1.33,1.76,1.76,0,0,1-1.29.56H14.83a1.76,1.76,0,0,1-1.29-.56A1.85,1.85,0,0,1,13,80.11V49.89a1.85,1.85,0,0,1,.54-1.33A1.76,1.76,0,0,1,14.83,48Zm-.1.52"/>\r\n      <path class="solid-dark" d="M42,73.54V75a14.36,14.36,0,0,1-6.41,1.35l5.67-3.27A.49.49,0,0,1,42,73.54Z"/>\r\n      <path class="solid-dark" d="M42,70.43V67.5a.48.48,0,0,0-.73-.42l-11,6.35a.48.48,0,0,0-.25.43V75a14.24,14.24,0,0,0,2.91,1l8.84-5.1A.48.48,0,0,0,42,70.43Z"/>\r\n      <path class="solid-dark" d="M48.53,54.86,46,52.43A1.52,1.52,0,0,0,45,52H38.3a.29.29,0,0,0-.3.3v1.23a1.5,1.5,0,1,1-3,0V52.31a.31.31,0,0,0-.31-.31H28.05a1.51,1.51,0,0,0-1.07.43l-2.52,2.45A1.57,1.57,0,0,0,24,56v6.49A1.53,1.53,0,0,0,25.53,64H47.47A1.53,1.53,0,0,0,49,62.48V56A1.54,1.54,0,0,0,48.53,54.86Z"/>\r\n      <path class="solid-dark" d="M37.32,66H30.49a.49.49,0,0,0-.49.49v3.94a.48.48,0,0,0,.73.42l6.83-3.93A.49.49,0,0,0,37.32,66Z"/>\r\n    </symbol>\r\n    <symbol id="actOverlay" data-name="actOverlay" viewBox="0 0 79.5 73.5">\r\n      <path class="solid-dark" d="M24.5,22.83V38.49c0,1.64,1.95,2.71,3.37,2.71H40.21V62H22a4,4,0,0,1-4-4V25H3.86C2.24,25,0,23.78,0,21.89V4A4,4,0,0,1,4,0H59a4,4,0,0,1,4,4v15.4H28A3.46,3.46,0,0,0,24.5,22.83Z"/>\r\n      <path class="solid-light" d="M79.5,22.83V38.42a2.82,2.82,0,0,1-2.93,2.78H64.66V70A3.46,3.46,0,0,1,61.2,73.5H43.68A3.46,3.46,0,0,1,40.21,70V62H42a4,4,0,0,0,4-4V25H59.64A3.24,3.24,0,0,0,63,21.82V19.37H76A3.46,3.46,0,0,1,79.5,22.83Z"/>\r\n      <path class="solid-medium" d="M63,19.37v2.45A3.24,3.24,0,0,1,59.64,25H46V58a4,4,0,0,1-4,4H40.21V41.2H27.87c-1.42,0-3.37-1.07-3.37-2.71V22.83A3.46,3.46,0,0,1,28,19.37Z"/>\r\n    </symbol>\r\n    <symbol id="actOppose" data-name="actOppose" viewBox="0 0 86.5 77.5">\r\n      <path class="solid-dark" d="M4,0A4,4,0,0,0,0,4V21.89C0,23.78,2.24,25,3.86,25H18V58a4,4,0,0,0,4,4H42a4,4,0,0,0,4-4V25H59.64A3.24,3.24,0,0,0,63,21.82V4a4,4,0,0,0-4-4Z"/>\r\n      <path class="solid-light" d="M53.75,43.1a2.2,2.2,0,0,0-2.2,2.2v10c0,1,1.24,1.72,2.14,1.72h7.84V75.3a2.2,2.2,0,0,0,2.2,2.2H74.87a2.2,2.2,0,0,0,2.2-2.2V57h7.57a1.79,1.79,0,0,0,1.86-1.76V45.3a2.2,2.2,0,0,0-2.2-2.2Z"/>\r\n    </symbol>\r\n    <symbol id="actCenterposition" data-name="actCenterposition" viewBox="0 0 79.26 78">\r\n      <path class="solid-light" d="M5,0A5,5,0,0,0,0,5V27.54c0,2.37,2.81,3.91,4.86,3.91H22.65V73a5,5,0,0,0,5,5H52.88a5,5,0,0,0,5-5V31.45H75a4.07,4.07,0,0,0,4.22-4V5a5,5,0,0,0-5-5Z"/>\r\n      <g>\r\n        <path class="solid-red" d="M53.13,37.5H47a7.54,7.54,0,0,0-5.85-5.85V25.5h-3v6.15a7.53,7.53,0,0,0-5.85,5.85H26.13v3h6.15a7.53,7.53,0,0,0,5.85,5.85V52.5h3V46.35A7.54,7.54,0,0,0,47,40.5h6.15Zm-13.5,6a4.5,4.5,0,1,1,4.5-4.5A4.51,4.51,0,0,1,39.63,43.5Z"/>\r\n        <circle class="solid-red" cx="39.63" cy="39" r="1.5"/>\r\n      </g>\r\n    </symbol>\r\n    <symbol id="actOriginalposition" data-name="actOriginalposition" viewBox="0 0 79.63 78">\r\n      <path class="solid-light" d="M5,0A5,5,0,0,0,0,5V27.54c0,2.37,2.81,3.91,4.86,3.91H22.65V73a5,5,0,0,0,5,5H52.88a5,5,0,0,0,5-5V31.45H75a4.07,4.07,0,0,0,4.22-4V5a5,5,0,0,0-5-5Z"/>\r\n      <path class="solid-red" d="M79.63,63H73.48a7.54,7.54,0,0,0-5.85-5.85V51h-3v6.15A7.53,7.53,0,0,0,58.78,63H52.63v3h6.15a7.53,7.53,0,0,0,5.85,5.85V78h3V71.85A7.54,7.54,0,0,0,73.48,66h6.15Zm-13.5,6a4.5,4.5,0,1,1,4.5-4.5A4.51,4.51,0,0,1,66.13,69Zm1.5-4.5a1.5,1.5,0,1,1-1.5-1.5A1.5,1.5,0,0,1,67.63,64.5Z"/>\r\n    </symbol>\r\n    <symbol id="actCosmeticLines" data-name="actCosmeticLines" viewBox="0 0 55.2 76">\r\n      <path class="border-thick" d="M1.52,7.5V68c0,3.59,11.67,6.5,26.08,6.5S53.68,71.59,53.68,68V7.5"/>\r\n      <ellipse class="border-thick" cx="27.6" cy="8" rx="26.08" ry="6.5"/>\r\n      <path class="solid-dark" d="M20.6,66.39c-4.26,0-18.3-.33-20.35-4.63a2.62,2.62,0,0,1,.48-2.93l1.55,1.26c-.39.48-.28.7-.23.81.67,1.4,6.16,3.49,18.55,3.49,13.69,0,28.34-2.81,32-6.13.92-.84.6-1.18.37-1.44l1.48-1.35c1.18,1.31,1,2.9-.5,4.27C49.84,63.47,35.2,66.39,20.6,66.39ZM53.93,51.74c1.5-1.37,1.68-3,.5-4.27L53,48.82c.23.26.55.6-.37,1.44-3.64,3.32-18.29,6.13-32,6.13C8.21,56.39,2.72,54.3,2.05,52.9c0-.11-.16-.33.23-.81L.73,50.83a2.62,2.62,0,0,0-.48,2.93c2.05,4.3,16.09,4.63,20.35,4.63C35.2,58.39,49.84,55.47,53.93,51.74Zm0-8c1.5-1.37,1.68-3,.5-4.27L53,40.82c.23.26.55.6-.37,1.44-3.64,3.32-18.29,6.13-32,6.13C8.21,48.39,2.72,46.3,2.05,44.9c0-.11-.16-.33.23-.81L.73,42.83a2.62,2.62,0,0,0-.48,2.93c2.05,4.3,16.09,4.63,20.35,4.63C35.2,50.39,49.84,47.47,53.93,43.74Zm0-8c1.5-1.37,1.68-3,.5-4.27L53,32.82c.23.26.55.6-.37,1.44-3.64,3.32-18.29,6.13-32,6.13C8.21,40.39,2.72,38.3,2.05,36.9c0-.11-.16-.33.23-.81L.73,34.83a2.62,2.62,0,0,0-.48,2.93c2.05,4.3,16.09,4.63,20.35,4.63C35.2,42.39,49.84,39.47,53.93,35.74Zm0-8c1.5-1.37,1.68-3,.5-4.27L53,24.82c.23.26.55.6-.37,1.44-3.64,3.32-18.29,6.13-32,6.13C8.21,32.39,2.72,30.3,2.05,28.9c0-.11-.16-.33.23-.81L.73,26.83a2.62,2.62,0,0,0-.48,2.93c2.05,4.3,16.09,4.63,20.35,4.63C35.2,34.39,49.84,31.47,53.93,27.74Zm0-8c1.5-1.37,1.68-3,.5-4.27L53,16.82c.23.26.55.6-.37,1.44-3.64,3.32-18.29,6.13-32,6.13C8.21,24.39,2.72,22.3,2.05,20.9c0-.11-.16-.33.23-.81L.73,18.83a2.62,2.62,0,0,0-.48,2.93c2.05,4.3,16.09,4.63,20.35,4.63C35.2,26.39,49.84,23.47,53.93,19.74Z"/>\r\n    </symbol>\r\n    <symbol id="actThinLines" data-name="actThinLines" viewBox="0 0 86.5 81.67">\r\n      <path class="border-thin" d="M.75,17.42V64.56c0,9,20,16.36,43.72,16.36s41.28-7.33,41.28-16.36c0,0,0-.1,0-.14h0v-47"/>\r\n      <path class="border-thin" d="M85.75,17.06c0,9-17.53,16.31-41.28,16.31S.75,26.07.75,17.06,20.72.75,44.47.75,85.75,8.05,85.75,17.06Z"/>\r\n      <path class="border-thin" d="M.75,65.92c0-9,20-16.31,43.72-16.31s41.28,7.3,41.28,16.31"/>\r\n    </symbol>\r\n  </defs>\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n  \r\n</svg>\r\n'},{}],53:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,r=e("base/js/helpers"),s=e("base/js/logger"),a=e("viewBase/js/viewHelper"),l=jQuery;(o=i=n.StateE||(n.StateE={}))[o.notset=0]="notset",o[o.visible=1]="visible",o[o.active=2]="active",o[o.disabled=4]="disabled",o[o.success=8]="success",o[o.error=16]="error",o[o.hover=32]="hover",o[o.toggle=64]="toggle",o[o.NEXT_AVAILABLE_STATE=128]="NEXT_AVAILABLE_STATE";var c=function(){function e(e){(e=e||{}).currentState=e.currentState||i[i.visible],e.availableStates=e.availableStates||[e.currentState],this.name=e.name||"actUNKNOWN",this.currentStateFlag=0,this.availableStateFlag=0,this.text=e.text||"",this.description=e.description||"",this.imageName=e.imageName||this.name,this.imageBasePath=e.imageBasePath||"",this.imageExtension=e.imageExtension||".png",this.group=e.group||"",this.subActions=e.subActions||[],this.views=[],this.handleAsync=!0,void 0!==e.handleAsync&&(this.handleAsync=e.handleAsync),this.aliases=e.aliases||{},this._initStates(e.currentState,e.availableStates)}return e.prototype._initStates=function(t,n){var o=this;l.isArray(t)?t.forEach(function(t){void 0===i[t]&&e._registerState(t),o.currentStateFlag|=e.State[t]}):(void 0===e.State[t]&&e._registerState(t),this.currentStateFlag=e.State[t]),l.isArray(n)?n.forEach(function(t){void 0===e.State[t]&&e._registerState(t),o.availableStateFlag|=e.State[t]}):(void 0===e.State[n]&&e._registerState(n),this.availableStateFlag=e.State[n])},e.prototype._setImage=function(t){if(".svg"===this.imageExtension){var n=this.aliases.default||this.imageName;this.currentStateFlag&e.State.toggle&&(n=this.aliases.toggle||n),this.currentStateFlag&e.State.active&&(n=this.aliases.active||n),this.currentStateFlag&e.State.success&&(n=this.aliases.success||n),this.currentStateFlag&e.State.error&&(n=this.aliases.error||n);var i=t.find("svg");i.data("svgsymbolid")!==n&&(i.data("svgsymbolid",n),i.empty(),i.html('<use xlink:href="#'+n+'"></use>'),a.fixSVGIcons(i)),t.css({backgroundImage:"none"})}else{var o=this.getImageUrl();t.css({backgroundImage:"url("+o+")"})}},e._registerState=function(t){e.State[t]?s.error("state with name: "+t+" already exists"):(e.State[t]=e.State.NEXT_AVAILABLE_STATE,e.State.NEXT_AVAILABLE_STATE*=2)},e.prototype.hasState=function(t){var n=e.State[t];return!!(void 0!==n&&this.currentStateFlag&n)},e.prototype.hasStateAvailable=function(t){var n=e.State[t];return!!(void 0!==n&&this.availableStateFlag&n)},e.prototype.setImageName=function(e){var t=this;e!==this.imageName&&(this.imageName=e,this.views.forEach(function(e){if(e.getEl()){var n=e.getEl().find('[data-action="'+t.name+'"]');t._setImage(n)}}))},e.prototype.getImageUrl=function(){var t=this.imageBasePath;return"/"!==t.substr(-1)&&(t+="/"),t+=this.imageName.toLowerCase(),this.currentStateFlag&e.State.active&&(t+="-active"),this.currentStateFlag&e.State.success&&(t+="-success"),this.currentStateFlag&e.State.error&&(t+="-error"),t+=this.imageExtension,t=r.getResourceUrl(t)},e.prototype.setState=function(t,n){var i=this;void 0===n&&(n=!0);var o=e.State[t];if(void 0!==o){if(this.availableStateFlag&o){var a=this.currentStateFlag;n?this.currentStateFlag|=o:this.currentStateFlag&=~o,this.currentStateFlag!==a&&this.views.length&&this.views.forEach(function(e){if(e.getEl()){var o=e.getEl().find('[data-action="'+i.name+'"]'),s="psol-comp-viewbase-action-State-"+t;n?o.addClass(s):o.removeClass(s),i._setImage(o),e.updateSettings()}var a=r.capitalize(t),l=e["_"+i.name+a+"StateChanged"];l&&"function"==typeof l&&l.apply(e,[n])})}}else s.error("undefined state: "+t)},e.prototype.getClasses=function(){var t,n=[];for(t in e.State)e.State.hasOwnProperty(t)&&this.currentStateFlag&e.State[t]&&n.push("psol-comp-viewbase-action-State-"+t);return n.length>0?n.join(" "):""},e.State={NEXT_AVAILABLE_STATE:i.NEXT_AVAILABLE_STATE,active:i.active,disabled:i.disabled,error:i.error,hover:i.hover,notset:i.notset,success:i.success,toggle:i.toggle,visible:i.visible},e}();n.Action=c},{"base/js/helpers":7,"base/js/logger":8,"viewBase/js/viewHelper":59}],54:[function(e,t,n){"use strict";var i=jQuery;function o(){}o.compositeImagesByUrl=function(e,t,n,o){var r=new i.Deferred;t=t||"jpeg";var s,a,l,c=window.devicePixelRatio||1,p=i("<canvas/>").attr({width:n*c,height:o*c}),d=p[0].getContext("2d"),h=[],u=[];for(s=0;s<e.length;s++)u.push(void 0);for(s=0;s<e.length;s++)a=i.Deferred(),h.push(a),(l=new Image).__tmpID=s,l.onload=function(e){var t=e.target;u[t.__tmpID]=t,h[t.__tmpID].resolve()},l.src=e[s];return i.when.apply(null,h).done(function(){var e;for(e=0;e<u.length;e++)d.drawImage(u[e],0,0);r.resolve(p[0].toDataURL("image/"+t))}),r.promise()},o.getFileContent=function(e){var t=i.Deferred(),n=0,o=new FileReader;return o.onloadend=function(i){var r=new DataView(i.target.result);if(65496===r.getUint16(0,!1))for(var s=r.byteLength,a=2;a<s;){var l=r.getUint16(a,!1);if(a+=2,65505===l){if(1165519206===r.getUint32(a+=2,!1)){var c=18761===r.getUint16(a+=6,!1);a+=r.getUint32(a+4,c);var p=r.getUint16(a,c);a+=2;for(var d=0;d<p;d++)if(274===r.getUint16(a+12*d,c)){switch(r.getUint16(a+12*d+8,c)){case 3:case 4:n=180;break;case 5:case 6:n=90;break;case 7:case 8:n=270}break}}}else{if(65280!=(65280&l))break;a+=r.getUint16(a,!1)}}o.onloadend=function(e){t.resolve({result:e.target.result,rotation:n})}.bind(this),o.onerror=function(){t.reject()}.bind(this),o.readAsDataURL(e)}.bind(this),o.onerror=function(){t.reject()}.bind(this),o.readAsArrayBuffer(e),t.promise()},t.exports=o},{}],55:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(e,t,n,i,o,r){this.title=e||"",this.text=t||"",this.lengthComputable=n||!1,this.loaded=i||0,this.total=o||0,this.showImmediate=r||!1}}();n.ProgressEvent=i},{}],56:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.onProgressBegin=function(t,n){e("progressDialog/js/progressDialog").ProgressDialog.show(n)},n.onProgressUpdate=function(e,t){},n.onProgressEnd=function(t,n){e("progressDialog/js/progressDialog").ProgressDialog.hide(n)}},{"progressDialog/js/progressDialog":36}],57:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=jQuery,o=e("base/js/logger"),r=e("psol.core"),s={};function a(e){var t,n,o=i(e).filter("script");for(t=0;t<o.length;++t){var r=(n=i(o[t])).attr("id"),s=n.text();i.templates(r,s)}}n.load=function(e,t){return s[e]||(s[e]=i.Deferred(),t&&""!==t?(a(t),s[e].resolve()):r.ajax({dataType:"text",url:e}).done(function(t){a(t),s[e].resolve()})),s[e].promise()},n.exists=function(e){return i.templates.hasOwnProperty(e)},n.render=function(e,t,n){var r;if(i.templates.hasOwnProperty(e)&&(r=i.templates[e]),r)return r.render(t,n);o.error("template not found: "+e)}},{"base/js/logger":8,"psol.core":196}],58:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("base/js/base"),s=e("base/js/logger"),a=e("viewBase/js/action"),l=e("viewBase/js/progressHandler"),c=e("viewBase/js/template"),p=e("viewBase/js/viewHelper"),d=e("psol.core"),h=e("psol.translation"),u=jQuery;u(document).ready(function(){e("fastclick").FastClick.attach(document.body);var t=e("viewBase/img/webcomponents_icons.svg"),n=u("<div/>").addClass("psol-comp-viewbase-svgcontainer");n.html(t),u(document.body).prepend(n)});var m=function(t){function n(e,i){var o=t.call(this,e,i)||this;return o._componentName=o._componentName||o._getComponentName(),o._props._viewNamePrefix=e._viewNamePrefix||"psol-comp",o._props._viewName=o._props._viewNamePrefix+"-"+(o._props._viewName||o._componentName),o._props._templateName=o._props._templateName||o._componentName,o._props._viewInstance=void 0,o._props._viewRegistered=!1,o._props._triggerResize=!0,o._props._viewData={},o._props._actions=[],o._props._setActionStatesOnEvent=!0,o._props._jsrenderHelpers={},void 0!==e.triggerResize&&(o._props._triggerResize=e.triggerResize),o._props._jsrenderHelpers.zTR=function(e,t,n){return h.zTR(e,t,n)},o._props._jsrenderHelpers.actionHasState=function(e,t){var n=o._getAction(e);return!(!n||!n.hasState(t))},o._props._jsrenderHelpers.actionGetClasses=function(e){var t=o._getAction(e);return t?t.getClasses():""},o._props._jsrenderHelpers.actionIsStateAvailable=function(e,t){var n=o._getAction(e);return!(!n||!n.hasStateAvailable(t))},o._props._jsrenderHelpers.actionHasNoSubActions=function(e){var t=o._getAction(e);return!(t&&t.hasOwnProperty("subActions")&&t.subActions.length)},o._props._jsrenderHelpers.actionImage=function(e){var t=o._getAction(e);return t?t.getImageUrl():""},o._props._jsrenderHelpers.getViewInstance=function(){return o},o._props._jsrenderHelpers.getAsArray=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e},o._props._jsrenderHelpers.getSVGIcon=function(e){var t="";return t+='<svg class="psol-comp-viewbase-svgicon" data-svgsymbolid="'+e+'">\n',t+='  <use xlink:href="#'+e+'"></use>\n',t+="</svg>\n"},o._props._jsrenderHelpers.getErpStatusIconUrl=function(e){return d.getServiceBaseUrl()+"/FileService/ErpStateImage?ImageId="+e},o._props._jsrenderHelpers.getErpIconUrl=function(e){return d.getServiceBaseUrl()+"/FileService/ErpImage/"+e},o._props._jsrenderHelpers.abbreviateNumber=function(e){var t=Math.log10(Math.abs(e))/3|0;if(0===t)return e;var n=["","k","M","G","T","P","E"][t],i=(e/Math.pow(10,3*t)).toFixed(1)+"";return/\.0$/.test(i)&&(i=i.substr(0,i.length-2)),i+n},o._props._briteViewConfig={emptyParent:!0,loadCss:!1,loadTmpl:!1},o._props._briteElementClasses=["psol-comp-viewbase-all","ComponentCustomizeAll","ComponentCustomize"+o._componentName],void 0===n.scrollbarWidth&&(n.scrollbarWidth=p.getScrollbarWidth()),o.fullscreenchangeHandlerIsSet=!1,o._$tmpFullscreenElement=null,o}return o(n,t),n.prototype._viewCreate=function(e,t){return this._render("tmpl-"+this._props._templateName,e)},n.prototype._viewInit=function(e,t){this._$el=this._$el=this._props._viewInstance.$el},n.prototype._viewPostDisplay=function(e,t){return u.Deferred().resolve()},n.prototype._viewDestroy=function(){null!==this._props&&(this._props.$container=null,this._props=null),null!==this._$el&&(this._$el=null)},n.prototype._viewEvents=function(){return{}},n.prototype._docEvents=function(){return{}},n.prototype._winEvents=function(){return{}},n.prototype._registerView=function(){var t=this;this._props._viewRegistered=!0;var n=this._viewEvents();this._props._triggerResize&&(n=u.extend({resize:function(e){e.stopPropagation(),t._resizeContainer()}},n)),n=u.extend({"click; .psol-comp-viewbase-action":function(e){var n=u(e.currentTarget).data("action"),i=t._getAction(n);if(i&&!i.hasState("disabled")){if(t._props._setActionStatesOnEvent)if(i.group&&""!==i.group){var o=t._getActionsWithGroup(i.group),r=void 0,s=void 0;for(r=0;r<o.length;++r)(s=o[r]).hasState("active")&&s.setState("active",!1);i.setState("active",!0)}else{if(i.hasStateAvailable("active")){var a=i.hasState("active");a=!i.hasState("hover")&&a,t.setActionState(n,"active",!a)}if(i.hasStateAvailable("toggle")){var l=i.hasState("toggle");l=!i.hasState("hover")&&l,t.setActionState(n,"toggle",!l)}}e.action=i,t._onActionClicked(e)}},"click; .psol-comp-viewbase-button":function(e){setTimeout(function(){u(e.currentTarget).removeClass("active")},301)},"mousedown; .psol-comp-viewbase-action":function(e){var n=u(e.currentTarget).data("action"),i=t._getAction(n);if(!i||i&&i.hasState("disabled"))return!1;u(e.currentTarget).addClass("active")},"mouseenter touchstart; .psol-comp-viewbase-button, .psol-comp-viewbase-card.psol-comp-viewbase-card-hover":function(e){u(e.currentTarget).addClass("active")},"mouseenter; .psol-comp-viewbase-action":function(e){var n=u(e.currentTarget).data("action"),i=t._getAction(n);i&&!i.hasState("disabled")&&t._props._setActionStatesOnEvent&&t.setActionState(n,"hover",!0)},"mouseleave touchmove, touchend; .psol-comp-viewbase-button, .psol-comp-viewbase-card.psol-comp-viewbase-card-hover":function(e){u(e.currentTarget).removeClass("active")},"mouseleave; .psol-comp-viewbase-action":function(e){u(e.currentTarget).removeClass("active");var n=u(e.currentTarget).data("action"),i=t._getAction(n);i&&!i.hasState("disabled")&&i.hasState("hover")&&(t._props._setActionStatesOnEvent&&(i.hasStateAvailable("active")&&t.setActionState(n,"active",!1),i.hasStateAvailable("toggle")&&t.setActionState(n,"toggle",!1)),e.actionName=n,t._onStopActionHover(e))},"mouseup; .psol-comp-viewbase-action":function(e){u(e.currentTarget).removeClass("active")}},n);var i=this;(window.brite||e("brite")).registerView(i._props._viewName,{create:function(e,t){return i._props._viewInstance=this,i._viewCreate(e,t)},destroy:function(){return i._viewDestroy()},docEvents:i._docEvents(),events:n,init:function(e,t){return i._viewInit(e,t)},postDisplay:function(e,t){return i._viewPostDisplay(e,t)},winEvents:i._winEvents()})},n.prototype._render=function(e,t){return c.render(e,t,this._props._jsrenderHelpers)},n.prototype._loadTemplate=function(){return c.load("psol.components.tmpl",e("psol.components.tmpl"))},n.prototype.onProgressBegin=function(e){l.onProgressBegin(this,e)},n.prototype.onProgressUpdate=function(e){l.onProgressUpdate(this,e)},n.prototype.onProgressEnd=function(e){l.onProgressEnd(this,e)},n.prototype._onBeforeSetFullscreen=function(){},n.prototype._onBeforeExitFullscreen=function(){},n.prototype._fullscreenChangeHandler=function(){document.fullscreenElement&&document.fullscreenElement===this._$tmpFullscreenElement[0]?this.onFullscreenEntered():document.fullscreenElement||(n.unlockOrientation(),this.onFullscreenExited())},n.prototype._resizeContainer=function(){},n.prototype._registerAction=function(e,t){t=!!t;var n=this._getAction(e.name);return n||((n=t?e:new a.Action(e)).views.push(this),this._props._actions.push(n)),n},n.prototype._getAction=function(e){var t;for(t=0;t<this._props._actions.length;++t){var n=this._props._actions[t];if(e===n.name)return n}},n.prototype._getActionsWithGroup=function(e){var t,n,i=[];for(t=0;t<this._props._actions.length;++t)(n=this._props._actions[t]).group===e&&i.push(n);return i},n.prototype._callActionFunction=function(e,t,n){n.action.handleAsync?window.setTimeout(function(){e.call(t,n)},1):e.call(t,n)},n.prototype._onActionClicked=function(e){var t=this,n=this["_on"+e.action.name];n&&"function"==typeof n?(e.stopPropagation(),this._callActionFunction(n,this,e)):e.action.views.forEach(function(i){(n=i["_on"+e.action.name])&&"function"==typeof n&&(e.stopPropagation(),t._callActionFunction(n,i,e))})},n.prototype._onStopActionHover=function(e){var t=this["_onStopHover"+e.actionName];t&&"function"==typeof t&&t.call(this,e)},n.prototype._handleMissingImages=function(){if(this._$el){var e=this._$el.find("img");if(e.length>0){var t=void 0,n=void 0;for(t=0;t<e.length;++t)(n=e[t]).complete?void 0!==n.naturalWidth&&0===n.naturalWidth&&(n.style.visibility="hidden"):"uninitialized"===n.readyState?n.style.visibility="hidden":n.addEventListener("error",function(e){e.currentTarget.style.visibility="hidden"},!1)}}},n.prototype.show=function(e,t){var n=this;this._props._viewData=e,this._props._viewRegistered||this._registerView();var i=u.Deferred();return this._loadTemplate().done(function(){if(n._props._viewInstance){var t=n._$el.find(".psol-comp-viewbase-svgicon");t.length&&p.fixSVGIcons(t),n._props.$container.show(0),i.resolve()}else window.brite.display(n._props._viewName,n._props.$container,e,n._props._briteViewConfig).done(function(){n._$el.addClass(n._props._briteElementClasses.join(" "));var e=n._$el.find(".psol-comp-viewbase-svgicon");e.length&&p.fixSVGIcons(e),n._props.$container.show(0),i.resolve(),setTimeout(function(){n._handleMissingImages()},500)})}),i.promise()},n.prototype.hide=function(){this._props.$container.hide(0)},n.prototype.destroy=function(){document.removeEventListener("fullscreenchange",this._fullscreenChangeHandler.bind(this)),this._$el&&this._$el.bRemove()},n.prototype.exitFullscreen=function(e){this._onBeforeExitFullscreen(),document.fullscreenEnabled&&document.fullscreenElement?document.exitFullscreen():this.setPseudoFullscreen(e,!1,e,"click")},n.prototype.isFullscreen=function(e){return!(!document.fullscreenEnabled||!(document.fullscreenElement||e&&document.fullscreenElement===e[0]))||e.hasClass("psol-comp-viewbase-FullScreenElement")},n.prototype.setPseudoFullscreen=function(e,t,n,i){var o=this;(e=e||this._$el)&&(t?(e.addClass("psol-comp-viewbase-FullScreenElement"),this.onFullscreenEntered(),n&&i&&n.one(i,function(){o.setPseudoFullscreen(e,!1)})):(e.removeClass("psol-comp-viewbase-FullScreenElement"),this.onFullscreenExited()))},n.prototype.setFullscreen=function(e,t){var n=this;if(this._onBeforeSetFullscreen(),this._$tmpFullscreenElement=e=e||this._$el,document.fullscreenEnabled){this.fullscreenchangeHandlerIsSet||(this.fullscreenchangeHandlerIsSet=!0,document.addEventListener("fullscreenchange",this._fullscreenChangeHandler.bind(this),!1));var i=function(){t?n.setPseudoFullscreen(e,!0):n.setPseudoFullscreen(e,!0,e,"click"),e[0].removeEventListener("fullscreenerror",i.bind(n),!1)};e[0].removeEventListener("fullscreenerror",i.bind(this),!1),e[0].addEventListener("fullscreenerror",i.bind(this),!1),e[0].requestFullscreen()}else t?this.setPseudoFullscreen(e,!0):this.setPseudoFullscreen(e,!0,e,"click")},n.prototype.isVisible=function(){return this._$el.is(":visible")},n.prototype.onFullscreenEntered=function(){this._resizeContainer()},n.prototype.onFullscreenExited=function(){this._$el&&this._resizeContainer()},n.prototype.setActionImageName=function(e,t){var n=this._getAction(e);n&&n.setImageName(t)},n.prototype.setActionState=function(e,t,n){var i=this._getAction(e);i&&i.setState(t,n)},n.prototype.keepAwake=function(e){window.screen&&window.screen.keepAwake&&(window.screen.keepAwake=e)},n.prototype.onAuthError=function(){},n.prototype.getEl=function(){return this._$el},n.prototype.onViewDestroy=function(){},n.lockOrientation=function(e,t){var i;return window.screen&&(window.screen.orientation?window.screen.orientation.lock?i=window.screen.orientation.lock(e):window.screen.orientation.webkitLock?i=window.screen.orientation.webkitLock(e):window.screen.orientation.mozLock?i=window.screen.orientation.mozLock(e):window.screen.orientation.msLock&&(i=window.screen.orientation.msLock(e)):window.screen.lockOrientation?i=window.screen.lockOrientation(e):window.screen.webkitLockOrientation?i=window.screen.webkitLockOrientation(e):window.screen.mozLockOrientation?i=window.screen.mozLockOrientation(e):window.screen.msLockOrientation&&(i=window.screen.msLockOrientation(e))),i&&i.catch&&i.catch(t||n.lockOrientationErrorHandler),i},n.lockOrientationErrorHandler=function(e){s.error(e.toString())},n.unlockOrientation=function(){window.screen&&(window.screen.orientation&&(window.screen.orientation.unlock?window.screen.orientation.unlock():window.screen.orientation.webkitUnlock?window.screen.orientation.webkitUnlock():window.screen.orientation.mozUnlock?window.screen.orientation.mozUnlock():window.screen.orientation.msUnlock&&window.screen.orientation.msUnlock()),window.screen.unlockOrientation?window.screen.unlockOrientation():window.screen.webkitUnlockOrientation?window.screen.webkitUnlockOrientation():window.screen.mozUnlockOrientation?window.screen.mozUnlockOrientation():window.screen.msUnlockOrientation&&window.screen.msUnlockOrientation())},n}(r);n.ViewBase=m},{"base/js/base":5,"base/js/logger":8,brite:"brite",fastclick:"fastclick","psol.components.tmpl":3,"psol.core":196,"psol.translation":207,"viewBase/img/webcomponents_icons.svg":52,"viewBase/js/action":53,"viewBase/js/progressHandler":56,"viewBase/js/template":57,"viewBase/js/viewHelper":59}],59:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=jQuery,o=e("bowser");e("jsrender"),e("jquery.unveil"),e("jquery.ba-resize"),e("fullscreen-api-polyfill"),e("raf_polyfill"),n.useBaseTag=!1;var r=i("head > base");r.length&&r[0].hasAttribute("href")&&(n.useBaseTag=!0),n.getScrollbarWidth=function(){var e=0;if(o.msie){var t=i('<textarea cols="10" rows="2" style="overflow:hidden;"></textarea>').css({left:-1e3,position:"absolute",top:-1e3}).appendTo("body"),n=i('<textarea cols="10" rows="2" style="overflow: hidden;"></textarea>').css({left:-1e3,position:"absolute",top:-1e3}).appendTo("body");e=t.width()-n.width()+2,t.add(n).remove()}else{var r=i("<div />").css({height:100,left:-1e3,overflow:"auto",position:"absolute",top:-1e3,width:100}).prependTo("body").append("<div />").find("div").css({height:200,width:"100%"});e=100-r.width(),r.parent().remove()}return e},n.getMobileOS=function(){var e=navigator.userAgent||navigator.vendor||window.opera;return e.match(/i(Pad|Phone|Pod)/i)?"iOS":e.match(/Android/i)?"Android":"unknown"},n.isMobile=function(){return o.mobile},n.screenLockAvailable=function(){return window.screen&&window.screen.orientation&&window.screen.orientation.lock},n.getOrientation=function(){return window.screen&&window.screen.orientation&&window.screen.orientation.angle?window.screen.orientation.angle:window.orientation};var s=-1;n.toast=function(e,t,n,o){o=o||4e3,-1!==s&&(window.clearTimeout(s),s=-1);var r=i(".psol-comp-viewbase-toast");0===r.length&&(r=i("<div />")).addClass("psol-comp-viewbase-toast"),n&&r.addClass(n),t?t.append(r):i("body").append(r),r.html(e),r.show(),s=window.setTimeout(function(){r.hide(),t&&i("body").append(r),n&&r.removeClass(n)},o)},n.getDataUrlFromInputTag=function(e){var t=i.Deferred(),n=e.files;n||t.reject();var o=n[0];if(o){var r=new FileReader;r.onload=function(e){var n=e.target.result;t.resolve(n)},r.readAsDataURL(o)}else t.reject();return t.promise()},n.validateForm=function(e){var t=[];return e.find("[require]").each(function(){""===i(this).val().toString().trim()&&t.push(i(this))}),t},n.isValidUrl=function(e,t){return!(!t||!e.match(/((ftp|http|https):\/\/)?(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i))||!!e.match(/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/i)},n.fixSVGIcons=function(e){var t="";n.useBaseTag&&(t=window.location.href.replace(window.location.hash,""));var r=document.implementation.createHTMLDocument("");e.each(function(){var e=i(this),s=e.data("svgsymbolid");o.msie||o.msedge&&!(o.version>=15)||o.safari,o.msedge&&!(o.version>=15)||o.safari,e.empty();var a=document.querySelector(".psol-comp-viewbase-svgcontainer symbol#"+s);if(a){var l=a.getAttribute("viewBox");e[0].setAttribute("viewBox",l);var c=document.querySelectorAll(".psol-comp-viewbase-svgcontainer linearGradient, .psol-comp-viewbase-svgcontainer radialGradient");if(c.length){var p=r.createElement("defs"),d=void 0;for(d=0;d<c.length;++d)"#text"!==c[d].nodeName&&p.appendChild(c[d].cloneNode(!0));e[0].appendChild(p)}var h=void 0;for(h=0;h<a.childNodes.length;++h)"#text"!==a.childNodes[h].nodeName&&e[0].appendChild(a.childNodes[h].cloneNode(!0));if(n.useBaseTag&&(o.msedge||o.safari)){var u=e[0].querySelectorAll("path"),m=void 0;for(m=0;m<u.length;++m){var f=u[m],g=window.getComputedStyle(f).fill.split("#")[1];if(g&&""!==g){var _="url("+t+"#"+g;f.style.fill=_}}}}})},n.downloadFileByDataUrl=function(t,n,i){n=n||"file";var r=t.split(/[:;,]/),s=r[1],a="base64"===r[2]?atob:decodeURIComponent,l=e("base/js/mimetypes"),c="";void 0!==l[s]&&(c=l[s]),i=i||c||"";for(var p=a(r.pop()),d=p.length,h=new Uint8Array(d),u=0;u<d;++u)h[u]=p.charCodeAt(u);var m=new Blob([h],{type:s}),f=document.createElement("a");"download"in f&&!o.msie&&!o.msedge?(f.href=window.URL?window.URL.createObjectURL(m):t,f.download=n+i,document.body.appendChild(f),f.click(),document.body.removeChild(f),f=null):(f.onclick=function(){window.navigator.msSaveOrOpenBlob(m,n+i),f=null},f.click())}},{"base/js/mimetypes":9,bowser:"bowser","fullscreen-api-polyfill":"fullscreen-api-polyfill","jquery.ba-resize":"jquery.ba-resize","jquery.unveil":"jquery.unveil",jsrender:"jsrender",raf_polyfill:"raf_polyfill"}],60:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r,s,a=jQuery,l=e("base/js/base"),c=e("base/js/helpers"),p=e("base/js/logger"),d=e("dialogEditTableVar/js/dialogEditTableVar"),h=e("psol.table"),u=e("table/js/table"),m=e("table/js/tableBase"),f=e("webViewer3D/js/webViewer3D");(s=r=n.TRANSFERTYPE||(n.TRANSFERTYPE={}))[s.MIDENT=0]="MIDENT",s[s.VARSETTRANSFER=1]="VARSETTRANSFER";var g=function(e){function t(t,n){var i=e.call(this)||this;if(i._viewer=t,i._tableComponent=n,i._syncedVars={},i._varsettransfer="",void 0===i._viewer||!(i._viewer instanceof f))throw Error("No valid webviewer instance passed to constructor");if(i._originalAfterParseMappedVarsCB=i._viewer.onAfterParseMappedVars,i._viewer.onAfterParseMappedVars=i._onAfterParseMappedVars.bind(i),i._originalOnMappedVarClicked=i._viewer.onMappedVarClicked,i._viewer.onMappedVarClicked=i._onMappedVarClicked.bind(i),i._originalViewerDestroyCB=i._viewer.onViewDestroy,i._viewer.onViewDestroy=i._onViewerDestroy.bind(i),i._tableComponent){if(!(i._tableComponent instanceof m.TableBase||i._tableComponent instanceof u.Table))throw Error("No valid table instance passed to constructor");i._tableComponent instanceof u.Table&&p.warn('[DEPRECATED] You are using the deprecated TableWrapper, please use "TableHorizontal" or "TableVertical" directly'),i._originalAfterTableChangedCB=i._tableComponent.onAfterTableChanged,i._tableComponent.onAfterTableChanged=i._onAfterTableChanged.bind(i),i._originalTableDestroyCB=i._tableComponent.onViewDestroy,i._tableComponent.onViewDestroy=i._onTableDestroy.bind(i)}return i}return o(t,e),t.prototype._filterMappedVars=function(){var e=[],t=this._syncedVars[this._varsettransfer],n=t&&t.viewer,i=t&&t.table;if(this._syncedVars={},n&&i){var o=n;if(o.length>0){var r=i;e=o.filter(function(e){return this.indexOf(e.name)>-1},r).map(function(e){return e.name})}this._viewer.setActiveMappedVars(e)}},t.prototype._updateMIdent=function(){var e=this;return this._transferType===r.MIDENT?h.getMIdentAsync({path:this._projectPath,varsettransfer:this._varsettransfer}).then(function(t){var n=e._mident;if(e._mident=t,e._mident!==n){var i=c.splitMident(t);c.splitMident(n).varset!==i.varset.replace(/\s/g,"+")&&e.onMIdentChanged(t,i.path,i.varset)}return a.Deferred().resolve()}):a.Deferred().resolve()},t.prototype._updateTable=function(e){var t=this;return this._tableComponent?this._tableComponent.load(a.extend({mident:this._mident,path:this._projectPath,varsettransfer:this._varsettransfer},e)).then(function(e){if(e){var n=t._varsettransfer;t._varsettransfer=e.varsettransfer,t._projectPath=e.path,t._varsettransfer!==n&&t.onVarsetTransferChanged(t._varsettransfer)}return t._updateMIdent()}):h.getTableInfoAsync(a.extend({mident:this._mident,path:this._projectPath,varsettransfer:this._varsettransfer,viewtype:"list"},e)).then(function(e){if(e&&e.index){t._tableData=e.index;var n=t._varsettransfer;t._varsettransfer=e.index.varsettransfer,t._projectPath=e.index.path,t._varsettransfer!==n&&t.onVarsetTransferChanged(t._varsettransfer)}return t._setTableVarsOfPlainRequest(e),t._updateMIdent()})},t.prototype._setTableVarsOfPlainRequest=function(e){var t,n=[],i="",o=e.index.line.values;for(i in o)o.hasOwnProperty(i)&&((t=o[i]).varname=i,n.push(t));var r=(n=n.filter(function(e){return!e.isHidden})).map(function(e){return e.varname});this._syncedVars.hasOwnProperty(this._varsettransfer)?(this._syncedVars[this._varsettransfer].table=r,void 0!==this._syncedVars[this._varsettransfer].viewer&&this._filterMappedVars()):(this._syncedVars={},this._syncedVars[this._varsettransfer]={table:r,viewer:void 0})},t.prototype._onAfterTableChanged=function(e,t){this._originalAfterTableChangedCB(e,t);var n=!1;this._varsettransfer!==e&&(n=!0),this._varsettransfer=e,this._transferType===r.VARSETTRANSFER&&n?this.onVarsetTransferChanged(this._varsettransfer):this._transferType===r.MIDENT&&this._updateMIdent(),n&&this._loadIntoViewer(),this._syncedVars.hasOwnProperty(this._varsettransfer)?(this._syncedVars[this._varsettransfer].table=this._tableComponent.getAvailableVars(),void 0!==this._syncedVars[this._varsettransfer].viewer&&this._filterMappedVars()):(this._syncedVars={},this._syncedVars[this._varsettransfer]={table:this._tableComponent.getAvailableVars(),viewer:void 0})},t.prototype._onTableDestroy=function(){this._tableComponent.onAfterTableChanged=this._originalAfterTableChangedCB,this._tableComponent.onViewDestroy=this._originalTableDestroyCB,this._originalTableDestroyCB()},t.prototype._onAfterParseMappedVars=function(e){this._originalAfterParseMappedVarsCB(e),this._syncedVars.hasOwnProperty(this._varsettransfer)?(this._syncedVars[this._varsettransfer].viewer=e,void 0!==this._syncedVars[this._varsettransfer].table&&this._filterMappedVars()):this._syncedVars[this._varsettransfer]={table:void 0,viewer:e}},t.prototype._onMappedVarClicked=function(e){this._tableComponent?this._tableComponent.showEditVarDialog(e.mappedVar):(this._editDialog||(this._editDialog=new d.DialogEditTableVar,this._editDialog.onApplyClicked=this._onApplyEditDialog.bind(this)),this._editDialog.setListData(this._tableData,e.mappedVar),this._editDialog.show())},t.prototype._onViewerDestroy=function(){this._viewer.onAfterParseMappedVars=this._originalAfterParseMappedVarsCB,this._viewer.onMappedVarClicked=this._originalOnMappedVarClicked,this._viewer.onViewDestroy=this._originalViewerDestroyCB,this._originalViewerDestroyCB()},t.prototype._onApplyEditDialog=function(e){var t=this;this._updateTable({changeval:e.newvalue,changevar:e.id}).then(function(){t._loadIntoViewer()})},t.prototype._loadIntoViewer=function(){var e={defaultView:this._firstload},t=this._viewer.loadByVarset(this._projectPath,this._varsettransfer,void 0,e);return this._firstload=!1,t},t.prototype.setProjectPath=function(e){this._projectPath=e,this._firstload=!0},t.prototype.setVarsetTransfer=function(e,t,n){var i=this;return void 0===t&&(t=!0),void 0===n&&(n=!0),e!==this._varsettransfer&&(this._varsettransfer=e,this._transferType=r.VARSETTRANSFER,n||void 0===this._tableComponent)?this._updateTable().then(function(){if(t)return i._loadIntoViewer()}):t?this._loadIntoViewer():a.Deferred().resolve()},t.prototype.setMIdent=function(e,t,n){var i=this;return void 0===t&&(t=!0),void 0===n&&(n=!0),e!==this._mident&&(this._mident=e,this._transferType=r.MIDENT,n||void 0===this._tableComponent)?this._updateTable().then(function(){if(t)return i._loadIntoViewer()}):t?this._loadIntoViewer():a.Deferred().resolve()},t.prototype.onMIdentChanged=function(e,t,n){},t.prototype.onVarsetTransferChanged=function(e){},t.TRANSFERTYPE=r,t}(l);n.ViewerTableBridge=g},{"base/js/base":5,"base/js/helpers":7,"base/js/logger":8,"dialogEditTableVar/js/dialogEditTableVar":16,"psol.table":206,"table/js/table":50,"table/js/tableBase":51,"webViewer3D/js/webViewer3D":73}],61:[function(e,t,n){"use strict";var i,o=e("inherits"),r=e("viewBase/js/viewBase").ViewBase,s=e("radialMenu/js/radialMenu"),a=e("psol.translation"),l=e("viewBase/js/viewHelper"),c=jQuery;function p(t){i=window.THREE||e("THREE");var n={activateVia:p.ACTIVATION.VIEWING,hmd:{hResolution:c(document).height()*window.devicePixelRatio,vResolution:c(document).width()*window.devicePixelRatio,hScreenSize:.12576,vScreenSize:.07074,interpupillaryDistance:.066,lensSeparationDistance:.066,eyeToScreenDistance:.045,distortionK:[1,.15,.01,0],chromaAbParameter:[.996,-.004,1.014,0],fov:110}};p.super_.call(this,t,n),this._props._setActionStatesOnEvent=!1,this._lastMotionEvent=null,this._props._controlActions=t.controlActions||[]}p.ACTIVATION={VIEWING:0},o(p,r),p.prototype._componentName="VRcontrol",p.prototype._viewInit=function(e,t){p.super_.prototype._viewInit.call(this,e,t),this.enabled=!0,this.transX=0,this.transY=0,this.oldtransX=0,this.oldtransY=0,this.gotVrDisplays=!1,this.runAnimationFrame=!0,this.deviceIsCalibrated=!1,this.deviceCalibrationArray=[],this.measuresNeededForCalibration=10,this.deviceOrientationIsFirstEvent=!0,this.deviceOrientation={alpha:0,beta:0,gamma:0,screenOrientation:0,initQuaternion:new i.Quaternion}},p.prototype._viewPostDisplay=function(t,n){if(this._controlElementsContainerRight=this._$el.find(".psol-comp-vrcontrol-right-controlElementContainer"),this._controlElementsContainerLeft=this._$el.find(".psol-comp-vrcontrol-left-controlElementContainer"),this._controlElementsContainer=this._$el.find(".psol-comp-vrcontrol-controlElementContainer"),this._cursorRightMiddle=this._$el.find(".psol-comp-vrcontrol-right-cursorMiddle"),this._cursorActivation=this._$el.find(".psol-comp-vrcontrol-cursoractivation"),this.rightShifter=this._$el.find(".psol-comp-vrcontrol-right-shifter"),this.leftShifter=this._$el.find(".psol-comp-vrcontrol-left-shifter"),e("webvr-polyfill"),navigator.getVRDisplays)try{navigator.getVRDisplays().then(function(e){if(e.length){var t=e[0].deviceInfo_;t&&(this._props.hmd={hResolution:t.device.width,vResolution:t.device.height,hScreenSize:t.device.widthMeters,vScreenSize:t.device.heightMeters,interpupillaryDistance:t.viewer.interLensDistance,lensSeparationDistance:t.viewer.interLensDistance,eyeToScreenDistance:t.viewer.screenLensDistance,distortionK:[1,t.distortion.coefficients[0],t.distortion.coefficients[1],0],chromaAbParameter:[.996,-.004,1.014,0]})}this.gotVrDisplays=!0,this._calculateShift()}.bind(this))}catch(e){this.gotVrDisplays=!0,this._calculateShift()}else this.gotVrDisplays=!0,this._calculateShift();this._checkForCorrectOrientation(),this._createMenu().done(function(){this._controlElementsRight=this._controlElementsContainerRight.find(".psol-comp-radialMenu-button, .psol-comp-viewbase-action"),this._$el.find(".psol-comp-viewbase-iconbutton").addClass("psol-comp-vrcontrol-buttonBackground"),this._props.activateVia===p.ACTIVATION.VIEWING&&this._checkForSelectionViaViewing(),this._translateControls()}.bind(this))},p.prototype.disable=function(){this.enabled=!1},p.prototype.enable=function(){this.enabled=!0},p.prototype._translateControls=function(){window.requestAnimationFrame(function e(){var t=Math.abs(Math.abs(this.oldtransX)-Math.abs(this.transX)),n=Math.abs(Math.abs(this.oldtransY)-Math.abs(this.transY));(t>0||n>0)&&(this._controlElementsContainer.css({transform:"translate3d("+this.transX+"px, "+this.transY+"px, 0)","-webkit-transform":"translate3d("+this.transX+"px, "+this.transY+"px, 0)"}),this.oldtransX=this.transX,this.oldtransY=this.transY),this.runAnimationFrame&&window.requestAnimationFrame(e.bind(this))}.bind(this))},p.prototype._viewDestroy=function(){this.runAnimationFrame=!1,window.removeEventListener("devicemotion",this._deviceMotionHandler,!1),p.super_.prototype._viewDestroy.call(this)},p.prototype._checkForCorrectOrientation=function(){var e=l.getOrientation();void 0!==e&&90!==e&&-90!==e&&270!==e&&l.toast(a.zTR("Das Gerät bitte horizontal halten."),this._$el,"ComponentCustomizeToastPosition")},p.prototype._createMenu=function(){return this._radialMenuComponent=new s({$container:this._controlElementsContainerRight,mainActions:this._props.controlActions,submenuDirection:"circle"}),this._radialMenuComponent2=new s({$container:this._controlElementsContainerLeft,mainActions:this._props.controlActions,submenuDirection:"circle"}),c.when(this._radialMenuComponent.show(),this._radialMenuComponent2.show())},p.prototype._calculateShift=function(){var e=-1-4*(this._props.hmd.hScreenSize/4-this._props.hmd.lensSeparationDistance/2)/this._props.hmd.hScreenSize,t=this._props.hmd.distortionK[0]+this._props.hmd.distortionK[1]*Math.pow(e,2)+this._props.hmd.distortionK[2]*Math.pow(e,4)+this._props.hmd.distortionK[3]*Math.pow(e,6);this._props.hmd.fov=i.Math.radToDeg(2*Math.atan2(this._props.hmd.vScreenSize*t,2*this._props.hmd.eyeToScreenDistance));var n=(this._props.distance+3.5*this._props.sphereRadius)/1e3,o=Math.tan(i.Math.degToRad(this._props.hmd.fov/2))*n,r=1.5*this._props.sphereRadius/1e3*this._props.hmd.interpupillaryDistance/2/o*(this._props.hmd.hResolution*window.devicePixelRatio)/4;this.rightShifter.css({transform:"translateX("+-r+"px)","-webkit-transform":"translateX("+-r+"px)"}),this.leftShifter.css({transform:"translateX("+r+"px)","-webkit-transform":"translateX("+r+"px)"})},p.prototype._checkForSelectionViaViewing=function(){var e,t=0,n=!1,i=function(o){if(this.runAnimationFrame){var r;if(n=!1,0===t&&(t=o),this._controlElementsRight){var s=this._controlElementsRight.length;for(r=0;r<s;r++){var a=c(this._controlElementsRight[r]);if(this._checkCollision(a[0],this._cursorRightMiddle[0],!0)){if(n=!0,void 0===e||e[0]!==a[0]){void 0!==e&&e.mouseleave(),e=a,t=o;break}if(o-t>1500){if(!a.data("hasnosubactions")){for(var l=a[0].className.split(/\s+/),p=l.indexOf("");p>-1;)l.splice(p,1),p=l.indexOf("");l="."+l.join("."),a.data("action")&&(l+='[data-action="'+a.data("action")+'"]');var d=this._controlElementsContainerLeft.find(l);d.click(),d.mouseenter()}a.click(),a.mouseenter(),t=o}}}n?this._cursorActivation.show():(t=o,this._cursorActivation.hide(),void 0!==e&&e[0]&&(e.mouseleave(),e=void 0))}this.runAnimationFrame&&window.requestAnimationFrame(i.bind(this))}};window.requestAnimationFrame(i.bind(this))},p.prototype._checkCollision=function(e,t,n){if(n&&("hidden"===window.getComputedStyle(e).getPropertyValue("visibility")||"hidden"===window.getComputedStyle(t).getPropertyValue("visibility")||"0"===window.getComputedStyle(e).getPropertyValue("opacity")||"0"===window.getComputedStyle(t).getPropertyValue("opacity")||"none"===window.getComputedStyle(e).getPropertyValue("display")||"none"===window.getComputedStyle(t).getPropertyValue("display")))return!1;var i=e.getBoundingClientRect(),o=t.getBoundingClientRect();return i.left<o.left+o.width&&i.left+i.width>o.left&&i.top<o.top+o.height&&i.height+i.top>o.top},p.prototype._calibriateInitialOrientation=function(e){var t=l.getOrientation(),n=!0;n="iOS"===l.getMobileOS()?90===t&&this._lastMotionEvent&&this._lastMotionEvent.accelerationIncludingGravity.y<this._lastMotionEvent.accelerationIncludingGravity.x||90!==t&&this._lastMotionEvent.accelerationIncludingGravity.y>this._lastMotionEvent.accelerationIncludingGravity.x:this._lastMotionEvent&&this._lastMotionEvent.accelerationIncludingGravity.y>this._lastMotionEvent.accelerationIncludingGravity.x,!this._lastMotionEvent||n||void 0!==t&&90!==t&&-90!==t&&270!==t?this.deviceCalibrationArray=[]:(this.deviceCalibrationArray.length===this.measuresNeededForCalibration&&(this.deviceIsCalibrated=!0,window.removeEventListener("devicemotion",this._deviceMotionHandler,!1)),0===this.deviceCalibrationArray.length||Math.abs(e.alpha-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].alpha)<10&&Math.abs(e.beta-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].beta)<10&&Math.abs(e.gamma-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].gamma)<10?this.deviceCalibrationArray.push(e):this.deviceCalibrationArray=[])},p.prototype._deviceMotionHandler=function(e){this._lastMotionEvent=e},p.prototype._deviceOrientationHandler=function(e){if(this.runAnimationFrame&&null!==e.alpha&&null!==e.beta&&null!==e.gamma)if(this.deviceOrientation.alpha=i.Math.degToRad(e.alpha||0),this.deviceOrientation.beta=i.Math.degToRad(e.beta||0),this.deviceOrientation.gamma=i.Math.degToRad(e.gamma||0),this.deviceOrientation.screenOrientation=i.Math.degToRad(window.orientation||0),this.deviceIsCalibrated){this.deviceOrientationIsFirstEvent&&(this.deviceOrientationIsFirstEvent=!1,e.gamma<0?this.deviceOrientation.initQuaternion.setFromEuler(new i.Euler(0,-this.deviceOrientation.alpha+.5*Math.PI,0,"YXZ")):this.deviceOrientation.initQuaternion.setFromEuler(new i.Euler(0,-this.deviceOrientation.alpha+1.5*Math.PI,0,"YXZ")));var t=new i.Quaternion,n=new i.Vector3(0,0,1),o=new i.Euler,r=new i.Quaternion,s=new i.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5)),a=new i.Euler,l=this._$el.width()/2/this._props.hmd.fov,c=this._$el.height()/this._props.hmd.fov;o.set(this.deviceOrientation.beta,this.deviceOrientation.alpha,-this.deviceOrientation.gamma,"YXZ"),t.setFromEuler(o),t.multiplyQuaternions(this.deviceOrientation.initQuaternion,t),t.multiply(s),t.multiply(r.setFromAxisAngle(n,-this.deviceOrientation.screenOrientation)),a.setFromQuaternion(t,"ZXY"),this.transX=l*i.Math.radToDeg(a.y),this.transY=c*i.Math.radToDeg(a.x)}else this._calibriateInitialOrientation(e)},p.prototype.show=function(){this.enable(),this._radialMenuComponent&&this._radialMenuComponent2&&(this._radialMenuComponent.toggleMainActions(),this._radialMenuComponent2.toggleMainActions()),p.super_.prototype.show.call(this),this.deviceIsCalibrated=!1,this.deviceCalibrationArray=[],this.measuresNeededForCalibration=10,this.deviceOrientationIsFirstEvent=!0,this.deviceOrientation={alpha:0,beta:0,gamma:0,screenOrientation:0,initQuaternion:new i.Quaternion},this.runAnimationFrame||(this.runAnimationFrame=!0,this._translateControls(),this._props.activateVia===p.ACTIVATION.VIEWING&&this._checkForSelectionViaViewing()),window.addEventListener("devicemotion",this._deviceMotionHandler.bind(this),!1)},p.prototype.hide=function(){p.super_.prototype.hide.call(this),this.disable(),this.runAnimationFrame=!1},p.prototype._winEvents=function(){return{deviceorientation:function(e){this.enabled&&this.gotVrDisplays&&this._deviceOrientationHandler(e.originalEvent)}.bind(this),orientationchange:function(){this.enabled&&this._checkForCorrectOrientation()}.bind(this)}},t.exports=p},{THREE:"THREE",inherits:208,"psol.translation":207,"radialMenu/js/radialMenu":39,"viewBase/js/viewBase":58,"viewBase/js/viewHelper":59,"webvr-polyfill":"webvr-polyfill"}],62:[function(e,t,n){"use strict";for(var i=e("base/js/globals"),o=e("psol.translation"),r=i.getApiPath()+"img/webviewer2d/actions/",s=[{name:"actThinLines",currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Dünne Linien"),description:o.zTR("Dünne Linien anzeigen oder ausblenden")},{name:"actCosmeticLines",currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Gewinde etc. Linien"),description:o.zTR("Gewinde etc. Linien anzeigen oder ausblenden")},{name:"actToggleCenterLines",currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Strichpunktierte Linien"),description:o.zTR("Strichpunktierte Linien anzeigen oder ausblenden")},{name:"actToggleDashedLines",currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Gestrichelte Linien"),description:o.zTR("Gestrichelte Linien anzeigen oder ausblenden")},{name:"actToggleDimLines",currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Bemaßungslinien"),description:o.zTR("Bemaßungslinien anzeigen oder ausblenden")},{name:"actToggleSolidLines",aliases:{default:"actLine"},currentState:["visible","active"],availableStates:["visible","active"],text:o.zTR("Dicke Linien"),description:o.zTR("Dicke Linien anzeigen oder ausblenden")},{name:"actZoomAll2d",currentState:"visible",availableStates:["visible"],text:o.zTR("Alles fangen"),description:o.zTR("Ansicht zentrieren und Zoomfaktor anpassen")},{name:"act3D",currentState:[],availableStates:["visible"],text:o.zTR("Technische Voransicht"),description:o.zTR("Zurück zur 3D-Ansicht")},{name:"actHelp",currentState:"visible",availableStates:["visible"],text:o.zTR("Hilfe"),description:o.zTR("Hilfe aufrufen")},{name:"actErpFilter",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Vorzugsreihen An/Aus")}],a=0;a<s.length;++a)s[a].imageBasePath=r,s[a].imageExtension=".svg";t.exports=s},{"base/js/globals":6,"psol.translation":207}],63:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("viewBase/js/viewBase").ViewBase,s=e("psol.translation"),a=e("viewBase/js/progressEvent").ProgressEvent,l=e("psol.index"),c=e("psol.core"),p=e("urijs"),d=e("buttonBar/js/buttonBar"),h=e("psol.exports"),u=e("messageDialog/js/messageDialog").MessageDialog,m=e("bowser"),f=e("hammerjs"),g={CANVAS:1,IMAGE:2},_="cns_pen_style1",v="cns_pen_style2",b="cns_pen_style3",w="cns_pen_style4",y="cns_pen_style5",x="cns_cosmetic";function C(e){var t={backgroundColor:"#FFF",viewerType:C.ViewType.TECH_VIEW};C.super_.call(this,e,t),this._props._setActionStatesOnEvent=!1,this._props._viewerBackend=void 0,this._viewer=void 0,this._views=void 0,this._recalcLayout=!1,this._zoomEvents=!1,this._$svgElement=void 0,this._oldStrokeWidth=[],this._oldDeltaX=0,this._oldDeltaY=0,this._initalStrokeWidth=[],this._hidden=[],this._isCanvasSupported()?this._props._viewerBackend=g.CANVAS:this._props._viewerBackend=g.IMAGE,this._props.viewerType=e.viewerType||C.ViewType.TECH_VIEW,this._props.eatEvents=!0,void 0!==e.eatEvents&&(this._props.eatEvents=e.eatEvents),this._viewerButtonsComponent=void 0,this._props._favoriteActions=e.favoriteActions,this._registerActions()}o(C,r),C.prototype._componentName="WebViewer2D",C.ViewType={TECH_VIEW:1,DERIVATION_VIEW:2},C.prototype._registerActions=function(){var t,n=e("./actionlist.js");for(t=0;t<n.length;t++)this._registerAction(n[t])},C.prototype._viewInit=function(e,t){if(C.super_.prototype._viewInit.call(this,e,t),!m.msie||m.msie&&m.version>10?this._$el.find(".psol-comp-webviewer2d-content").addClass("psol-comp-viewbase-flex-container psol-comp-viewbase-flex-col"):this._recalcLayout=!0,this._props._favoriteActions){var n=this._props._favoriteActions.slice();this._props._favoriteActions=[];for(var i=0;i<n.length;++i){var o=n[i],r=this._getAction(o);r&&this._props._favoriteActions.push(r)}}else this._props._favoriteActions=[this._getAction("actToggleSolidLines"),this._getAction("actThinLines"),this._getAction("actToggleDashedLines"),this._getAction("actToggleCenterLines"),this._getAction("actCosmeticLines"),this._getAction("actToggleDimLines"),this._getAction("actZoomAll2d"),this._getAction("act3D"),this._getAction("actErpFilter"),this._getAction("actHelp")];this._viewerButtonsComponent=new d({$container:this._$el.find(".ComponentCustomizeWebViewer2DFavoriteButtonsBarContainer"),actions:this._props._favoriteActions})},C.prototype._viewPostDisplay=function(t){switch(C.super_.prototype._viewPostDisplay.call(this,t),this._props._renderArea=this._$el.find(".psol-comp-webviewer2d-render-area"),this._props._svgContainer=this._props._renderArea.find(".psol-comp-webviewer2d-svgcontainer"),this._props._svgCanvasContainer=this._props._renderArea.find("#psol-comp-webviewer2d-canvascontainer"),this._props._viewerBackend){case g.CANVAS:var n=e("../viewer/canvas/html5viewer");this._viewer=new n;break;case g.IMAGE:default:var i=e("../viewer/image/image");this._viewer=new i(this._props._renderArea)}this._createAndSetBackground()},C.prototype._doRecalcLayout=function(){var e=this._$el.find(".psol-comp-webviewer2d-content").innerHeight();e-=this._$el.find(".psol-comp-webviewer2d-selectionContainer").outerHeight(),e-=this._$el.find(".ComponentCustomizeWebViewer2DFavoriteButtonsBarContainer").outerHeight(),this._$el.find(".psol-comp-webviewer2d-render-area").height(e)},C.prototype._toggle=function(e){this._hidden.indexOf(e)>-1?(this._hidden.splice(this._hidden.indexOf(e),1),this._props._svgContainer.find("svg ."+e).removeClass("psol-comp-webviewer2d-hiddenLine")):this._hidden.push(e),this._hidden.forEach(function(e){this._props._svgContainer.find("svg ."+e).addClass("psol-comp-webviewer2d-hiddenLine")}.bind(this))},C.prototype._onactThinLines=function(){this._$svgElement&&(this._toggle(v),this._updateCanvas())},C.prototype._onactCosmeticLines=function(){this._$svgElement&&(this._toggle(x),this._updateCanvas())},C.prototype._onactToggleCenterLines=function(){this._$svgElement?(this._toggle(w),this._updateCanvas()):this._viewer.toggleCenterLines()},C.prototype._onactToggleDimLines=function(){this._$svgElement?(this._toggle(y),this._updateCanvas()):this._viewer.toggleDimLines()},C.prototype._onactToggleDashedLines=function(){this._$svgElement?(this._toggle(b),this._updateCanvas()):this._viewer.toggleDashedLines()},C.prototype._onactToggleSolidLines=function(){this._$svgElement?(this._toggle(_),this._updateCanvas()):this._viewer.toggleSolidLines()},C.prototype._onactZoomAll2d=function(){this._$svgElement?this._reset2DView(!1,!0):this._viewer.zoomAll()},C.prototype._onact3D=function(){},C.prototype._onactHelp=function(){new u({title:s.zTR("Hilfe"),message:this._render("tmpl-WebViewer2DHelp",{favoriteActions:this._props._favoriteActions})}).show()},C.prototype._onactErpFilter=function(){},C.prototype._viewEvents=function(){return{"change; .psol-comp-webviewer2d-selection":function(e){var t=Number(e.currentTarget.value),n=this._views[t];if(n){var i=new a(s.zTR("Bitte warten..."),s.zTR("Bauteil wird geladen..."));this.onProgressBegin(i),this._resetButtons(),this._reset2DView(!1),this._renderView(n).always(function(){this.onProgressEnd(i)}.bind(this))}}.bind(this)}},C.prototype._createAndSetBackground=function(){var e,t=this._props.backgroundColor;if(this._props._viewerBackend===g.IMAGE)this._$el.css({background:"#FFF"});else if("string"==typeof t)e=t,this._$el.css({background:e});else if("object"==typeof t){var n,i=Object.keys(t).length;if(1===i||0===i)return e=t.top||t.middle||t.bottom,void this._$el.css({background:e});if(3===i)n="linear-gradient(top, "+t.top+", "+t.middle+", "+t.bottom+")",this._$el.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr="+t.top+", endColorstr="+t.bottom+")"});else if(2===i){var o=t.top||t.middle,r=t.bottom||t.middle;n="linear-gradient(top, "+o+", "+r+")",this._$el.css({filter:"progid:DXImageTransform.Microsoft.gradient(startColorstr="+o+", endColorstr="+r+")"})}var s,a=["","-o-","-moz-","-webkit-","-ms-"];for(s=0;s<a.length;s++)this._$el.css({backgroundImage:a[s]+n})}},C.prototype._showAvailableButtons=function(){this.setActionState("actToggleCenterLines","visible",this._viewer.hasCenterLines()||this._hasCenterLines()),this.setActionState("actToggleDimLines","visible",this._viewer.hasDimensionLines()||this._hasDimensionLines()),this.setActionState("actToggleSolidLines","visible",this._viewer.hasVisibleLines()||this._hasNormalLines()),this.setActionState("actToggleDashedLines","visible",this._viewer.hasHiddenLines()||this._hasHiddenLines()),this.setActionState("actCosmeticLines","visible",this._hasCosmetic()),this.setActionState("actThinLines","visible",this._hasThinLines()),this.setActionState("actZoomAll2d","visible",!!this._viewer.zoomAll)},C.prototype.hasLineType=function(e){return this._props._svgContainer.find("svg ."+e).length>0},C.prototype._hasThinLines=function(){return this.hasLineType(v)},C.prototype._hasCosmetic=function(){return this.hasLineType(x)},C.prototype._hasHiddenLines=function(){return this.hasLineType(b)},C.prototype._hasNormalLines=function(){return this.hasLineType(_)},C.prototype._hasCenterLines=function(){return this.hasLineType(w)},C.prototype._hasDimensionLines=function(){return this.hasLineType(y)},C.prototype.show=function(){return C.super_.prototype.show.call(this).then(function(){return this._viewerButtonsComponent.show().then(function(){this._recalcLayout&&this._doRecalcLayout()}.bind(this))}.bind(this))},C.prototype._checkActiveButtons=function(){[this._getAction("actThinLines"),this._getAction("actCosmeticLines"),this._getAction("actToggleCenterLines"),this._getAction("actToggleDashedLines"),this._getAction("actToggleDimLines"),this._getAction("actToggleSolidLines")].forEach(function(e){if(!e.hasState("active")){var t="_on"+e.name;"function"==typeof this[t]&&this[t]()}}.bind(this))},C.prototype._resetButtons=function(){this._hidden=[],this.setActionState("actToggleCenterLines","active",!0),this.setActionState("actToggleDimLines","active",!0),this.setActionState("actToggleSolidLines","active",!0),this.setActionState("actToggleDashedLines","active",!0),this.setActionState("actCosmeticLines","active",!0),this.setActionState("actThinLines","active",!0)},C.prototype._renderDropdown=function(e){e.length>1?(this._$el.find(".psol-comp-webviewer2d-selection").html(this._render("tmpl-WebViewer2D-options",e)),this._$el.find(".psol-comp-webviewer2d-selectionContainer").show(0)):this._$el.find(".psol-comp-webviewer2d-selectionContainer").hide(0)},C.prototype._renderView=function(e){var t,n,o=i.Deferred(),r=c.getServiceBaseUrl();if((t=this._props._viewerBackend===g.IMAGE?e.imageUrl:e.dataUrl).search(/^(https?:)?\/\//)>-1&&(r=void 0),e.svgUrl&&""!==e.svgUrl){var s=new p(c.getServiceBaseUrl()+e.svgUrl);n=this.loadSVG(s.toString())}else this._props._svgContainer.hide(0),n=this._viewer.init(this._props._renderArea,t,r);return n.then(function(){this._checkActiveButtons(),o.resolve()}.bind(this),function(){this._renderNoPreview(),o.reject()}.bind(this)),o.promise()},C.prototype.loadSVG=function(e){return c.ajax({url:e,dataType:"text"}).then(function(e){this._props._svgContainer.show(0),this._svgImage=this._injectCustomCSS(e),this._drawSVG(),this._drawZoomCanvas(),this._showAvailableButtons()}.bind(this))},C.prototype._injectCustomCSS=function(e){var t=(new DOMParser).parseFromString(e,"image/svg+xml");return t.getElementsByTagName("style")[0].textContent+="   .psol-comp-webviewer2d-hiddenLine {     display: none;   }   ",(new XMLSerializer).serializeToString(t)},C.prototype._drawSVG=function(){var e=this._props._svgContainer.width(),t=this._props._svgContainer.height();this._props._svgContainer.html(this._svgImage),this._$svgElement=this._props._svgContainer.find("svg"),this._initSVGWidth=this._$svgElement.width(),this._initSVGHeight=this._$svgElement.height(),this._svgZoomFactor=Math.min(this._$svgElement.width()/e,this._$svgElement.height()/t),this._$svgElement.css({width:e,height:t});for(var n=this._props._svgContainer.find('svg [class*="style"]'),o=0;o<n.length;++o){this._oldStrokeWidth.push(i(n[o]).css("stroke-width").replace(/[^-\d.]/g,"")),this._initalStrokeWidth[o]=this._oldStrokeWidth[o];var r=this._oldStrokeWidth[o]*this._svgZoomFactor;i(n[o]).css("stroke-width",r),this._oldStrokeWidth[o]=r}},C.prototype._drawZoomCanvas=function(){var e,t,n=(new XMLSerializer).serializeToString(this._$svgElement[0]);this._ctx||(this._canvas=this._props._svgCanvasContainer[0],this._canvas.width=this._props._renderArea.width(),this._canvas.height=this._props._renderArea.height(),this._ctx=this._canvas.getContext("2d")),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._img=new Image,this._img.onload=function(){m.msie||m.msedge?(t=this._initSVGHeight/this._initSVGWidth*this._canvas.width,e=this._canvas.width,t>=this._canvas.height&&(t=this._canvas.height,e=this._initSVGWidth/this._initSVGHeight*this._canvas.height)):(t=this._img.height/this._img.width*this._canvas.width,e=this._canvas.width,t>this._canvas.height&&(t=this._canvas.height,e=this._img.width/this._img.height*this._canvas.height)),this._imgData={x:this._canvas.width/2-e/2,y:this._canvas.height/2-t/2,w:e,h:t},this._ctx.drawImage(this._img,this._imgData.x,this._imgData.y,e,t),this._zoomEvents||(this._initSVGEventHandlers(this._imgData),this._zoomEvents=!0)}.bind(this),this._img.src="data:image/svg+xml; charset=utf8, "+encodeURIComponent(n)},C.prototype._initSVGEventHandlers=function(e){var t,n,o,r=null,s=e.x,a=e.y,l=e.w,c=e.h,p=1,d=1;this._lastSVGPos={x:e.x,y:e.y,w:e.w,h:e.h};var h=function(i){m.msie||m.msedge||(this._props._svgContainer.hide(0),this._props._svgCanvasContainer.show(0)),i.scale?o=d*i.scale:(i.originalEvent.wheelDelta&&(o=i.originalEvent.deltaY<0?1.1*p:p/1.1,p=o),i.originalEvent.deltaY&&(o=i.originalEvent.deltaY<0?1.1*p:p/1.1,p=o)),i.center?(t=i.center.x-this._oldDeltaX,n=i.center.y-this._oldDeltaY-this._props._renderArea.offset().top):(t=i.originalEvent.clientX-this._oldDeltaX-parseInt(this._props._renderArea.css("padding-left")),n=i.originalEvent.clientY-this._oldDeltaY-this._props._renderArea.offset().top-parseInt(this._props._renderArea.css("padding-top")));var r=100*(-1*s+t)/l,h=100*(-1*a+n)/c;l=e.w*o,c=e.h*o,s=-1*(l*r/100-t),a=-1*(c*h/100-n),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._img,this._oldDeltaX+s,this._oldDeltaY+a,l,c)}.bind(this),u=function(){for(var t=this._props._svgContainer.find('svg [class*="style"]'),n=0;n<t.length;++n){var o=this._oldStrokeWidth[n]*(1/(l/e.w));i(t[n]).css("stroke-width",o)}this._updateCanvas(this._oldDeltaX+s,this._oldDeltaY+a,l,c),this._props._svgCanvasContainer.hide(0),this._props._svgContainer.show(0)}.bind(this);this._props._renderArea.on("wheel DOMMouseScroll",function(e){e.preventDefault(),h(e),clearTimeout(r),r=setTimeout(function(){u()},500)}),this._hammerCanvas=new f(this._props._renderArea[0]),this._hammerCanvas.get("pinch").set({enable:!0}),this._hammerCanvas.on("pinchmove",function(e){h(e)}.bind(this)),this._hammerCanvas.on("pinchend",function(e){d*=e.scale,u()}.bind(this)),this._hammerCanvas.on("doubletap",function(){this._reset2DView(!1,!0)}.bind(this)),this._hammersvg=new f(this._$svgElement[0]),this._hammersvg.get("pan").set({direction:f.DIRECTION_ALL}),this._hammersvg.on("panmove",function(t){if(m.msie){var n="translate("+(this._oldDeltaX+(s===e.x?0:s)+t.deltaX)+"px, "+(this._oldDeltaY+(a===e.y?0:a)+t.deltaY)+"px)";this._$svgElement.css({"-ms-transform":n})}else{var i="translate3d("+(this._oldDeltaX+(s===e.x?0:s)+t.deltaX)+"px, "+(this._oldDeltaY+(a===e.y?0:a)+t.deltaY)+"px, 0)";this._$svgElement.css({transform:i})}}.bind(this)),this._hammersvg.on("panend",function(t){this._oldDeltaX+=t.deltaX,this._oldDeltaY+=t.deltaY,this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.drawImage(this._img,this._oldDeltaX+e.x,this._oldDeltaY+e.y,l,c)}.bind(this))},C.prototype._updateCanvas=function(e,t,n,i){var o,r;e&&t&&n&&i&&(this._lastSVGPos.x=e,this._lastSVGPos.y=t,this._lastSVGPos.w=n,this._lastSVGPos.h=i,m.msie?(o="translate("+this._lastSVGPos.x+"px, "+this._lastSVGPos.y+"px)",this._$svgElement.css({"-ms-transform":o,width:this._lastSVGPos.w,height:this._lastSVGPos.h})):(r="translate3d("+this._lastSVGPos.x+"px, "+this._lastSVGPos.y+"px, 0)",this._$svgElement.css({transform:r,width:this._lastSVGPos.w,height:this._lastSVGPos.h})));var s=this._$svgElement.clone();m.msie?(o="translate(0, 0)",s.css({"-ms-transform":o})):(r="translate3d(0, 0, 0)",s.css({transform:r}));var a=(new XMLSerializer).serializeToString(s[0]);this._img.onload=this._ctx.drawImage(this._img,this._lastSVGPos.x,this._lastSVGPos.y,this._lastSVGPos.w,this._lastSVGPos.h),this._img.src="data:image/svg+xml; charset=utf8, "+encodeURIComponent(a),s=void 0},C.prototype._reset2DView=function(e,t){if(this._ctx&&this._$svgElement&&(this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._$svgElement.remove(),this._ctx=void 0,this._oldDeltaX=0,this._oldDeltaY=0,this._zoomEvents=!1,this._oldStrokeWidth=[],this._props._renderArea.off("wheel DOMMouseScroll"),this._hammersvg.off("panmove"),this._hammersvg.off("panend"),this._hammerCanvas.off("pinchmove"),this._hammerCanvas.off("pinchend"),this._hammerCanvas.off("doubletap"),this._canvas.width=this._props._renderArea[0].clientWidth,this._canvas.height=this._props._renderArea[0].clientHeight,e&&(this._resetButtons(),this._drawSVG(),this._drawZoomCanvas()),t)){this._$svgElement.css({transform:"translate3d(0px, 0px, 0)"});var n=this._props._svgContainer.width(),o=this._props._svgContainer.height();this._props._svgContainer.html(this._$svgElement[0].outerHTML),this._$svgElement=this._props._svgContainer.find("svg"),this._svgZoomFactor=Math.min(this._initSVGWidth/n,this._initSVGHeight/o),this._$svgElement.css({width:n,height:o});for(var r=this._props._svgContainer.find('svg [class*="style"]'),s=0;s<r.length;++s){var a=this._initalStrokeWidth[s]*this._svgZoomFactor;i(r[s]).css("stroke-width",a),this._oldStrokeWidth[s]=a}this._drawZoomCanvas()}},C.prototype._renderNoPreview=function(){new u({title:s.zTR("Fehler"),message:s.zTR("Keine Vorschau verfügbar")}).show()},C.prototype.makeScreenshotAsync=function(){var e,t=i.Deferred();if(this._viewer&&this._views){var n=this._props.backgroundColor;e=this._viewer?this._viewer.getImage(n):this.getImage(),t.resolve(e)}else t.reject();return t.promise()},C.prototype.getImage=function(){return this._ctx.fillStyle=this._props.backgroundColor,this._ctx.fillRect(0,0,this._canvas.width,this._canvas.height),this._updateCanvas(),this._canvas.toDataURL("image/png")},C.prototype._resizeContainer=function(){C.super_.prototype._resizeContainer.call(this),this._recalcLayout&&this._doRecalcLayout(),this._viewer&&this._viewer.resize_canvas(this._props._renderArea.width(),this._props._renderArea.height()),this._ctx&&this._reset2DView(!1,!0)},C.prototype.loadByVarset=function(e,t,n,o){o=o||{},this._reset2DView(!1);var r=this._props.viewerType,c=new a(s.zTR("Bitte warten..."),s.zTR("Bauteil wird geladen..."));this.onProgressBegin(c);var p,d=i.Deferred();switch(r){case C.ViewType.DERIVATION_VIEW:p=l.getDerivationViewsAsync({path:e,varsettransfer:t,mident:n});break;case C.ViewType.TECH_VIEW:default:p=l.getTechViewsAsync({path:e,varsettransfer:t,mident:n})}return p.done(function(r){var s=i.Deferred();o.TypeDatabase2D?h.getExportFileUrlAsync({mident:n,varsettransfer:t,path:e,format:"PJV"}).then(function(e){s.resolve({type:"2d",name:o.name,dataUrl:e.url})}.bind(this)):s.resolve(),s.then(function(e){if(this._viewer.reset(),e&&r.views.unshift(e),null!==r.views){var t=r.views[0];this._views=r.views,this._renderDropdown(this._views),this._renderView(t).done(function(){this._showAvailableButtons(),this.onProgressEnd(c),d.resolve()}.bind(this)).fail(function(){this.onProgressEnd(c)}.bind(this))}else this._views=void 0,this._renderNoPreview(),this.onProgressEnd(c),d.resolve()}.bind(this))}.bind(this)).fail(function(){this._views=void 0,this._renderNoPreview(),this.onProgressEnd(c),d.resolve()}.bind(this)),d.promise()},C.prototype.loadByPJVData=function(e){this._viewer.loadPJV(this._props._renderArea,e)},C.prototype.loadByOrderData=function(e){this._viewer.reset(),this._reset2DView(!1);var t=i.Deferred(),n=new a(s.zTR("Bitte warten..."),s.zTR("Bauteil wird geladen..."));if(this.onProgressBegin(n),""!==e.message)return this._views=void 0,this._renderNoPreview(),this.onProgressEnd(n),t.reject(e);for(var o,r=[],l=0;l<e.parts.length;l++){o=e.parts[l];for(var c=0;c<o.files.length;c++)r.push({name:""!==o.files[c].content?o.view+" ("+o.files[c].content+")":o.view,dataUrl:o.files[c].downloadurl,imageUrl:o.files[c].downloadurl})}return r.length>0?(this._views=r,this._renderDropdown(this._views),this._renderView(r[0]).done(function(){this._showAvailableButtons(),this.onProgressEnd(n),t.resolve(e)}.bind(this)).fail(function(){this.onProgressEnd(n),t.reject(e)}.bind(this))):(this._views=void 0,this._renderNoPreview(),this.onProgressEnd(n),t.reject(e)),t.promise()},C.prototype._isCanvasSupported=function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},t.exports=C},{"../viewer/canvas/html5viewer":68,"../viewer/image/image":69,"./actionlist.js":62,bowser:"bowser","buttonBar/js/buttonBar":11,hammerjs:"hammerjs",inherits:208,"messageDialog/js/messageDialog":35,"psol.core":196,"psol.exports":198,"psol.index":200,"psol.translation":207,urijs:"urijs","viewBase/js/progressEvent":55,"viewBase/js/viewBase":58}],64:[function(e,t,n){"use strict";var i=e("./Vector2d");function o(){this.min=null,this.max=null,this.reset()}o.prototype.reset=function(){this.min=new i(1e9,1e9),this.max=new i(-1e9,-1e9)},o.prototype.updateBoundsVector2d=function(e){this.min.x=Math.min(this.min.x,e.x),this.min.y=Math.min(this.min.y,e.y),this.max.x=Math.max(this.max.x,e.x),this.max.y=Math.max(this.max.y,e.y)},o.prototype.updateBoundsVector2dArray=function(e){var t=0;for(t=0;t<e.length;++t)this.updateBoundsVector2d(e[t])},o.prototype.updateBoundsBoundingBox2d=function(e){this.min.x=Math.min(this.min.x,e.min.x),this.min.y=Math.min(this.min.y,e.min.y),this.max.x=Math.max(this.max.x,e.max.x),this.max.y=Math.max(this.max.y,e.max.y)},o.prototype.dimension=function(){return this.max.subVector2d(this.min)},o.prototype.center=function(){return this.min.addVector2d(this.max).divScalar(2)},o.prototype.diameter=function(){var e=this.dimension();return Math.max(e.x,e.y)},o.prototype.radius=function(){return this.diameter/2},o.prototype.mulMatrix3x3=function(e){var t=[];t.push(e.mulVector2d(new i(this.min.x,this.min.y))),t.push(e.mulVector2d(new i(this.max.x,this.min.y))),t.push(e.mulVector2d(new i(this.max.x,this.max.y))),t.push(e.mulVector2d(new i(this.min.x,this.max.y)));var n=new o;return n.updateBoundsVector2dArray(t),n},t.exports=o},{"./Vector2d":67}],65:[function(e,t,n){"use strict";var i=e("./Vector2d"),o=e("base/js/logger");function r(e){this.name=void 0===e?"unknown":e,this.m=[1,0,0,0,1,0,0,0,1]}r.prototype.toString=function(){var e=this.name+": \n";return e+=this.m[0]+"  "+this.m[1]+"  "+this.m[2]+"\n",e+=this.m[3]+"  "+this.m[4]+"  "+this.m[5]+"\n",e+=this.m[6]+"  "+this.m[7]+"  "+this.m[8]+"\n"},r.prototype.compareFloat=function(e,t,n){return n=n||1e-4,Math.abs(e-t)<n?0:e>t?1:-1},r.prototype.isIdentity=function(){return 0===this.compareFloat(this.m[0],1)&&(0===this.compareFloat(this.m[1],0)&&(0===this.compareFloat(this.m[2],0)&&(0===this.compareFloat(this.m[3],0)&&(0===this.compareFloat(this.m[4],1)&&(0===this.compareFloat(this.m[5],0)&&(0===this.compareFloat(this.m[6],0)&&(0===this.compareFloat(this.m[7],0)&&0===this.compareFloat(this.m[8],1))))))))},r.prototype.identity=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=0,this.m[4]=1,this.m[5]=0,this.m[6]=0,this.m[7]=0,this.m[8]=1},r.prototype.scale=function(e,t){this.m[0]*=e,this.m[4]*=t},r.prototype.getScale=function(){return new i(this.m[0],this.m[4])},r.prototype.translate=function(e,t){this.m[2]+=e,this.m[5]+=t},r.prototype.translateAbs=function(e,t){this.m[2]=e,this.m[5]=t},r.prototype.getTranslate=function(){return new i(this.m[2],this.m[5])},r.prototype.setContextTransform=function(e){e.setTransform(this.m[0],this.m[1],this.m[3],this.m[4],this.m[2],this.m[5])},r.prototype.mulVector2d=function(e){var t=this.m[0]*e.x+this.m[1]*e.y+this.m[2],n=this.m[3]*e.x+this.m[4]*e.y+this.m[5];return new i(t,n)},r.prototype.mulMatrix3x3=function(e){var t=this.m[0],n=this.m[1],i=this.m[2],o=this.m[3],s=this.m[4],a=this.m[5],l=this.m[6],c=this.m[7],p=this.m[8],d=e.m[0],h=e.m[1],u=e.m[2],m=e.m[3],f=e.m[4],g=e.m[5],_=e.m[6],v=e.m[7],b=e.m[8],w=new r;return w.m[0]=t*d+n*m+i*_,w.m[1]=t*h+n*f+i*v,w.m[2]=t*u+n*g+i*b,w.m[3]=o*d+s*m+a*_,w.m[4]=o*h+s*f+a*v,w.m[5]=o*u+s*g+a*b,w.m[6]=l*d+c*m+p*_,w.m[7]=l*h+c*f+p*v,w.m[8]=l*u+c*g+p*b,w},r.prototype.logTable=function(){o.table([[this.m[0],this.m[1],this.m[2]],[this.m[3],this.m[4],this.m[5]],[this.m[6],this.m[7],this.m[8]]])},t.exports=r},{"./Vector2d":67,"base/js/logger":8}],66:[function(e,t,n){"use strict";var i=e("./Vector2d"),o=e("./BoundingBox2d"),r=e("base/js/logger");function s(e,t){switch(this.type=void 0!==t?parseInt(t,10):0,this.width=void 0!==e?parseInt(e,10):0,this.color=[0,0,0],this.type){case 0:switch(this.width){case 1:this.color=[0,0,255];break;default:this.color=[0,0,0]}break;case 1:this.color=[255,0,0];break;case 2:this.color=[127,127,127];break;default:this.color=[0,0,0]}this.isSolid=function(){return 0===this.type&&1!==this.width},this.isDash=function(){return 2===this.type},this.isCenter=function(){return 1===this.type},this.isdimension=function(){return 0===this.type&&1===this.width},this.getCurrentStyleName=function(){return this.isSolid()?"solid":this.isDash()?"dashed":this.isCenter()?"center":this.isdimension()?"dimension":"solid"}}function a(e){this.style=e}function l(e,t,n){a.call(this,n),this.A=e,this.B=t}function c(e,t,n){a.call(this,n),this.r=e,this.M=t}function p(e,t,n,i){a.call(this,i),this.A=e,this.B=t,this.C=n}function d(e,t,n,i,o,r,s){a.call(this,s),this.text=e.replace(/\'/g,""),this.pos=t,this.height=n,this.angle=i,this.relpos=o,this.align=r}a.prototype.getColor=function(){return this.style.color},l.prototype=new a,l.prototype.constructor=l,l.prototype.getLineArray=function(){return[this.A.x,this.A.y,this.B.x,this.B.y]},c.prototype=new a,c.prototype.constructor=c,c.prototype.getCircleArray=function(){return[this.M.x,this.M.y,this.r]},p.prototype=new a,p.prototype.constructor=p,p.prototype.calcMidPoint=function(){var e=(this.B.y-this.A.y)/(this.B.x-this.A.x),t=(this.C.y-this.B.y)/(this.C.x-this.B.x),n=(e*t*(this.A.y-this.C.y)+t*(this.A.x+this.B.x)-e*(this.B.x+this.C.x))/(2*(t-e)),o=-1/e*(n-(this.A.x+this.B.x)/2)+(this.A.y+this.B.y)/2;return new i(n,o)},p.prototype.getArcArray=function(){var e=this.calcMidPoint(),t=this.A.distance(e),n=this.A,o=this.B,r=this.C,s=o.subVector2d(n),a=r.subVector2d(o);if(s.normale().dot(a)<0){var l=n;n=r,r=l}var c=new i(0,0).subVector2d(e),p=n.addVector2d(c),d=r.addVector2d(c);p.y=-p.y,d.y=-d.y;var h=p.angle(),u=d.angle();return[e.x,e.y,t,h,u,!1]},d.prototype=new a,d.prototype.constructor=d,d.prototype.getTextArray=function(){return[this.text,this.pos.x,this.pos.y,this.height,this.angle]},t.exports=function(){this.initZoom=1,this.xscale=1,this.yscale=1,this.xpos=0,this.ypos=0,this.currentStyle=null,this.lines=null,this.arcs=null,this.circles=null,this.texts=null,this.canvasStrokeStyles={dashed:"#7F7F7F",solid:"#000000",center:"#FF0000",dimension:"#0000FF"},this.boundingBox=new o,this.parse=function(e){this.currentStyle=new s(3,0),this.lines={dashed:[],solid:[],center:[],dimension:[]},this.arcs={dashed:[],solid:[],center:[],dimension:[]},this.circles={dashed:[],solid:[],center:[],dimension:[]},this.texts={dashed:[],solid:[],center:[],dimension:[]};var t=e.replace(new RegExp("{","g")," ");t=t.split("}");var n,o,a,h,u,m,f,g,_,v=0,b=function(e){return e};for(v=0;v<t.length;++v)if(n=t[v],void 0!==(o=(o=t[v].trim().split(" ")).filter(b))&&void 0!==(a=o[0]))if("S"===a)this.currentStyle=new s(o[1],o[2]);else if("L"===a)h=new i(o[1],o[2]),u=new i(o[3],o[4]),this.boundingBox.updateBoundsVector2dArray([h,u]),this.lines[this.currentStyle.getCurrentStyleName()].push(new l(h,u,this.currentStyle).getLineArray());else if("C"===a)m=new i(o[1],o[2]),this.boundingBox.updateBoundsVector2d(m),this.circles[this.currentStyle.getCurrentStyleName()].push(new c(o[3],m,this.currentStyle).getCircleArray());else if("A"===a)f=new i(o[1],o[2]),g=new i(o[3],o[4]),_=new i(o[5],o[6]),this.boundingBox.updateBoundsVector2dArray([f,g,_]),this.arcs[this.currentStyle.getCurrentStyleName()].push(new p(f,g,_,this.currentStyle).getArcArray());else if("T"===a){var w,y=n.indexOf('"'),x=n.lastIndexOf('"'),C=n.substring(y+1,x),S=(n=n.substr(x+1).trim()).split(" "),A=new i(S[0],S[1]),T=parseFloat(S[2])||1,M=C.length*T*.6,k=parseFloat(S[3])||0;switch(k){case 0:case 360:w=new i(A.x+M,A.y+T);break;case-270:case 90:w=new i(A.x-T,A.y+M);break;case-180:case 180:w=new i(A.x-M,A.y-T);break;case-90:case 270:w=new i(A.x+T,A.y-M);break;default:w=new i(A.x+M,A.y+T)}this.boundingBox.updateBoundsVector2dArray([A,w]),this.texts[this.currentStyle.getCurrentStyleName()].push(new d(C,A,T,k,S[4],S[5],this.currentStyle).getTextArray())}else"X"===a?r.log("token X not implemented"):r.log("unknown token in line("+v+"): '"+t[v]+"'");return this}}},{"./BoundingBox2d":64,"./Vector2d":67,"base/js/logger":8}],67:[function(e,t,n){"use strict";var i=e("base/js/logger");function o(e,t){this.x=parseFloat(e),this.y=parseFloat(t)}o.prototype.addVector2d=function(e){return new o(this.x+e.x,this.y+e.y)},o.prototype.addScalar=function(e){return new o(this.x+e,this.y+e)},o.prototype.subVector2d=function(e){return new o(this.x-e.x,this.y-e.y)},o.prototype.mulVector2d=function(e){return new o(this.x*e.x,this.y*e.y)},o.prototype.divScalar=function(e){return new o(this.x/e,this.y/e)},o.prototype.mulScalar=function(e){return new o(this.x*e,this.y*e)},o.prototype.divVector2d=function(e){return new o(this.x/e.x,this.y/e.y)},o.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},o.prototype.normalize=function(){var e=parseFloat(this.length());return new o(this.x/e,this.y/e)},o.prototype.normale=function(){return new o(-this.y,this.x)},o.prototype.distance=function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},o.prototype.dot=function(e){return this.x*e.x+this.y*e.y},o.prototype.angle=function(){var e=this.normalize(),t=Math.acos(e.x);return e.y>0&&(t=2*Math.PI-t),t},o.prototype.center=function(e){return new o((this.x+e.x)/2,(this.y+e.y)/2)},o.prototype.toString=function(){return"{"+this.x+","+this.y+"}"},o.zero=function(){return new o(0,0)},o.plotDataset=function(e){var t="plotdataset2d({",n=0;for(n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n].toString();t+="})",i.log(t)},t.exports=o},{"base/js/logger":8}],68:[function(e,t,n){"use strict";var i=jQuery,o=e("./Matrix3x3"),r=e("./Vector2d"),s=e("./BoundingBox2d"),a=e("./PJVParser"),l=e("psol.core"),c=e("base/js/logger"),p=e("hammerjs"),d=e("urijs");function h(){this.modelmatrix=new o("modelmatrix"),this.scaling=new r(1,1),this.boundingBox=new s,this.devicePixelRatio=window.devicePixelRatio||1}function u(e){h.call(this),this.modelmatrix.scale(1,-1),this.boundingBox.updateBoundsVector2dArray([r.zero(),new r(e.width,e.height)]),this.boundingBox=this.boundingBox.mulMatrix3x3(this.modelmatrix),this.img_obj=e}function m(e){h.call(this),this.pjv=(new a).parse(e),this.dimToggle=!0,this.solidToggle=!0,this.centerToggle=!0,this.dashedToggle=!0,this.PI2=2*Math.PI,this.boundingBox=this.pjv.boundingBox}function f(){h.call(this),this.half_canvas_size=r.zero()}function g(e){e=e||{},this._eatEvents=!0,e.eatEvents&&(this._eatEvents=e.eatEvents),this.frontCanvas=null,this.frontCanvasContext=null,this.backCanvas=null,this.backCanvasContext=null,this.canvasSize=new r(0,0),this.drawables=[],this.screenMatrix=new o("screen matrix"),this.viewmatrix_back=new o("viewmatrix_back"),this.viewmatrix_front=new o("viewmatrix_front"),this.boundingBox=new s,this.isInitialized=!1,this.clearCanvasWithWidth=!1,this.devicePixelRatio=window.devicePixelRatio||1,this.wasZoomed=!1}h.prototype.draw=function(e,t,n,i){var o=i.mulMatrix3x3(this.modelmatrix);o.name="multiplied draw matrix",o.setContextTransform(e)},h.prototype.setscale=function(e,t,n){var i=new r(e,t);this.scaling=n?i:this.scaling.mulVector2d(i)},h.prototype.hasHiddenLines=function(){return!1},h.prototype.hasVisibleLines=function(){return!1},h.prototype.hasCenterLines=function(){return!1},h.prototype.hasDimensionLines=function(){return!1},u.prototype=new h,u.prototype.constructor=u,u.prototype.draw=function(e,t,n,i){!1!==n&&(h.prototype.draw.call(this,e,t,n,i),e.drawImage(this.img_obj,0,0))},m.prototype=new h,m.prototype.constructor=m,m.prototype.toggleCenterLines=function(){this.centerToggle=!this.centerToggle},m.prototype.toggleDashedLines=function(){this.dashedToggle=!this.dashedToggle},m.prototype.toggleDimLines=function(){this.dimToggle=!this.dimToggle},m.prototype.toggleSolidLines=function(){this.solidToggle=!this.solidToggle},m.prototype.drawLines=function(e,t){e.beginPath();var n=0;for(n=0;n<t.length;n++){var i=t[n];e.moveTo(i[0],i[1]),e.lineTo(i[2],i[3])}e.stroke()},m.prototype.drawCircles=function(e,t){var n=0;for(n=0;n<t.length;n++){var i=t[n];e.beginPath(),e.arc(i[0],i[1],i[2],0,this.PI2,!0),e.stroke()}},m.prototype.drawArcs=function(e,t){var n=0;for(n=0;n<t.length;n++){var i=t[n];e.beginPath(),e.arc(i[0],i[1],i[2],i[3],i[4],i[5]),e.stroke()}},m.prototype.drawTexts=function(e,t){e.font='10px "Courier New", Courier, monospace';var n=0;for(n=0;n<t.length;n++){var i=t[n];e.save();var o=i[3]/10;e.translate(i[1],i[2]),e.scale(o,-o);var r=-i[4]*Math.PI/180;0!==r&&e.rotate(r),e.fillText(i[0],0,0),e.restore()}},m.prototype.drawPrimitives=function(e,t){this.drawLines(e,this.pjv.lines[t]),this.drawCircles(e,this.pjv.circles[t]),this.drawArcs(e,this.pjv.arcs[t]),this.drawTexts(e,this.pjv.texts[t])},m.prototype.setLineDash=function(e,t){void 0!==e.setLineDash&&e.setLineDash(t),void 0!==e.webkitLineDash&&(e.webkitLineDash=t)},m.prototype.draw=function(e,t,n,i){if(!1!==n){h.prototype.draw.call(this,e,t,n,i);var o=1/Math.max(this.scaling.y,this.scaling.y),r=10*(o*=this.devicePixelRatio),s=4*o,a=[r,s],l=[r,s,o,s];e.lineCap="square",this.solidToggle&&(e.lineWidth=2*o,e.strokeStyle=this.pjv.canvasStrokeStyles.solid,this.drawPrimitives(e,"solid")),this.dimToggle&&(e.lineWidth=o,e.strokeStyle=this.pjv.canvasStrokeStyles.dimension,this.drawPrimitives(e,"dimension")),this.dashedToggle&&(e.lineWidth=o,e.strokeStyle=this.pjv.canvasStrokeStyles.dashed,this.setLineDash(e,a),this.drawPrimitives(e,"dashed"),this.setLineDash(e,[])),this.centerToggle&&(e.lineWidth=o,this.setLineDash(e,l),e.strokeStyle=this.pjv.canvasStrokeStyles.center,this.drawPrimitives(e,"center"),this.setLineDash(e,[]))}},m.prototype.hasLineType=function(e){return this.pjv.lines[e].length>0||this.pjv.circles[e].length>0||this.pjv.arcs[e].length>0||this.pjv.texts[e].length>0},m.prototype.hasHiddenLines=function(){return this.hasLineType("dashed")},m.prototype.hasVisibleLines=function(){return this.hasLineType("solid")},m.prototype.hasCenterLines=function(){return this.hasLineType("center")},m.prototype.hasDimensionLines=function(){return this.hasLineType("dimension")},f.prototype=new h,f.prototype.constructor=f,f.prototype.draw_axis=function(e,t){e.lineCap="square",e.lineWidth=2/Math.max(this.scaling.y,this.scaling.y),e.strokeStyle="#ff0000",e.beginPath(),e.moveTo(-this.half_canvas_size.x,0),e.lineTo(this.half_canvas_size.x,0),e.stroke(),e.strokeStyle="#00ff00",e.beginPath(),e.moveTo(0,-this.half_canvas_size.y),e.lineTo(0,this.half_canvas_size.y),e.stroke()},f.prototype.draw=function(e,t,n,i){h.prototype.draw.call(this,e,t,n,i),this.half_canvas_size=t.divScalar(2),this.draw_axis(e,t)},g.prototype.getCanvasClientMousePos=function(e,t){var n=e.getBoundingClientRect();return new r(t.clientX-n.left,t.clientY-n.top)},g.prototype.getCanvasClientPos=function(e,t,n){var i=e.getBoundingClientRect();return new r(t-i.left,n-i.top)},g.prototype.addDefaultEventListeners=function(){var e=null,t=function(t){t.preventDefault(),this._eatEvents&&t.stopPropagation(),t=t.originalEvent||t;var n=Math.max(-1,Math.min(1,-t.deltaY||-t.detail)),i=this.getCanvasClientMousePos(this.frontCanvas,t),o=.075;o*=this.devicePixelRatio;var r=0;r=Math.abs(n)*o,r=n<0?1-r:1+r,this.zoom(r,i),null!==e&&window.clearTimeout(e),e=window.setTimeout(function(){e=null,this.translationEnd()}.bind(this),250)}.bind(this),n=r.zero(),o=0,s=new p(this.frontCanvas);s.get("pan").set({direction:p.DIRECTION_ALL}),s.get("pinch").set({enable:!0}),s.on("panstart",function(e){n=this.getCanvasClientPos(this.frontCanvas,e.center.x,e.center.y)}.bind(this)),s.on("panmove",function(e){var t=this.getCanvasClientPos(this.frontCanvas,e.center.x,e.center.y);this.pan(n.x-t.x,n.y-t.y),n=t}.bind(this)),s.on("panend",function(e){n=n=r.zero(),this.translationEnd()}.bind(this)),s.on("pinchstart",function(e){o=e.scale}),s.on("pinchmove",function(e){var t=e.scale,n=t-o;if(n){var i=.25;i*=this.devicePixelRatio;var r=0;r=Math.abs(n)*i,r=n<0?1-r:1+r,this.zoom(r,e.center)}o=t}.bind(this)),s.on("pinchend",function(e){o=0,this.translationEnd()}.bind(this)),s.on("doubletap",function(e){this.zoomAll()}.bind(this)),i(this.frontCanvas).on("wheel DOMMouseScroll",t),i(this.frontCanvas).on("contextmenu",function(e){e.preventDefault()})},g.prototype.clear=function(e,t,n,i,o,r){(r=void 0===r||r)&&e.save(),e.setTransform(1,0,0,1,0,0),e.clearRect(t,n,i,o),r&&e.restore()},g.prototype.clearW=function(e){e.width=e.width},g.prototype.swapCanvas=function(){this.backCanvasContext&&this.frontCanvasContext&&this.backCanvas.width>0&&this.backCanvas.height>0&&this.frontCanvas.width>0&&this.frontCanvas.height>0&&this.frontCanvasContext.drawImage(this.backCanvas,0,0)},g.prototype.draw=function(e){var t=void 0===e||e;if(this.clearCanvasWithWidth||this.viewmatrix_front.isIdentity()||this.viewmatrix_back.isIdentity()){if(this.clearW(this.frontCanvas),this.clearCanvasWithWidth)return void(this.clearCanvasWithWidth=!1)}else this.clear(this.frontCanvasContext,0,0,this.frontCanvas.width,this.frontCanvas.height,!1);!0===t&&this.clearW(this.backCanvas);var n=0;for(n=0;n<this.drawables.length;n++){this.drawables[n].draw(this.backCanvasContext,this.canvasSize,e,this.screenMatrix.mulMatrix3x3(this.viewmatrix_back))}this.viewmatrix_front.setContextTransform(this.frontCanvasContext),this.swapCanvas()},g.prototype.addDrawable=function(e){this.drawables.push(e),this.boundingBox.updateBoundsBoundingBox2d(e.boundingBox)},g.prototype.clearDrawables=function(){this.drawables.length=0,this.boundingBox.reset(),this.viewmatrix_back.identity(),this.viewmatrix_front.identity()},g.prototype.reset=function(){this.isInitialized&&(this.clearDrawables(),this.clear(this.frontCanvasContext,0,0,this.canvasSize.x,this.canvasSize.y),this.clear(this.backCanvasContext,0,0,this.canvasSize.x,this.canvasSize.y))},g.prototype.resize_canvas=function(e,t,n){this.canvasSize.x=e*this.devicePixelRatio,this.canvasSize.y=t*this.devicePixelRatio,this.screenMatrix.identity(),this.screenMatrix.translate(this.canvasSize.x/2,this.canvasSize.y/2),this.screenMatrix.scale(1,-1),this.frontCanvas&&this.backCanvas&&(i(this.frontCanvas).attr({width:this.canvasSize.x,height:this.canvasSize.y}).css({width:e,height:t}),i(this.backCanvas).attr({width:this.canvasSize.x,height:this.canvasSize.y}),this.wasZoomed?this.draw():this.zoomAll())},g.prototype.createCanvasElement=function(e){var t=i(e),n=t.width(),o=t.height();if(this.canvasSize.x=n*this.devicePixelRatio,this.canvasSize.y=o*this.devicePixelRatio,this.screenMatrix.identity(),this.screenMatrix.translate(this.canvasSize.x/2,this.canvasSize.y/2),this.screenMatrix.scale(1,-1),null===this.frontCanvas){var r=i("<canvas/>",{id:"visible_canvas",class:"canvas"}).attr({width:this.canvasSize.x,height:this.canvasSize.y}).css({width:n,height:o}).appendTo(t);this.frontCanvas=r[0],this.frontCanvasContext=this.frontCanvas.getContext("2d"),this.addDefaultEventListeners()}if(null===this.backCanvas){var s=i("<canvas/>",{id:"offscreen_canvas",class:"canvas"}).attr({width:this.canvasSize.x,height:this.canvasSize.y});this.backCanvas=s[0],this.backCanvasContext=this.backCanvas.getContext("2d")}},g.prototype.zoom=function(e,t){this.wasZoomed=!0;var n=0;for(n=0;n<this.drawables.length;n++)this.drawables[n].setscale(e,e,!1);this.viewmatrix_back.scale(e,e);var i=this.viewmatrix_back.getTranslate(),o=this.viewmatrix_front.getScale();this.viewmatrix_front.scale(e,e);var s=this.screenMatrix.getTranslate().subVector2d(new r(-i.x,i.y)).mulScalar(1-e).mulVector2d(o);e>1&&s.mulVector2d(-1),this.viewmatrix_front.translate(s.x,s.y),this.draw(!1)},g.prototype.pan=function(e,t){e*=this.devicePixelRatio,t*=this.devicePixelRatio,this.viewmatrix_back.translate(-e,t),this.viewmatrix_front.translate(-e,-t),this.draw(!1)},g.prototype.zoomAll=function(){this.viewmatrix_back.identity(),this.viewmatrix_front.identity();var e=1,t=0,n=this.boundingBox.dimension();for(e=Math.min(this.canvasSize.x/n.x,this.canvasSize.y/n.y),e*=.95,t=0;t<this.drawables.length;t++)this.drawables[t].setscale(e,e,!0);this.viewmatrix_back.scale(e,e);var i=this.boundingBox.center().mulScalar(e);this.viewmatrix_back.translate(-i.x,-i.y),this.draw()},g.prototype.translationEnd=function(){this.viewmatrix_front.identity(),this.draw()},g.prototype.toggleDimLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)this.drawables[e].toggleDimLines&&this.drawables[e].toggleDimLines();this.draw()},g.prototype.toggleSolidLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)this.drawables[e].toggleSolidLines&&this.drawables[e].toggleSolidLines();this.draw()},g.prototype.toggleCenterLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)this.drawables[e].toggleCenterLines&&this.drawables[e].toggleCenterLines();this.draw()},g.prototype.toggleDashedLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)this.drawables[e].toggleDashedLines&&this.drawables[e].toggleDashedLines();this.draw()},g.prototype.hasHiddenLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)if(this.drawables[e].hasHiddenLines())return!0;return!1},g.prototype.hasVisibleLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)if(this.drawables[e].hasVisibleLines())return!0;return!1},g.prototype.hasCenterLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)if(this.drawables[e].hasCenterLines())return!0;return!1},g.prototype.hasDimensionLines=function(){var e=0;for(e=0;e<this.drawables.length;e++)if(this.drawables[e].hasDimensionLines())return!0;return!1},g.prototype.getImage=function(e){var t;if(e){var n;if("object"==typeof e){var i=this.frontCanvasContext.createLinearGradient(0,0,0,this.frontCanvas.height);i.addColorStop(0,e.top),i.addColorStop(.5,e.middle),i.addColorStop(1,e.bottom),n=i}else n=e;this.frontCanvasContext.fillStyle=n,this.frontCanvasContext.fillRect(0,0,this.frontCanvas.width,this.frontCanvas.height),this.swapCanvas(),t=this.frontCanvas.toDataURL("image/png"),this.draw()}else t=this.frontCanvas.toDataURL("image/png");return t},g.prototype.loadPJV=function(e,t){this.clearDrawables(),this.createCanvasElement(e),this.isInitialized=!0,this.addDrawable(new m(t)),this.zoomAll()},g.prototype.init=function(e,t,n){var o=i.Deferred();this.clearDrawables(),this.wasZoomed=!1,void 0!==n&&n.length>0&&(t=n+t);var r=new d(t),s=r.query(!0);if(s.language=l.getLanguage(),s=i.extend(s,l.getUserInfo()),r.query(s),t=r.toString(),s.fileid&&-1===s.fileid.indexOf(".pjv")&&-1===s.fileid.indexOf(".json")){var a=new Image;a.onerror=function(){c.error("failed to load image: "+t),o.reject()}.bind(this),a.onload=function(){this.createCanvasElement(e),this.addDrawable(new u(a)),this.zoomAll(),o.resolve()}.bind(this),a.src=t}else l.ajaxGetOrPost({url:t,dataType:"text",error:function(e,t){c.error("request failed"),o.reject()},success:function(n,i,r){this.createCanvasElement(e),this.isInitialized=!0;var s=r.getResponseHeader("content-type")||"";if(!(s.indexOf("partjava-2d")>-1||-1!==t.indexOf(".pjv")))return c.log("unsupported content type: "+s),o.reject();this.addDrawable(new m(n)),this.zoomAll(),o.resolve()}.bind(this)});return o.promise()},t.exports=g},{"./BoundingBox2d":64,"./Matrix3x3":65,"./PJVParser":66,"./Vector2d":67,"base/js/logger":8,hammerjs:"hammerjs","psol.core":196,urijs:"urijs"}],69:[function(e,t,n){"use strict";var i=jQuery;function o(e){this._$container=e,this._$image=void 0}o.prototype.init=function(e,t,n){var o=i.Deferred(),r=n+t;return this._$container=e,this._$image=i(new Image),this._$image.css({maxWidth:"100%",maxHeight:"100%",margin:"0 auto",display:"block"}),this._$image.load(function(){o.resolve()}),this._$container.html(this._$image),this._$image[0].src=r,o.promise()},o.prototype.reset=function(){this._$container.empty(),this._$image=void 0},o.prototype.getImage=function(){return this._$image[0].src},o.prototype.hasCenterLines=function(){return!1},o.prototype.hasDimensionLines=function(){return!1},o.prototype.hasVisibleLines=function(){return!1},o.prototype.hasHiddenLines=function(){return!1},o.prototype.resize_canvas=function(){},o.prototype.loadPJV=function(){},o.prototype.onactToggleCenterLines=function(){},o.prototype.onactToggleDimLines=function(){},o.prototype.onactToggleDashedLines=function(){},o.prototype.onactToggleSolidLines=function(){},o.prototype.onactZoomAll=function(){},t.exports=o},{}],70:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default={actAR:["actCameraBackground"],actAnaglyph:["actBluebox","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode","actVR","actPseudoVR"],actBluebox:["actAnaglyph","actCut","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode","actVR","actPseudoVR"],actCameraBackground:["actAR"],actCut:["actBlueBox","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actEnableHotSpots","actExblode","actHotSpots","actTeleport","actVR","actPseudoVR"],actDreamocHD3:["actAnaglyph","actBluebox","actCut","actDreamocMOBILE","actDreamocXL2","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode","actVR","actPseudoVR"],actDreamocMOBILE:["actAnaglyph","actBluebox","actCut","actDreamocHD3","actDreamocXL2","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode","actVR","actPseudoVR"],actDreamocXL2:["actAnaglyph","actBluebox","actCut","actDreamocHD3","actDreamocMOBILE","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode","actVR","actPseudoVR"],actEnableHotSpots:["actAnaglyph","actAnimate","actBluebox","actCut","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actTeleport","actVR","actPseudoVR"],actExplode:["actCut","actCustomDimensions","actHotSpots","actEnableHotSpots","actMeasureGrid","actTeleport"],actHotSpots:["actAnaglyph","actAnimate","actBluebox","actCut","actDreamocHD3","actDreamocXL2","actDreamocMOBILE","actTeleport","actVR","actPseudoVR"],actLabels:["actAnaglyph","actBluebox","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actVR","actPseudoVR"],actMeasureGrid:["actAnaglyph","actBluebox","actDreamocHD3","actDreamocXL2","actDreamocMOBILE","actExplode","actVR","actPseudoVR"],actTeleport:["actAnaglyph","actAnimate","actBluebox","actCut","actDreamocHD3","actDreamocMOBILE","actDreamocXL2","actEnableHotSpots","actVR","actPseudoVR"],actToggleCameraMode:["actAnaglyph","actBluebox","actDreamocHD3","actDreamocXL2","actDreamocMOBILE","actTeleport","actVR","actPseudoVR"],actToggleRotationMode:["actAnimate"],actVR:["actAnaglyph","actBluebox","actCut","actDreamocHD3","actDreamocXL2","actDreamocMOBILE","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode"],actPseudoVR:["actAnaglyph","actBluebox","actCut","actDreamocHD3","actDreamocXL2","actDreamocMOBILE","actEnableHotSpots","actHotSpots","actLabels","actMeasureGrid","actTeleport","actToggleCameraMode"]}},{}],71:[function(e,t,n){"use strict";for(var i=e("base/js/globals"),o=e("psol.translation"),r=i.getApiPath()+"img/webviewer3d/actions/",s=[{name:"actLine",currentState:"visible",availableStates:["visible"],text:o.zTR("Kanten"),description:o.zTR("Liniendarstellung")},{name:"actEnv",currentState:"visible",availableStates:["visible","disabled"],text:o.zTR("Umgebung"),description:o.zTR("Umgebungen auswählen und setzen.")},{name:"actMeasureGrid",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Messraster anzeigen")},{name:"actToggleRotationMode",currentState:"notset",availableStates:["visible","toggle"],text:o.zTR("Bewegungsmodus umschalten"),description:o.zTR("Rotationsmodus zwischen Modell und Kamera wechseln (nur bei aktiver Umgebung)."),aliases:{toggle:"actToggleRotationMode-active"}},{name:"actToggleCameraMode",currentState:"visible",availableStates:["visible","toggle"],text:o.zTR("Projektionsmodus umschalten"),aliases:{toggle:"actToggleCameraMode-active"}},{name:"actDebug",currentState:"visible",availableStates:["visible"],text:o.zTR("Debug")},{name:"actShade",currentState:"visible",availableStates:["visible"],text:o.zTR("Schattiert"),description:o.zTR("Schattierte Darstellung")},{name:"actShadeLine",currentState:"visible",availableStates:["visible"],text:o.zTR("Schattiert mit Kanten"),description:o.zTR("Schattierte Darstellung mit Kanten")},{name:"actAnimate",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Animation"),description:o.zTR("Rotationsanimation")},{name:"actFront",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Vorne (Z)"),description:o.zTR("Ansicht Vorne (Z)")},{name:"actBack",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Hinten (-Z)"),description:o.zTR("Ansicht Hinten (-Z)")},{name:"actLeft",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Links (-X)"),description:o.zTR("Ansicht Links (-X)")},{name:"actRight",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Rechts (X)"),description:o.zTR("Ansicht Rechts (X)")},{name:"actTop",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Oben (Y)"),description:o.zTR("Ansicht Oben (Y)")},{name:"actBottom",currentState:"visible",availableStates:["visible"],text:o.zTR("Ansicht Unten (-Y)"),description:o.zTR("Ansicht Unten (-Y)")},{name:"actIsometric",currentState:"visible",availableStates:["visible"],text:o.zTR("Isometrische Ansicht")},{name:"actAnaglyph",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Anaglyph"),description:o.zTR("Anaglyphenansicht aktivieren. Modus für 3D-Darstellungen mit Rot-Cyan-Brillen.")},{name:"actZoomall",currentState:"visible",availableStates:["visible"],text:o.zTR("Alles fangen"),description:o.zTR("Ansicht zentrieren und Zoomfaktor anpassen")},{name:"actZoomObject",currentState:"visible",availableStates:["visible"],text:o.zTR("Auf Objekt Zoomen")},{name:"actZoomCloser",currentState:"visible",availableStates:["visible","active","hover"],text:o.zTR("Zum Objekt hin zoomen")},{name:"actZoomAway",currentState:"visible",availableStates:["visible","active","hover"],text:o.zTR("Vom Objekt weg zoomen")},{name:"actSaveCameraParams",aliases:{error:"state_error",success:"state_success"},currentState:"notset",availableStates:["visible","disabled","success","error"],text:o.zTR("Kameraposition und -rotation speichern")},{name:"actCut",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Schnitt"),description:o.zTR("Querschnitt")},{name:"actCustomDimensions",currentState:["visible"],availableStates:["visible","active"],text:o.zTR("Bemaßungen anzeigen")},{name:"actExplosion",currentState:"visible",availableStates:["visible","active","disabled"],text:o.zTR("Explosionsansicht")},{name:"actLabels",currentState:["visible"],availableStates:["visible","active"],text:o.zTR("Texte und Klassen zeigen"),description:o.zTR("Labels anzeigen")},{name:"actHotSpots",currentState:"notset",availableStates:["visible","active"],text:o.zTR("HotSpots anzeigen"),description:o.zTR("Anzeigen/Verstecken von HotSpots (nur wenn HotSpots vorhanden sind)")},{name:"actFullscreen",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Vollbild"),description:o.zTR("Vollbildansicht"),handleAsync:!1},{name:"actPseudoFullscreen",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Vollbild"),description:o.zTR("Vollbildansicht")},{name:"actBluebox",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Bluebox"),description:o.zTR("Bluebox Ansicht"),handleAsync:!1},{name:"actDreamocHD3",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Dreamoc HD3"),description:o.zTR("Dreamoc HD3 Ansicht"),handleAsync:!1},{name:"actDreamocXL2",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Dreamoc XL2"),description:o.zTR("Dreamoc XL2 Ansicht"),handleAsync:!1},{name:"actDreamocMOBILE",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Holographische Pyramide"),description:o.zTR("Holographische Pyramide"),handleAsync:!1},{name:"actEnableHotSpots",currentState:"visible",availableStates:["visible","active"],text:o.zTR("HotSpot Modus"),description:o.zTR("Hinzufügen und Editieren von HotSpots.")+"<br>"+o.zTR("Hinzufügen => Modell anklicken.")+"<br>"+o.zTR("Editieren => HotSpot anklicken."),handleAsync:!1},{name:"actVR",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Virtual Reality"),description:o.zTR("Virtual Reality"),handleAsync:!1},{name:"actPseudoVR",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Virtual Reality"),description:o.zTR("Virtual Reality"),handleAsync:!1},{name:"actLeapMotion",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Leap Motion Steuerung")},{name:"actCameraBackground",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Kamerahintergrund"),description:o.zTR("Live Background aktivieren. Mit dieser Option können Sie Ihren aktuellen Kamerafokus als Hintergrund einstellen.")},{name:"actScreenShot",aliases:{error:"state_error",success:"state_success"},currentState:"visible",availableStates:["visible","disabled","success","error"],text:o.zTR("Bildschirmfoto"),description:o.zTR("Bildschirmfoto der 3D-Ansicht erstellen")},{name:"act2D",currentState:"visible",availableStates:["visible"],text:o.zTR("Technische Voransicht"),description:o.zTR("2D Maßansicht betrachten")},{name:"actHelp",currentState:"visible",availableStates:["visible"],text:o.zTR("Hilfe"),description:o.zTR("Hilfe aufrufen")},{name:"actErpFilter",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Vorzugsreihen An/Aus")},{name:"actTeleport",currentState:"visible",availableStates:["visible","active"],text:o.zTR("Teleportmodus"),description:o.zTR("Teleportmodus aktivieren, um sich zur ausgewählten Position zu bewegen.")},{name:"actHoloLens",currentState:"notset",availableStates:["visible"],text:o.zTR("HoloLens")},{name:"actDrawing",currentState:"visible",availableStates:["visible"],text:o.zTR("Zeichnen")},{name:"actCloudImages",currentState:"visible",availableStates:["visible"],text:o.zTR("PARTcloud Bildstrecke"),aliases:{default:"actSlideshow"}},{name:"actSAO",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Umgebungsverdeckung"),description:o.zTR("Umgebungsverdeckung")},{name:"actAR",currentState:"notset",availableStates:["visible","active"],text:o.zTR("Augmented Reality"),description:o.zTR("Augmented Reality")}],a=0;a<s.length;++a)s[a].imageBasePath=r,s[a].imageExtension=".svg";t.exports=s},{"base/js/globals":6,"psol.translation":207}],72:[function(e,t,n){"use strict";var i=e("psol.translation"),o=e("base/js/globals").getApiPath()+"img/webviewer3d/",r={skyboxes:[{id:"city",type:"jpg",name:i.zTR("Stadt"),path:o+"environment/skyboxes/"},{id:"coastline",type:"jpg",name:i.zTR("Küstenstrich"),path:o+"environment/skyboxes/"},{id:"field",type:"jpg",name:i.zTR("Feld"),path:o+"environment/skyboxes/"},{id:"holo",type:"png",name:i.zTR("Holodeck"),path:o+"environment/skyboxes/"},{id:"sky",type:"jpg",name:i.zTR("Himmel"),path:o+"environment/skyboxes/"},{id:"space",type:"jpg",name:i.zTR("Weltraum"),path:o+"environment/skyboxes/"},{id:"sunset",type:"jpg",name:i.zTR("Sonnenuntergang"),path:o+"environment/skyboxes/"}],floors:[{id:"cobblestone",type:"jpg",name:i.zTR("Kopfsteinpflaster"),path:o+"environment/floors/"},{id:"lawn",type:"jpg",name:i.zTR("Rasen"),path:o+"environment/floors/"},{id:"leaves",type:"jpg",name:i.zTR("Laub"),path:o+"environment/floors/"},{id:"parquet",type:"jpg",name:i.zTR("Parkett"),path:o+"environment/floors/"},{id:"steelbrushed",type:"jpg",name:i.zTR("Gebürsteter Stahl"),path:o+"environment/floors/"}]};t.exports=r},{"base/js/globals":6,"psol.translation":207}],73:[function(e,t,n){"use strict";var i=jQuery,o=e("inherits"),r=e("psol.preview"),s=e("psol.exports"),a=e("viewBase/js/viewBase").ViewBase,l=e("camera/js/camera"),c=e("base/js/globals"),p=e("psol.translation"),d=e("viewBase/js/viewHelper"),h=e("viewBase/js/progressEvent").ProgressEvent,u=e("viewBase/js/imageTools"),m=e("radialMenu/js/radialMenu"),f=e("buttonBar/js/buttonBar"),g=e("leapjs"),_=e("../viewer/webgl/js/cnsthree/cnsthreeEnums"),v=e("messageDialog/js/messageDialog").MessageDialog,b=e("vrControl/js/vrControl"),w=e("urijs"),y=e("psol.core"),x=e("drawing/js/drawing").Drawing,C=!1,S=!1;function A(t){A.super_.call(this,t);var n=i.extend(!0,{},t);this._props._setActionStatesOnEvent=!1,C=A.isWebGLSupported(),this._props.viewerBackendType=t.viewerBackendType||A.ViewerBackends.Unknown,this._currentProjectPath=void 0,this._currentVarsetTransfer=void 0,this._currentMident=void 0,this._tooltipContainer=void 0,this._props.viewerBackendType===A.ViewerBackends.WebGL&&!1===C?this._props.viewerBackendType=A.ViewerBackends.AnimatedGIF:(this._props.webglViewerDefaultSettings={ColorTL:"#DDDDDD",ColorTR:"#DDDDDD",ColorBL:"#DDDDDD",ColorBR:"#DDDDDD",eatEvents:!0,shadeMode:_.ShadeMode.ShadedEdges,enableSilhuette:!0,enableEditableDimensions:!0,helperOptions:{useHelper:!1,gridOn:!1,modelGridOn:!1,axisOn:!1,modelAxisOn:!1,boundingBox:null},measureGrid:{measuringGridOn:!1,near:0,far:0,colors:{dimensions:"#000000",outline:"#0000ff",grid:"#b3b3b3"},parentScene:null,unit:"",measuringGridBoxModel:null},showCustomDimensions:!0,enableVR:!0},this._props.webglViewerSettings=t.webglViewerSettings||{},this._props.environmentSettingsDef=t.environmentSettings?i.when(t.environmentSettings):i.when(e("./environmentSettings.js")),this._props.vrMenuActions=t.vrMenuActions||[],this._props._leapMotionEnabled=void 0!==t.leapMotionEnabled&&t.leapMotionEnabled,this._props._isStandalone=t.isStandalone||!1,this._props._viewerBackend=void 0,this._props._$viewerBackendContainer=void 0,this._props._$webglMenuContainer=void 0,this._props._cameraBackgroundComponent=void 0,this._props._radialMenuActions=n.radialMenuActions,this._props._favoriteActions=t.favoriteActions,this._props._radialMenuInitialOpen=!1,void 0!==t.radialMenuInitialOpen&&(this._props._radialMenuInitialOpen=t.radialMenuInitialOpen),this._props._showLabels=void 0===t.showLabels||t.showLabels,this._props._showLabelsInitially=void 0===t.showLabelsInitially||t.showLabelsInitially,"iOS"===d.getMobileOS()?this._props._sao=!1:this._props._sao=void 0!==t.sao&&t.sao,this._props._showCustomDimensions=void 0===t.showCustomDimensions||t.showCustomDimensions,this._props._radialMenuRadius=t.radialMenuRadius||110,this._props._radialMenuAlignHorizontal=t.radialMenuAlignHorizontal||"left",this._props._radialMenuAlignVertical=t.radialMenuAlignVertical||"top",this._props._radialMenuStartDegree=t.radialMenuStartDegree||0,this._props._radialMenuEndDegree=t.radialMenuEndDegree||270,void 0!==t.radialMenudirectionClockwise?this._props._radialMenudirectionClockwise=t.radialMenudirectionClockwise:this._props._radialMenudirectionClockwise=!0,this._props.webglViewerSettings.loadableFormatExtensions=this._props.webglViewerSettings.loadableFormatExtensions||["zjv","pjv","stl","dae","fbx","gltf","glb","3ds","obj","ply","zip"],this._props.webglViewerSettings.convertableFormatExtensions=["stp","step"],this._props.webglViewerSettings.showCustomDimensions=this._props.showCustomDimensions,this._registerActions(),this._radialMenuComponent=void 0,this._favoriteButtonsComponent=void 0,this._hotspotsWereOn=!1,this._pointerDown=!1,this._drawingComponent=void 0)}o(A,a),A.prototype._componentName="WebViewer3D",A.ViewerBackends={WebGL:1,WebGL2:2,ActiveX:3,AnimatedGIF:4,Unknown:99},A.ShadeModes={Lines:0,Shade:1,ShadeAndLines:2},A.prototype.rotateMesh=function(e,t,n,i,o){this._props._viewerBackend.rotateMesh(e,t,n,i,o)},A.prototype.getMeshRotation=function(){return this._props._viewerBackend.getMeshRotation()},A.isWebGLSupported=function(){var e,t=null,n={failIfMajorPerformanceCaveat:!0};try{e=document.createElement("canvas"),window.WebGLRenderingContext&&(null!==(t=e.getContext("webgl",n)||e.getContext("experimental-webgl",n))?S=!0:(n.failIfMajorPerformanceCaveat=!1,t=e.getContext("webgl",n)||e.getContext("experimental-webgl",n)))}catch(e){t=null}return null!==t},A.prototype._registerActions=function(){var t,n=e("./actionlist.js");for(t=0;t<n.length;t++)this._registerAction(n[t])},A.prototype._checkIfOtherActionNeedsToBeDisabled=function(t){var n,i=e("./actionDisableList").default[t];if(i&&i.length>0)for(n=0;n<i.length;n++)this.setActionState(i[n],"active",!1),this.setActionState(i[n],"toggle",!1)},A.prototype._rotateAnimationChanged=function(e){this.setActionState("actAnimate","active",e)},A.prototype._actAnimateActiveStateChanged=function(e){this._props._viewerBackend.animationRotate3DPreview(e)},A.prototype._cutModeChanged=function(e){this.setActionState("actCut","active",e)},A.prototype._actCutActiveStateChanged=function(e){this._props._viewerBackend.setCut(e),e?this._checkIfOtherActionNeedsToBeDisabled("actCut"):this._props._viewerBackend._options.showHotSpotsOld&&this.setActionState("actHotSpots","active",!0)},A.prototype._actAnaglyphActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actAnaglyph"),this._props._viewerBackend.setAnaglyphMode(e)},A.prototype._actMeasureGridActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actMeasureGrid"),this._props._viewerBackend.setShowMeasureGrid(e)},A.prototype._actCustomDimensionsActiveStateChanged=function(e){this._props._viewerBackend.setShowCustomDimension(e)},A.prototype._actExplosionActiveStateChanged=function(e){this.setActionState("actExplosion","disabled",!0),e&&this._checkIfOtherActionNeedsToBeDisabled("actExplode");var t=!e;this._props._viewerBackend.Explode(2.5,t).always(function(){this.setActionState("actExplosion","disabled",!1)}.bind(this))},A.prototype._actLabelsActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actLabels"),this._props._viewerBackend.setShowLabels(e)},A.prototype._actHotSpotsActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actHotSpots"),this._props._viewerBackend.setShowHotSpots(e)},A.prototype._actEnableHotSpotsActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actEnableHotSpots"),this._props._viewerBackend.enableHotSpotsMode(e)},A.prototype._actTeleportActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actTeleport"),this._props._viewerBackend.enableTeleportMode(e)},A.prototype._actFullscreenActiveStateChanged=function(e){this._fullscreen(e)},A.prototype._actPseudoFullscreenActiveStateChanged=function(e){var t=this._$el;t.length&&this.setPseudoFullscreen(t,e)},A.prototype._actBlueboxActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actBluebox"),this._setBlueBoxMode(e)},A.prototype._actDreamocHD3ActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actDreamocHD3"),this._setDreamoc(e,"HD3")},A.prototype._actDreamocXL2ActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actDreamocXL2"),this._setDreamoc(e,"XL2")},A.prototype._actDreamocMOBILEActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actDreamocMOBILE"),this._setDreamoc(e,"MOBILE")},A.prototype._actVRActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actVR"),this.setVRMode(e)},A.prototype._actPseudoVRActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actPseudoVR"),this._getAction("actAnimate").setState("active",!0),this.setVRMode(e,!1,!0)},A.prototype._actLeapMotionActiveStateChanged=function(e){this._props._viewerBackend.setLeapMotionEnabled(e)},A.prototype._actCameraBackgroundActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actCameraBackground"),this._setCameraBackground(e)},A.prototype._actZoomCloserActiveStateChanged=function(e){this._props._viewerBackend.enableZoomCloserToObject(e)},A.prototype._actZoomAwayActiveStateChanged=function(e){this._props._viewerBackend.enableZoomAwayFromObject(e)},A.prototype._actToggleCameraModeToggleStateChanged=function(e){e?(this._props._viewerBackend.setCameraMode(_.CameraMode.Orthographic),this._props._viewerBackend.removeEnvironment(!0),this.setActionState("actEnv","disabled",!0),this._checkIfOtherActionNeedsToBeDisabled("actToggleCameraMode")):(this._props._viewerBackend.setupEnvironment(!0),this.setActionState("actEnv","disabled",!1),this._props._viewerBackend.setCameraMode(_.CameraMode.Perspective))},A.prototype._attachDebugPropertyToWindow=function(){var e=this;Object.defineProperty(window,"WebViewer3D_DEBUG",{configurable:!0,set:function(t){e._setDebugMode(t)},get:function(){return e._getDebugMode()}})},A.prototype._createButtons=function(){var e=c.getApiPath()+"img/webviewer3d/actions/",t=[{name:"menu_shading",aliases:{default:"actShadeLine",toggle:"menu_active"},text:p.zTR("Modellschattierung"),description:p.zTR("Modelldarstellungsoptionen"),imageBasePath:e,imageExtension:".svg",subActions:[this._getAction("actLine"),this._getAction("actShade"),this._getAction("actShadeLine"),this._getAction("actSAO")]},{name:"menu_rotation",aliases:{default:"actIsometric",toggle:"menu_active"},text:p.zTR("Modellausrichtung"),description:p.zTR("Ansichtswinkel"),imageBasePath:e,imageExtension:".svg",subActions:[this._getAction("actFront"),this._getAction("actBack"),this._getAction("actLeft"),this._getAction("actRight"),this._getAction("actTop"),this._getAction("actBottom"),this._getAction("actIsometric"),this._getAction("actAnimate")]},{name:"menu_vr",aliases:{default:"actVR",toggle:"menu_active"},text:p.zTR("Virtual Reality"),description:p.zTR("Präsentationsansichten"),imageBasePath:e,imageExtension:".svg",subActions:[this._getAction("actVR"),this._getAction("actPseudoVR"),this._getAction("actAnaglyph"),this._getAction("actBluebox"),this._getAction("actDreamocHD3"),this._getAction("actDreamocXL2"),this._getAction("actDreamocMOBILE"),this._getAction("actFullscreen"),this._getAction("actPseudoFullscreen"),this._getAction("actHoloLens")]},{name:"menu_special",aliases:{toggle:"menu_active"},text:p.zTR("Zusatzfunktionen"),description:p.zTR("Ansichtsfunktionen"),imageBasePath:e,imageExtension:".svg",subActions:[this._getAction("actZoomall"),this._getAction("actZoomObject"),this._getAction("actSaveCameraParams"),this._getAction("actCut"),this._getAction("actCustomDimensions"),this._getAction("actMeasureGrid"),this._getAction("actExplosion"),this._getAction("actLabels"),this._getAction("actHotSpots"),this._getAction("actLeapMotion"),this._getAction("actDrawing"),this._getAction("actCameraBackground"),this._getAction("actScreenShot")]}];if(this._props._radialMenuActions)for(var n=function(e){var t=[];e.subActions.forEach(function(e){var n=this._getAction(e);n&&t.push(n)}.bind(this)),e.subActions=t}.bind(this),i=0;i<this._props._radialMenuActions.length;++i){for(var o,r=this._props._radialMenuActions[i],s=0;s<t.length;++s)if(t[s].name===r.name){o=t[s];break}o&&(r.text=o.text,r.imageBasePath=o.imageBasePath,r.imageExtension=o.imageExtension,r.aliases=o.aliases),r.imageBasePath||(r.imageBasePath=e),n(r)}else this._props._radialMenuActions=t;if(this._props._favoriteActions){var a=this._props._favoriteActions.slice();this._props._favoriteActions=[];for(var d=0;d<a.length;++d){var h=a[d],u=this._getAction(h);u&&this._props._favoriteActions.push(u)}}else this._props._favoriteActions=[this._getAction("actCut"),this._getAction("actAnimate"),this._getAction("actVR"),this._getAction("actPseudoVR"),this._getAction("actFullscreen"),this._getAction("actHelp")];var g,_=this._$el.width();if(g=this._$el.height()>_?"bottom"===this._props._radialMenuAlignVertical?"top":"bottom":"right"===this._props._radialMenuAlignHorizontal?"left":"right",this._props._radialMenuActions.length>0&&(this._radialMenuComponent=new m({$container:this._$el.find(".ComponentCustomizeWebViewer3DRadialMenuContainer"),mainActions:this._props._radialMenuActions,startDegree:this._props._radialMenuStartDegree,endDegree:this._props._radialMenuEndDegree,radius:this._props._radialMenuRadius,directionClockwise:this._props._radialMenudirectionClockwise,alignHorizontal:this._props._radialMenuAlignHorizontal,alignVertical:this._props._radialMenuAlignVertical,mainActionsInitialOpen:this._props._radialMenuInitialOpen||!1,submenuDirection:g})),this._props._radialMenuActions.length>0&&this._radialMenuComponent.show(),l.supportsStreaming()){if(!this._props._cameraBackgroundComponent){var v={$container:this._$el.find(".psol-comp-webviewer3d-camerabackcontainer"),showButtonBar:!1};this._props._cameraBackgroundComponent=new l(v)}this._props._favoriteActions.push(this._props._cameraBackgroundComponent._getAction("actCameraToggle"))}this._props._favoriteActions.length>0&&(this._favoriteButtonsComponent=new f({$container:this._$el.find(".ComponentCustomizeWebViewer3DFavoriteButtonsBarContainer"),actions:this._props._favoriteActions}),this._favoriteButtonsComponent.show())},A.prototype._createWebGLBackend=function(){this._props._$viewerBackendContainerContainer=this._$el.find(".psol-comp-webviewer3d-webgl-container"),this._props._$viewerBackendContainerContainer.append(this._render("tmpl-WebViewer3D-webgl")),this._props._$viewerBackendContainer=this._$el.find(".psol-comp-webviewer3d-webgl"),this._props._$webglMenuContainer=this._$el.find(".psol-comp-webviewer3d-webgl-menucontainer");var t=new(e("webViewer3D/viewer/webgl/js/cnsthree/cnsthree"))({webviewer3d:this,isStandalone:this._props._isStandalone});return t.cutModeChanged=function(){this._cutModeChanged.apply(this,arguments)}.bind(this),t.onMappedVarClicked=function(){this.onMappedVarClicked.apply(this,arguments)}.bind(this),t.rotateAnimationChanged=function(){this._rotateAnimationChanged.apply(this,arguments)}.bind(this),t.onAfterParseMappedVars=function(){this.onAfterParseMappedVars.apply(this,arguments)}.bind(this),this._props.webglViewerSettings=i.extend(!0,{},this._props.webglViewerDefaultSettings,this._props.webglViewerSettings),t.createCanvasElement(this._props._$viewerBackendContainer[0],null,this._props.webglViewerSettings,this._props.devicePixelRatio,this._props.threeCamera),t},A.prototype._createAnimatedGIFBackend=function(){return this._$el.append(this._render("tmpl-WebViewer3D-animgif")),this._props._$viewerBackendContainer=this._$el.find(".psol-comp-webviewer3d-animgif"),new(e("webViewer3D/viewer/animgif/js/animgif"))(this._props._$viewerBackendContainer)},A.prototype._createViewerBackend=function(){var e;switch(this._props.viewerBackendType){case A.ViewerBackends.WebGL:e=this._createWebGLBackend();break;case A.ViewerBackends.AnimatedGIF:e=this._createAnimatedGIFBackend()}return e},A.prototype._hideButtons=function(){this._radialMenuComponent&&this._radialMenuComponent.hide(),this._favoriteButtonsComponent&&this._favoriteButtonsComponent.hide()},A.prototype._showButtons=function(){this._radialMenuComponent&&this._radialMenuComponent.show(),this._favoriteButtonsComponent&&this._favoriteButtonsComponent.show()},A.prototype._fullscreen=function(e,t){var n=this._$el;n.length&&(!this.isFullscreen(n)&&e?(t&&this._hideButtons(),this.setFullscreen(n)):this.isFullscreen(n)&&!e&&this.exitFullscreen(n))},A.prototype.rotateToHotSpot=function(e,t,n){this._props._viewerBackend&&this._props._viewerBackend.rotateToHotSpot(e,t,n)},A.prototype._deactivateTeleport=function(){this.setActionState("actTeleport","active",!1)},A.prototype._deactivateHotSpotMode=function(){this.setActionState("actEnableHotSpots","active",!1)},A.prototype._onactLine=function(){this._props._viewerBackend.setMode_lines()},A.prototype._onactToggleRotationMode=function(){this._checkIfOtherActionNeedsToBeDisabled("actToggleRotationMode"),this._props._viewerBackend.toggleRotationMode()},A.prototype.setHotSpots=function(e){this._props._viewerBackend&&(this._props._viewerBackend.setHotSpots(e),this._showHotSpotsIfAvailable())},A.prototype.onAddHotSpot=function(e){var t=i.Deferred();return t.resolve(e),t},A.prototype.onEditHotSpot=function(e){var t=i.Deferred();return t.resolve(e),t},A.prototype.onDeleteHotSpot=function(e){var t=i.Deferred();return t.resolve(e),t},A.prototype.getHotSpots=function(){return[]},A.prototype.getHotSpotsConfig=function(){return{}},A.prototype.getTooltipContainer=function(){return this._tooltipContainer||(this._tooltipContainer=this._$el.find(".psol-comp-webviewer3d-webgl-tooltipcontainer")[0]),this._tooltipContainer},A.prototype._setDebugMode=function(e){this._props._viewerBackend.setDebugMode(e)},A.prototype._getDebugMode=function(){return this._props._viewerBackend.getDebugMode()},A.prototype._onactEnv=function(){var e;"pending"===this._props.environmentSettingsDef.state()&&(e=new h(p.zTR("Bitte warten..."),p.zTR("Mögliche Umgebungen werden geladen..."),!1,0,0,!0),this.onProgressBegin(e)),this._props.environmentSettingsDef.done(function(e){var t={title:p.zTR("Umgebung setzen"),data:{skyboxes:{name:p.zTR("Umgebung"),active:"",data:e.skyboxes},floors:{name:p.zTR("Boden"),active:"",data:e.floors}}},n=this._props._viewerBackend.getEnvironmentOptions();for(var o in n)n.hasOwnProperty(o)&&(t.data[o].active=n[o].id);var r=this;new v({title:p.zTR("Umgebung setzen"),message:this._render("tmpl-webViewer3DchooseEnv",t),buttons:[{label:p.zTR("OK"),callback:function(){var t,n=this._$el.find("select"),o={};for(t=0;t<n.length;t++)o[n[t].name]=n[t].value;var s=r._props._viewerBackend.getEnvironmentOptions();for(var a in o)if(o.hasOwnProperty(a)){s[a].id=o[a];for(a in o)if(e.hasOwnProperty(a))for(t=0;t<e[a].length;t++)if(e[a][t].id===o[a]){i.extend(!0,s[a],e[a][t]);break}}return r._props._viewerBackend.setEnvironmentOptions(s,!0),r._setActiveEnvironmentActionStates(),this.hide()}},{label:p.zTR("Zurücksetzen"),callback:function(){this._$el.find(".psol-comp-webViewer3DchooseEnv-select").val("")}}]}).show()}.bind(this)).always(function(){e&&this.onProgressEnd(e)}.bind(this))},A.prototype.getEnvironmentOptions=function(){return this._props._viewerBackend.getEnvironmentOptions()},A.prototype.setEnvironmentOptions=function(e,t){this._props.environmentSettingsDef.done(function(n){var i=this._props._viewerBackend.getEnvironmentOptions();for(var o in n)if(n.hasOwnProperty(o)&&e.hasOwnProperty(o)&&i.hasOwnProperty(o))for(var r=0;r<n[o].length;r++)n[o][r].id===e[o].id&&(i[o]=e[o],i[o].path=n[o][r].path);this._props._viewerBackend.setEnvironmentOptions(i,t),this._setActiveEnvironmentActionStates()}.bind(this))},A.prototype._onactCloudImages=function(){},A.prototype._actSAOActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actSAO"),this._props._viewerBackend.setSAO(e)},A.prototype._onactDebug=function(){this._props._viewerBackend.toggleDebug()},A.prototype._onactShade=function(){this._props._viewerBackend.setMode_shade()},A.prototype._onactShadeLine=function(){this._props._viewerBackend.setMode_shade_and_lines()},A.prototype._onactFront=function(){this._props._viewerBackend.rotateFront(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactBack=function(){this._props._viewerBackend.rotateBack(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactLeft=function(){this._props._viewerBackend.rotateLeft(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactRight=function(){this._props._viewerBackend.rotateRight(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactTop=function(){this._props._viewerBackend.rotateTop(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactBottom=function(){this._props._viewerBackend.rotateBottom(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactIsometric=function(){this._props._viewerBackend.isometricRotation(!0),this.setActionState("actAnimate","active",!1)},A.prototype._onactZoomall=function(){this.zoomObject(null,!0)},A.prototype._onactZoomObject=function(){this.zoomObject(this._props._viewerBackend.getSelectedElement())},A.prototype._setCameraBackground=function(e){if(!this._isEnvironmentActive()){var t=this._props._viewerBackend.isCameraBackground();t||void 0!==e&&!0!==e?!t||void 0!==e&&!1!==e||(this._props._viewerBackend.setCameraBackground(!1),this._props._viewerBackend.setParam("backgroundCameraComponent",void 0),this._props._cameraBackgroundComponent.hide(),this._props._cameraBackgroundComponent._getAction("actCameraToggle").setState("visible",!1)):this._props._cameraBackgroundComponent.show().done(function(){this._props._viewerBackend.setCameraBackground(!0),this._props._viewerBackend.setParam("backgroundCameraComponent",this._props._cameraBackgroundComponent),this._props._cameraBackgroundComponent._getAction("actCameraToggle").setState("visible",!0)}.bind(this))}},A.prototype._setBlueBoxMode=function(e){e&&(this._fullscreen(!0,!0),a.lockOrientation("landscape")),this._props._viewerBackend.animationRotate3DPreview(e),this._props._viewerBackend.setBlueBoxMode(e),this.keepAwake(e)},A.prototype._setDreamoc=function(e,t){e&&(this._fullscreen(!0,!0),a.lockOrientation("landscape")),this._props._viewerBackend.animationRotate3DPreview(e),this._props._viewerBackend.setDreamocHD(e,t),this.keepAwake(e)},A.prototype._onactSaveCameraParams=function(){this.onCameraParams(this._props._viewerBackend.getCameraParams())},A.prototype._onactScreenShot=function(){this.makeScreenshotAsync().done(function(e){this.onScreenshot(e)}.bind(this)).fail(function(){this.onScreenshot("")})},A.prototype._onact2D=function(){},A.prototype._onactHelp=function(){new v({title:p.zTR("Hilfe"),message:this._render("tmpl-WebViewer3DHelp",{radialMenuActions:this._props._radialMenuActions,favoriteActions:this._props._favoriteActions})}).show()},A.prototype._onactErpFilter=function(){},A.prototype._openInHoloLens=function(e){var t=document.createElement("a");t.setAttribute("href",e),t.click()},A.prototype._onactHoloLens=function(){var e=new h(p.zTR("Bitte warten..."),p.zTR("Hologramm wird erzeugt..."));this.onProgressBegin(e);var t={path:this._currentProjectPath,varsettransfer:this._currentVarsetTransfer,mident:this._currentMident,format:"PARTJAVA3D"};s.getExportFileUrlAsync(t,{timeout:3e5}).done(function(t){var n=new w;n.path(""),n.protocol("cnsholoviewer"),n.hostname("de.cadenas.cnsholoviewer"),n.query({partjava3durl:y.getServiceBaseUrl()+t.url}),this._openInHoloLens(n.toString()),this.onProgressEnd(e)}.bind(this)).fail(function(){this.onProgressEnd(e)}.bind(this))},A.prototype._onactDrawing=function(){var e=new h(p.zTR("Bitte warten..."),p.zTR("Bitte warten..."));this.onProgressBegin(e),this.makeScreenshotAsync().then(function(e){return this.showDrawingComponent(e)}.bind(this)).done(function(){this.onProgressEnd(e)}.bind(this))},A.prototype._onCloseDrawingComponent=function(){var e=i.Deferred();return this._drawingComponent&&this._destroyDrawingComponent(),e},A.prototype._onDrawingComponentSave=function(){var e=this._drawingComponent.getCanvasAsDataUrl();this.onDrawingComponentSaved(e)},A.prototype.showDrawingComponent=function(e){if(!this._drawingComponent){var t={$container:this._$el.find(".psol-comp-webviewer3d-drawingcontainer")};this._drawingComponent=new x(t)}return this._$el.find(".psol-comp-webviewer3d-drawingcontainer").show(0),this._$el.find(".ComponentCustomizeWebViewer3DRadialMenuContainer").hide(0),this._$el.find(".ComponentCustomizeWebViewer3DFavoriteButtonsBarContainer").hide(0),this._drawingComponent.onCloseComponent=this._onCloseDrawingComponent.bind(this),this._drawingComponent.onSave=this._onDrawingComponentSave.bind(this),this._stopRender(),this._drawingComponent.show({backgroundImage:e})},A.prototype._destroyDrawingComponent=function(){this._drawingComponent.onCloseComponent=null,this._drawingComponent=null,this._$el.find(".psol-comp-webviewer3d-drawingcontainer").hide(0),this._$el.find(".ComponentCustomizeWebViewer3DRadialMenuContainer").show(0),this._$el.find(".ComponentCustomizeWebViewer3DFavoriteButtonsBarContainer").show(0),this._startRender(),this.onDrawingClose()},A.prototype.destroyDrawingComponent=function(){this._drawingComponent&&(this._drawingComponent.destroy(),this._destroyDrawingComponent())},A.prototype._onActionClicked=function(e){A.super_.prototype._onActionClicked.call(this,e),e.stopPropagation()},A.prototype._onStopActionHover=function(e){A.super_.prototype._onStopActionHover.call(this,e),e.stopPropagation()},A.prototype.supportsWebGL=function(){return C},A.prototype.supportsWebGLHardwareRendering=function(){return S},A.prototype.onCameraParams=function(e){},A.prototype.onMappedVarClicked=function(e){},A.prototype.onScreenshot=function(e){d.downloadFileByDataUrl(e,"screenshot")},A.prototype.onDrawingComponentSaved=function(e){d.downloadFileByDataUrl(e,"screenshot")},A.prototype.onDrawingClose=function(){},A.prototype.setCameraParams=function(e){this._props._viewerBackend.setCameraParams(e),e.camera===_.CameraMode.Orthographic?this.setActionState("actToggleCameraMode","toggle",!0):this.setActionState("actToggleCameraMode","toggle",!1)},A.prototype.getCameraParams=function(){return this._props._viewerBackend.getCameraParams()},A.prototype.getCameraRotation=function(){return this._props._viewerBackend.getCameraParams().rotation},A.prototype.getViewerSize=function(){return{width:this._$el.width(),height:this._$el.height()}},A.isCameraAvailable=function(){return l&&l.supportsStreaming()?l.getVideoDevices().then(function(e){return 0!==e.length?i.Deferred().resolve():i.Deferred().reject()}):i.Deferred().reject()},A.isLeapAvailable=function(){var e,t=new g.Controller,n=i.Deferred();return t.on("connect",function(){window.clearTimeout(e),n.resolve(),window.setTimeout(function(){t.disconnect()},5e3)}),t.connect(),e=window.setTimeout(function(){n.reject()},500),n},A.prototype.hide=function(){this._props._viewerBackend&&this._props._viewerBackend.hide(),A.super_.prototype.hide.call(this)},A.prototype._checkAvailableActions=function(){d.isMobile()&&this._props.webglViewerSettings.enableVR&&(this.setActionState("actVR","visible",!0),this.setActionState("actPseudoVR","visible",!0)),A.isCameraAvailable().done(function(){this.setActionState("actCameraBackground","visible",!0)}.bind(this)),this._props._leapMotionEnabled&&A.isLeapAvailable().done(function(){this.setActionState("actLeapMotion","visible",!0)}.bind(this))},A.prototype.show=function(){return A.super_.prototype.show.call(this).done(function(){this._props._viewerBackend||(this._props._viewerBackend=this._createViewerBackend(),C&&(this._createButtons(),this._checkAvailableActions(),this._props._viewerBackend.onLinkClickedCallback=this._props.onLinkClickedCallback),this._attachDebugPropertyToWindow()),this._props._viewerBackend.show()}.bind(this))},A.prototype._resizeContainer=function(){if(A.super_.prototype._resizeContainer.call(this),this._props._viewerBackend&&this._props._viewerBackend.onresize(),this._radialMenuComponent){var e,t=this._$el.width();e=this._$el.height()>t?"bottom"===this._props._radialMenuAlignVertical?"top":"bottom":"right"===this._props._radialMenuAlignHorizontal?"left":"right",this._radialMenuComponent.updateSettings({submenuDirection:e}),this._radialMenuComponent.toggleMainActions()}},A.prototype._isEnvironmentActive=function(){var e=this.getEnvironmentOptions(),t=!1;for(var n in e)if(e[n].id){t=!0;break}return t},A.prototype._setActiveEnvironmentActionStates=function(){var e=this._isEnvironmentActive();e&&this._setCameraBackground(!1),this.setActionState("actToggleRotationMode","visible",e)},A.prototype._checkForHotSpots=function(){return this._props._viewerBackend.canShowHotSpots()},A.prototype._showHotSpotsIfAvailable=function(){var e=this._checkForHotSpots();e?this._$el.find(".psol-comp-webviewer3d-webgl-hotspotcontainer").show(0):this._$el.find(".psol-comp-webviewer3d-webgl-hotspotcontainer").hide(0),this.setActionState("actHotSpots","visible",e),this._props._viewerBackend._options.showHotSpotsInitially?(this.setActionState("actHotSpots","active",e),this._props._viewerBackend.setShowHotSpots(e)):(this.setActionState("actHotSpots","active",!1),this._props._viewerBackend.setShowHotSpots(!1))},A.prototype._afterModelLoad=function(){if(this._props._viewerBackend){var e=this._props._viewerBackend.canExplode(),t=this._props._viewerBackend.getUsedDimensions(),n=-1!==t.indexOf(!0),i=this._props._showLabels&&this._props._viewerBackend.canShowLabels();this.setActionState("actExplosion","visible",e),this.setActionState("actCustomDimensions","visible",n),n&&this.setActionState("actCustomDimensions","active",this._props.showCustomDimensions),this.setActionState("actLabels","visible",i),i&&this.setActionState("actLabels","active",this._props._showLabelsInitially),"iOS"!==d.getMobileOS()&&(this.setActionState("actSAO","visible",!0),this.setActionState("actSAO","active",this._props._sao)),this._showHotSpotsIfAvailable(),this.setActionState("actCut","active",!1),this.setActionState("actAnimate","active",!1),this.setActionState("actMeasureGrid","active",!1),this.setActionState("actToggleRotationMode","active",!1),this._deactivateHotSpotMode(),this._deactivateTeleport();for(var o=["actFront","actBack","actRight","actLeft","actTop","actBottom"],r=0;r<o.length;++r){var s=o[r];this.setActionImageName(o[r],t[r]?s+"Dimension":s)}this._props._viewerBackend.setupEnvironment()}this._setActiveEnvironmentActionStates()},A.prototype.zoomObject=function(e,t,n){this._props._viewerBackend&&this._props._viewerBackend.zoomObject(e,t,n)},A.prototype.onFullscreenExited=function(){A.super_.prototype.onFullscreenExited.call(this);["actFullscreen","actPseudoFullscreen","actDreamocMOBILE","actDreamocHD3","actDreamocXL2","actVR","actPseudoVR","actBluebox"].forEach(function(e){this.setActionState(e,"active",!1)}.bind(this)),this._showButtons(),this._props._viewerBackend&&(this._props._viewerBackend.isVRMode()?this.setVRMode(!1,null):this._props._viewerBackend.isDreamocHD()?this._props._viewerBackend.setDreamocHD(!1):this._props._viewerBackend.isBlueBoxOn()&&this._props._viewerBackend.setBlueBoxMode(!1),this._props._viewerBackend.animationRotate3DPreview(!1),this._setOrientationAccordingToGravity(),a.unlockOrientation()),this.keepAwake(!1)},A.prototype._setOrientationAccordingToGravity=function(){i(window).one("devicemotion",function(e){var t,n=e.originalEvent.accelerationIncludingGravity;t=Math.abs(n.x)>Math.abs(n.y)?n.x>0?"landscape-primary":"landscape-secondary":"portrait",(a.lockOrientation(t)||(new i.Deferred).resolve()).then(function(){a.unlockOrientation()},function(){a.unlockOrientation()})})},A.prototype.loadByVarset=function(e,t,n,o){this._currentProjectPath=e,this._currentVarsetTransfer=t,this._currentMident=n;o=o||{};var s=i.extend(!0,{clearBeforeLoad:!0,keepEnvironment:!1},o),a={path:e,varsettransfer:t,mident:n=n||"",format:"",options:""},l=new i.Deferred,c=new h(p.zTR("Bitte warten..."),p.zTR("Bauteil wird geladen..."),!1,0,0,!0);if(this.onProgressBegin(c),this._props._viewerBackend)switch(this._props.viewerBackendType){case A.ViewerBackends.WebGL:a.format="PARTJAVA3D",this._props.webglViewerSettings&&this._props.webglViewerSettings.preferformat&&(a.preferformat=this._props.webglViewerSettings.preferformat),s.clearBeforeLoad&&this._props._viewerBackend.clearScene(s),this._props._previewXHR&&this._props._previewXHR.abort&&this._props._previewXHR.abort(),this._props._previewXHR=r.get3dPreviewAsync(a).done(function(e){this._props._previewXHR=null,this._props._viewerBackend.loadObject(e,s).done(function(){this._afterModelLoad(),l.resolve()}.bind(this)).fail(function(e){l.reject(e)}.bind(this))}.bind(this)).fail(function(e,t,n){l.reject()}.bind(this));break;case A.ViewerBackends.AnimatedGIF:a.format="ANIMGIF",this._props._viewerBackend.loadObjectFromData(r.get3dPreviewUrl(a)).done(function(){l.resolve()}.bind(this)).fail(function(){l.reject()}.bind(this));break;default:l.reject()}else l.reject();return l.always(function(){this.onProgressEnd(c)}.bind(this)),l.promise()},A.prototype._loadCompare=function(e,t,n){n=n||{};var o=i.extend(!0,{clearBeforeLoad:!0,keepEnvironment:!1},n),r=new i.Deferred,s=new h(p.zTR("Bitte warten..."),p.zTR("Bauteil wird geladen..."),!1,0,0,!0);if(this.onProgressBegin(s),this._props._viewerBackend)switch(this._props.viewerBackendType){case A.ViewerBackends.WebGL:o.clearBeforeLoad&&this._props._viewerBackend.clearScene(o),i.when(e,t).done(function(e,t){e instanceof Array&&(e=e[0]),t instanceof Array&&(t=t[0]),this._props._viewerBackend.loadCompareData(e,t,o).done(function(){this._afterModelLoad(),r.resolve()}.bind(this))}.bind(this)).fail(function(e,t,n){r.reject()}.bind(this));break;default:r.reject()}else r.reject();return r.always(function(){this.onProgressEnd(s)}.bind(this)),r.promise()},A.prototype.loadCompareByFileAndFile=function(e,t,n){var i=e,o=t;return this._loadCompare(i,o,n)},A.prototype.loadCompareByFileAndPrj=function(e,t,n,i,o){var s=e,a=r.get3dPreviewAsync({path:t,varsettransfer:n,mident:i,format:"PARTJAVA3D",options:""});return this._loadCompare(s,a,o)},A.prototype.loadCompareByVarset=function(e,t,n,i,o,s,a){n=n||"",s=s||"";var l=r.get3dPreviewAsync({path:e,varsettransfer:t,mident:n,format:"PARTJAVA3D",options:""}),c=r.get3dPreviewAsync({path:i,varsettransfer:o,mident:s,format:"PARTJAVA3D",options:""});return this._loadCompare(l,c,a)},A.prototype.loadByUrl=function(e,t){var n=this;t=t||{};var o=i.extend(!0,{clearBeforeLoad:!0,keepEnvironment:!1},t),r=new h(p.zTR("Bitte warten..."),p.zTR("Bauteil wird geladen..."),!1,0,0,!0);n.onProgressBegin(r);var s=new i.Deferred;return this._props._viewerBackend.loadObjectFromURL(e,o).done(function(){this._afterModelLoad(),s.resolve()}.bind(this)).fail(function(e){s.reject(e)}),s.always(function(){n.onProgressEnd(r)}),s.promise()},A.prototype.loadObjectFromData=function(e,t){t=t||{};var n=i.extend(!0,{clearBeforeLoad:!0,keepEnvironment:!1},t),o=new h(p.zTR("Bitte warten..."),p.zTR("Bauteil wird geladen..."),!1,0,0,!0);this.onProgressBegin(o);var r=new i.Deferred;return this._props._viewerBackend.loadObject(e,n).done(function(){this._afterModelLoad(),r.resolve()}.bind(this)).fail(function(){r.reject()}.bind(this)),r.always(function(){this.onProgressEnd(o)}.bind(this)),r.promise()},A.prototype._couldLoadDirect=function(e){var t=e.split(".").pop();return-1!==this._props.webglViewerSettings.loadableFormatExtensions.indexOf(t)},A.prototype._couldConvert=function(e){var t=e.split(".").pop();return-1!==this._props.webglViewerSettings.convertableFormatExtensions.indexOf(t)},A.prototype._getFileContent=function(e,t){if(this._couldLoadDirect(e.name)){var n=i.Deferred(),o=new FileReader;return o.onloadend=function(e){n.resolve(e.target.result)}.bind(this),o.onerror=function(){n.reject()}.bind(this),o.readAsArrayBuffer(e),n.promise()}if(this._couldConvert(e.name))return s.convertFileAsync({file:e,filename:e.name,format:"PARTJAVA3D",options:t});var r=e.name.split(".").pop();return i.Deferred().reject(p.zTR("Datei: '%1' kann nicht verarbeitet werden.<br>Der Dateityp '.%2' wird nicht unterstützt.",[e.name,r]))},A.prototype.loadByGeomFile=function(e,t){var n=new h(p.zTR("Bitte warten..."),p.zTR("Bauteil wird verarbeitet/konvertiert..."),!1,0,0,!0);return this.onProgressBegin(n),this._props._viewerBackend.loadObject(e,t).then(function(){this._afterModelLoad(),this.onProgressEnd(n)}.bind(this),function(e){return this.onProgressEnd(n),i.Deferred().reject(e)}.bind(this))},A.prototype.setViewerSettings=function(e){var t={};i.extend(!0,t,this._props.webglViewerDefaultSettings,this._props.webglViewerSettings,this._props._viewerBackend.getOptions(),e),this._props._viewerBackend.applyCssKeyValues(t)},A.prototype.rotate3DPreview=function(e,t,n,i){this._props._viewerBackend.rotate3DPreview(e,t,n,i)},A.prototype.makeScreenshotAsync=function(){var e=i.Deferred();if(this._props.viewerBackendType===A.ViewerBackends.WebGL){var t=[],n=this._getAction("actHotSpots").hasState("active");n&&this._props._viewerBackend.setShowHotSpots(!1);var o=this._props._viewerBackend.screenshot();if(n&&this._props._viewerBackend.setShowHotSpots(!0),this._props._viewerBackend.isCameraBackground()&&this._props._cameraBackgroundComponent&&this._props._cameraBackgroundComponent.isStreaming()){var r=this._props._cameraBackgroundComponent.screenshot({format:"jpeg"});t.push(r)}if(t.push(o),t.length>1){var s=this._props._$viewerBackendContainer.width(),a=this._props._$viewerBackendContainer.height();u.compositeImagesByUrl(t,"jpeg",s,a).done(function(t){e.resolve(t)})}else e.resolve(o)}else e.reject();return e.promise()},A.prototype._lockOrientationHandler=function(){a.lockOrientation("landscape")},A.prototype.setVRMode=function(e,t,n){var i=this._props._viewerBackend.isVRMode(),o=this._$el.find(".psol-comp-webviewer3d-vrcontrol-container");n?this.setActionState("actPseudoVR","active",t||e):this.setActionState("actVR","active",t||e),(e!==i||t)&&(e?(this.keepAwake(!0),"iOS"===d.getMobileOS()?this.setFullscreen(void 0,!0):this.onFullscreenEntered(),this._hideButtons(),this._props._viewerBackend.setVRMode(!0),n?this._props._viewerBackend.setParam("useDeviceOrientationControl",!1):this._props._viewerBackend.setParam("useDeviceOrientationControl",!0),this._props._viewerBackend._changeOption("pseudoVR",n),this._props.vrMenuActions=this._props.vrMenuActions.length?this._props.vrMenuActions:[this._getAction("actAnimate"),this._getAction("actZoomCloser"),this._getAction("actZoomAway")],n?this._vrControl&&this._vrControl.hide():(this._vrControl=new b({$container:o,sphereRadius:this._props._viewerBackend._sphereRadius,distance:this._props._viewerBackend._cameraMover.distance,activateVia:b.ACTIVATION.VIEWING,controlActions:this._props.vrMenuActions}),this._vrControl.show())):(this.keepAwake(!1),this._showButtons(),this._props._viewerBackend.setVRMode(!1),this._props._viewerBackend._changeOption("pseudoVR",!1),this._props._viewerBackend.setParam("useDeviceOrientationControl",!1),this._vrControl&&this._vrControl.hide(),this._resizeContainer()))},A.prototype.setDreamocMode=function(e){this._setDreamoc(!0,e)},A.prototype.setCameraBackground=function(e){this._setCameraBackground(e)},A.prototype.getCameraParamsAsVersionString=function(e){return this._props._viewerBackend&&this._props._viewerBackend.camParamsAsVersionString?this._props._viewerBackend.camParamsAsVersionString(e):""},A.prototype.rotateSingleMesh=function(e,t){this._props._viewerBackend&&this._props._viewerBackend.rotateSingleMesh(e,t)},A.prototype.setMatrixSingleMesh=function(e,t){this._props._viewerBackend&&this._props._viewerBackend.setMatrixSingleMesh(e,t)},A.prototype._viewEvents=function(){return{"click; a":function(e){this._props.onLinkClickedCallback&&(e.preventDefault(),e.stopPropagation(),this._props.onLinkClickedCallback(e.currentTarget.href))}.bind(this),"pointerdown mousedown dblclick touchstart mousewheel DOMMouseScroll; #Viewer3DContainer":function(e){this._forwardEventToViewerBackend(e),"pointerdown"!==e.type&&"mousedown"!==e.type&&"touchstart"!==e.type||(this._pointerDown=!0)}.bind(this),"mousemove pointermove touchmove; #Viewer3DContainer":function(e){this._pointerDown||this._forwardEventToViewerBackend(e)}.bind(this),contextmenu:function(e){e.preventDefault(),e.stopPropagation()}}},A.prototype._winEvents=function(){return{vrdisplaypresentchange:function(e){e.detail&&e.detail.display&&(e.detail.display.isPresenting||(this.exitFullscreen(this._$el),this.setVRMode(!1,null)));this._resizeContainer()}.bind(this),"mouseup mousemove mouseout pointermove pointerup lostpointercapture pointerout pointercancel touchend touchmove":function(e){this._pointerDown&&("pointermove"===e.type||"mousemove"===e.type||"touchmove"===e.type?(e.preventDefault(),this._forwardEventToViewerBackend(e)):"pointerup"!==e.type&&"mouseup"!==e.type&&"touchend"!==e.type||(window.PointerEvent?window.PointerEvent&&"pointerup"===e.type&&(this._pointerDown=!1):this._pointerDown=!1,this._forwardEventToViewerBackend(e)))}.bind(this)}},A.prototype._forwardEventToViewerBackend=function(e){this._props._viewerBackend&&this._props._viewerBackend.handleEvents&&this._props._viewerBackend.handleEvents(e)},A.prototype._stopRender=function(){this._props._viewerBackend&&(this._props._viewerBackend.animationRotate3DPreview(!1),this._props._viewerBackend.stopRender())},A.prototype._startRender=function(){this._props._viewerBackend&&this._props._viewerBackend.startRender()},A.prototype.getMappedVarsArray=function(){return this._props._viewerBackend?this._props._viewerBackend.getMappedVarsArray():[]},A.prototype.setActiveMappedVars=function(e){this._props._viewerBackend&&this._props.webglViewerSettings.enableEditableDimensions&&this._props._viewerBackend.setActiveMappedVars(e)},A.prototype.onAfterParseMappedVars=function(e){},A.prototype.getCurrentPath=function(){return this._currentProjectPath},A.prototype.getCurrentVarsetTransfer=function(){return this._currentVarsetTransfer},A.prototype.getCurrentMIdent=function(){return this._currentMident},A.prototype.clearScene=function(){this._props._viewerBackend&&this._props._viewerBackend.clearScene()},A.prototype.singleRender=function(){this._props._viewerBackend&&this._props._viewerBackend.render()},A.prototype._viewDestroy=function(){this._props._viewerBackend&&this._props._viewerBackend.cleanup&&this._props._viewerBackend.cleanup(),this._favoriteButtonsComponent&&(this._favoriteButtonsComponent.destroy(),this._favoriteButtonsComponent=void 0),this._radialMenuComponent&&(this._radialMenuComponent.destroy(),this._radialMenuComponent=void 0),this._vrControl&&(this._vrControl.destroy(),this._vrControl=void 0),this._drawingComponent&&(this._drawingComponent.destroy(),this._drawingComponent=void 0),delete window.WebViewer3D_DEBUG,A.super_.prototype._viewDestroy.call(this)},A.prototype.setAR=function(e){},A.prototype._actARActiveStateChanged=function(e){e&&this._checkIfOtherActionNeedsToBeDisabled("actAR"),this.setAR(e)},t.exports=A},{"../viewer/webgl/js/cnsthree/cnsthreeEnums":95,"./actionDisableList":70,"./actionlist.js":71,"./environmentSettings.js":72,"base/js/globals":6,"buttonBar/js/buttonBar":11,"camera/js/camera":12,"drawing/js/drawing":21,inherits:208,leapjs:"leapjs","messageDialog/js/messageDialog":35,"psol.core":196,"psol.exports":198,"psol.preview":204,"psol.translation":207,"radialMenu/js/radialMenu":39,urijs:"urijs","viewBase/js/imageTools":54,"viewBase/js/progressEvent":55,"viewBase/js/viewBase":58,"viewBase/js/viewHelper":59,"vrControl/js/vrControl":61,"webViewer3D/viewer/animgif/js/animgif":74,"webViewer3D/viewer/webgl/js/cnsthree/cnsthree":94}],74:[function(e,t,n){"use strict";var i=jQuery;function o(e){this._$container=e}o.prototype.show=function(){},o.prototype.hide=function(){},o.prototype.onresize=function(){},o.prototype.clearScene=function(){},o.prototype.setCameraParams=function(e){},o.prototype.getCameraParams=function(){return{}},o.prototype.loadObjectFromData=function(e){var t=i("<img/>",{classes:"psol-comp-webviewer3d-animgif-image",src:e});return this._$container.html(t),i.Deferred().resolve()},o.prototype.loadObjectFromURL=function(e,t){},o.prototype.applyCssKeyValues=function(e){},t.exports=o},{}],75:[function(e,t,n){"use strict";var i=window.THREE||e("THREE");window.THREE=i;var o=e("leapjs");function r(){this.active=!1,this.leapController=void 0}r.prototype.init=function(e,t,n){var r=this;if(e&&o){var s,a,l=e,c=null,p=null,d=null,h=null,u=null,m=[],f=[],g=[],_=new i.Quaternion,v=new i.Quaternion,b=new i.Quaternion,w=new i.Euler,y=0,x=0,C=1,S=6437;return n=n||{},"undefined"!=typeof location&&void 0!==location.protocol&&"https:"===location.protocol&&(S=6436),this.leapController=new o.Controller({host:n.host||"127.0.0.1",port:n.port||S,background:!0,enableGestures:n.enableGestures||!1,optimizeHMD:n.optimizeHMD||!1,frameEventName:"animationFrame"}),this.leapController.connect(),t&&this.setActive(!0),this.leapController.on("frame",function(e){var t;if(r.isActive()&&e.valid)if(s){if("moving"===s){var n=c.translation(e);if(t=e.hands[0]){var o=new i.Vector3(t.direction[0],t.direction[1],t.direction[2]),S=new i.Vector3(t.palmNormal[0],t.palmNormal[1],t.palmNormal[2]);if(h){var A,T,M,k;for(_.setFromUnitVectors(o,h),v.setFromUnitVectors(S,u),A=2*-_.x,T=2*-_.y,M=2*-v.z,m.push(A),f.push(T),g.push(M),k=0;k<m.length;k++)A+=m[k],T+=f[k],M+=g[k];A/=m.length+1,T/=m.length+1,M/=m.length+1,m.length>10&&(m.shift(),f.shift(),g.shift()),b.set(A,T,M,1),b.normalize();var D=new i.Quaternion;D.multiplyQuaternions(b,d),D.normalize(),w.setFromQuaternion(D,"ZYX"),a.rotation.roll=-w.x/Math.PI*180,a.rotation.pitch=w.y/Math.PI*180,a.rotation.yaw=-w.z/Math.PI*180,d=D}h=o,u=S;var E=e.interactionBox;E.valid&&(a.pan.x=p.pan.x-n[0]/E.width*C,a.pan.y=p.pan.y-n[1]/E.height*C,a.focal_length=p.focal_length+n[2]/E.depth*C),l.setCameraParams(a)}if(e.hands.length<1||e.pointables.length<2)s=void 0;else{for(y=0,x=0,y=0;y<e.pointables.length;y++)e.pointables[y].extended&&x++;0===x&&(s=void 0)}}}else if(e.hands.length>0&&e.fingers.length>1&&(t=e.hands[0]).fingers.length>1){for(x=0,y=0;y<e.fingers.length;y++)e.fingers[y].extended&&x++;if(x>0){c=e,p=l.getCameraParams(),a=l.getCameraParams(),C=l.getSphereRadius();var B=new i.Euler(-p.rotation.roll*Math.PI/180,p.rotation.pitch*Math.PI/180,-p.rotation.yaw*Math.PI/180,"ZYX");p.rotation_quaterion=new i.Quaternion,p.rotation_quaterion.setFromEuler(B),d=p.rotation_quaterion,h=new i.Vector3(t.direction[0],t.direction[1],t.direction[2]),u=new i.Vector3(t.palmNormal[0],t.palmNormal[1],t.palmNormal[2]),s="moving"}}}),!0}return!1},r.prototype.isActive=function(){return this.active&&this.leapController.connected()},r.prototype.setActive=function(e){this.active=e},t.exports=r},{THREE:"THREE",leapjs:"leapjs"}],76:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE");e("THREE_EffectComposer");var s=function(e){function t(t,n){var i=e.call(this)||this;return i.rendererName="",i._toDispose=[],i._scene=null,i._camera=null,i._viewer=null,i._cacheCountQuaternion=0,i._cacheCountMatrix4=0,i._cacheCountVector2=0,i._cacheCountVector3=0,i._cacheCountEuler=0,i.__cache={},i._width=0,i._height=0,i.needsSwap=!1,i._options=t,i._viewer=n,i}return o(t,e),t.prototype.update=function(e,t){this._initializeCache(),this._options=e,this._viewer=t},t.prototype.dispose=function(){this._dispose(),this._scene=null,this._camera=null,this._viewer=null,this._options=null},t.prototype.isEnabled=function(){return this.enabled},t.prototype.enable=function(e){this.enabled=e},t.prototype.render=function(e,t,n,i,o){if(this._scene&&this._camera){var r=e.autoClear;e.autoClear=!1;var s=this._viewer._drawType;this._viewer._drawType="face",e.render(this._scene,this._camera,this.renderToScreen?null:n,this.clear),this._viewer._drawType=s,e.autoClear=r}},t.prototype.setSize=function(t,n){e.prototype.setSize.call(this,t,n),this._width=t,this._height=n},t.prototype._initializeCache=function(){this._fillCache("matrix4",this._cacheCountMatrix4,r.Matrix4),this._fillCache("euler",this._cacheCountEuler,r.Euler),this._fillCache("quaternion",this._cacheCountQuaternion,r.Quaternion),this._fillCache("vector2",this._cacheCountVector2,r.Vector2),this._fillCache("vector3",this._cacheCountVector3,r.Vector3)},t.prototype._fillCache=function(e,t,n){if(!(t<=0)){this.__cache[e]||(this.__cache[e]=[]);for(var i=0;i<t;i++)this.__cache[e][i]=new n}},t.prototype._clearCache=function(){for(var e in this.__cache)this.__cache.hasOwnProperty(e)&&(this.__cache[e].length=0)},t.prototype._addThreeObjecToDispose=function(e){e.geometry&&this._addToDispose(e.geometry),e.material&&this._addToDispose(e.material)},t.prototype._addToDispose=function(e){e instanceof Array?this._toDispose=this._toDispose.concat(e):this._toDispose.push(e)},t.prototype._dispose=function(){var e=0;for(e=0;e<this._toDispose.length;e++)this._toDispose[e].dispose();this._toDispose=[],this._clearCache()},t.prototype._disposeSingleElement=function(e){var t;for(t=0;t<this._toDispose.length;t++)if(this._toDispose[t]===e){this._toDispose.splice(t,1)[0].dispose();break}},t}(r.Pass);n.BasePass=s},{THREE:"THREE",THREE_EffectComposer:"THREE_EffectComposer"}],77:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._createdStuff=!1,e._colorNameArray=["ColorTL","ColorTR","ColorBL","ColorBR","ColorML","ColorMR"],e._colors={ColorBL:void 0,ColorBR:void 0,ColorML:void 0,ColorMR:void 0,ColorTL:void 0,ColorTR:void 0},e._plane=void 0,e._material=void 0,e}return o(n,t),n.prototype.initWithOptions=function(e,n){t.prototype.initWithOptions.call(this,e,n),void 0!==e.ColorBR&&void 0!==e.ColorBL&&void 0!==e.ColorTR&&void 0!==e.ColorTL?(this._createdStuff?this._checkIfColorChangedAndSetThem()&&this._updateUniformColors():this._createStuff(),this._enabled=!0):this._enabled=!1},n.prototype.reset=function(){t.prototype.reset.call(this),this._createdStuff=!1,this._material=null,this._plane=null},n.prototype._updateUniformColors=function(){var e,t=this._material.uniforms,n=new r.Color;for(e in this._colors)this._colors.hasOwnProperty(e)&&(n.set(this._colors[e]),t["u_"+e].value.set(n.r,n.g,n.b,1));t.u_MixMiddle.value=this._colors.ColorML?1:0},n.prototype._checkIfColorChangedAndSetThem=function(){var e,t,n=!1;for(e=0;e<this._colorNameArray.length;e++)t=this._colorNameArray[e],this._colors[t]!==this._options[t]&&(this._colors[t]=this._options[t]||"white",n=!0);return n},n.prototype._createStuff=function(){this._createdStuff=!0,this._scene=new r.Scene,this._scene.name="BackgroundGradientObj",this._scene.autoUpdate=!1,this._scene.matrixAutoUpdate=!1,this._camera=new r.OrthographicCamera(-1,1,-1,1,1,-1),this._camera.name="BackgroundGradientObj_camera";var t=new r.Geometry;this._addToDispose(t),t.vertices.push(new r.Vector3(-1,-1,.5)),t.vertices.push(new r.Vector3(1,-1,.5)),t.vertices.push(new r.Vector3(-1,1,.5)),t.vertices.push(new r.Vector3(1,1,.5));var n=new r.Face3(0,1,2);t.faces.push(n),n=new r.Face3(2,1,3),t.faces.push(n),this._colors={ColorBL:this._options.ColorBL,ColorBR:this._options.ColorBR,ColorML:this._options.ColorML,ColorMR:this._options.ColorMR,ColorTL:this._options.ColorTL,ColorTR:this._options.ColorTR},this._material=(new(e("../shaders/background.js"))).getMaterial(),this._addToDispose(this._material),this._updateUniformColors(),this._plane=new r.Mesh(t,this._material),this._plane.name="BackgroundGradientObj_Plane",this._plane.userData.drawType="face",this._scene.add(this._plane)},n}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderBackgroundGradientObj",t.exports=s},{"../shaders/background.js":143,"./cnsthree_base_render":79,THREE:"THREE"}],78:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._logoTexture=new r.Texture,e._path="",e._material=void 0,e._cameraBackground=!1,e._createdStuff=!1,e._fillOrFit=0,e._logoMixFactor=.5,e._logoScaleFactor=.5,e._logoScaleModeFill=!1,e._screenSize=new r.Vector2,e._imageSize=new r.Vector2,e.__cache={vec2:[new r.Vector2,new r.Vector2]},e}return o(n,t),n.prototype.initWithOptions=function(e,n){if(t.prototype.initWithOptions.call(this,e,n),this._enabled=!1,this._logoScaleFactor=e.logoScaleFactor||.5,this._logoMixFactor=e.logoMixFactor||.5,this._logoScaleModeFill=e.logoScaleModeFill||!1,!0===this._logoScaleModeFill&&(this._fillOrFit=1),this._cameraBackground=e.cameraBackground||!1,e.backgroundCameraComponent&&e.cameraBackground){var i=new r.VideoTexture(e.backgroundCameraComponent.getVideoElement());this._logoTexture=i,this._addToDispose(i),this._fillOrFit=1,this._logoScaleFactor=1,this._logoMixFactor=1}else{if(!e.logoTexture)return;this._loadLogo(e.logoTexture)}var o=this._logoTexture,s=this._viewer.getViewerSize(),a=s.width,l=s.height;this._screenSize.set(a,l);var c=1,p=1;o&&o.image&&o.image.width>0&&(c=o.image.width,p=o.image.height),this._imageSize.set(c,p),this._createdStuff||this._createStuff(),this._enabled=!0},n.prototype.reset=function(){t.prototype.reset.call(this),this._logoTexture=null,this._createdStuff=!1,this._path="",this._material=null},n.prototype.render=function(e,t,n,i,o,r){if(!0===this._enabled){if(void 0!==this._logoTexture&&this._cameraBackground&&this._logoTexture.image){if(!(this._logoTexture.image.videoWidth>0))return;this._material.uniforms.imageSize.value=this.__cache.vec2[0].set(this._logoTexture.image.videoWidth,this._logoTexture.image.videoHeight),this._material.uniforms.screenSize.value=this.__cache.vec2[1].set(e._viewportW,e._viewportH)}e.renderScene("face",this._scene,this._camera,o)}},n.prototype.TextureIsLoaded=function(){this._logoTexture&&this._logoTexture.image&&this._setTextureUniform()},n.prototype._createStuff=function(){this._createdStuff=!0,this._scene=new r.Scene,this._scene.name="BackgroundImageObj",this._scene.autoUpdate=!1,this._camera=new r.OrthographicCamera(-1,1,1,1,1,-1),this._camera.name="BackgroundImageObj_camera";var t={fillorfit:{type:"f",value:this._fillOrFit},imageSize:{type:"v2",value:this._imageSize},logomixfactor:{type:"f",value:this._logoMixFactor},logoscalefactor:{type:"f",value:this._logoScaleFactor},screenSize:{type:"v2",value:this._screenSize},texture1:{type:"t",value:this._logoTexture}};this._material=new(e("../shaders/background_image.js"))({uniforms:t}).getMaterial(),this._addToDispose(this._material),this._material.uniforms.screenSize.value=this._screenSize,this._material.uniforms.imageSize.value=this._imageSize;var n=new r.PlaneBufferGeometry(1,1);this._addToDispose(n);var i=new r.Mesh(n,this._material);i.name="BackgroundImageObj_Plane",i.userData.drawType="face",this._scene.add(i),this._setTextureUniform()},n.prototype._setTextureUniform=function(){this._material&&this._logoTexture&&this._logoTexture.image&&(this._material.uniforms.texture1.value=this._logoTexture,this._material.uniforms.imageSize.value=new r.Vector2(this._logoTexture.image.width,this._logoTexture.image.height),this._viewer&&this._viewer.needsredraw_flag())},n.prototype._loadLogo=function(e){if(this._path!==e){var t=(new r.TextureLoader).load(e,this.TextureIsLoaded.bind(this));t.magFilter=r.LinearFilter,t.minFilter=r.LinearFilter,this._logoTexture=t,this._addToDispose(t),this._path=e}else this._enabled=!0},n}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderBackgroundImageObj",t.exports=s},{"../shaders/background_image.js":146,"./cnsthree_base_render":79,THREE:"THREE"}],79:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this._rendererName="",this._toDispose=[],this._enabled=!0,this._scene=null,this._camera=null,this._viewer=null,this._defines=[],this._overrideMaterial=null}return e.prototype.initWithOptions=function(e,t){this._options=e,this._viewer=t,this._defines=[]},e.prototype.reset=function(){this._dispose(),this._enabled=!1,this._scene=null,this._camera=null,this._viewer=null,this._options=null,this._defines=[],this._overrideMaterial=null},e.prototype.isEnabled=function(){return this._enabled},e.prototype.render=function(e,t,n,i,o,r){!0===this._enabled&&(t=this._scene||t,i=this._camera||i,this._overrideMaterial&&(t.overrideMaterial=this._overrideMaterial),e.renderScene("face",t,i,o,!1),t.overrideMaterial=null)},e.prototype._addToDispose=function(e){e instanceof Array?this._toDispose=this._toDispose.concat(e):this._toDispose.push(e)},e.prototype._dispose=function(){var e=0;for(e=0;e<this._toDispose.length;e++)this._toDispose[e].dispose();this._toDispose=[]},e.prototype._disposeSingleElement=function(e){var t;for(t=0;t<this._toDispose.length;t++)if(this._toDispose[t]===e){this._toDispose.splice(t,1)[0].dispose();break}},e}();n.RenderBaseObj=i,i.prototype._rendererName="cnsthree_base_render"},{}],80:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("../cnsthreeExtendedElements"),a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._target=null,e._target2=null,e._face1=[],e._face2=[],e._redBasicMaterial=void 0,e._blueBasicMaterial=void 0,e}return o(n,t),n.prototype.initWithOptions=function(n,i){var o=this;t.prototype.initWithOptions.call(this,n,i),this._enabled=!1,this._target=i.getRenderer().getByteTarget(),this._target.texture.wrapS=r.ClampToEdgeWrapping,this._target.texture.wrapT=r.ClampToEdgeWrapping,this._target2=i.getRenderer().getByteTarget(1),this._target2.texture.wrapS=r.ClampToEdgeWrapping,this._target2.texture.wrapT=r.ClampToEdgeWrapping;var a=new r.Color,l=new r.Color;a.set(n.compareFile0Color),l.set(n.compareFile1Color);var c=new s.CNSScene;c.name="RenderCompareModeFacesObj";var p=new r.OrthographicCamera(-1,1,-1,1,1,-1),d=new r.PlaneBufferGeometry(1,1);this._addToDispose(d);var h=new r.Mesh(d);c.add(h),c.add(p);var u={u_color1:{type:"v4",value:new r.Vector4(a.r,a.g,a.b,.5)},u_color2:{type:"v4",value:new r.Vector4(l.r,l.g,l.b,.5)},u_texturePart1:{type:"t",value:null},u_texturePart2:{type:"t",value:null}};c.overrideMaterial=new(e("../shaders/renderCompareModeFacesObj/compare.js"))({uniforms:u}).getMaterial(),this._addToDispose(c.overrideMaterial),c.overrideMaterial.uniforms.u_texturePart1.value=this._target,c.overrideMaterial.uniforms.u_texturePart2.value=this._target2,h.userData.drawType="face",this._scene=c,this._camera=p,this._face1=[],this._face2=[],i._meshes_root.traverse(function(e){"face1"===e.userData.drawTypeEx?o._face1.push(e):"face2"===e.userData.drawTypeEx&&o._face2.push(e)}),this._face1.length&&this._face2.length&&(this._enabled=!0),this._redBasicMaterial=new r.MeshBasicMaterial({color:16711680}),this._blueBasicMaterial=new r.MeshBasicMaterial({color:255})},n.prototype.reset=function(){t.prototype.reset.call(this),this._face1=[],this._face2=[],this._target&&this._target.dispose&&this._target.dispose(),this._target2&&this._target2.dispose&&this._target2.dispose(),this._redBasicMaterial&&this._redBasicMaterial.dispose&&this._redBasicMaterial.dispose(),this._blueBasicMaterial&&this._blueBasicMaterial.dispose&&this._blueBasicMaterial.dispose(),this._target=null,this._target2=null,this._redBasicMaterial=null,this._blueBasicMaterial=null},n.prototype.render=function(e,t,n,i,o,r){!0===this._enabled&&(this._viewer._renderer.clearTarget(this._target,!0,!0,!0),this._viewer._renderer.clearTarget(this._target2,!0,!0,!0),e.renderScene("face1",this._face1,i,this._target,!1,{material:this._redBasicMaterial}),e.renderScene("face2",this._face2,i,this._target2,!1,{material:this._blueBasicMaterial}),e.renderScene("face",this._scene,this._camera,o))},n}(e("./cnsthree_base_render").RenderBaseObj);a.prototype._rendererName="RenderCompareModeFacesObj",t.exports=a},{"../cnsthreeExtendedElements":96,"../shaders/renderCompareModeFacesObj/compare.js":166,"./cnsthree_base_render":79,THREE:"THREE"}],81:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=void 0,e._cps=[],e}return o(n,t),n.prototype.initWithOptions=function(n,i){var o=this;t.prototype.initWithOptions.call(this,n,i),this._cps=[],this._dispose();this._material=e("../shaders/basic.js")({uniforms:{opacity:{type:"f",value:.2}}}),this._addToDispose(this._material),i._meshes_root.traverse(function(e){"cp"===e.userData.drawType&&(e.material=o._material,o._cps.push(e))})},n.prototype.render=function(e,t,n,i,o,r){this._material.uniforms.opacity.value=1,this._material.needsUpdate=!0,e.renderScene("cp",this._cps,i,o,!1),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.GREATER),this._material.uniforms.opacity.value=.2,this._material.needsUpdate=!0,e.renderScene("cp",this._cps,i,o,!1),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.LEQUAL)},n}(e("./cnsthree_base_render").RenderBaseObj);r.prototype._rendererName="RenderCPObj",t.exports=r},{"../shaders/basic.js":150,"./cnsthree_base_render":79}],82:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("../cnsthreeEnums"),a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._createdMaterials=!1,e._overwriteMaterialCP=null,e._cutMaterial=null,e._planeColorMaterial=null,e._target=null,e._target2=null,e._createdCutPlane=!1,e._createdTransformcontrol=!1,e}return o(n,t),n.prototype.initWithOptions=function(e,n){t.prototype.initWithOptions.call(this,e,n),this._enabled=!1,this._scene=n.getScene(),this._camera=n.getCamera(),this._transformControlScene=this._transformControlScene||new r.Scene,this._createdCutPlane||this.createCutPlane(),this._createdMaterials||this.createMaterials(),this._createdTransformcontrol||this.createTransformControl(),this._target=n.getRenderer().getByteTarget(0),this._target2=n.getRenderer().getByteTarget(1),this.updateMaterials(),this._cutPlane.setRotationFromAxisAngle(new r.Vector3(1,0,0),-Math.PI/2),this._cutPlane.updateMatrixWorld(!1),this._viewer.needsredraw_flag()},n.prototype.reset=function(){this.disposeTransformControl(),this._target.dispose(),this._target2.dispose(),this._transformControlScene=this._cutBase=this._cutPlane=this._cutMaterial=this._planeColorMaterial=this._overwriteMaterialCP=null,this._createdCutPlane=this._createdMaterials=this._createdTransformcontrol=!1,t.prototype.reset.call(this)},n.prototype.render=function(e,t,n,i,o,s){var a=this._viewer._meshes_root.getObjectByName("Components");if(a){var l=(new r.Matrix4).extractRotation(a.matrixWorld);this._cutBase.rotation.setFromRotationMatrix(l,"ZYX"),this._cutBase.matrixWorldNeedsUpdate=!0}var c=this._options.cutPlaneMatrix=this._cutPlane.matrixWorld,p=new r.Matrix4;p.getInverse(c),this._overwriteMaterialCP.uniforms.u_invertCut.value=p,this._cutMaterial.uniforms.u_cut.value=c,this._cutMaterial.uniforms.u_invertCut.value=p,this._planeColorMaterial.uniforms.u_invertCut.value=p,this._viewer._renderer.clearTarget(this._target,!0,!0,!0),this._viewer._renderer.clearTarget(this._target2,!0,!0,!0),this._transformControl.update(),this._scene.overrideMaterial=this._overwriteMaterialCP,e.renderScene("face",this._scene,this._camera,this._target,!1),this._scene.overrideMaterial=this._planeColorMaterial,e.renderScene("face",this._scene,this._camera,this._target2,!1),this._scene.overrideMaterial=this._cutMaterial,e.renderScene("face",this._scene,this._camera,o,!1),this._scene.overrideMaterial=null,e.renderScene("transformControl",this._transformControlScene,this._camera,o,!1),this._viewer._cutModeChanged&&(this._viewer.needsredraw_flag(),this._viewer._cutModeChanged=!1)},n.prototype.createTransformControl=function(){e("THREE_TransformControls"),this._transformControl=new r.TransformControls(this._camera,this._viewer.getContentDIV()),this._transformControl.traverse(function(e){e.userData.drawType="transformControl"}),this._transformControl.name="TransformControlCut",this._transformControl.space="local",this._transformControl.attach(this._cutBase),this._transformControlScene.add(this._transformControl),this.addCutEventListeners(),this._createdTransformcontrol=!0},n.prototype.createMaterials=function(){this._overwriteMaterialCP=(new(e("../shaders/renderCutModeObj/cutCP"))).getMaterial(),this._addToDispose(this._overwriteMaterialCP),this._cutMaterial=(new(e("../shaders/renderCutModeObj/cut"))).getMaterial(),this._addToDispose(this._cutMaterial),this._planeColorMaterial=(new(e("../shaders/renderCutModeObj/planeColor"))).getMaterial(),this._addToDispose(this._planeColorMaterial),this._createdMaterials=!0},n.prototype.updateMaterials=function(){this._cutMaterial.uniforms.texture1.value=this._target,this._cutMaterial.uniforms.texture2.value=this._target2,this._cutMaterial.uniforms.u_px.value=new r.Vector2(1/(this._viewer.getRenderer()._width*this._viewer._devicePixelRatio),1/(this._viewer.getRenderer()._height*this._viewer._devicePixelRatio)),this._cutMaterial.uniforms.u_renderCutLines.value=this._options.shadeMode===s.ShadeMode.Line||this._options.shadeMode===s.ShadeMode.ShadedEdges},n.prototype.createCutPlane=function(){var e=new r.PlaneBufferGeometry(50,50);this._addToDispose(e);var t=new r.MeshBasicMaterial;this._addToDispose(t),this._cutPlane=new r.Mesh(e,t),this._cutPlane.name="CutPlane",this._cutPlane.visible=!1,this._cutBase=new r.Object3D,this._cutBase.name="CutBase",this._cutBase.add(this._cutPlane);var n=this._viewer._meshes_root.getObjectByName("Components");if(n){var i=(new r.Matrix4).extractRotation(n.matrixWorld);this._cutBase.rotation.setFromRotationMatrix(i,"ZYX"),this._transformControlScene.add(this._cutBase),this._createdCutPlane=!0}},n.prototype.removeCutEventListeners=function(){this._transformControl.removeEventListener("mouseDown",this.transformControlsMouseDownHandler),this._transformControl.removeEventListener("mouseup",this.transformControlsMouseUpHandler),this._transformControl.removeEventListener("mouseout",this.transformControlsMouseoutHandler),this._transformControl.removeEventListener("change",this.transformControlsChangeHandler)},n.prototype.addCutEventListeners=function(){this._transformControl.addEventListener("mouseDown",this.transformControlsMouseDownHandler.bind(this)),this._transformControl.addEventListener("mouseup",this.transformControlsMouseUpHandler.bind(this)),this._transformControl.addEventListener("mouseout",this.transformControlsMouseoutHandler.bind(this)),this._transformControl.addEventListener("change",this.transformControlsChangeHandler.bind(this))},n.prototype.transformControlsMouseDownHandler=function(){this._viewer._disableControls(),null!==this._transformControl.axis&&("X"===this._transformControl.axis?(this._cutPlane.setRotationFromAxisAngle(new r.Vector3(0,1,0),Math.PI/2),this._cutPlane.updateMatrixWorld(!1),this._viewer.needsredraw_flag()):"Y"===this._transformControl.axis?(this._cutPlane.setRotationFromAxisAngle(new r.Vector3(1,0,0),-Math.PI/2),this._cutPlane.updateMatrixWorld(!1),this._viewer.needsredraw_flag()):"Z"===this._transformControl.axis&&(this._cutPlane.setRotationFromAxisAngle(new r.Vector3(0,1,0),0),this._cutPlane.updateMatrixWorld(!1),this._viewer.needsredraw_flag()))},n.prototype.transformControlsMouseUpHandler=function(){this._viewer._enableControls()},n.prototype.transformControlsMouseoutHandler=function(){this._viewer._enableControls()},n.prototype.transformControlsChangeHandler=function(){this._viewer.needsredraw_flag(),this._viewer._enableControls(),null!==this._transformControl.axis&&this._viewer._disableControls()},n.prototype.disposeTransformControl=function(){this._transformControl&&(this.removeCutEventListeners(),this._transformControl.dispose(),this._transformControl.detach(),this._transformControl.parent.remove(this._transformControl),this._transformControl=null)},n}(e("./cnsthree_base_render").RenderBaseObj);a.prototype._rendererName="RenderCutModeObj",t.exports=a},{"../cnsthreeEnums":95,"../shaders/renderCutModeObj/cut":169,"../shaders/renderCutModeObj/cutCP":172,"../shaders/renderCutModeObj/planeColor":175,"./cnsthree_base_render":79,THREE:"THREE",THREE_TransformControls:"THREE_TransformControls"}],83:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._material=void 0,e._uniforms={u_color:new r.Vector3,u_opacity:1},e._faceObjects=[],e}return o(n,t),n.prototype.initWithOptions=function(n,i){var o=this;if(t.prototype.initWithOptions.call(this,n,i),this._options.isCutOn){var s=this._options.cutPlaneMatrix,a=new r.Matrix4;a.getInverse(s),this._uniforms.u_invertCut=a,this._defines.push("CUT_ACTIVE")}this._uniforms.u_color=new r.Vector3(1,1,1),this._uniforms.u_opacity=(100-this._options.view3dAlphaTransparency)/100,this._material=new(e("../shaders/RenderDepthObj/depth.js"))({defines:this._defines,uniforms:this._uniforms}).getMaterial(),this._addToDispose(this._material),this._faceObjects=[],this._enabled=!1,i._meshes_root.traverse(function(e){"face"===e.userData.drawType&&(o._enabled=!0,o._faceObjects.push(e))})},n.prototype.render=function(e,t,n,i,o,s){if(this._options.isCutOn){var a=this._options.cutPlaneMatrix,l=new r.Matrix4;l.getInverse(a),this._uniforms.u_invertCut=l}e.renderScene("face",this._faceObjects,i,o,!1,{material:this._material,uniforms:this._uniforms}),t.overrideMaterial=null},n}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderDepthObj",t.exports=s},{"../shaders/RenderDepthObj/depth.js":140,"./cnsthree_base_render":79,THREE:"THREE"}],84:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._dimensionMaterial=new r.RawShaderMaterial,e._dimensionTextMaterial=new r.RawShaderMaterial,e._dimensionTextMappedVarMaterial=new r.RawShaderMaterial,e}return o(n,t),n.prototype.initWithOptions=function(n,i){var o=this;t.prototype.initWithOptions.call(this,n,i),this._enabled=!1,this._defines.length=0;var s={u_color:{type:"v3",value:n.dreamocHD||n.bluebox?new r.Vector3(1,1,1):new r.Color(this._options.colorDimension)}};this._dimensionMaterial=new(e("../shaders/renderDimensionsObj/dimensions.js"))({defines:this._defines,uniforms:s}).getMaterial(),this._addToDispose(this._dimensionMaterial),this._dimensionTextMaterial=new(e("../shaders/renderDimensionsObj/dimensions.js"))({defines:["FLIPABLE"].concat(this._defines),uniforms:s}).getMaterial(),this._addToDispose(this._dimensionTextMaterial),this._dimensionTextMaterial.uniforms.u_flip.value=n.bluebox?1:0,this._dimensionTextMappedVarMaterial=this._dimensionTextMaterial.clone(),this._addToDispose(this._dimensionTextMappedVarMaterial),this._dimensionTextMappedVarMaterial.uniforms.u_flip.value=n.bluebox?1:0,this._dimensionTextMappedVarMaterial.uniforms.u_color.value=new r.Color(this._options.colorMappedVarDimension),i._meshes_root.traverse(function(e){"dimensions"===e.userData.drawType?(e.material=o._dimensionMaterial,o._enabled=!0):"dimensionstext"===e.userData.drawType&&(o._options.enableEditableDimensions&&e.userData.mappedVar&&e.userData.mappedVar.enabled?e.material=o._dimensionTextMappedVarMaterial:e.material=o._dimensionTextMaterial,o._enabled=!0)})},n.prototype.reset=function(){t.prototype.reset.call(this),this._defines.length=0,this._dimensionMaterial=null,this._dimensionTextMaterial=null,this._dimensionTextMappedVarMaterial=null},n.prototype.render=function(e,t,n,i,o,r){this._enabled&&(this._dimensionMaterial.uniforms.shinethrough.value=1,this._dimensionTextMaterial.uniforms.shinethrough.value=1,this._dimensionTextMappedVarMaterial.uniforms.shinethrough.value=1,e.renderScene(["dimensions","dimensionstext"],t,i,o,!1),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.GREATER),this._dimensionMaterial.uniforms.shinethrough.value=.4,this._dimensionTextMaterial.uniforms.shinethrough.value=.4,this._dimensionTextMappedVarMaterial.uniforms.shinethrough.value=.4,e.renderScene(["dimensions","dimensionstext"],t,i,o,!1),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.LEQUAL))},n}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderDimensionsObj",t.exports=s},{"../shaders/renderDimensionsObj/dimensions.js":178,"./cnsthree_base_render":79,THREE:"THREE"}],85:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("../cnsthree_helper"),a=e("../cnsthreeEnums"),l=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.drawHiddenLines=!1,e._useColorLine=new r.Vector4,e._useColorThread=new r.Vector4,e._colorLine=new r.Vector4,e._colorThread=new r.Vector4,e._colorLineHidden=new r.Vector4,e._colorThreadHidden=new r.Vector4,e.isCutOn=!1,e._materials={},e._allMeshes=[],e._drawTypes=[],e._mCutInverse=new r.Matrix4,e}return o(n,t),n.prototype.initWithOptions=function(e,n){var i=this;t.prototype.initWithOptions.call(this,e,n),this._allMeshes.length=0,this.isCutOn=e.isCutOn,this._drawTypes=["line","thread"],this._options.enableSilhuette&&this._drawTypes.push("silhuette");var o="";n._meshes_root.traverse(function(e){o=e.userData.drawType,-1!==i._drawTypes.indexOf(o)&&i._allMeshes.push(e)}),this._setColors(),this._createMaterials()},n.prototype.reset=function(){t.prototype.reset.call(this),this._allMeshes.length=0,this._materials={}},n.prototype.render=function(e,t,n,i,o,r){if(this.isCutOn){var s=this._options.cutPlaneMatrix;this._mCutInverse.getInverse(s)}var a=e._viewer._renderer.autoClear;e._viewer._renderer.autoClear=!1,r&&r.drawHiddenLines?(this._useColorLine.copy(this._colorLineHidden),this._useColorThread.copy(this._colorThreadHidden),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.GREATER),e.renderScene(this._drawTypes,t,i,o,!1),e._viewer._renderer.context.depthFunc(e._viewer._renderer.context.LEQUAL)):(this._useColorLine.copy(this._colorLine),this._useColorThread.copy(this._colorThread),e.renderScene(this._drawTypes,t,i,o,!1)),e._viewer._renderer.autoClear=a},n.prototype._setColors=function(){this._colorLine.copy(s.Helper.createThreeVector4FromHexARGB(this._options.colorLineVisible)),this._colorThread.copy(s.Helper.createThreeVector4FromHexARGB(this._options.colorThreadVisible)),this._colorLineHidden.copy(s.Helper.createThreeVector4FromHexARGB(this._options.colorLineHidden)),this._colorThreadHidden.copy(s.Helper.createThreeVector4FromHexARGB(this._options.colorThreadHidden))},n.prototype._createMaterials=function(){e("../shaders/renderEdgesObj/edgesSilhuette"),e("../shaders/renderEdgesObj/edgesLine");var t=[],n=0,i=0;this._options.cameraMode===a.CameraMode.Orthographic&&(n=1,t.push("IS_ORTHOGONAL")),this._options.isCutOn&&(i=1,t.push("CUT_MODE"));var o,r,s="",l="",c=0;for(o=0;o<this._allMeshes.length;o++){c=0,"line"===(l=(r=this._allMeshes[o]).userData.drawType)||"thread"===l?(c=0,s="edgesLine"):"silhuette"===l&&(c=1,s="edgesSilhuette");var p=c+""+n+i,d=this._materials[p];d||(this._materials[p]=new(e("../shaders/renderEdgesObj/"+s))({defines:t}).getMaterial(),d=this._materials[p],this._addToDispose(d)),r.material=d.clone(),this._addToDispose(r.material),"line"===l||"silhuette"===l?r.material.uniforms.u_color.value=this._useColorLine:"thread"===l&&(r.material.uniforms.u_color.value=this._useColorThread),r.material.uniforms.u_invertCut.value=this._mCutInverse}},n}(e("./cnsthree_base_render").RenderBaseObj);l.prototype._rendererName="RenderEdgesObj",t.exports=l},{"../cnsthreeEnums":95,"../cnsthree_helper":98,"../shaders/renderEdgesObj/edgesLine":184,"../shaders/renderEdgesObj/edgesSilhuette":186,"./cnsthree_base_render":79,THREE:"THREE"}],86:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},a=e("THREE"),l=e("base/js/helpers"),c=e("../loaders/baseLoader"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lastSkyBoxId="",t._lastFloorId="",t._floorSize=0,t._boxSize=0,t._camera=null,t._skybox=null,t._floor=null,t._floorFactor=25,t._skyFactor=500,t}return o(t,e),t.prototype.initWithOptions=function(t,n){var i=this;e.prototype.initWithOptions.call(this,t,n),this._camera||(this._camera=new a.PerspectiveCamera);var o=n.getSphereRadius(),r=o*this._skyFactor,s=o*this._floorFactor,l=this._options.environmentOptions.floors.id,c=this._options.environmentOptions.skyboxes.id;this.checkStuff(r,s,c,l).then(function(){i._camera.copy(n.getCamera()),i._camera.name="Environment Camera";var e=new a.Box3;e.setFromObject(i._scene);var t=new a.Vector3;e.getSize(t);var r=Math.max(t.x,Math.max(t.y,t.z));if(i._camera.far=r,i._camera.near=o/10,i._enabled=!0,n.needsredraw_flag(),""===i._lastSkyBoxId&&""===i._lastFloorId&&(i._enabled=!1),i._skybox&&i._options.material.lighting.textureEncoding)if(Array.isArray(i._skybox.material))for(var s=0,l=i._skybox.material;s<l.length;s++){l[s].map.encoding=i._options.material.lighting.textureEncoding}else i._skybox.material.map.encoding=i._options.material.lighting.textureEncoding;if(i._floor&&i._options.material.lighting.textureEncoding)if(Array.isArray(i._floor.material))for(var c=0,p=i._floor.material;c<p.length;c++){p[c].map.encoding=i._options.material.lighting.textureEncoding}else i._floor.material.map.encoding=i._options.material.lighting.textureEncoding})},t.prototype.render=function(e,t,n,i,o,r){if(this._enabled){var s=this._viewer.getCamera();this._camera.position.copy(s.position),this._camera.rotation.copy(s.rotation),this._camera.updateProjectionMatrix(),e.renderScene("face",this._scene,this._camera,o,!1),this._viewer._renderer.clearDepth()}},t.prototype.checkStuff=function(e,n,i,o){var c=this;return new Promise(function(p,d){return r(c,void 0,void 0,function(){var c,d,h=this;return s(this,function(u){switch(u.label){case 0:return this._scene||(this._scene=new a.Scene,this._scene.name="EnvironmentScene"),c=new Promise(function(n,o){return r(h,void 0,void 0,function(){var o,r,a,l,c,p,d;return s(this,function(s){switch(s.label){case 0:return""===i?[3,2]:(o=void 0,this._lastSkyBoxId!==i&&(this._lastSkyBoxId=i,r=this._options.environmentOptions.skyboxes.path+i,a=this._options.environmentOptions.skyboxes.type,o=t.loadSkyboxMaterial(r,a)),l=void 0,this._boxSize!==e&&(this._boxSize=e,l=t.createSkyBoxGeometry(e)),p=this.createSkyBox,d=[l],[4,o]);case 1:return(c=p.apply(this,d.concat([s.sent()]))).parent||this._scene.add(c),n(),[3,3];case 2:this._removeSkyBox(),n(),s.label=3;case 3:return[2]}})})}),d=new Promise(function(e,i){return r(h,void 0,void 0,function(){var i,r,a,c,p,d;return s(this,function(s){switch(s.label){case 0:return""===o?[3,2]:(i=void 0,this._lastFloorId!==o&&(this._lastFloorId=o,r=l.getResourceUrl(this._options.environmentOptions.floors.path+o+"."+this._options.environmentOptions.floors.type),i=t.loadFloorMaterial(r)),a=void 0,this._floorSize!==n&&(this._floorSize=n,a=t.createFloorGeometry(n,n/this._floorFactor/2)),p=this.createFloor,d=[a],[4,i]);case 1:return(c=p.apply(this,d.concat([s.sent()]))).parent||this._scene.add(c),e(),[3,3];case 2:this._removeFloor(),e(),s.label=3;case 3:return[2]}})})}),[4,Promise.all([c,d])];case 1:return u.sent(),p(),[2]}})})})},t.prototype.reset=function(){e.prototype.reset.call(this),this._removeFloor(),this._removeSkyBox()},t.prototype._removeSkyBox=function(){if(this._skybox){this._skybox.geometry.dispose();for(var e=0,t=this._skybox.material;e<t.length;e++){t[e].dispose()}this._skybox.parent.remove(this._skybox),this._skybox=null}this._boxSize=0,this._lastSkyBoxId=""},t.prototype._removeFloor=function(){this._floor&&(this._floor.geometry.dispose(),this._floor.material.dispose(),this._floor.parent.remove(this._floor),this._floor=null),this._floorSize=0,this._lastFloorId=""},t.loadFloorMaterial=function(e){var t=this;return new Promise(function(n,i){return r(t,void 0,void 0,function(){var t,i,o;return s(this,function(r){switch(r.label){case 0:return(t=new a.TextureLoader).crossOrigin="anonymous",(i=t.load(e)).wrapS=i.wrapT=a.RepeatWrapping,i.repeat.set(5,5),o=new a.MeshBasicMaterial({map:i,side:a.FrontSide}),[4,c.BaseLoader.waitForTextureLoaded(i)];case 1:return r.sent(),n(o),[2]}})})})},t.loadSkyboxMaterial=function(e,t){var n=this;return new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,o,r,p,d,h,u,m;return s(this,function(s){switch(s.label){case 0:for(n=[l.getResourceUrl(e+"/pos-x."+t),l.getResourceUrl(e+"/neg-x."+t),l.getResourceUrl(e+"/pos-y."+t),l.getResourceUrl(e+"/neg-y."+t),l.getResourceUrl(e+"/pos-z."+t),l.getResourceUrl(e+"/neg-z."+t)],(o=new a.TextureLoader).crossOrigin="anonymous",r=[],p=[],h=0,u=n;h<u.length;h++)m=u[h],d=o.load(m),r.push(new a.MeshBasicMaterial({map:d,side:a.BackSide})),p.push(c.BaseLoader.waitForTextureLoaded(d));return[4,Promise.all(p)];case 1:return s.sent(),i(r),[2]}})})})},t.createFloorGeometry=function(e,t){var n=new a.PlaneBufferGeometry(e,e,2),i=new a.Matrix4;return i.compose(new a.Vector3(0,-t,0),(new a.Quaternion).setFromAxisAngle(new a.Vector3(1,0,0),-Math.PI/2),new a.Vector3(1,1,1)),n.applyMatrix(i),n},t.createSkyBoxGeometry=function(e){return new a.BoxBufferGeometry(e,e,e)},t.prototype.createFloor=function(e,t){return this._floor?(e&&(this._floor.geometry.dispose(),this._floor.geometry=e),t&&(this._floor.material.dispose(),this._floor.material=t)):(this._floor=new a.Mesh(e,t),this._floor.name="Floor"),this._floor},t.prototype.createSkyBox=function(e,t){if(this._skybox){if(e&&(this._skybox.geometry.dispose(),this._skybox.geometry=e),t){for(var n=0,i=this._skybox.material;n<i.length;n++){i[n].dispose()}this._skybox.material=t}}else this._skybox=new a.Mesh(e,t),this._skybox.name="SkyBox";return this._skybox},t}(e("./cnsthree_base_render").RenderBaseObj);p.prototype._rendererName="RenderEnvironmentObj",t.exports=p},{"../loaders/baseLoader":107,"./cnsthree_base_render":79,THREE:"THREE","base/js/helpers":7}],87:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._faceObjects=[],e._mCutInverse=new r.Matrix4,e._basicMaterials={},e}return o(n,t),n.prototype.initWithOptions=function(e,n){var i=this;this._faceObjects.length=0,t.prototype.initWithOptions.call(this,e,n),this._rendererName="RenderFacesObj",this._enabled=!1,this._faceObjects.length=0,n._meshes_root.traverse(function(e){"face"===e.userData.drawType&&(i._enabled=!0,i._faceObjects.push(e))}),this._createMaterials(e.material.preset)},n.prototype.reset=function(){var e;t.prototype.reset.call(this),this._faceObjects.length=0;for(e in this._basicMaterials)this._basicMaterials.hasOwnProperty(e)&&(this._basicMaterials[e].dispose(),delete this._basicMaterials[e])},n.prototype.setClippingPlane=function(e,t){var n=new r.Matrix4;n.makeRotationY(.5*Math.PI);var i=new r.Matrix4;i.multiplyMatrices(t,n);var o,s=new r.Plane;for(s.applyMatrix4(i),o=0;o<this._faceObjects.length;o++)this._faceObjects[o].material.clipping=!0;e._viewer._renderer.clippingPlanes=[s]},n.prototype.render=function(e,t,n,i,o,r){if(this._enabled){if(this._options&&this._options.isCutOn){var s=this._options.cutPlaneMatrix;this._mCutInverse.getInverse(s),this.setClippingPlane(e,s)}this._options.material.uniformsChanged&&(this._setOverwriteUniforms(this._options.material.uniforms),this._options.material.uniformsChanged=!1),e.renderScene("face",t,i,o,!1),this._options&&this._options.isCutOn&&(e._viewer._renderer.clippingPlanes=[])}},n.prototype._setOverwriteUniforms=function(e){var t,n,i;for(t=0;t<this._faceObjects.length;t++)if((n=this._faceObjects[t]).material instanceof r.ShaderMaterial)for(i in e)e.hasOwnProperty(i)&&n.material.uniforms.hasOwnProperty(i)&&(n.userData.customUniforms&&!n.userData.customUniforms.u_color&&n.userData.customUniforms[i]||(n.material.uniforms[i].value=e[i]))},n.prototype._createMaterials=function(t){var n,i,o,s,a,l,c=0,p=0,d=0,h=0,u=0,m=[];for(n=0;n<this._faceObjects.length;n++)if(!(i=this._faceObjects[n]).userData.keepOriginalMaterial){c=p=d=h=u=0,m.length=0,l={depthWrite:!0,transparent:!1,visible:!0},s=i.userData.customUniforms,a=i.material.userData,s&&(s.u_AlbedoMap&&(c=1,m.push("USE_ALBEDO")),s.u_NormalMap&&(p=1,m.push("USE_NORMALMAP")),s.u_MetallRoughnessMap&&(d=1,m.push("USE_METALLROUGHNESS")),(s.u_opacity<.9||s.u_mixAlpha>.5)&&(h=1,l.transparent=!0,l.depthWrite=!1)),this._options.isCutOn&&(u=1,m.push("CUT_MODE"));var f=c+""+p+d+h+u,g=this._basicMaterials[f];if(g||(this._basicMaterials[f]=new(e("../shaders/basic"))({defines:m,materialOptions:l}).getMaterial(),(g=this._basicMaterials[f]).userData=a,this._addToDispose(g)),a&&(g.userData=a),i.material=g.clone(),i.material instanceof r.ShaderMaterial&&(i.userData&&(i.material.colorEncoding=r.GammaEncoding,i.userData.format&&"gltf"===i.userData.format&&(i.material.colorEncoding=r.LinearEncoding)),s&&void 0!==s.u_metallic||(i.material.uniforms.u_metallic.value=this._options.material.uniforms.u_metallic),s&&void 0!==s.u_roughness||(i.material.uniforms.u_roughness.value=this._options.material.uniforms.u_roughness),i.material.userData.hint&&i.material.userData.hint.isDefaultMaterial&&(s.u_metallic=this._options.material.uniforms.u_metallic,s.u_roughness=this._options.material.uniforms.u_roughness)),this._addToDispose(i.material),s)for(o in s)s.hasOwnProperty(o)&&i.material.uniforms[o]&&(i.material.uniforms[o].value=void 0!==s[o]?s[o]:this._options.material.uniforms[o]);if(i.material instanceof r.ShaderMaterial&&"pcloud"===t&&i.material.uniforms.u_color){if(i.material.userData||(i.material.userData={}),i.material.userData.pcloudColor)i.material.uniforms.u_color.value=(new r.Vector3).copy(i.material.userData.pcloudColor);else{if(i.material.uniforms.u_color.value instanceof r.Vector3?i.material.userData.pcloudColor=new r.Vector3(i.material.uniforms.u_color.value.x,i.material.uniforms.u_color.value.y,i.material.uniforms.u_color.value.z):Array.isArray(i.material.uniforms.u_color.value)&&(i.material.userData.pcloudColor=new r.Vector3(i.material.uniforms.u_color.value[0],i.material.uniforms.u_color.value[1],i.material.uniforms.u_color.value[2])),i.userData.format&&"gltf"===i.userData.format)i.material.userData.pcloudColor.multiplyScalar(.6);else{var _=this._viewer._renderer.gammaFactor,v=i.material.userData.pcloudColor.clone();(v=new r.Vector3(Math.pow(v.x,_),Math.pow(v.y,_),Math.pow(v.z,_))).multiplyScalar(.6),v=new r.Vector3(Math.pow(v.x,1/_),Math.pow(v.y,1/_),Math.pow(v.z,1/_)),i.material.userData.pcloudColor.copy(v)}i.material.uniforms.u_color.value=(new r.Vector3).copy(i.material.userData.pcloudColor)}}i.material.uniforms.u_envMap&&(i.material.envMap=i.material.uniforms.u_envMap.value),i.material.uniforms.u_invertCut.value=this._mCutInverse}},n}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderFacesObj",t.exports=s},{"../shaders/basic":150,"./cnsthree_base_render":79,THREE:"THREE"}],88:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._gridOn=!1,t._modelGridOn=!1,t._axisOn=!1,t._modelAxisOn=!1,t}return o(t,e),t.prototype.initWithOptions=function(t,n){e.prototype.initWithOptions.call(this,t,n),this._enabled=!1,this._gridOn=this._options.helperOptions.gridOn,this._modelGridOn=this._options.helperOptions.modelGridOn,this._axisOn=this._options.helperOptions.axisOn,this._modelAxisOn=this._options.helperOptions.modelAxisOn;var i=this._options.helperOptions.boundingBox;if(i){var o=new r.Vector3,s=new r.Vector3;i.getSize(o),i.getCenter(s),this._scene=new r.Scene;var a=this._viewer._meshes_faces.getObjectByName("Components"),l=(new r.Matrix4).copyPosition(a.matrixWorld);if(this._scene.matrixAutoUpdate=!1,this._scene.matrixWorld=l,this._gridOn){var c=2.2*Math.max(Math.max(o.x,o.y),o.z),p=10;(d=new r.GridHelper(c,p)).userData.drawType="helper",d.position.set(s.x,s.y,s.z),d.material.depthWrite=!1,this._scene.add(d),this._enabled=!0}if(this._modelGridOn){var d;c=2.2*Math.max(Math.max(o.x,o.y),o.z),p=10;(d=new r.GridHelper(c,p)).userData.drawType="helper",d.position.set(a.position.x,a.position.y,a.position.z),d.material.depthWrite=!1,this._scene.add(d),this._enabled=!0}if(this._axisOn){var h=1.2*Math.max(Math.max(o.x,o.y),o.z);(u=new r.AxesHelper(h)).userData.drawType="helper",u.position.set(s.x,s.y,s.z),this._scene.add(u),this._enabled=!0}if(this._modelAxisOn){var u;h=1.2*Math.max(Math.max(o.x,o.y),o.z);(u=new r.AxesHelper(h)).userData.drawType="helper",u.position.set(a.position.x,a.position.y,a.position.z),this._scene.add(u),this._enabled=!0}}},t.prototype.reset=function(){e.prototype.reset.call(this)},t.prototype.render=function(e,t,n,i,o,r){this._enabled&&e.renderScene("helper",this._scene,i,o,!1)},t}(e("./cnsthree_base_render").RenderBaseObj);s.prototype._rendererName="RenderHelper",t.exports=s},{"./cnsthree_base_render":79,THREE:"THREE"}],89:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("../cnsthreeExtendedElements"),a=e("./cnsthree_base_render"),l=jQuery,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._divHotSpots={},t._hotspotList=[],t._sphereRadius=0,t._sphereGeometry=null,t._hotspotScaleFactor=1,t}return o(t,e),t.prototype.initWithOptions=function(t,n){if(e.prototype.initWithOptions.call(this,t,n),n&&n&&n._meshes_root&&(this._enabled=!1,t.showHotSpots&&!t.isCutOn&&!t.vr&&(this._hotspotList=n.getHotSpots(),this._sphereRadius=n.getSphereRadius(),this._hotspotScaleFactor=n.getHotSpotScalefactor(),this._hotspotList&&this._hotspotList.length>0))){this._enabled=!0;for(var i=this._hotspotList,o=0,r=i;o<r.length;o++){var s=r[o];this._addHotSpot(s)}i.length&&n.needsredraw_flag()}},t.prototype._getScene=function(){if(!this._scene){var e=this._viewer._meshes_root.getObjectByName("Components");e&&(e.remove(e.getObjectByName("HotSpotScene")),this._scene=new s.CNSScene,this._scene.name="HotSpotScene",e.add(this._scene))}return this._scene},t.prototype._getSphereGeometry=function(){return this._sphereGeometry||(this._sphereGeometry=new r.SphereBufferGeometry(this._viewer._sphereRadius/100,32,32),this._addToDispose(this._sphereGeometry)),this._sphereGeometry},t.prototype._addHotSpot=function(e){this._divHotSpots[e.getId()]||(this._create3DHotSpotStuff(e),this._addHotSpotToDom(e),e.onUpdateColor=this._hotspotColorUpdate.bind(this),e.onUpdateLine=this._hotspotLineUpdate.bind(this))},t.prototype._hotspotLineUpdate=function(e){var t=e.getId(),n=e.getInfo(),i=new r.Vector3(n.normal.x,n.normal.y,n.normal.z),o=new r.Vector3(n.position.x,n.position.y,n.position.z);if(n.line){n.line.relativeToPart?i.multiplyScalar(this._sphereRadius*n.line.length/100):i.multiplyScalar(n.line.length),e.dest={x:n.position.x+i.x,y:n.position.y+i.y,z:n.position.z+i.z};var s=new r.Vector3(e.dest.x,e.dest.y,e.dest.z);this._updateHotSpotLine(t,o,s)}else this._updateHotSpotLine(t,o,o)},t.prototype._hotspotColorUpdate=function(e){var t=e.getId();this._getScene().getObjectByName("HotSpotGroup_"+t).traverse(function(t){var n=t.material;n&&(n instanceof r.MeshBasicMaterial||n instanceof r.LineBasicMaterial)&&(n.color=new r.Color(e.getColor()))})},t.prototype._create3DHotSpotStuff=function(e){var t,n=e.getId(),i=this._getScene().getObjectByName("HotSpotGroup_"+n);if(!i){var o=e.getInfo(),s=e.getColor();if((i=new r.Group).name="HotSpotGroup_"+n,delete e.dest,o.line&&o.line.length>0){t=new r.Vector3(o.normal.x,o.normal.y,o.normal.z),o.line.relativeToPart?t.multiplyScalar(this._sphereRadius*o.line.length/100):t.multiplyScalar(o.line.length),e.dest={x:o.position.x+t.x,y:o.position.y+t.y,z:o.position.z+t.z};var a=new r.Vector3(o.position.x,o.position.y,o.position.z),l=new r.Vector3(e.dest.x,e.dest.y,e.dest.z),c=this._createHotSpotLine(n,a,l,s);i.add(c);var p=new r.MeshBasicMaterial({color:s,transparent:!0});this._addToDispose(p);var d=new r.Mesh(this._getSphereGeometry(),p);d.position.set(o.position.x,o.position.y,o.position.z),d.name="HotSpotSphere_"+n,d.userData.drawType="hotspot",d.scale.x=this._hotspotScaleFactor,d.scale.y=this._hotspotScaleFactor,d.scale.z=this._hotspotScaleFactor,i.add(d),this._getScene().add(i)}}},t.prototype._createHotSpotLine=function(e,t,n,i){var o=new r.LineBasicMaterial({color:i,transparent:!0});this._addToDispose(o);var s=new r.Geometry;s.vertices.push(new r.Vector3(t.x,t.y,t.z),new r.Vector3(n.x,n.y,n.z)),this._addToDispose(s);var a=new r.Line(s,o);return a.name="HotSpotLine_"+e,a.userData.drawType="hotspot",a},t.prototype._updateHotSpotLine=function(e,t,n,i){var o=this._getScene().getObjectByName("HotSpotLine_"+e);if(t&&n){var s=o.geometry;s.vertices.length=0,s.vertices.push(new r.Vector3(t.x,t.y,t.z),new r.Vector3(n.x,n.y,n.z)),s.verticesNeedUpdate=!0}return i&&(o.material.color=i),o},t.prototype._addHotSpotToDom=function(e){var t=e.getId();if(!this._divHotSpots[t]){var n=e.getElement();this._divHotSpots[t]=n,n.appendTo(l(".psol-comp-webviewer3d-webgl-hotspotcontainer")),e.onAddedToDom()}},t.prototype.reset=function(){if(this._viewer&&this._viewer._meshes_root){var t=this._viewer._meshes_root.getObjectByName("Components");if(t&&t.remove(t.getObjectByName("HotSpotScene")),!this._options||!this._options.showHotSpots||this._options.isCutOn||this._options.vr)for(var n=0,i=this._hotspotList;n<i.length;n++){i[n].hide()}this.updateHotspotlist([]),this._divHotSpots={},e.prototype.reset.call(this)}},t.prototype._destroy3DHotSpotStuff=function(e){var t,n,i=this,o=this._getScene().getObjectByName("HotSpotGroup_"+e);o&&o.traverse(function(e){t=e.material,e instanceof r.Mesh&&(n=e.geometry),t&&i._disposeSingleElement(t),n&&n!==i._sphereGeometry&&i._disposeSingleElement(n)});this._getScene().remove(o)},t.prototype.updateHotspotlist=function(e){if(this._enabled){this._hotspotList=e;var t,n,i,o,r={};for(t=0;t<e.length;t++)r[i=(n=e[t]).getId()]=!0,this._divHotSpots[i]||this._addHotSpot(n);for(o in this._divHotSpots)this._divHotSpots.hasOwnProperty(o)&&!r.hasOwnProperty(o)&&(this._destroy3DHotSpotStuff(o),delete this._divHotSpots[o])}},t.prototype.render=function(e,t,n,i,o){if(!0===this._enabled){var s=void 0,a=void 0,l=void 0,c=void 0,p=void 0,d=void 0,h=0,u=this._hotspotList,m=new r.Matrix4,f=new r.Matrix4,g=e._viewer.getHotSpotScalefactor();f.getInverse(i.matrixWorld),i.updateProjectionMatrix();var _=new r.Matrix4,v=(new r.Matrix4).copy(this._getScene().matrixWorld);_.copy(v),m.extractRotation(_);var b=!0,w=void 0,y=new r.Vector3;i.getWorldDirection(y);var x=void 0,C=void 0,S=void 0,A=void 0,T=void 0;for(h=0;h<u.length;h++)if(C=(d=u[h]).getId(),l=d.getNormal(),x=d.dest?new r.Vector3(d.dest.x,d.dest.y,d.dest.z):new r.Vector3(d.getPosition().x,d.getPosition().y,d.getPosition().z),S=(new r.Vector3).subVectors(x,i.position).length(),A=(new r.Vector3).addVectors(i.position,(new r.Vector3).copy(y).multiplyScalar(i.near)),!((new r.Vector3).subVectors(x,A).length()>S)){if(void 0!==l)if((l=new r.Vector3(l.x,l.y,l.z)).transformDirection(m),w=y.dot(l),b=(w=r.Math.radToDeg(w*Math.PI))<0,T=this._getScene().getObjectByName("HotSpotGroup_"+C),b)w>-40?(d.fade(),T&&T.traverse(function(e){e.material&&e.material.opacity&&(e.material.opacity=.25)})):(d.setOpaque(),T&&T.traverse(function(e){e.material&&e.material.opacity&&(e.material.opacity=1)})),T&&T.traverse(function(e){e.visible=!0});else if(!b){d.isVisible()&&d.hide(),T&&T.traverse(function(e){e.visible=!1});continue}var M=this._getScene().getObjectByName("HotSpotSphere_"+C);if(M){var k=!1;M.scale.x!==g&&(k=!0),M.scale.x=g,M.scale.y=g,M.scale.z=g,k&&e._viewer.needsredraw_flag()}p=d.getPosition(),(s=d.hasOwnProperty("dest")?new r.Vector4(d.dest.x,d.dest.y,d.dest.z):new r.Vector4(p.x,p.y,p.z)).applyMatrix4(_),s.applyMatrix4(f),s.applyMatrix4(i.projectionMatrix),s.multiplyScalar(1/s.w),a="psolhtml"!==d.getInfo().type?Math.round((1-(.5*s.y+.5))*e._height-d.getHeaderHeight()/2):Math.round((1-(.5*s.y+.5))*e._height-15),c=Math.round((.5*s.x+.5)*e._width),d.isVisible()||d.show(),d.getElement().css({"-webkit-transform":"translate3d("+c+"px, "+a+"px, 0)",transform:"translate3d("+c+"px, "+a+"px, 0)"})}e.renderScene("hotspot",t,i,o,!1)}},t}(a.RenderBaseObj);c.prototype._rendererName="RenderHotSpotObj",t.exports=c},{"../cnsthreeExtendedElements":96,"./cnsthree_base_render":79,THREE:"THREE"}],90:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("psol.core"),s=e("../cnsthreeExtendedElements"),a=e("./cnsthree_base_render"),l=jQuery,c=e("THREE"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._divlabels={},t._labelsList=[],t._colorLabel="#ffffcc",t._colorLabelText="#000000",t}return o(t,e),t.prototype.initWithOptions=function(t,n){var i,o;if(e.prototype.initWithOptions.call(this,t,n),this.reset(),this._enabled=!1,t.showLabels){if(this._colorLabel="#FFFFCC",this._colorLabelText="#000000",this._labelsList=n.collectLabels(),n._meshes_root.getObjectByName("LabelScene"))this._scene=n._meshes_root.getObjectByName("LabelScene");else{var r=n._meshes_root.getObjectByName("ComponentsScene");r&&(this._scene=new s.CNSScene,this._scene.name="LabelScene",r.add(this._scene));var a=[],l=this._labelsList;for(i=0;i<l.length;i++)for(o=0;o<l[i].dest.length;o++)a.push(l[i].pos.x),a.push(l[i].pos.y),a.push(l[i].pos.z),a.push(l[i].dest[o].x),a.push(l[i].dest[o].y),a.push(l[i].dest[o].z);if(a.length>0){this._line=new c.BufferGeometry,this._addToDispose(this._line),this._line.addAttribute("position",new c.BufferAttribute(new Float32Array(a),3));var p=new c.LineBasicMaterial({color:0,depthTest:!0,opacity:1});this._addToDispose(p),this._lineObj=new c.LineSegments(this._line,p),this._lineObj.name="labels",this._lineObj.userData.drawType="line",this._scene.add(this._lineObj)}else this._line=void 0,this._scene=void 0}this._labelsList.length>0&&(this._enabled=!0)}},t.prototype.reset=function(){var t;e.prototype.reset.call(this);for(t in this._divlabels)this._divlabels.hasOwnProperty(t)&&l(this._divlabels[t]).remove&&l(this._divlabels[t]).remove();this._divlabels={}},t.prototype.labelClicked=function(e){var t=e.currentTarget;t.classList.toggle("psol-comp-webviewer3d-webgl-label-expanded");var n=t.getElementsByClassName("psol-comp-webviewer3d-webgl-label-small")[0];n&&("block"===window.getComputedStyle(n).display?n.style.display="none":n.style.display="block");var i=t.getElementsByClassName("psol-comp-webviewer3d-webgl-label-big")[0];i&&("block"===window.getComputedStyle(i).display?i.style.display="none":i.style.display="block"),t.customLabelHeight=t.clientHeight,this._mgr&&this._mgr._viewer.needsredraw_flag()},t.prototype.render=function(e,t,n,i,o){if(!0===this._enabled){this._mgr=e;var s=void 0,a=void 0,p=void 0,d=void 0,h=void 0,u=void 0,m=void 0,f=void 0,g=void 0,_=new c.Matrix4,v=(new c.Matrix4).copy(this._scene.matrixWorld),b=this._labelsList,w=r.getLanguage(),y=new c.Matrix4;for(y.getInverse(i.matrixWorld),i.updateProjectionMatrix(),_.copy(v),s=0;s<b.length;s++)(m=new c.Vector4(b[s].pos.x,b[s].pos.y,b[s].pos.z)).applyMatrix4(y),m.applyMatrix4(i.projectionMatrix),m.multiplyScalar(1/m.w),p=b[s].labelText[w]||b[s].labelText.default,(a=this._divlabels[b[s].id])||((a=document.createElement("DIV")).classList.add("psol-comp-webviewer3d-webgl-label"),a.setAttribute("data-id",b[s].id),(g=document.createElement("div")).classList.add("psol-comp-webviewer3d-webgl-label-circle"),a.appendChild(g),(f=document.createElement("DIV")).innerHTML=p.small,f.classList.add("psol-comp-webviewer3d-webgl-label-text"),a.appendChild(f),p.big&&p.big.length&&(f.classList.add("psol-comp-webviewer3d-webgl-label-small"),(u=document.createElement("DIV")).innerHTML=p.big.replace(/&nbsp;/g,""),u.classList.add("psol-comp-webviewer3d-webgl-label-text"),u.classList.add("psol-comp-webviewer3d-webgl-label-big"),a.appendChild(u),a.addEventListener("click",this.labelClicked.bind(this))),this._divlabels[b[s].id]=a,e.getOverlayDIV().appendChild(a),a.customLabelHeight=a.clientHeight),h=Math.round((1-(.5*m.y+.5))*e._height-a.customLabelHeight/2),d=Math.round((.5*m.x+.5)*e._width),l(a).css({"-webkit-transform":"translate3d("+d+"px, "+h+"px, 0)",transform:"translate3d("+d+"px, "+h+"px, 0)"});void 0!==this._line&&e.renderScene("line",this._scene,i,o,!1)}},t}(a.RenderBaseObj);p.prototype._rendererName="RenderLabelObj",t.exports=p},{"../cnsthreeExtendedElements":96,"./cnsthree_base_render":79,THREE:"THREE","psol.core":196}],91:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("THREE_MeshLine"),a=e("../cnsthree_helper"),l=e("../cnsthreeEnums"),c=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._gridBox=null,e._boxGroup=null,e._cameraMode=null,e._near=null,e._far=null,e._alignedBox=null,e._step=null,e._bottom=null,e._top=null,e._left=null,e._right=null,e._outlineMaterial=null,e._dimensionLineMaterial=null,e._gridMaterial=null,e._dimensionArrowMaterial=null,e._dimensionTextMaterial=null,e._dimensionsColor="#000000",e._gridColor="#b3b3b3",e._outlineColor="#0000ff",e._parentScene=null,e._unit="",e}return o(n,t),n.prototype.initWithOptions=function(e,i){t.prototype.initWithOptions.call(this,e,i);var o=e.measureGrid;this._cameraMode=e.cameraMode,this._near=o.near,this._far=o.far,this._dimensionsColor=o.colors&&o.colors.dimensions||this._dimensionsColor,this._gridColor=o.colors&&o.colors.grid||this._gridColor,this._outlineColor=o.colors&&o.colors.outline||this._outlineColor,this._parentScene=o.parentScene||null,this._unit=o.unit||"";var r=o.measuringGridBoxModel;n._isValidBox(r)&&(this._createStuff(r),this._enabled=!0)},n.prototype.reset=function(){this._scene&&this._scene.parent&&this._scene.parent.remove(this._scene),t.prototype.reset.call(this),this._scene=null,this._enabled=!1,this._gridBox=null,this._boxGroup=null,this._outlineMaterial=null,this._gridMaterial=null,this._dimensionArrowMaterial=null,this._dimensionTextMaterial=null,this._cameraMode=null,this._near=null,this._far=null,this._alignedBox=null,this._step=null,this._bottom=null,this._top=null,this._left=null,this._right=null},n.prototype._createMaterials=function(){var t=0,n=.0025,i=.0025;this._cameraMode===l.CameraMode.Perspective?(n=.0025,i=.0025,t=0):this._cameraMode===l.CameraMode.Orthographic&&(n=.0015,i=.0015,t=1),this._outlineMaterial=new s.MeshLineMaterial({color:new r.Color(this._outlineColor),far:this._far,lineWidth:n,near:this._near,sizeAttenuation:t}),this._gridMaterial=new s.MeshLineMaterial({color:new r.Color(this._gridColor),far:this._far,lineWidth:i,near:this._near,polygonOffset:!0,polygonOffsetFactor:2,polygonOffsetUnits:2,sizeAttenuation:t}),this._dimensionLineMaterial=new s.MeshLineMaterial({color:new r.Color(this._dimensionsColor),far:this._far,lineWidth:n,near:this._near,sizeAttenuation:t}),this._dimensionArrowMaterial=new r.MeshBasicMaterial({color:this._dimensionsColor,side:r.DoubleSide}),this._dimensionTextMaterial=(new(e("../shaders/measureGridDimensionText/measureGridDimensionText"))).getMaterial(),this._addToDispose(this._outlineMaterial),this._addToDispose(this._gridMaterial),this._addToDispose(this._dimensionLineMaterial),this._addToDispose(this._dimensionArrowMaterial),this._addToDispose(this._dimensionTextMaterial)},n.prototype._createDimensionGroup=function(e,t,n,i){var o,s,l,c,p,d,h=.9*i,u=h/4;o=new r.Group,(d=(s=e.distanceTo(t).toFixed(2))+" "+this._unit).trim();var m=a.Helper.create3DTextShapeGeometry(d,u,2);m.computeBoundingBox();var f=new r.Vector3;m.boundingBox.getSize(f);var g=f.y,_=f.x;this._dimensionTextMaterial.uniforms.textHeight.value=1.5*g;var v=!1;_>parseFloat(s)&&(v=!0);var b=.25*(new r.Vector3).copy(n).multiplyScalar(i).length();return l=this._createDimensionLines(e,t,n,i,h,v?_:void 0,b),c=this._createDimensionArrows(e,t,n,i,h),p=this._createDimensionText(e,t,n,h,m,v,b),o.userData.direction=(new r.Vector3).copy(n).negate(),o.add(l),o.add(c),o.add(p),o},n.prototype._createDimensions=function(){var e,t=new r.Vector3,n=new r.Vector3,i=new r.Vector3,o=this._step,s=new r.Group;s.name="DimensionGroup",this._bottom.add(s),t.set(this._alignedBox.max.x,this._gridBox.min.y,this._alignedBox.min.z),n.set(this._alignedBox.max.x,this._gridBox.min.y,this._alignedBox.max.z),i.set(1,0,0),(e=this._createDimensionGroup(t,n,i,o)).name="BottomDimensionRightGroup",s.add(e),t.set(this._alignedBox.min.x,this._gridBox.min.y,this._alignedBox.min.z),n.set(this._alignedBox.min.x,this._gridBox.min.y,this._alignedBox.max.z),i.set(-1,0,0),(e=this._createDimensionGroup(t,n,i,o)).name="BottomDimensionLeftGroup",s.add(e),t.set(this._alignedBox.min.x,this._gridBox.min.y,this._alignedBox.max.z),n.set(this._alignedBox.max.x,this._gridBox.min.y,this._alignedBox.max.z),i.set(0,0,1),(e=this._createDimensionGroup(t,n,i,o)).name="BottomDimensionFrontGroup",s.add(e),t.set(this._alignedBox.min.x,this._gridBox.min.y,this._alignedBox.min.z),n.set(this._alignedBox.max.x,this._gridBox.min.y,this._alignedBox.min.z),i.set(0,0,-1),(e=this._createDimensionGroup(t,n,i,o)).name="BottomDimensionBackGroup",s.add(e);var a=new r.Group;a.name="DimensionGroup",this._top.add(a),t.set(this._alignedBox.max.x,this._gridBox.max.y,this._alignedBox.max.z),n.set(this._alignedBox.max.x,this._gridBox.max.y,this._alignedBox.min.z),i.set(1,0,0),(e=this._createDimensionGroup(t,n,i,o)).name="TopDimensionRightGroup",a.add(e),t.set(this._alignedBox.min.x,this._gridBox.max.y,this._alignedBox.max.z),n.set(this._alignedBox.min.x,this._gridBox.max.y,this._alignedBox.min.z),i.set(-1,0,0),(e=this._createDimensionGroup(t,n,i,o)).name="TopDimensionLeftGroup",a.add(e),t.set(this._alignedBox.max.x,this._gridBox.max.y,this._alignedBox.max.z),n.set(this._alignedBox.min.x,this._gridBox.max.y,this._alignedBox.max.z),i.set(0,0,1),(e=this._createDimensionGroup(t,n,i,o)).name="TopDimensionFrontGroup",a.add(e),t.set(this._alignedBox.max.x,this._gridBox.max.y,this._alignedBox.min.z),n.set(this._alignedBox.min.x,this._gridBox.max.y,this._alignedBox.min.z),i.set(0,0,-1),(e=this._createDimensionGroup(t,n,i,o)).name="TopDimensionBackGroup",a.add(e);var l=new r.Group;l.name="DimensionGroup",this._left.add(l),t.set(this._gridBox.min.x,this._alignedBox.max.y,this._alignedBox.max.z),n.set(this._gridBox.min.x,this._alignedBox.min.y,this._alignedBox.max.z),i.set(0,0,1),(e=this._createDimensionGroup(t,n,i,o)).name="LeftDimensionFrontGroup",l.add(e),t.set(this._gridBox.min.x,this._alignedBox.min.y,this._alignedBox.min.z),n.set(this._gridBox.min.x,this._alignedBox.max.y,this._alignedBox.min.z),i.set(0,0,-1),(e=this._createDimensionGroup(t,n,i,o)).name="LeftDimensionBackGroup",l.add(e);var c=new r.Group;c.name="DimensionGroup",this._right.add(c),t.set(this._gridBox.max.x,this._alignedBox.min.y,this._alignedBox.max.z),n.set(this._gridBox.max.x,this._alignedBox.max.y,this._alignedBox.max.z),i.set(0,0,1),(e=this._createDimensionGroup(t,n,i,o)).name="RightDimensionFrontGroup",c.add(e),t.set(this._gridBox.max.x,this._alignedBox.max.y,this._alignedBox.min.z),n.set(this._gridBox.max.x,this._alignedBox.min.y,this._alignedBox.min.z),i.set(0,0,-1),(e=this._createDimensionGroup(t,n,i,o)).name="RightDimensionBackGroup",c.add(e)},n.prototype._createDimensionLines=function(e,t,n,i,o,s,a){var l,c=new r.Group,p=new r.Vector3,d=new r.Vector3;c.name="MeasureGridDimensionLineGroup";var h=(new r.Vector3).copy(n).multiplyScalar(i),u=(new r.Vector3).copy(n).multiplyScalar(o);p.copy(e),d.copy(e),d.add(h),(l=this._createMeshLine([p,d],this._dimensionLineMaterial)).userData.drawType="DimensionMeasureGrid",c.add(l),p.copy(t),d.copy(t),d.add(h),(l=this._createMeshLine([p,d],this._dimensionLineMaterial)).userData.drawType="DimensionMeasureGrid",c.add(l),p.copy(e),p.add(u),d.copy(t),d.add(u);var m=(new r.Vector3).subVectors(p,d).normalize();return s&&(p.add((new r.Vector3).copy(m).multiplyScalar(1.5*s)),d.add((new r.Vector3).copy(m).negate().multiplyScalar(2*a))),(l=this._createMeshLine([p,d],this._dimensionLineMaterial)).userData.drawType="DimensionMeasureGrid",c.add(l),c},n.prototype._createDimensionArrowGeometry=function(e,t,n,i,o){var s,a,l,c,p,d=i/4;return s=new r.BufferGeometry,a=(new r.Vector3).copy(e),l=(new r.Vector3).copy(a),c=(new r.Vector3).copy(a),l.add((new r.Vector3).copy(t).multiplyScalar(d).negate()),l.add((new r.Vector3).copy(n).multiplyScalar(o)),c.add((new r.Vector3).copy(t).multiplyScalar(d)),c.add((new r.Vector3).copy(n).multiplyScalar(o)),p=new Float32Array([a.x,a.y,a.z,l.x,l.y,l.z,c.x,c.y,c.z]),s.addAttribute("position",new r.BufferAttribute(p,3)),s},n.prototype._createDimensionArrows=function(e,t,n,i,o){var s,a,l,c,p,d,h,u,m,f,g=(new r.Vector3).subVectors(e,t).length(),_=!1;(m=new r.Group).name="MeasureGridDimensionArrowsGroup",a=(new r.Vector3).copy(n).multiplyScalar(i),s=(new r.Vector3).copy(n).multiplyScalar(o),p=.5*a.length(),d=.4*a.length(),3*p>g&&(_=!0),h=(new r.Vector3).subVectors(t,e).normalize(),u=(new r.Vector3).copy(e).add(s),_&&u.add((new r.Vector3).copy(h).multiplyScalar(g)),l=this._createDimensionArrowGeometry(u,n,h,d,p),h=(new r.Vector3).subVectors(e,t).normalize(),u=(new r.Vector3).copy(t).add(s),_&&u.add((new r.Vector3).copy(h).multiplyScalar(g)),c=this._createDimensionArrowGeometry(u,n,h,d,p);var v=new r.BufferGeometry;return v.addAttribute("position",new r.BufferAttribute(new Float32Array(18),3)),v.merge(l,0),v.merge(c,3),l.dispose(),c.dispose(),(f=new r.Mesh(v,this._dimensionArrowMaterial)).name="MeasureGridDimensionArrow",f.matrixAutoUpdate=!1,f.userData.drawType="DimensionMeasureGrid",m.add(f),m},n.prototype._createDimensionText=function(e,t,n,i,o,s,a){var l,c,p,d,h,u,m,f,g,_,v,b,w,y,x,C,S,A,T,M,k=(new r.Vector3).subVectors(e,t).length(),D=new r.Group;D.name="MeasureGridDimensionTextGroup",(l=(l=new r.Vector3).copy(t)).add((new r.Vector3).subVectors(e,t).divideScalar(2));var E=new r.Vector3;return o.boundingBox.getSize(E),p=E.y,M=E.x,l.add((new r.Vector3).copy(n).multiplyScalar(i-p/2)),this._addToDispose(o),(c=new r.Matrix4).makeTranslation(-M/2,-p/2,0),o.applyMatrix(c),(d=new r.Mesh(o,this._dimensionTextMaterial)).name="MeasureGridDimensionText",d.matrixAutoUpdate=!1,d.userData.drawType="DimensionMeasureGrid",d.matrixAutoUpdate=!1,D.add(d),g=(new r.Matrix4).makeTranslation(l.x,l.y,l.z),d.matrix.multiply(g),h=new r.Vector3(0,0,1),u=(new r.Quaternion).setFromUnitVectors(h.normalize(),n.normalize()),m=(new r.Matrix4).makeRotationFromQuaternion(u),f=(new r.Vector3).subVectors(e,t).normalize(),d.matrix.multiply(m),_=(new r.Box3).setFromObject(d),v=new r.Vector3,b=new r.Vector3,w=new r.Vector3,_.getSize(w),w.x>w.y&&w.x>w.z?(v.set(_.min.x,0,0),b.set(_.max.x,0,0)):w.y>w.x&&w.y>w.z?(v.set(0,_.min.y,0),b.set(0,_.max.y,0)):w.z>w.x&&w.z>w.y&&(v.set(0,0,_.min.z),b.set(0,0,_.max.z)),y=(new r.Vector3).subVectors(v,b).normalize(),x=(new r.Quaternion).setFromUnitVectors(y,f),C=(new r.Matrix4).makeRotationFromQuaternion(x),d.matrix.multiply(C),S=Math.PI/2,S=y.dot(f)>=0?-S:S,A=(new r.Matrix4).makeRotationFromEuler(new r.Euler(S,0,0,"XYZ")),d.matrix.multiply(A),T=(new r.Matrix4).makeTranslation(0,p/4,0),d.matrix.multiply(T),s&&d.matrix.multiply((new r.Matrix4).makeTranslation(-M/2-a-k/2,0,0)),D},n.prototype._createGrids=function(e,t){var n,i,o,s,a,l=new r.Vector3;e.getSize(l);var c=new r.Vector3;t.getSize(c),this._gridBox=e;var p=Math.max(l.x,Math.max(l.y,l.z));this._step=0;for(var d,h=5;p/h<1;)h/=10;for(n=h;n<p&&(this._step=n,!(p/this._step<=8));n+=h);d=this._step/2;var u=(this._step-l.x%this._step)/2,m=(this._step-l.y%this._step)/2,f=(this._step-l.z%this._step)/2;e.expandByVector(new r.Vector3(u,m,f));var g,_,v,b=["x","y","z"],w=new r.Vector3;for(n=0;n<b.length;n++){for(v=0,g=c.getComponent(n)+this._step,_=l.getComponent(n)-g;_<this._step;)_+=this._step,v++;w.setComponent(n,d*v)}e.expandByVector(w),this._boxGroup=new r.Group,this._boxGroup.name="BoxGroup";var y=new r.Vector3(this._gridBox.min.x+this._step,this._gridBox.min.y+this._step,this._gridBox.min.z+this._step),x=new r.Vector3(y.x+c.x,y.y+c.y,y.z+c.z),C=new r.Box3(y,x),S=C.min,A=C.max,T=new r.Vector3;T.subVectors(t.min,S);var M=new r.Group;M.userData.direction=new r.Vector3(0,0,1),M.name="FrontGroup";var k=new r.Group;for(k.name="FrontGrid",n=e.min.y;n<=e.max.y;n+=this._step)i=new r.Vector3(e.min.x,n,e.max.z),o=new r.Vector3(e.max.x,n,e.max.z),k.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.x;n<=e.max.x;n+=this._step)i=new r.Vector3(n,e.min.y,e.max.z),o=new r.Vector3(n,e.max.y,e.max.z),k.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(S.x,S.y,this._gridBox.max.z),o=new r.Vector3(A.x,S.y,this._gridBox.max.z),s=new r.Vector3(A.x,A.y,this._gridBox.max.z),a=new r.Vector3(S.x,A.y,this._gridBox.max.z);var D=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);D.name="FrontOutline",M.add(k),M.add(D);var E=new r.Group;E.userData.direction=new r.Vector3(0,0,-1),E.name="BackGroup";var B=new r.Group;for(B.name="BackGrid",n=e.min.y;n<=e.max.y;n+=this._step)i=new r.Vector3(e.min.x,n,e.min.z),o=new r.Vector3(e.max.x,n,e.min.z),B.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.x;n<=e.max.x;n+=this._step)i=new r.Vector3(n,e.min.y,e.min.z),o=new r.Vector3(n,e.max.y,e.min.z),B.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(S.x,S.y,this._gridBox.min.z),o=new r.Vector3(A.x,S.y,this._gridBox.min.z),s=new r.Vector3(A.x,A.y,this._gridBox.min.z),a=new r.Vector3(S.x,A.y,this._gridBox.min.z);var P=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);P.name="BackOutline",E.add(B),E.add(P);var L=new r.Group;L.userData.direction=new r.Vector3(1,0,0),L.name="RightGroup";var R=new r.Group;for(R.name="RightGrid",n=e.min.y;n<=e.max.y;n+=this._step)i=new r.Vector3(e.max.x,n,e.min.z),o=new r.Vector3(e.max.x,n,e.max.z),R.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.z;n<=e.max.z;n+=this._step)i=new r.Vector3(e.max.x,e.min.y,n),o=new r.Vector3(e.max.x,e.max.y,n),R.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(this._gridBox.max.x,S.y,S.z),o=new r.Vector3(this._gridBox.max.x,S.y,A.z),s=new r.Vector3(this._gridBox.max.x,A.y,A.z),a=new r.Vector3(this._gridBox.max.x,A.y,S.z);var V=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);V.name="RightOutline",L.add(R),L.add(V);var H=new r.Group;H.userData.direction=new r.Vector3(-1,0,0),H.name="LeftGroup";var I=new r.Group;for(I.name="LeftGrid",n=e.min.y;n<=e.max.y;n+=this._step)i=new r.Vector3(e.min.x,n,e.min.z),o=new r.Vector3(e.min.x,n,e.max.z),I.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.z;n<=e.max.z;n+=this._step)i=new r.Vector3(e.min.x,e.min.y,n),o=new r.Vector3(e.min.x,e.max.y,n),I.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(this._gridBox.min.x,S.y,S.z),o=new r.Vector3(this._gridBox.min.x,S.y,A.z),s=new r.Vector3(this._gridBox.min.x,A.y,A.z),a=new r.Vector3(this._gridBox.min.x,A.y,S.z);var z=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);z.name="LeftOutline",H.add(I),H.add(z);var O=new r.Group;O.userData.direction=new r.Vector3(0,1,0),O.name="TopGroup";var j=new r.Group;for(j.name="TopGrid",n=e.min.z;n<=e.max.z;n+=this._step)i=new r.Vector3(e.min.x,e.max.y,n),o=new r.Vector3(e.max.x,e.max.y,n),j.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.x;n<=e.max.x;n+=this._step)i=new r.Vector3(n,e.max.y,e.min.z),o=new r.Vector3(n,e.max.y,e.max.z),j.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(S.x,this._gridBox.max.y,S.z),o=new r.Vector3(A.x,this._gridBox.max.y,S.z),s=new r.Vector3(A.x,this._gridBox.max.y,A.z),a=new r.Vector3(S.x,this._gridBox.max.y,A.z);var F=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);F.name="TopOutline",O.add(j),O.add(F);var N=new r.Group;N.userData.direction=new r.Vector3(0,-1,0),N.name="BottomGroup";var U=new r.Group;for(U.name="BottomGrid",n=e.min.z;n<=e.max.z;n+=this._step)i=new r.Vector3(e.min.x,e.min.y,n),o=new r.Vector3(e.max.x,e.min.y,n),U.add(this._createMeshLine([i,o],this._gridMaterial));for(n=e.min.x;n<=e.max.x;n+=this._step)i=new r.Vector3(n,e.min.y,e.min.z),o=new r.Vector3(n,e.min.y,e.max.z),U.add(this._createMeshLine([i,o],this._gridMaterial));i=new r.Vector3(S.x,this._gridBox.min.y,S.z),o=new r.Vector3(A.x,this._gridBox.min.y,S.z),s=new r.Vector3(A.x,this._gridBox.min.y,A.z),a=new r.Vector3(S.x,this._gridBox.min.y,A.z);var Z=this._createOutlineGroup([i,o,s,a],this._outlineMaterial);Z.name="BottomOutline",N.add(U),N.add(Z),this._bottom=N,this._left=H,this._right=L,this._top=O,this._boxGroup.add(M),this._boxGroup.add(E),this._boxGroup.add(L),this._boxGroup.add(H),this._boxGroup.add(O),this._boxGroup.add(N),this._scene=new r.Scene,this._scene.name="MeasuringGridScene",this._scene.add(this._boxGroup),this._boxGroup.applyMatrix((new r.Matrix4).makeTranslation(T.x,T.y,T.z)),this._parentScene&&this._parentScene.add(this._scene),this._alignedBox=C},n.prototype._createOutlineGroup=function(e,t){var n,i,o=new r.Group;for(i=0;i<e.length;i++)(n=i===e.length-1?this._createMeshLine([e[i],e[0]],t):this._createMeshLine([e[i],e[i+1]],t)).userData.drawType="Outline",o.add(n);return o},n.prototype._createMeshLine=function(e,t){for(var n=new s.MeshLine,i=new r.Geometry,o=0,a=e;o<a.length;o++){var l=a[o];i.vertices.push(l)}this._addToDispose(i),n.setGeometry(i);var c=new r.Mesh(n.geometry,t);return c.name="MeasureGridMeshLine",c.matrixAutoUpdate=!1,c.userData.drawType="MeasureGrid",c},n._isValidBox=function(e){return!(!e||Math.abs(e.min.x)===1/0||Math.abs(e.min.y)===1/0||Math.abs(e.min.z)===1/0||Math.abs(e.max.x)===1/0||Math.abs(e.max.y)===1/0||Math.abs(e.max.z)===1/0)},n.prototype._createStuff=function(e){this._createMaterials(),this._createGrids((new r.Box3).copy(e),(new r.Box3).copy(e)),this._createDimensions()},n.prototype.render=function(e,t,n,i,o,s){if(this._enabled&&this._boxGroup){var a=void 0,l=void 0,c=void 0,p=void 0,d=void 0,h=new r.Vector3;i.getWorldDirection(h);for(var u=0,m=this._boxGroup.children;u<m.length;u++){if(a=m[u],(p=(new r.Vector3).copy(a.userData.direction)).applyMatrix4((new r.Matrix4).extractRotation(a.matrixWorld)).normalize(),(d=p.dot(h))<=1e-6)a.visible=!1;else if(a.visible=!0,l=a.getObjectByName("DimensionGroup"))for(var f=0,g=l.children;f<g.length;f++){d=(c=g[f]).userData.direction.dot(h),c.visible=!(d<=0)}}e.renderScene("MeasureGrid",this._scene,i,o,!1),e.renderScene("Outline",this._scene,i,o,!1),e.renderScene("DimensionMeasureGrid",this._scene,i,o,!1)}},n}(e("./cnsthree_base_render").RenderBaseObj);c.prototype._rendererName="RenderMeasureGridObj",t.exports=c},{"../cnsthreeEnums":95,"../cnsthree_helper":98,"../shaders/measureGridDimensionText/measureGridDimensionText":163,"./cnsthree_base_render":79,THREE:"THREE",THREE_MeshLine:"THREE_MeshLine"}],92:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=e("../cnsthreeEnums"),a=function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e._edgeDetectionmaterial=void 0,e._renderTarget=void 0,e._selectedElement=void 0,e._renderOriginalColor=!1,e}return o(n,t),n.prototype.initWithOptions=function(n,i){if(t.prototype.initWithOptions.call(this,n,i),this._enabled=!1,this._selectedElement=n.selectedElement,this._selectedElement){var o,a=new r.Vector3(1,0,0);if(this._renderTarget=i.getRenderer().getByteTarget(2),n.shadeMode===s.ShadeMode.Line?this._renderOriginalColor=!1:this._renderOriginalColor=!0,this._options.isCutOn){var l=i._cutplane.matrixWorld;(o=new r.Matrix4).getInverse(l)}this._edgeDetectionmaterial=new(e("../shaders/renderOutlineObj/edgeDetection"))({uniforms:{u_cutModeOn:{type:"i",value:this._options.isCutOn?1:0},u_edgeDetectionColor:{type:"v3",value:a},u_invertCut:{type:"m4",value:o},u_srcTexture:{type:"t",value:this._renderTarget},u_step:{type:"v2",value:new r.Vector2(1/i.getRenderer()._width,1/i.getRenderer()._height)}}}).getMaterial(),this._addToDispose(this._edgeDetectionmaterial),this._enabled=!0}},n.prototype.reset=function(){t.prototype.reset.call(this)},n.prototype.render=function(e,t,n,i,o,s){if(this._enabled){var a=void 0;if(this._options.isCutOn){var l=e._viewer._cutplane.matrixWorld;(a=new r.Matrix4).getInverse(l)}this._viewer._renderer.clearTarget(this._renderTarget,!0,!0,!0),e.renderScene("face",[this._selectedElement],i,this._renderTarget,!1,{uniforms:{u_cutModeOn:this._options.isCutOn,u_invertCut:a}}),this._edgeDetectionmaterial.depthTest=!0,e.renderScene("face",[this._selectedElement],i,o,!1,{material:this._edgeDetectionmaterial,uniforms:{u_cutModeOn:this._options.isCutOn,u_invertCut:a,u_opacity:1,u_renderOriginal:this._renderOriginalColor}}),this._edgeDetectionmaterial.depthTest=!1,e.renderScene("face",[this._selectedElement],i,o,!1,{material:this._edgeDetectionmaterial,uniforms:{u_cutModeOn:this._options.isCutOn,u_invertCut:a,u_opacity:.2,u_renderOriginal:this._renderOriginalColor}})}},n}(e("./cnsthree_base_render").RenderBaseObj);a.prototype._rendererName="RenderOutlineObj",t.exports=a},{"../cnsthreeEnums":95,"../shaders/renderOutlineObj/edgeDetection":189,"./cnsthree_base_render":79,THREE:"THREE"}],93:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE"),s=function(t){function n(e,n){var i=t.call(this,e,n)||this;return i._handleMotionEventHandler=null,i._material=null,i.needsSwap=!0,i._handleMotionEventHandler=i.handleMotion.bind(i),i.update(e,n),i}return o(n,t),n.prototype.handleMotion=function(e){this._material instanceof r.RawShaderMaterial&&this._material.uniforms&&this._material.uniforms.u_gravity&&(this._material.uniforms.u_gravity.value=e.accelerationIncludingGravity.z)},n.prototype.update=function(e,n){t.prototype.update.call(this,e,n),"HD3"===e.dreamocType?this._createHD3Stuff():"MOBILE"===e.dreamocType?this._createMobileStuff():this._createXL2Stuff()},n.prototype.dispose=function(){t.prototype.dispose.call(this),window.removeEventListener("devicemotion",this._handleMotionEventHandler,!0)},n.prototype.render=function(e,t,n,i,o){var s=e.autoClear;e.autoClear=!1;var a=this._viewer._drawType;this._viewer._drawType="face",this._material instanceof r.MeshBasicMaterial&&(this._material.map=n.texture),this._material instanceof r.RawShaderMaterial&&this._material.uniforms&&this._material.uniforms.u_map&&(this._material.uniforms.u_map.value=n.texture),e.render(this._scene,this._camera,this.renderToScreen?null:t,!0),this._viewer._drawType=a,e.autoClear=s},n.prototype._createHD3Stuff=function(){var e,t,n,i,o,s,a,l,c,p;(e=new r.Scene).name="RenderDreamocObj1",t=new r.OrthographicCamera(0,1920,-200,880,-1,1),n=new r.MeshBasicMaterial({depthTest:!1,map:null,side:r.DoubleSide}),this._addToDispose(n),(i=new r.Geometry).vertices.push(new r.Vector3(0,1080,0)),i.vertices.push(new r.Vector3(960,120,0)),i.vertices.push(new r.Vector3(1920,1080,0)),p=new r.Face3(0,1,2),i.faces.push(p),i.faceVertexUvs[0].push([]),i.faceVertexUvs[0][0].push(new r.Vector2(1,0)),i.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),i.faceVertexUvs[0][0].push(new r.Vector2(0,0)),i.uvsNeedUpdate=!0,this._addToDispose(i),(o=new r.Geometry).vertices.push(new r.Vector3(0,-840,0)),o.vertices.push(new r.Vector3(960,120,0)),o.vertices.push(new r.Vector3(0,1080,0)),p=new r.Face3(0,1,2),o.faces.push(p),o.faceVertexUvs[0].push([]),o.faceVertexUvs[0][0].push(new r.Vector2(1,0)),o.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),o.faceVertexUvs[0][0].push(new r.Vector2(-0,0)),o.uvsNeedUpdate=!0,this._addToDispose(o),(s=new r.Geometry).vertices.push(new r.Vector3(1920,-840,0)),s.vertices.push(new r.Vector3(960,120,0)),s.vertices.push(new r.Vector3(1920,1080,0)),p=new r.Face3(0,1,2),s.faces.push(p),s.faceVertexUvs[0].push([]),s.faceVertexUvs[0][0].push(new r.Vector2(-0,0)),s.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),s.faceVertexUvs[0][0].push(new r.Vector2(1,0)),s.uvsNeedUpdate=!0,this._addToDispose(s),a=new r.Mesh(i,n),l=new r.Mesh(o,n),c=new r.Mesh(s,n),e.add(a),e.add(l),e.add(c),e.add(t),a.userData.drawType="face",l.userData.drawType="face",e.overrideMaterial=n,this._scene=e,this._camera=t,this._material=n},n.prototype._createXL2Stuff=function(){var e,t,n,i,o,s,a,l,c,p;(e=new r.Scene).name="RenderDreamocObj2",t=new r.OrthographicCamera(0,1920,0,1080,-1,1),n=new r.MeshBasicMaterial({depthTest:!1,map:null,side:r.DoubleSide}),this._addToDispose(n),(i=new r.Geometry).vertices.push(new r.Vector3(254,0,0)),i.vertices.push(new r.Vector3(960,706,0)),i.vertices.push(new r.Vector3(1666,0,0)),p=new r.Face3(0,1,2),i.faces.push(p),i.faceVertexUvs[0].push([]),i.faceVertexUvs[0][0].push(new r.Vector2(0,0)),i.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),i.faceVertexUvs[0][0].push(new r.Vector2(1,0)),i.uvsNeedUpdate=!0,this._addToDispose(i),(o=new r.Geometry).vertices.push(new r.Vector3(254,0,0)),o.vertices.push(new r.Vector3(960,706,0)),o.vertices.push(new r.Vector3(254,1412,0)),p=new r.Face3(0,1,2),o.faces.push(p),o.faceVertexUvs[0].push([]),o.faceVertexUvs[0][0].push(new r.Vector2(1,0)),o.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),o.faceVertexUvs[0][0].push(new r.Vector2(-0,0)),o.uvsNeedUpdate=!0,this._addToDispose(o),(s=new r.Geometry).vertices.push(new r.Vector3(1666,0,0)),s.vertices.push(new r.Vector3(960,706,0)),s.vertices.push(new r.Vector3(1666,1412,0)),p=new r.Face3(0,1,2),s.faces.push(p),s.faceVertexUvs[0].push([]),s.faceVertexUvs[0][0].push(new r.Vector2(-0,0)),s.faceVertexUvs[0][0].push(new r.Vector2(.5,1)),s.faceVertexUvs[0][0].push(new r.Vector2(1,0)),s.uvsNeedUpdate=!0,this._addToDispose(s),a=new r.Mesh(i,n),l=new r.Mesh(o,n),c=new r.Mesh(s,n),e.add(a),e.add(l),e.add(c),e.add(t),a.userData.drawType="face",l.userData.drawType="face",e.overrideMaterial=n,this._scene=e,this._camera=t,this._material=n},n.prototype._createMobileStuff=function(){var t,n,i,o,s,a,l,c,p,d,h,u;window.addEventListener("devicemotion",this._handleMotionEventHandler,!0),t=new r.Scene;var m=this._height,f=this._width,g=1,_=1;f<m?_=f/m:g=m/f,n=new r.OrthographicCamera(-1,1,-1,1,-1,1),i=(new(e("../shaders/renderDreamocObj/dreamoc.js"))).getMaterial(),this._addToDispose(i);var v=-1*g,b=0*g,w=1*g,y=-1*_,x=0*_,C=1*_;(o=new r.Geometry).vertices.push(new r.Vector3(v,y,0)),o.vertices.push(new r.Vector3(b,x,0)),o.vertices.push(new r.Vector3(w,y,0)),u=new r.Face3(0,1,2),o.faces.push(u),o.faceVertexUvs[0].push([]),o.faceVertexUvs[0][0].push(new r.Vector2(1,1)),o.faceVertexUvs[0][0].push(new r.Vector2(.5,0)),o.faceVertexUvs[0][0].push(new r.Vector2(0,1)),o.uvsNeedUpdate=!0,this._addToDispose(o),(s=new r.Geometry).vertices.push(new r.Vector3(w,C,0)),s.vertices.push(new r.Vector3(b,x,0)),s.vertices.push(new r.Vector3(v,C,0)),u=new r.Face3(0,1,2),s.faces.push(u),s.faceVertexUvs[0].push([]),s.faceVertexUvs[0][0].push(new r.Vector2(1,1)),s.faceVertexUvs[0][0].push(new r.Vector2(.5,0)),s.faceVertexUvs[0][0].push(new r.Vector2(0,1)),s.uvsNeedUpdate=!0,this._addToDispose(s),(a=new r.Geometry).vertices.push(new r.Vector3(v,C,0)),a.vertices.push(new r.Vector3(b,x,0)),a.vertices.push(new r.Vector3(v,y,0)),u=new r.Face3(0,1,2),a.faces.push(u),a.faceVertexUvs[0].push([]),a.faceVertexUvs[0][0].push(new r.Vector2(1,1)),a.faceVertexUvs[0][0].push(new r.Vector2(.5,0)),a.faceVertexUvs[0][0].push(new r.Vector2(0,1)),a.uvsNeedUpdate=!0,this._addToDispose(a),(l=new r.Geometry).vertices.push(new r.Vector3(w,y,0)),l.vertices.push(new r.Vector3(b,x,0)),l.vertices.push(new r.Vector3(w,C,0)),u=new r.Face3(0,1,2),l.faces.push(u),l.faceVertexUvs[0].push([]),l.faceVertexUvs[0][0].push(new r.Vector2(1,1)),l.faceVertexUvs[0][0].push(new r.Vector2(.5,0)),l.faceVertexUvs[0][0].push(new r.Vector2(0,1)),l.uvsNeedUpdate=!0,this._addToDispose(a),c=new r.Mesh(o,i),p=new r.Mesh(s,i),d=new r.Mesh(a,i),h=new r.Mesh(l,i),t.add(c),t.add(p),t.add(d),t.add(h),t.add(n),c.userData.drawType="face",d.userData.drawType="face",t.overrideMaterial=i,this._scene=t,this._camera=n,this._material=i},n}(e("./base_pass").BasePass);n.default=s},{"../shaders/renderDreamocObj/dreamoc.js":181,"./base_pass":76,THREE:"THREE"}],94:[function(e,t,n){"use strict";var i=jQuery,o=window.THREE||e("THREE");window.THREE=o,window.Promise=window.Promise||e("es6-promise").Promise;var r,s,a,l,c=!1,p=e("./cnsthree_camera_control").CameraMover,d=e("./cnsthree_camera_control").CameraMoverControl,h=e("psol.translation"),u=e("psol.math"),m=e("./loaders/pjvLoader/pjvLoader").PJVLoader,f=(e("./loaders/pjvLoader/assemblyLoader").AssemblyLoader,e("./cnsthree_render")),g=e("base/js/helpers"),_=e("./cnsthree_loader"),v=e("base/js/logger"),b=e("./cnsthreeEnums");function w(e){this._webviewer3d=e.webviewer3d,this._isStandalone=e.isStandalone,this._CNSrenderer=void 0,this._renderer=null,this._orthographicCamera=null,this._perspectiveCamera=null,this._camera=null,this._animationRunning=!1,this._scene_helper=null,this._meshes_root=null,this._meshes_faces=null,this._drawType="face",this._needsredraw=!0,this._transformControl=null,this._debugModeChanged=!0,this._meshAnimations=[],this._mappedVarsArray=[],this._dialogIsOpen=!1,this._cutModeChanged=!1,this._cameraFOV=35,this._contentDIV=null,this.isometricMode=0,this._cameraMover=null,this._controls=null,this._sphereRadius=100,this._animations=[],this._currentTimeStamp=0,this.rotateAnimationStep=new o.Vector3,this._cubeTextureLoadedDef=i.Deferred(),this._stopRequestAnimationFrame=!1,this._exploded=!1,this._axis={up:"",front:""},this._clickCallback={},this._picking={octree:void 0,raycaster:void 0,intersected:void 0,savemat:void 0},this._mappedVars=!1,this._componentsScene=null,this._controllers=[],this._teleportController=void 0,this._sceneController=void 0,this._hotspotController=void 0,this._hotspotIDcounter=0,this._hotspotList=[],this._stats=void 0,this._debugPanel=void 0,this._movementMode=b.MovementMode.Camera,this._options={shadeMode:b.ShadeMode.ShadedEdges,anaglyph:!1,compareMode:!1,compareFile0Color:"red",compareFile1Color:"blue",dreamocHD:!1,bluebox:!1,cameraBackground:!1,logoTexture:"",octree:!1,cameraMode:b.CameraMode.Perspective,environmentOptions:{skyboxes:{path:"",name:"",id:"",type:"jpg",lastActive:""},floors:{path:"",name:"",id:"",type:"jpg",lastActive:""}},defaultFaceColor:new o.Vector3(.686,.686,.686),isCutOn:!1,cutPlaneMatrix:new o.Matrix4,helperOptions:{useHelper:!1,gridOn:!1,modelGridOn:!1,axisOn:!1,modelAxisOn:!1,boundingBox:null},measureGrid:{measuringGridOn:!1,near:0,far:0,colors:{dimensions:"#000000",outline:"#0000ff",grid:"#b3b3b3"},parentScene:null,unit:"",measuringGridBoxModel:new o.Box3},colorLineVisible:"#ff000000",colorLineHidden:"#32000000",colorThreadVisible:"#ff114188",colorThreadHidden:"#32114188",colorMappedVarDimension:"#3333cc",colorDimension:"#000000",showCustomDimensions:!0,enableEditableDimensions:!0,view3dAlphaTransparency:30,outline:!1,selectedElement:void 0,showLabels:!1,sao:!1,vr:!1,pseudoVR:!1,enableVR:!0,viewer:this,renderCps:!1,hotspotMode:!1,showHotSpotsInitially:!0,showHotSpots:!1,showHotSpotsOld:!1,teleportMode:!1,showPartNameTooltip:!1,enableSilhuette:!0,material:{preset:"psol_v9",uniformsChanged:!1,uniforms:{u_metallic:.5,u_roughness:.36},lighting:{ambientIntensity:.33,dirLightIntensity:.6,gammaOutput:!0,textureEncoding:o.GammaEncoding}}},this.signals=this.createSignals(),this._LEAP=void 0,this._dimensionNames=["front","back","right","left","top","bottom"],this._defaultMaterial="psol_v9",this._materialList={psol_v9:{u_metallic:.5,u_roughness:.36},pcloud:{u_metallic:0,u_roughness:.45}},this._lightingList={psol_v9:{ambientIntensity:.33,dirLightIntensity:.6,gammaOutput:!0,textureEncoding:o.GammaEncoding},pcloud:{ambientIntensity:.33,dirLightIntensity:1,gammaOutput:!0,textureEncoding:o.GammaEncoding}};var t=this,n=o.TextureLoader.prototype.load;Object.defineProperty(o.TextureLoader.prototype,"load",{value:function(e,i,o,r){var s=i;return i=i?function(e){s(e),t.needsredraw_flag()}:function(){t.needsredraw_flag()},n.call(this,e,i,o,r)}})}w.prototype._createTeleportController=function(t){this._teleportController||(s=e("./controllers/cnsthree_teleportController").default,this._teleportController=new s(t),this._registerController(this._teleportController))},w.prototype.enableTeleportMode=function(e){this._changeOption("teleportMode",e),!this._teleportController&&this._options.teleportMode&&this._createTeleportController({viewer3D:this,camera:this._camera,componentsToIntersect:this._createFaceList()}),this._teleportController&&(this._teleportController.setEnabled(this._options.teleportMode),this._updateTeleportController())},w.prototype._updateTeleportController=function(){if(this._teleportController){var e={viewer3D:this,camera:this._camera,componentsToIntersect:this._createFaceList()};this._teleportController.update(e),this._registerController(this._teleportController)}},w.prototype.setTeleportMode=function(e){this._changeOption("teleportMode",e),this._teleportController&&this._teleportController.setEnabled(this._options.teleportMode)},w.prototype._createSceneController=function(){if(!this._sceneController){a=e("./controllers/cnsthree_sceneController").SceneController;var t={viewer3D:this,scene:this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces,camera:this._camera,screen:{x:i(this._renderer.domElement).offset().left,y:i(this._renderer.domElement).offset().top,width:this._renderer.domElement.width,height:this._renderer.domElement.height}};this._sceneController=new a(t),this._registerController(this._sceneController)}},w.prototype._updateSceneController=function(){if(this._sceneController){var e={viewer3D:this,scene:this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces,camera:this._camera,screen:{x:i(this._renderer.domElement).offset().left,y:i(this._renderer.domElement).offset().top,width:this._renderer.domElement.width,height:this._renderer.domElement.height}};this._sceneController.update(e),this._registerController(this._sceneController)}},w.prototype._createCameraController=function(e){this._controls||(this._controls=new d(e),this._registerController(this._controls))},w.prototype._udpateCameraController=function(){this._controls&&this._registerController(this._controls)},w.prototype._createTooltipController=function(t){this._tooltipController||(t=i.extend(!0,{viewer3D:this,container:this._webviewer3d.getTooltipContainer()},t),l=e("./controllers/cnsthree_showNBController").default,this._tooltipController=new l(t),this._registerController(this._tooltipController))},w.prototype._updateTooltipController=function(){if(this._tooltipController){var e={viewer3D:this,container:this._webviewer3d.getTooltipContainer()};this._tooltipController.update(e),this._registerController(this._tooltipController)}},w.prototype.enableTooltipController=function(){this._tooltipController||this._createTooltipController(),this._tooltipController.enable()},w.prototype.disableTooltipController=function(){this._tooltipController&&this._tooltipController.disable()},w.prototype.canShowHotSpots=function(){return!!this._hotspotList.length},w.prototype.getHotSpotScalefactor=function(){var e=this._cameraMover.distance/this._sphereRadius/2;return 0!==e&&e!==1/0||(e=1),e},w.prototype.setHotSpotsMode=function(e){this._changeOption("hotspotMode",e||!1),e?this._enableHotSpotsMode():this._disableHotSpotsMode()},w.prototype.getHotSpotsMode=function(){return this._options.hotspotMode},w.prototype.getShowHotSpots=function(){return this._options.showHotSpots},w.prototype.setShowHotSpots=function(e){this._changeOption("showHotSpots",e)},w.prototype._setHotSpotListFromController=function(){this._hotspotController&&(this._hotspotList=this._hotspotController.getHotSpotList(),this._CNSrenderer&&this._CNSrenderer.updateHotspotlist(this._hotspotList),this.needsredraw_flag())},w.prototype.slerpToHotSpot=function(e,t,n,r,s){var a;if(a=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces,(!e||i.isEmptyObject(e))&&r){var l=new o.Matrix4,c=new o.Vector3(s.x,s.y,s.z),p=(new o.Matrix4).extractRotation(a.matrix),d=a.position;l.lookAt(c,d,this._camera.up),l.getInverse(l),p.getInverse(p),l.multiply(p),e=this.getZoomObject(this._meshes_faces,l)}e&&!i.isEmptyObject(e)&&this.animateTo(e,n),t&&this._addMeshAnimation(a,a.matrix,t,1e3*n)},w.prototype.animateTo=function(e,t){e&&!i.isEmptyObject(e)&&(this.animationRotate3DPreview(!1),this._controls.animateTo(e,t))},w.prototype.rotateToHotSpot=function(e,t,n){this._hotspotController&&(isNaN(e)?this._hotspotController.slerpToHotSpotByHotSpot(e,!0,t,n):this._hotspotController.slerpToHotSpotByHotSpotID(e,!0,t,n))},w.prototype._getMeasuresmentsForHotSpotController=function(e){e=e||200;var t=this._CNSrenderer&&this._CNSrenderer._width/3||200,n=this._CNSrenderer&&this._CNSrenderer._height/3||200;return{width:t=Math.max(t,e),height:n=Math.max(n,e)}},w.prototype._updateHotSpotController=function(){if(this._hotspotController){var e=this._getMeasuresmentsForHotSpotController(),t={contentRect:{width:this._contentDIV.clientWidth,height:this._contentDIV.clientHeight,x:i(this._contentDIV).offset().left,y:i(this._contentDIV).offset().top},camera:this._camera,componentsToIntersect:this._createFaceList(),size:{width:e.width,height:e.height},scene:this._meshes_root,onLinkClickedCallback:this.onLinkClickedCallback,viewer3D:this};this._hotspotController.update(t)}},w.prototype.onLinkClickedCallback=function(e){},w.prototype._createHotSpotController=function(t){r=e("./controllers/cnsthree_hotspotController").default;var n=this._getMeasuresmentsForHotSpotController();t=i.extend(!0,t,{contentRect:{width:this._contentDIV.clientWidth,height:this._contentDIV.clientHeight,x:i(this._contentDIV).offset().left,y:i(this._contentDIV).offset().top},camera:this._camera,componentsToIntersect:this._createFaceList(),size:{width:n.width,height:n.height},scene:this._meshes_root,onLinkClickedCallback:this.onLinkClickedCallback,viewer3D:this}),this._hotspotController=new r(t),this._registerController(this._hotspotController);var o=this;this._hotspotController.onAddHotSpot=function(e){return o._webviewer3d.onAddHotSpot(e)},this._hotspotController.onEditHotSpot=function(e){return o._webviewer3d.onEditHotSpot(e)},this._hotspotController.onDeleteHotSpot=function(e){return o._webviewer3d.onDeleteHotSpot(e)},this._hotspotController.getHotSpots=function(){return o._webviewer3d.getHotSpots()},this._hotspotController.getHotSpotsConfig=function(){return o._webviewer3d.getHotSpotsConfig()},this._hotspotController.onHotSpotDialogOpened=function(){o._dialogIsOpen=!0},this._hotspotController.onHotSpotDialogClosed=function(){o._dialogIsOpen=!1},this._hotspotController.getHotSpotScalefactor=function(){return o.getHotSpotScalefactor()},this._hotspotController.scrollEventOccured=function(e){o._controls.mousewheel(e)},this._hotspotController.updatedList=function(){o._setHotSpotListFromController(),o._webviewer3d._showHotSpotsIfAvailable()}},w.prototype._enableHotSpotsMode=function(){this._hotspotController||this._createHotSpotController(),this._updateHotSpotController(),this._hotspotController.enable(),this.needsredraw_flag()},w.prototype._disableHotSpotsMode=function(){this._hotspotController&&this._hotspotController.disable(),this.needsredraw_flag()},w.prototype.enableHotSpotsMode=function(e){this.setHotSpotsMode(e)},w.prototype._enableControls=function(){this._controls&&this._controls.enable(),this._sceneController&&this._sceneController.enable()},w.prototype._disableControls=function(){this._controls&&this._controls.disable(),this._sceneController&&this._sceneController.disable()},w.prototype.getUnitBase=function(e){var t;t=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces;var n=void 0!==e?e:1;return t&&t.traverse(function(e){e.userData&&e.userData.unitBase&&(n=e.userData.unitBase)}),n},w.prototype.getUnitBaseAsString=function(){var t,n=e("./units"),i=this.getUnitBase(0);for(t in n)if(parseFloat(t)===parseFloat(i))return n[t];return""},w.prototype.rotateSingleMesh=function(e,t){var n=this._meshes_root.getObjectById(e);if(n){var i=new o.Euler;i.setFromRotationMatrix(t),n.rotation.set(i.x,i.y,i.z)}this.needsredraw_flag()},w.prototype.setMatrixSingleMesh=function(e,t){var n=this._meshes_root.getObjectById(e);n&&(n.rotation.set(0,0,0),n.position.set(0,0,0),n.matrix.identity(),n.applyMatrix(t)),this.needsredraw_flag()},w.prototype._addMeshAnimation=function(e,t,n,i,r){var s={mesh:e,startMatrix:(new o.Matrix4).copy(t),endMatrix:(new o.Matrix4).copy(n),duration:i,begin:Date.now(),finishCallback:r||void 0};this._meshAnimations.push(s)},w.prototype._animateMeshes=function(){if(this._meshAnimations&&this._meshAnimations.length){for(var e=0;e<this._meshAnimations.length;e++){var t=Date.now(),n=this._meshAnimations[e],i=(t-n.begin)/n.duration;if(i>1){var r=this._meshAnimations.splice(e,1)[0];r.finishCallback instanceof Function&&r.finishCallback(),e--,i=1}var s=n.mesh;s.matrixAutoUpdate=!1;var a=(new o.Quaternion).setFromRotationMatrix(n.startMatrix),l=(new o.Quaternion).setFromRotationMatrix(n.endMatrix),c=new o.Quaternion;o.Quaternion.slerp(a,l,c,i),s.matrix.extractRotation((new o.Matrix4).makeRotationFromQuaternion(c))}this.needsredraw_flag()}},w.prototype.rotateMesh=function(e,t,n,i,r){var s;if(t=void 0===t||t,n=n||0,i=i||!1,s=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces){s.matrixAutoUpdate=!1;var a,l=(new o.Matrix4).copy(s.matrix),c=new o.Matrix4;if(e instanceof o.Matrix4)c.extractRotation(e);else{var p=new o.Euler(e.x,e.y,e.z,e.order||"ZYX");c.makeRotationFromEuler(p)}a=t?c:i?c.multiply(l):c.premultiply(l),this._addMeshAnimation(s,l,a,n,r),this.needsredraw_flag()}},w.prototype.getMeshRotation=function(){var e;return(e=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces)?(new o.Euler).setFromRotationMatrix(e.matrix):{}},w.prototype.toggleRotationMode=function(){this._movementMode=this._movementMode===b.MovementMode.Camera?b.MovementMode.Scene:b.MovementMode.Camera,this._movementMode===b.MovementMode.Scene?(this._sceneController||this._createSceneController(),this._updateSceneController(),this._sceneController.enable(),this._controls.disable()):this._movementMode===b.MovementMode.Camera&&(this._controls||this._createCameraController(),this._udpateCameraController(),this._controls.enable(),this._unregisterController(this._sceneController))},w.prototype.setCameraMode=function(e){this._changeOption("cameraMode",e)&&(this._createCamera(),this.needsredraw_flag())},w.prototype.getCameraMode=function(){return this._options.cameraMode},w.prototype.getObjectOnMousePosition=function(e,t){var n=new o.Raycaster,i=this.getMousePositionOnCanvas(e,t);n.setFromCamera(i,this._camera);var r=n.intersectObjects(this._createFaceList());if(r.length)for(var s=0;s<r.length;s++)if(r[s].distance>=this._camera.near)return r[s];return null},w.prototype._createFaceList=function(){var e=[];return this._meshes_faces.traverse(function(t){"face"===t.userData.drawType&&e.push(t)}),e},w.prototype.getMousePositionOnCanvas=function(e,t){var n={x:0,y:0},o=i(this._contentDIV).offset();return n.x=(e-o.left)/this._contentDIV.clientWidth*2-1,n.y=-(t-o.top)/this._contentDIV.clientHeight*2+1,n},w.prototype._octreeFunc=function(e){if(this._picking.octree&&this._picking.raycaster){var t,n,r={x:0,y:0},s=i(this._contentDIV).offset();if(r.x=(e.clientX-s.left)/this._contentDIV.clientWidth*2-1,r.y=-(e.clientY-s.top)/this._contentDIV.clientHeight*2+1,this._picking.raycaster.setFromCamera(r,this._camera),t=this._picking.octree.search(this._picking.raycaster.ray.origin,this._picking.raycaster.ray.far,!0,this._picking.raycaster.ray.direction),(n=this._picking.raycaster.intersectOctreeObjects(t)).length>0){for(var a={},l=0;l<n.length;l++)(a.distance||1/0)>n[l].distance&&(a=n[l]);this._picking.intersected!==a.object&&(this._picking.intersected&&(this._picking.intersected.material=this._picking.savemat),this._picking.intersected=a.object,this._picking.savemat=this._picking.intersected.material,this._picking.intersected.material=new o.MeshBasicMaterial,this.needsredraw_flag())}else this._picking.intersected&&(this._picking.intersected.material=this._picking.savemat,this._picking.intersected=null,this.needsredraw_flag())}},w.prototype._createOctree=function(){e("THREE_Octree"),this._picking={octree:new o.Octree({undeferred:!1,depthMax:1/0,objectsThreshold:8,overlapPct:.15}),raycaster:new o.Raycaster,intersected:void 0}},w.prototype._clearOctree=function(){if(this._picking.octree)for(var e=this._picking.octree.objects.length,t=0;t<e;t++)this._picking.octree.remove(this._picking.octree.objects[0])},w.prototype._modifyOctree=function(e){this._picking.octree&&this._picking.octree.add(e)},w.prototype.createSignals=function(){return{mode:"translate",getContextMenuIntersectionTypes:function(){return[]},getLeftClickIntersectionTypes:function(e){var t=[];return e._options.compareMode||e._mappedVars&&t.push("dimensionstext"),t.push("face"),t},onMouseMove:function(){},onMouseWheel:function(){},onLeftClickObject:function(e,t,n,i,o){e._transformControl&&(e._transformControl.visible=!1);var r,s=!1;if(o&&(s=void 0!==(r=o.object).userData.mappedVar),e._options.enableEditableDimensions&&s){if(r.userData.mappedVar.enabled){var a={mappedVar:r.userData.mappedVar.name,position:{x:n,y:i}};e.onMappedVarClicked(a)}}else if(e._options.compareMode){e._transformControl||e._createTransformControls();var l=e._transformControl.object;for(e._transformControl.detach();r;){if(!0===r.selectable){e._transformControl.attach(r),e._transformControl.visible=!0,l===r&&"translate"===this.mode?this.mode="rotate":this.mode="translate",e._transformControl.setMode(this.mode);break}r=r.parent}}else e._options.outline&&e.setSelectedObject(r);return!0},onDoubleLeftClickObject:function(e,t,n,i,r){var s;if(r){var a=r.object;a instanceof o.Mesh&&"face"===a.userData.drawType&&(s=a)}return e.zoomObject(s),!0},onContextMenuObject:function(){return!0}}},w.prototype.getSelectedElement=function(){return this._options.selectedElement},w.prototype.setSelectedObject=function(e){this._removeCurrentSelection(),e instanceof o.Mesh&&"face"===e.userData.drawType&&this.setParam("selectedElement",e)},w.prototype._removeCurrentSelection=function(){this.setParam("selectedElement",void 0)},w.prototype.setParam=function(e,t){return this._changeOption(e,t)},w.prototype._changeOption=function(e,t){var n=!1;if(e instanceof Array&&t instanceof Array&&e.length===t.length){var i;for(i=0;i<e.length;i++)g.compareObject(this._options[e[i]],t[i])||(this._options[e[i]]=t[i],n=!0);return n&&this.optionsChanged(),n}if((void 0===e||null===e)&&t.constructor==={}.constructor){var o;for(o in t)t.hasOwnProperty(o)&&(g.compareObject(this._options[o],t[o])||(this._options[o]=t[o],n=!0));return n&&this.optionsChanged(),n}return g.compareObject(this._options[e],t)||(this._options[e]=t,this.optionsChanged(),n=!0),n},w.prototype.optionsChanged=function(){void 0!==this._CNSrenderer&&(this._CNSrenderer.modified(),void 0!==this._controls&&this._controls.optionsChanged(this._options)),this.needsredraw_flag()},w.prototype._wireCNSRendererDebug=function(e){this._CNSrenderer&&this._CNSrenderer.setDebug(e)},w.prototype._setDebugPanelRenderInfo=function(){this._CNSrenderer&&this._CNSrenderer.getRenderInfo().done(function(e){var t=this._renderer.info;this._debugPanel.set({geometries:t.memory.geometries,textures:t.memory.textures,programs:t.programs.length,calls:e.calls,faces:e.faces,points:e.points,vertices:e.vertices})}.bind(this))},w.prototype._changeObjTextureEncoding=function(e,t){if(e){if(Array.isArray(e.material))for(var n=0;n<e.material.length;++n){var i=e.material[n];this._changeTextureEncoding(i[n],t)}else e.material&&null!==e.material&&this._changeTextureEncoding(e.material,t);e.userData&&e.userData.customUniforms&&e.userData.customUniforms.u_envMap&&(e.userData.customUniforms.u_envMap.encoding=t)}},w.prototype._changeTextureEncoding=function(e,t){e&&null!==e&&(e.map&&(e.map.encoding=t),e.emissiveMap&&(e.emissiveMap.encoding=t),e.envMap&&(e.envMap.encoding=t),(e.map||e.emissiveMap||e.envMap)&&(e.needsUpdate=!0,this.needsredraw_flag()))},w.prototype._destroyMaterial=function(e){if(e)if(Array.isArray(e))for(;e.length>0;){var t=e.pop();this._destroyMaterial(t)}else{if(e instanceof o.ShaderMaterial){if(e.uniforms)for(var n in e.uniforms)e.uniforms.hasOwnProperty(n)&&e.uniforms[n]&&e.uniforms[n].value&&(e.uniforms[n].value.dispose&&e.uniforms[n].value.dispose(),e.uniforms[n].value=null,delete e.uniforms[n])}else e.map&&(e.map.dispose(),e.map=null),e.lightMap&&(e.lightMap.dispose(),e.lightMap=null),e.bumpMap&&(e.bumpMap.dispose(),e.bumpMap=null),e.normalMap&&(e.normalMap.dispose(),e.normalMap=null),e.specularMap&&(e.specularMap.dispose(),e.specularMap=null),e.envMap&&(e.envMap.dispose(),e.envMap=null);e.dispose(),e=null}},w.prototype._setupDebugPanel=function(){var t=e("settings-panel");if(this._debugPanel)i(".settings-panel").show(0);else{var n=this._options.material.preset||this._defaultMaterial;this._options.material.uniforms=this._options.material.uniforms||i.extend(!0,{},this._materialList[n]);var r=[];for(var s in this._materialList)this._materialList.hasOwnProperty(s)&&r.push(s);var a=1/this._sphereRadius*.5,l=.005*a,c=!1,p=this,d=function(e,t){c=!0,p._debugPanel&&p._debugPanel.set(e,{hidden:t})},h="Gamma";p._options.material.lighting.textureEncoding===o.sRGBEncoding?h="sRGB":p._options.material.lighting.textureEncoding===o.LinearEncoding&&(h="Linear");var u=function(e){d("texture_encoding",e),d("gamma_output",e),d("exposure",e),d("ambient_intensity",e),d("dirlight_intensity",e)},m=function(e){d("u_metallic",e),d("u_roughness",e),d("base_color",e)},f=function(e){d("saoType",e),d("saoBias",e),d("saoIntensity",e),d("saoScale",e),d("saoKernelRadius",e),d("saoMinResolution",e),d("blur",e),d("saoBlurRadius",e),d("saoBlurStdDev",e),d("saoBlurDepthCutoff",e)},g=function(e){d("geometries",e),d("textures",e),d("programs",e),d("calls",e),d("faces",e),d("points",e),d("vertices",e)};this._debugPanel=t([{type:"select",id:"preset",label:"Preset",options:r,value:n,input:function(e){var t=p._materialList[e],n=p._lightingList[e];for(var i in t)t.hasOwnProperty(i)&&(p._options.material.uniforms[i]=t[i]);for(var r in n)n.hasOwnProperty(r)&&(p._options.material.lighting[r]=n[r]);var s="Gamma";p._options.material.lighting.textureEncoding===o.sRGBEncoding?s="sRGB":p._options.material.lighting.textureEncoding===o.LinearEncoding&&(s="Linear"),p._debugPanel.set("u_metallic",p._options.material.uniforms.u_metallic),p._debugPanel.set("u_roughness",p._options.material.uniforms.u_roughness),p._debugPanel.set("ambient_intensity",p._options.material.lighting.ambientIntensity),p._debugPanel.set("dirlight_intensity",p._options.material.lighting.dirLightIntensity),p._debugPanel.set("texture_encoding",s),p._debugPanel.set("gamma_output",p._options.material.lighting.gammaOutput?"On":"Off")}},{type:"switch",id:"switch",label:!1,options:["Lighting","Material","Sao","Info"],style:"padding-bottom: 1.5em; padding-top: 2em",value:"Lighting",change:function(e){u(!0),m(!0),f(!0),g(!0),"Lighting"===e&&u(!1),"Material"===e&&m(!1),"Sao"===e&&f(!1),"Info"===e&&g(!1)}},{type:"select",id:"texture_encoding",label:"TextureEncoding",options:["Gamma","sRGB","Linear"],value:h,change:function(e){var t=o.GammaEncoding;"sRGB"===e?t=o.sRGBEncoding:"Linear"===e&&(t=o.LinearEncoding),p._CNSrenderer.renderEnvironment&&p._CNSrenderer.renderEnvironment._scene&&null!==p._CNSrenderer.renderEnvironment._scene&&p._CNSrenderer.renderEnvironment._scene.traverse(function(e){e instanceof o.Mesh&&p._changeObjTextureEncoding(e,t)}),p._componentsScene.traverse(function(e){e instanceof o.Mesh&&p._changeObjTextureEncoding(e,t)})}},{type:"select",id:"gamma_output",label:"GammaOutput",options:["Off","On"],value:p._renderer.gammaOutput?"On":"Off",change:function(e){"On"===e?p._renderer.gammaOutput=!0:"Off"===e&&(p._renderer.gammaOutput=!1),p._CNSrenderer.renderEnvironment&&null!==p._CNSrenderer.renderEnvironment&&p._CNSrenderer.renderEnvironment._scene&&null!==p._CNSrenderer.renderEnvironment._scene&&p._CNSrenderer.renderEnvironment._scene.traverse(function(e){if(e instanceof o.Mesh)if(Array.isArray(e.material))for(var t=0;t<e.material.length;++t)e.material[t].needsUpdate=!0;else e.material.needsUpdate=!0}),p._componentsScene.traverse(function(e){e instanceof o.Mesh&&(e.material.needsUpdate=!0)}),p.needsredraw_flag()}},{type:"range",id:"exposure",label:"Exposure",min:0,max:2,step:.01,value:1,change:function(e){p._renderer.toneMappingExposure=e,p.needsredraw_flag()}},{type:"range",id:"ambient_intensity",label:"AmbientIntensity",min:0,max:2,step:.01,value:this._options.material.lighting.ambientIntensity,change:function(e){p._camera.traverse(function(t){t instanceof o.AmbientLight&&(t.intensity=e)}),p.needsredraw_flag()}},{type:"range",id:"dirlight_intensity",label:"DirLightIntensity",min:0,max:2,step:.01,value:this._options.material.lighting.dirLightIntensity,change:function(e){p._camera.traverse(function(t){t instanceof o.DirectionalLight&&(t.intensity=e)}),p.needsredraw_flag()}},{type:"range",id:"u_metallic",label:"Metallness",min:0,max:1,step:.01,value:p._options.material.uniforms.u_metallic,change:function(e){p._options.material.uniforms.u_metallic=e,p._options.material.uniformsChanged=!0,p.needsredraw_flag()}},{type:"range",id:"u_roughness",label:"Roughness",min:0,max:1,step:.01,value:p._options.material.uniforms.u_roughness,change:function(e){p._options.material.uniforms.u_roughness=e,p._options.material.uniformsChanged=!0,p.needsredraw_flag()}},{type:"color",id:"base_color",label:"BaseColor",format:"rgb",value:"rgb(175,175,175)",input:function(e){if(c)c=!1;else{var t=new o.Color(e);p._options.material.uniforms.u_color=new o.Vector3(t.r,t.g,t.b),p._options.material.uniformsChanged=!0,p.needsredraw_flag()}}},{type:"select",id:"saoType",label:"SaoType",options:["Beauty+SAO","Beauty","SAO","Depth","Normal"],value:"Beauty+SAO",change:function(e){if(window.saoPass){var t={Beauty:o.SAOPass.OUTPUT.Beauty,"Beauty+SAO":o.SAOPass.OUTPUT.Default,SAO:o.SAOPass.OUTPUT.SAO,Depth:o.SAOPass.OUTPUT.Depth,Normal:o.SAOPass.OUTPUT.Normal};window.saoPass.params.output=t[e]}}},{type:"range",id:"saoBias",label:"saoBias",min:50*-l,max:50*l,default:l,step:l/50>.001?l/50:.001,change:function(e){window.saoPass&&(window.saoPass.params.saoBias=e),p.needsredraw_flag()}},{type:"range",id:"saoIntensity",label:"saoIntensity",min:0,default:a,max:50*a,step:a/50>.001?a/50:.001,change:function(e){window.saoPass&&(window.saoPass.params.saoIntensity=e),p.needsredraw_flag()}},{type:"range",id:"saoScale",label:"saoScale",min:0,max:2,default:1.35,step:.0025,change:function(e){window.saoPass&&(window.saoPass.params.saoScale=e),p.needsredraw_flag()}},{type:"range",id:"saoKernelRadius",label:"saoKernelRadius",min:1,max:500,default:30,step:1,change:function(e){window.saoPass&&(window.saoPass.params.saoKernelRadius=e),p.needsredraw_flag()}},{type:"range",id:"saoMinResolution",label:"saoMinResolution",min:0,max:.05,default:0,step:.001,change:function(e){window.saoPass&&(window.saoPass.params.saoMinResolution=e),p.needsredraw_flag()}},{type:"select",id:"blur",label:"Blur",value:!0,options:["On","Off"],change:function(e){window.saoPass&&(window.saoPass.params.saoBlur="On"===e),p.needsredraw_flag()}},{type:"range",id:"saoBlurRadius",label:"saoBlurRadius",min:0,max:200,default:8,step:1,change:function(e){window.saoPass&&(window.saoPass.params.saoBlurRadius=e),p.needsredraw_flag()}},{type:"range",id:"saoBlurStdDev",label:"saoBlurStdDev",min:.5,max:150,default:4,step:.5,change:function(e){window.saoPass&&(window.saoPass.params.saoBlurStdDev=e),p.needsredraw_flag()}},{type:"range",id:"saoBlurDepthCutoff",label:"saoBlurDepthCutoff",min:0,max:1,default:.01,step:.01,change:function(e){window.saoPass&&(window.saoPass.params.saoBlurDepthCutoff=e),p.needsredraw_flag()}},{type:"text",id:"geometries",label:"Geometries",value:"-----",disabled:!0},{type:"text",id:"textures",label:"Textures",value:"-----",disabled:!0},{type:"text",id:"programs",label:"Programs",value:"-----",disabled:!0},{type:"text",id:"calls",label:"Calls",value:"-----",disabled:!0},{type:"text",id:"faces",label:"Faces",value:"-----",disabled:!0},{type:"text",id:"points",label:"Points",value:"-----",disabled:!0},{type:"text",id:"vertices",label:"Vertices",value:"-----",disabled:!0}],{title:"Debug settings",style:"position: absolute; right: 0; z-index: 1; background-color:rgba(0.1, 0.1, 0.1, 0.8); width: 25%",collapsible:!0,labelWidth:"10em",css:".settings-panel-label{max-width: 10em; word-wrap: break-word}",theme:e("settings-panel-theme-dragon")})}},w.prototype._hideDebugPanel=function(){i(".settings-panel").hide(0)},w.prototype.setCompareMode=function(e){this._changeOption("compareMode",e)},w.prototype.setCut=function(e){e&&(this._options.showHotSpotsOld=this._options.showHotSpots),this._changeOption("isCutOn",e)&&(this.cutModeChanged(this.getCut()),this._cutModeChanged=!0)},w.prototype.cutModeChanged=function(){},w.prototype.getCut=function(){return this._options.isCutOn},w.prototype.setCPRenderer=function(e){this._changeOption("renderCps",e)},w.prototype._setHelperOptions=function(){var e,t=this._options.helperOptions.gridOn||this._options.helperOptions.modelGridOn||this._options.helperOptions.axisOn||this._options.helperOptions.modelAxisOn;if(t){var n=this._meshes_faces.getObjectByName("Components");if(n){var i=n.matrixAutoUpdate;n.matrixAutoUpdate=!1,n.matrix.multiply((new o.Matrix4).getInverse(n.matrixWorld)),e=(new o.Box3).setFromObject(n),n.matrixAutoUpdate=i}}this._changeOption("helperOptions",{useHelper:t,gridOn:this._options.helperOptions.gridOn,modelGridOn:this._options.helperOptions.modelGridOn,axisOn:this._options.helperOptions.axisOn,modelAxisOn:this._options.helperOptions.modelAxisOn,boundingBox:e})},w.prototype.setShowMeasureGrid=function(e){this._setMeasureGridOptions(e)},w.prototype._setMeasureGridOptions=function(e){var t,n;if(e){var i=this._meshes_faces.getObjectByName("PartGroup")||this._meshes_faces.getObjectByName("Components");if(i){var r=i.matrixAutoUpdate;i.matrixAutoUpdate=!1,i.matrix.multiply((new o.Matrix4).getInverse(i.matrixWorld)),t=(new o.Box3).setFromObject(i),i.matrixAutoUpdate=r}}n=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces,this._changeOption("measureGrid",{measuringGridOn:e,near:this._camera.near,far:this._camera.far,parentScene:n,colors:this._options.measureGrid.colors,unit:this.getUnitBaseAsString(),measuringGridBoxModel:t})},w.prototype.setShowCustomDimension=function(e){this._changeOption("showCustomDimensions",e)},w.prototype.getShowCustomDimension=function(){return this._options.showCustomDimensions},w.prototype.objectIsRendered=function(e,t,n,i,r,s,a){var l=s.userData.drawType,c=s.userData.drawTypeEx;(-1!==this._drawType.indexOf(l)||-1!==this._drawType.indexOf(c)||"face"===this._drawType&&!l)&&("function"==typeof i.ChangeUniformsPerObject&&i.ChangeUniformsPerObject(t,n,i,r,s,a),(t instanceof o.PerspectiveCamera&&!isNaN(t.aspect)||!(t instanceof o.PerspectiveCamera))&&e(t,n,i,r,s,a))},w.prototype._fovConvert=function(e){return e},w.prototype._createCamera=function(e){if(e)this._camera=e,this._camera.name="CustomCamera";else if(this._options.cameraMode===b.CameraMode.Orthographic)this._orthographicCamera||(this._orthographicCamera=new o.OrthographicCamera(this._viewerWidth/-2,this._viewerWidth/2,this._viewerHeight/2,this._viewerHeight/-2,.01,1e10),this._orthographicCamera.name="OrthographicCamera"),this._camera=this._orthographicCamera;else{if(!this._perspectiveCamera){var t=this._fovConvert(this._cameraFOV,this._viewerWidth,this._viewerHeight);this._perspectiveCamera=new o.PerspectiveCamera(t,this._viewerWidth/this._viewerHeight,.01,1e10),this._perspectiveCamera.name="PerspectiveCamera"}this._camera=this._perspectiveCamera}e||(this._camera.aspect=this._viewerWidth/this._viewerHeight),this._controls&&this._controls.setCamera(this._camera);for(var n=0;n<this._meshes_root.children.length;n++){var i;if(this._meshes_root.children[n]instanceof o.Camera)this._removeObject(this._meshes_root.children[n]),i=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces,this._camera.add(this._createLights(i))}this._meshes_root.add(this._camera)},w.prototype._disposeTransformControls=function(){this._transformControl&&(this._transformControl.dispose&&this._transformControl.dispose(),this._transformControl.detach&&this._transformControl.detach(),this._transformControl.parent.remove(this._transformControl),this._transformControl=null)},w.prototype._createTransformControls=function(){e("THREE_TransformControls"),this._scene_helper=this._scene_helper||new o.Scene,this._scene_helper.name="SceneHelper",this._transformControl=new o.TransformControls(this._camera,this._contentDIV),this._transformControl.visible=!1,this._transformControl.name="transformControl",this._transformControl.space="local",this._scene_helper.add(this._transformControl),this._setTransformControlEvents()},w.prototype._setTransformControlEvents=function(){this._transformControl.addEventListener("mouseDown",function(){this._disableControls()}.bind(this)),this._transformControl.addEventListener("mouseup",function(){this._enableControls()}.bind(this)),this._transformControl.addEventListener("mouseout",function(){this._enableControls()}.bind(this)),this._transformControl.addEventListener("change",function(){this.needsredraw_flag(),this._enableControls(),null!==this._transformControl.axis&&this._disableControls()}.bind(this))},w.prototype._removeTransformControlEvents=function(){},w.prototype.updateTransformControls=function(){this._transformControl&&(this._transformControl.update(),this.needsredraw_flag())},w.prototype._cubeTextureLoaded=function(){this._cubeTextureLoadedDef.resolve()},w.prototype.createCanvasElement=function(e,t,n,i,r){this._devicePixelRatio=i||1,this._cameraMover=new p,this._cameraMover.rotateAnimationChanged=this.rotateAnimationChanged.bind(this);var s=document.createElement("div");s.id="Viewer3DContainer",s.style.width="100%",s.style.height="100%",s.style.margin="0px",s.style.padding="0px",s.style.position="absolute",s.style.overflow="hidden",s.style.top="0px",s.style.left="0px",e.insertBefore(s,e.firstChild),this._contentDIV=s,this._viewerHeight=s.clientHeight,this._viewerWidth=s.clientWidth,this._backgroundScene=new o.Scene,this._backgroundScene.name="BackgroundScene",this._meshes_root=new o.Scene,this._meshes_root.name="MeshesRoot",this._meshes_root.autoUpdate=!1,this._meshes_faces=new o.Scene,this._meshes_faces.name="MeshesFaces",this._componentsScene=null,this._meshes_root.add(this._meshes_faces);var a=document.createElement("canvas");if(a.setAttribute("width",this._viewerWidth),a.setAttribute("height",this._viewerHeight),a.style.position="absolute",a.style.top="0px",a.style.left="0px",this._renderer=new o.WebGLRenderer({antialias:!0,alpha:!0,premultipliedAlpha:!0,logarithmicDepthBuffer:!1,canvas:a}),this._renderer.setPixelRatio(this._devicePixelRatio),this._renderer.sortObjects=!1,this._createCamera(r),"function"==typeof this._renderer.renderBufferDirect){var l=this._renderer.renderBufferDirect;this._renderer.renderBufferDirect=function(e,t,n,i,o,r){this.objectIsRendered(l,e,t,n,i,o,r)}.bind(this)}else v.info("API CHANGED..can't hook functions");this._renderer.setSize(this._viewerWidth,this._viewerHeight),this._renderer.shadowMap.enabled=!1,this._renderer.shadowMapSoft=!1,s.insertBefore(a,s.firstChild),this.applyCssKeyValues(n),this.applyCSS(t),this.eatEvents=this._options.eatEvents,this._createCameraController({viewer:this,domElement:this._renderer.domElement}),this._options.octree&&this._createOctree()},w.prototype.needsredraw_flag=function(){this._needsredraw=!0},w.prototype.onresize=function(){if(this._viewerHeight=this._renderer.domElement.parentNode.clientHeight,this._viewerWidth=this._renderer.domElement.parentNode.clientWidth,this._renderer.setSize(this._viewerWidth,this._viewerHeight),this._setMaxSizeOfHotSpots(),this._controls.onresize(),!0===this._options.dreamocHD)this._camera.aspect=2;else if(this._camera.aspect=this._viewerWidth/this._viewerHeight,this._camera instanceof o.OrthographicCamera){var e=(new o.Box3).setFromObject(this._meshes_root),t=new o.Vector3;e.getSize(t);var n=t.length();this._centerOrthographicCamera(n)}else{var i=this._fovConvert(this._camera.fov,1,this._camera.aspect);this._camera.fov=this._fovConvert(i,this._camera.aspect,1)}this._updateHotSpotController(),this._updateTeleportController(),this._updateTooltipController(),this._updateSceneController(),void 0!==this._CNSrenderer&&this._CNSrenderer.modified(),this.needsredraw_flag()},w.prototype.update=function(){var e=0;if(void 0!==this._lastTimeStamp)if(this._zoomCloser&&this._zoomAway);else if(this._zoomCloser)e=Math.abs(this._currentTimeStamp-this._lastTimeStamp),this._cameraMover.distance=Math.max(this._cameraMover.distance-.1*this._cameraMover.distance*e/1e3,0),this.needsredraw_flag();else if(this._zoomAway){e=Math.abs(this._currentTimeStamp-this._lastTimeStamp);var t=this._camera.maxZoom||this._camera.far;this._cameraMover.distance=Math.min(t,Math.max(this._cameraMover.distance+.1*this._cameraMover.distance*e/1e3,0)),this.needsredraw_flag()}this._lastTimeStamp=this._currentTimeStamp},w.prototype.addAnimation=function(e){this._animations.push(e)},w.prototype._frameanimate=function(e){void 0!==e&&(this._currentTimeStamp=e),"function"==typeof this.cbTick&&this.cbTick();var t=0;for(t=0;t<this._animations.length;t++)this._animations[t].step(e);for(t=this._animations.length-1;t>=0;t--)!0===this._animations[t].done&&this._animations.splice(t);this.update(),this._controls.update();var n=this._sphereRadius;"CustomCamera"!==this._camera.name&&(!0===this._cameraMover.updateCamera(this._currentTimeStamp,this._camera,n,this._options.dreamocHD)&&(this.updateTransformControls(),this.needsredraw_flag()));this._sceneController&&this._sceneController.updateForFrame()&&this.needsredraw_flag(),this._animateMeshes(),this._options&&!0===this._options.cameraBackground&&this.needsredraw_flag()},w.prototype.screenshot=function(){this._frameanimate(),this.render();var e=this._renderer.domElement.toDataURL("image/png");return this.needsredraw_flag(),e},w.prototype._animate=function(){var e=i.Deferred();this._stopRequestAnimationFrame=!1;var t=function(n){if(this._stopRequestAnimationFrame)return this._animationRunning=!1,void e.reject();this._animationRunning=!0,this._debugModeChanged&&(c?(this._setupStatsjs(),this._setupDebugPanel(),this._setDebugPanelRenderInfo()):(this._hideStatsjs(),this._hideDebugPanel()),this._wireCNSRendererDebug(c),this._debugModeChanged=!1),!0===this._needsredraw&&(this._needsredraw=!1,this._frameanimate(n),this.render(),e.resolve(),this._picking.octree&&this._picking.octree.update()),this._options.showPartNameTooltip&&this._tooltipController&&this._tooltipController.rafTick(),window.requestAnimationFrame(t)}.bind(this);this._animationRunning||t()},w.prototype.stopRender=function(){this._stopRequestAnimationFrame=!0},w.prototype.startRender=function(){this._stopRequestAnimationFrame&&this._animate()},w.prototype._setMaxSizeOfHotSpots=function(e,t){if(this._CNSrenderer&&this._hotspotController){var n=this._getMeasuresmentsForHotSpotController();e=e||n.width,t=t||n.height,this._hotspotController.setMaxHotSpotSize(e,t)}},w.prototype.setHotSpots=function(e){this._hotspotController||this._createHotSpotController(),e.length&&(this._hotspotController.createHotSpotsByData(e),this.setShowHotSpots(!0),this._hotspotList=this._hotspotController.getHotSpotList())},w.prototype._createHotSpotsFromPJVHotSpotData=function(){var e=this._getPJVHotSpotDataFromMeshes();e.length&&(this._hotspotController||this._createHotSpotController(),this._hotspotController.createHotSpotsByData(e),this.setShowHotSpots(!0),this._hotspotList=this._hotspotController.getHotSpotList())},w.prototype._getPJVHotSpotDataFromMeshes=function(){var e,t=[];return this._hotspotController||this._createHotSpotController(),this._meshes_root.traverse(function(n){if((e=n.userData.hotspotList)&&e.length){var i=this._hotspotController.translateHotspots(e,n.matrixWorld);t=t.concat(i)}}.bind(this)),t},w.prototype.getHotSpots=function(){return this._hotspotController.getHotSpotList()},w.prototype.collectLabels=function(){var e=new function(){this.labelsList=[];var e=0;this.collect=function(t){var n,r,s=0,a=0;if(t.userData.labelsList)for(s=0;s<t.userData.labelsList.length;s++){for(n=t.userData.labelsList[s],void 0===(r=i.extend(!0,{},n)).id&&(r.id=e,e++),r.pos=new o.Vector3(r.pos.x,r.pos.y,r.pos.z),r.pos.applyMatrix4(t.matrixWorld),a=0;a<r.dest.length;a++)r.dest[a]=new o.Vector3(r.dest[a].x,r.dest[a].y,r.dest[a].z),r.dest[a].applyMatrix4(t.matrixWorld);this.labelsList.push(r)}if(t instanceof o.Object3D)for(s=0;s<t.children.length;s++)this.collect(t.children[s])}.bind(this)};return e.collect(this._meshes_root),e.labelsList},w.prototype.canLeapMotionEnabled=function(){return!0},w.prototype.isLeapMotionEnabled=function(){return void 0!==this._LEAP&&this._LEAP.isActive()},w.prototype.setLeapMotionEnabled=function(t,n){if(void 0===this._LEAP){var i=e("./cns_leapmotion");i&&(this._LEAP=new i,this._LEAP.init(this,t,n))}void 0!==this._LEAP&&this._LEAP.setActive(t)},w.prototype.setMode_lines=function(){this._changeOption("shadeMode",b.ShadeMode.Line)},w.prototype.setMode_shade=function(){this._changeOption("shadeMode",b.ShadeMode.Shaded)},w.prototype.setMode_shade_and_lines=function(){this._changeOption("shadeMode",b.ShadeMode.ShadedEdges)},w.prototype.setSAO=function(e){this._changeOption("sao",e)&&this.needsredraw_flag()},w.prototype.setDebugMode=function(e){e!==c&&(c=e,this._debugModeChanged=!0)},w.prototype.getDebugMode=function(){return c},w.prototype.toggleDebug=function(){c=!c,this._debugModeChanged=!0},w.prototype._setupStatsjs=function(){var t=e("THREE_Stats");if(t)if(this._stats)i(this._stats.domElement).show(0);else{var n=document.createElement("div");this._contentDIV.appendChild(n),this._stats=new t,this._stats.domElement.style.position="absolute",this._stats.domElement.style.zIndex="999999",this._stats.domElement.style.top="0",n.appendChild(this._stats.domElement)}},w.prototype._hideStatsjs=function(){this._stats&&i(this._stats.domElement).hide(0)},w.prototype.rotate3DPreviewAroundAxis=function(e,t,n){this.rotateAnimationStep.x=1===e?2*Math.PI:-1===e?-2*Math.PI:0,this.rotateAnimationStep.y=1===t?2*Math.PI:-1===t?-2*Math.PI:0,this.rotateAnimationStep.z=1===n?2*Math.PI:-1===n?-2*Math.PI:0,e||t||n?(this.rotateAnimationBegin=this._currentTimeStamp,this.rotateAnimation=!0):this.rotateAnimation=!1},w.prototype.getMode=function(){return this._options.shadeMode},w.prototype.setMatrix=function(e){this._cameraMover.setRotationMatrix(e)},w.prototype.animationRotate3DPreview=function(e){this._movementMode===b.MovementMode.Scene?this._sceneController.setSceneAnimation(e):this._movementMode===b.MovementMode.Camera&&e!==this._cameraMover.isAnimationRotate3DPreview()&&this._cameraMover.animationRotate3DPreview(e)},w.prototype.isAnimationRotate3DPreview=function(){return this._cameraMover.isAnimationRotate3DPreview()},w.prototype.rotateAnimationChanged=function(){},w.prototype.addMatrix=function(e){var t=new o.Matrix4;t.multiplyMatrices(e,this._cameraMover.matrix),this._cameraMover.setRotationMatrix(t)},w.prototype.setRotation=function(e,t,n){var i=new o.Matrix4;i.makeRotationFromEuler(new o.Euler(e,t,n,"XYZ")),this.setMatrix(i)},w.prototype.addRotation=function(e,t,n){var i=new o.Matrix4;i.makeRotationFromEuler(new o.Euler(e,t,n,"XYZ")),this.addMatrix(i)},w.prototype.setAxisOriantation=function(e){void 0!==e&&(void 0!==e.up&&(this._axis.up=e.up),void 0!==e.front&&(this._axis.front=e.front))},w.prototype._getVectorFromString=function(e,t){var n=e;switch(void 0!==e&&0!==e.length||(n=t),n){case"X":return new o.Vector3(1,0,0);case"-X":return new o.Vector3(-1,0,0);case"Y":return new o.Vector3(0,1,0);case"-Y":return new o.Vector3(0,-1,0);case"Z":return new o.Vector3(0,0,1);case"-Z":return new o.Vector3(0,0,-1);default:return new o.Vector3(1,0,0)}},w.prototype._getStringFromVector=function(e){var t=Math.abs(e.x),n=Math.abs(e.y),i=Math.abs(e.z);return t>n&&t>i?e.x>=0?"X":"-X":n>t&&n>i?e.y>=0?"Y":"-Y":i>t&&i>n?e.z>=0?"Z":"-Z":void 0},w.prototype.getAxisOrientationMatrix=function(){var e=new o.Matrix4;if(this._axis.up.length>0){var t=this._getVectorFromString(this._axis.up,"Y"),n=this._getVectorFromString(this._axis.front,"Z");if(Math.abs(t.dot(n))<.001){var i=new o.Vector3;i.crossVectors(t,n),e.set(i.x,i.y,i.z,0,t.x,t.y,t.z,0,n.x,n.y,n.z,0,0,0,0,1)}}return e},w.prototype.rotate3DPreview=function(e,t,n,i,r){r=r||!1;var s=new o.Matrix4;if(s.makeRotationFromEuler(new o.Euler(o.Math.degToRad(-e),o.Math.degToRad(t),o.Math.degToRad(-n),"ZYX")),this._movementMode!==b.MovementMode.Scene||r){if(r||this._movementMode===b.MovementMode.Camera){var a;a=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces;var l=this.getZoomObject(a,s,!0);!0===i?this._controls.animateTo(l):this.setCameraParams(l),this.needsredraw_flag()}}else this._sceneController.rotateBasedOnCamera(s)},w.prototype.rotateFront=function(e){this.isometricMode=0,this.rotate3DPreview(0,0,0,e)},w.prototype.rotateBack=function(e){this.isometricMode=0,this.rotate3DPreview(0,180,0,e)},w.prototype.rotateLeft=function(e){this.isometricMode=0,this.rotate3DPreview(0,90,0,e)},w.prototype.rotateRight=function(e){this.isometricMode=0,this.rotate3DPreview(0,-90,0,e)},w.prototype.rotateTop=function(e){this.isometricMode=0,this.rotate3DPreview(-90,0,0,e)},w.prototype.rotateBottom=function(e){this.isometricMode=0,this.rotate3DPreview(90,0,0,e)},w.prototype.isometricRotation=function(e,t,n){switch(void 0!==t&&(this.isometricMode=t),this.isometricMode){case 0:this.rotate3DPreview(-45,-35,30,e,n);break;case 1:this.rotate3DPreview(-135,-35,150,e,n);break;case 2:this.rotate3DPreview(-135,35,-150,e,n);break;case 3:this.rotate3DPreview(-45,35,-30,e,n);break;case 4:this.rotate3DPreview(-135,-35,30,e,n);break;case 5:return this.rotate3DPreview(45,-35,30,e,n),void(this.isometricMode=0);default:this.rotate3DPreview(-45,-35,30,e,n)}this.isometricMode+=1,this.isometricMode>5&&(this.isometricMode=0)},w.prototype.resetObjectRotationMatrix=function(){this.isometricMode=0,this.rotate3DPreview(0,0,0)},w.prototype.destroyObjects=function(e){if(e){var t=!1;if(e.userData&&e.userData.cacheID&&(t=!0),!t){if(e.children)for(var n=e.children.length;n>0;)this.destroyObjects(e.children[n-1]),n--;this.destroyObject(e),e.dispose&&e.dispose(),e.parent&&e.parent.remove(e),e=null}}},w.prototype.destroyObject=function(e){if(e._toDispose){for(;e._toDispose.length>0;){var t=e._toDispose.pop();t.dispose(),t=null}e._toDispose=null}if(e.geometry&&(e.geometry.dispose&&e.geometry.dispose(),e.geometry._bufferGeometry&&(e.geometry._bufferGeometry.dispose&&e.geometry._bufferGeometry.dispose(),e.geometry._bufferGeometry.attributes&&(e.geometry._bufferGeometry.attributes=null,delete e.geometry._bufferGeometry.attributes,e.geometry._bufferGeometry=null,delete e.geometry._bufferGeometry)),e.geometry=null),e._sphereGeometry&&(e._sphereGeometry.dispose&&e._sphereGeometry.dispose(),e._sphereGeometry=null,delete e._sphereGeometry),e.material&&this._destroyMaterial(e.material),e.userData&&e.userData.customUniforms)for(var n in e.userData.customUniforms)e.userData.customUniforms.hasOwnProperty(n)&&e.userData.customUniforms[n]&&e.userData.customUniforms[n].value&&(e.userData.customUniforms[n].value.dispose&&e.userData.customUniforms[n].value.dispse(),e.userData.customUniforms[n].value=null,delete e.userData.customUniforms[n]);e.texture&&(e.texture.dispose&&e.texture.dispose(),e.texture=null)},w.prototype.getNodesToDestroy=function(){var e,t=[],n=[];for(n.push(this._meshes_faces,this._scene_helper);n.length;)(e=n.pop())&&(e.userData&&e.userData.cacheID?e.parent.remove(e):(t.push(e),n.concat(e.children)));return t},w.prototype.clearScene=function(e){this.stopRender(),this._clickCallback={},e=e||{},this._picking.octree&&this._clearOctree(),e.keepEnvironment||this.removeEnvironment(),this._meshes_root.remove(this._meshes_faces),this.destroyObjects(this._meshes_faces),this._mappedVarsArray=[],this._mappedVars=!1,this._hotspotController&&(this._hotspotController.clearHotSpots(),this._hotspotController.createHotSpots(),this._setHotSpotListFromController()),this._meshes_faces=new o.Scene,this._meshes_faces.name="MeshesFaces",this._mappedVars=!1,this._removeCurrentSelection(),this._meshes_root.add(this._meshes_faces),this.onMeshUpdated(),this.render()},w.prototype.loadObject=function(e,t){var n=i.Deferred();t=t||{};var r=i.extend(!0,{clearBeforeLoad:!1,clear:!0,defaultView:!0,justLoad:!1,resetCamera:!1},t);if(!0===r.clearBeforeLoad&&this.clearScene(r),void 0===e)return n.reject(),n.promise();var s={isStandalone:this._isStandalone,enableEditableDimensions:this._options.enableEditableDimensions};return _.load(e,s).then(function(e){var s=!1,a=this;if(e.traverse(function(e){var n=e.geometry;n&&n instanceof o.BufferGeometry&&!n.getAttribute("normal")&&n.computeVertexNormals(),e.material&&e.userData.keepOriginalMaterial&&(s=!0),void 0!==r.faceTypeEx&&e.userData.drawType&&"face"===e.userData.drawType&&(e.userData.drawTypeEx=t.faceTypeEx),void 0!==r.drawType&&"face"===e.userData.drawType&&(e.userData.drawType=t.drawType)}),s?this._webviewer3d.setActionState("actCut","visible",!1):this._webviewer3d.setActionState("actCut","visible",!0),this._CNSrenderer&&this._CNSrenderer.dispose(),!e){var l=new o.BoxGeometry(1,1,1),c=new o.MeshBasicMaterial;c.opacity=0,c.transparent=!0,e=new o.Mesh(l,c),n.reject(h.zTR("Ungültiges Bauteil oder ungültige Konfiguration!"))}if(void 0!==r.matrix&&(e.applyMatrix(r.matrix),e.matrixWorldNeedsUpdate=!0),void 0!==r.click&&(this._clickCallback[e.id]=r.click),!1===r.justLoad){r.clear&&this.clearScene(r),this.setCompareMode(!1),this._componentsScene=this._meshes_faces.getObjectByName("ComponentsScene")||new o.Scene,this._componentsScene.name="ComponentsScene",e.selectable=!0,e.name="Components",this._componentsScene.add(e),this._meshes_faces.add(this._componentsScene);this._meshes_faces.traverse(function(e){e.userData&&e.userData.mappedVar&&(this._mappedVars=!0,this._mappedVarsArray.push(e.userData.mappedVar)),e.isLight&&(0===e.color.r&&0===e.color.g&&0===e.color.b||!0),e.material&&e.material.lights&&!0}.bind(this)),this.onAfterParseMappedVars(this._mappedVarsArray);for(var p=this._camera.children.length-1;p>=0;p--)this._camera.remove(this._camera.children[p]);this._camera.add(this._createLights(e));var d=e.getObjectByName("PJVLoader")||e.getObjectByName("AssemblyLoader");if(d&&this.setAxisOriantation(d.userData.axis),this._updateSceneController(),this._hotspotController&&(this._hotspotController.clearHotSpots(),this._hotspotController.createHotSpots()),this._createHotSpotsFromPJVHotSpotData(),this._setHotSpotListFromController(),this.onMeshUpdated(),this._updateCogInitialMatrix(),r.resetCamera){var u=this._cameraMover.getCameraParams();u.rotation.roll=0,u.rotation.yaw=0,u.rotation.pitch=0,this._cameraMover.setCameraParams(u)}!0===r.defaultView&&this.isometricRotation(!1,0,!0),this._options.showPartNameTooltip&&this.enableTooltipController();var m=this._options.material.preset||this._defaultMaterial;this._options.material.uniforms=this._options.material.uniforms||i.extend(!0,{},this._materialList[m]),this._options.material.lighting=this._options.material.lighting||i.extend(!0,{},this._lightingList[m]),this._renderer.gammaOutput=this._options.material.lighting.gammaOutput,e.traverse(function(e){e instanceof o.Mesh&&(a._changeObjTextureEncoding(e,a._options.material.lighting.textureEncoding),a._debugPanel&&(a._options.material.lighting.textureEncoding===o.GammaEncoding?a._debugPanel.set("texture_encoding","Gamma"):a._options.material.lighting.textureEncoding===o.sRGBEncoding?a._debugPanel.set("texture_encoding","sRGB"):a._options.material.lighting.textureEncoding===o.LinearEncoding&&a._debugPanel.set("texture_encoding","Linear")))})}if(e.traverse(function(e){e.material&&e.userData.customUniforms&&(e.onBeforeRender=function(t,n,i,o,r,s){var a,l,c,p,d,h=[],u={};for(d in this.userData.customUniforms)this.userData.customUniforms.hasOwnProperty(d)&&(u[d]=this.userData.customUniforms[d]);if(this.material&&this.material.uniforms&&u)for(var m in u)if(u.hasOwnProperty(m)){if(!(a=n.overrideMaterial&&n.overrideMaterial.uniforms?n.overrideMaterial.uniforms[m]:this.material.uniforms[m]))continue;if(c=u[m],p=a.value,void 0===c||null===c||c===p)continue;if((l={})[m]=p,h.push(l),r&&r!==e.material&&r.uniforms&&r.program){var f=t.getContext();f.getParameter(f.CURRENT_PROGRAM)!==r.program.program&&f.useProgram(r.program.program),r.program.getUniforms().map[m].setValue(f,c)}this.userData.preValues=h,this.userData.preValueObj=l}},e.onAfterRender=function(t,n,i,o,r,s){var a,l;if(this.userData.preValues)for(var c=0;c<this.userData.preValues.length;++c)if(a=this.userData.preValues[c],l=Object.keys(a)[0],r&&r!==e.material&&r.uniforms&&r.program){var p=t.getContext();p.getParameter(p.CURRENT_PROGRAM)!==r.program.program&&p.useProgram(r.program.program),r.uniforms[l]&&r.program.getUniforms().map[l].setValue(t.getContext(),a[l])}})}),this._axis.up.length>0){var f=this.getAxisOrientationMatrix(),g=(new o.Euler).setFromRotationMatrix(f);this._componentsScene.rotation.set(g.x,g.y,g.z,g.order)}this.needsredraw_flag(),this._animate(),n.resolve(e)}.bind(this),function(e){n.reject(e)}),n.promise()},w.prototype._createLights=function(e){var t=new o.Group;t.name="LightGroup";var n=this._options.material.preset||this._defaultMaterial,i=new o.AmbientLight(16777215);i.intensity=this._lightingList[n].ambientIntensity,i.name="AmbientLight",t.add(i);var r=(new o.Box3).setFromObject(e),s=new o.Vector3;r.getCenter(s);var a=[r.max.x,r.min.x,r.max.y,r.min.y,r.max.z,r.min.z],l=3*Math.max.apply(null,a.map(Math.abs)),c=this._lightingList[n].dirLightIntensity,p=new o.Object3D;p.name="DirectionalLightTarget",p.position.set(s.x,s.y,s.z),t.add(p);var d,h,u=new o.Vector3(.2,.6,.7).normalize(),m=new o.Vector3(-.2,-1,-.4).normalize(),f=[new o.Vector3(s.x+u.x*l,s.y+u.y*l,s.z+u.z*l),new o.Vector3(s.x+m.x*l,s.y+m.y*l,s.z+m.z*l)];for(d=0;d<f.length;d++)h=f[d],t.add(this._createDirectionalLight(16777215,c,h,p,!1));return t},w.prototype._createDirectionalLight=function(e,t,n,i,r,s){var a,l,c=new o.Group;return c.name="DirectionalLightGroup",(a=new o.DirectionalLight(e,t)).position.copy(n),a.target=i,a.name="DirectionalLight",c.add(a),r&&(s=s||10,(l=new o.DirectionalLightHelper(a,s,16711935)).name="dirlighthelper",c.add(l)),c},w.prototype.getMappedVarsArray=function(){return this._mappedVarsArray},w.prototype.setActiveMappedVars=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;var i=this._meshes_faces.getObjectByName("DimensionsGroup");if(i){var o,r,s,a=[];for(i.traverse(function(e){e.userData&&e.userData.mappedVar&&(t[e.userData.mappedVar.name]&&!e.userData.mappedVar.enabled?a.push({obj:e,enable:!0}):!t[e.userData.mappedVar.name]&&e.userData.mappedVar.enabled&&a.push({obj:e,enable:!1}))}),o=0;o<a.length;o++)(r=(s=a[o].obj).parent).remove(s),r.add(m.createDimensionText(s.userData.geometryCreationSettings,{useMappedVar:a[o].enable}));this.optionsChanged()}this.needsredraw_flag()},w.prototype._updateCogInitialMatrix=function(){if(this._componentsScene){var e=(new o.Box3).setFromObject(this._componentsScene);if(!e.isEmpty()){var t=new o.Vector3;e.getCenter(t),this._componentsScene.userData.cns=i.extend(!0,this._componentsScene.userData.cns||{},{center:t,matrix:(new o.Matrix4).copy(this._componentsScene.matrix)})}}},w.prototype.loadObjectFromURL=function(e,t){return this.loadObject(e,t)},w.prototype.loadObjectFromData=function(e,t){return this.loadObject({data:e},t)},w.prototype.loadCompare=function(e,t,n){var o=i.Deferred();n=n||{};var r=i.extend(!0,{clearBeforeLoad:!1,clear:!0,defaultView:!0,justLoad:!1,resetCamera:!1},n);!0===r.clearBeforeLoad&&this.clearScene(r);var s=this.loadObject(e,{clear:!1,clearBeforeLoad:!1,justLoad:!0,faceTypeEx:"face1"}),a=this.loadObject(t,{clear:!1,clearBeforeLoad:!1,justLoad:!0,faceTypeEx:"face2"});return i.when(s,a).done(function(e,t){!0===r.clear&&this.clearScene(r),this.setCompareMode(!0),e.selectable=!0,t.selectable=!0,this._meshes_faces.add(e),this._meshes_faces.add(t),this._hotspotController&&(this._hotspotController.clearHotSpots(),this._hotspotController.createHotSpots(),this._setHotSpotListFromController()),this.onMeshUpdated(),!0===r.defaultView&&this.isometricRotation(!0,0,!0),this.needsredraw_flag(),this._animate(),o.resolve()}.bind(this)).fail(function(){o.reject()}),o.promise()},w.prototype.loadCompareFromUrl=function(e,t,n){return this.loadCompare({url:e},{url:t},n)},w.prototype.loadCompareData=function(e,t,n){return this.loadCompare(e,t,n)},w.prototype.onMeshUpdated=function(){var e,t=new o.Vector3;this._meshes_root.updateMatrixWorld(!0);var n=(new o.Box3).setFromObject(this._meshes_faces);this._setMeasureGridOptions(this._options.measureGrid.on),this._setHelperOptions(),n.getSize(t),e=t.length(),this._sphereRadius!==e&&(this._sphereRadius=e),void 0!==this._CNSrenderer&&this._CNSrenderer.modified(),c&&this._setDebugPanelRenderInfo()},w.prototype.zoomObject=function(e,t,n){n=void 0===n||null===n;var i=(new o.Matrix4).getInverse(this._camera.matrix),r=this.getZoomObject(e,i,t);n?this.animateTo(r):this.setCameraParams(r)},w.prototype._centerOrthographicCamera=function(e){this._camera.left=e*this._camera.aspect/-2,this._camera.right=e*this._camera.aspect/2,this._camera.top=e/2,this._camera.bottom=e/-2,this._camera.updateProjectionMatrix()},w.prototype.enableZoomCloserToObject=function(e){this._zoomCloser=e},w.prototype.enableZoomAwayFromObject=function(e){this._zoomAway=e},w.prototype._getParentSphereSize=function(e){if(e&&e.parent){var t=(new o.Box3).setFromObject(e.parent);if(t.isEmpty())return 0;var n=new o.Vector3;return t.getSize(n),.5*n.length()}return 0},w.prototype.getCameraParamsForPoint=function(e,t){var n=t?t.distanceTo(e):1,i=this._cameraMover.matrix,r=new o.Matrix4;r.copy(i);var s=new o.Euler;s.setFromRotationMatrix(r,"ZYX");var a={roll:-s.x/Math.PI*180,pitch:s.y/Math.PI*180,yaw:-s.z/Math.PI*180},l=e;return l.z=-l.z,{cameraMode:this._options.cameraMode,rotation:a,rotation_center:l,focal_length:n,pan:{x:0,y:0}}},w.prototype.getZoomObject=function(e,t,n){e||(e=this._componentsScene&&this._componentsScene.children.length>0?this._componentsScene:this._meshes_faces),!0===n&&(n=this._getParentSphereSize(e));var i=600,r=(new o.Box3).setFromObject(e);if(r.isEmpty())i=600;else{var s=new o.Vector3;n=n||.5*r.getSize(s).length();var a=this._camera.fov||this._cameraFOV;i=n/Math.sin(Math.PI/180*a*.5);var l=2*Math.atan(this._camera.aspect*Math.tan(a/180*Math.PI/2));l*=180/Math.PI;var c=n/Math.sin(Math.PI/180*l*.5);i<c&&(i=c)}var p=new o.Matrix4;p.copy(t);var d=new o.Euler;d.setFromRotationMatrix(p,"ZYX");var h={roll:-d.x/Math.PI*180,pitch:d.y/Math.PI*180,yaw:-d.z/Math.PI*180},u=new o.Vector3;return r.getCenter(u),u.z=-u.z,{cameraMode:this._options.cameraMode,rotation:h,rotation_center:u,focal_length:i,pan:{x:0,y:0}}},w.prototype.canExplode=function(){var e=0,t=0;return this._meshes_root.traverse(function(n){var i,o,r,s;if(n.userData.cns&&n.userData.cns.explosionmatrix&&n.userData.cns.explosionmatrix.elements)for(e++,s=n.userData.cns.explosionmatrix.elements,o=0;o<4;o++)for(r=0;r<4;r++)if(i=s[o+4*r],!(o===r&&1===i||o!==r&&0===i))return void t++}),t>0&&e>1},w.prototype.isExploded=function(){return this._exploded},w.prototype.Explode=function(e,t){var n=i.Deferred(),r=[];this._exploded=!1===t;var s=this._cameraMover.getCameraParams();function a(e){var t=new o.Vector3,n=new o.Quaternion,i=new o.Vector3;e.decompose(t,n,i),e.decomposed={translation:t,quaternion:n,scale:i}}this._meshes_root.traverse(function(e){e.userData.cns&&e.userData.cns.explosionmatrix&&e.userData.cns.explosionmatrix.elements&&(a(e.userData.cns.matrix),a(e.userData.cns.explosionmatrix),r.push(e),t?e.matrix.copy(e.userData.cns.matrix):e.matrix.copy(e.userData.cns.explosionmatrix),e.applyMatrix(new o.Matrix4))}),r.sort(function(e,n){var i=new o.Vector3,r=new o.Vector3;return i.copy(e.userData.cns.explosionmatrix.decomposed.translation),r.copy(n.userData.cns.explosionmatrix.decomposed.translation),i.sub(e.userData.cns.matrix.decomposed.translation),r.sub(n.userData.cns.matrix.decomposed.translation),t?r.lengthSq()-i.lengthSq():i.lengthSq()-r.lengthSq()}),this.onMeshUpdated();var l=this.getZoomObject(this._meshes_root,this._cameraMover.matrix);this.needsredraw_flag(),this._cameraMover.animationRotate3DPreview(!1);var c=window.performance.now(),p=this;return this.addAnimation({done:!1,step:function(){this.done=!1;var i=(p._currentTimeStamp-c)/(1e3*e),a=!1;i>1&&(i=1,a=!0),i*=i*i,p._cameraMover.slerp(s,l,i);var d,h,m,f,g=new o.Vector3,_=new o.Vector3,v=new o.Quaternion,b=new o.Quaternion,w=0,y=r.length,x={1:.15,2:.5},C=0,S=0;for(w=0;w<y;w++)d=r[w],S=i,x.hasOwnProperty(w)&&(C=w),(f=x[C])&&(S<f?S=0:(S-=f,S*=1/(1-f))),i=u.clamp(i,0,1),!0===t?(m=d.userData.cns.matrix.decomposed,h=d.userData.cns.explosionmatrix.decomposed):(h=d.userData.cns.matrix.decomposed,m=d.userData.cns.explosionmatrix.decomposed),g.copy(h.translation),v.copy(h.quaternion),_.copy(m.translation),b.copy(m.quaternion),g.lerp(_,S),v.slerp(b,S),d.position.copy(g),d.quaternion.copy(v),d.updateMatrix();!0===a&&(p.zoomObject(this._meshes_root),this.done=!0,n.resolve()),p.needsredraw_flag()}}),n},w.prototype.isVRMode=function(){return!0===this._options.vr},w.prototype.isPseudoVRMode=function(){return!0===this._options.pseudoVR},w.prototype.setVRMode=function(e){this._changeOption("vr",e)&&!0===e&&(this._CNSrenderer.requestVR(!0),this._disposeTransformControls())},w.prototype.isBlueBoxOn=function(){return this._options.bluebox},w.prototype.setBlueBoxMode=function(e){this._changeOption("bluebox",e)&&(e?this._cameraMover.setCameraTiltMatrix((new o.Matrix4).makeRotationFromEuler(new o.Euler(0,0,Math.PI))):this._cameraMover.setCameraTiltMatrix(new o.Matrix4),this.needsredraw_flag())},w.prototype.setDreamocHD=function(e,t){if(this._changeOption(["dreamocHD","dreamocType"],[e,t||"HD3"]),!0===e)this._cameraMover.setFovTo(this._camera,15),this._camera.aspect=2,this._camera.updateProjectionMatrix();else{var n=this._contentDIV.clientHeight,i=this._contentDIV.clientWidth,o=this._fovConvert(35,i/n);this._cameraMover.setFovTo(this._camera,o),this._camera.aspect=i/n,this._camera.updateProjectionMatrix()}this.needsredraw_flag()},w.prototype.isAnaglyphMode=function(){return this._options.anaglyph},w.prototype.setAnaglyphMode=function(e){this._changeOption("anaglyph",e)},w.prototype.isDreamocHD=function(){return this._options.dreamocHD},w.prototype.setCameraBackground=function(e){this._changeOption("cameraBackground",e)},w.prototype.isCameraBackground=function(){return this._options.cameraBackground},w.prototype.getSphereRadius=function(){return this._sphereRadius},w.prototype.getComponentsSceneMatrix=function(){return(new o.Matrix4).copy(this._componentsScene.matrix)},w.prototype.getCamera=function(){return this._camera},w.prototype.getScene=function(){return this._meshes_root},w.prototype.getOptions=function(){return this._options},w.prototype.getContentDIV=function(){return this._contentDIV},w.prototype.getViewerSize=function(){return{width:this._viewerWidth,height:this._viewerHeight}},w.prototype.getCameraParams=function(){return this._cameraMover.getCameraParams()},w.prototype.getCameraRotation=function(){return this.getCameraParams().rotation},w.prototype.getCameraDistance=function(){return this.getCameraParams().focal_length},w.prototype.camParamsAsVersionPairs=function(e){return{View:-1,customRot:!0,rotX:e.rotation.roll,rotY:e.rotation.pitch,rotZ:e.rotation.yaw,customRotationCenter:!0,rotationCenterX:e.rotation_center.x,rotationCenterY:e.rotation_center.y,rotationCenterZ:e.rotation_center.z,customZoom:!0,focalLength:e.focal_length,customPan:!0,panX:e.pan.x,panY:e.pan.y}},w.prototype.camParamsAsVersionString=function(e){return function(e){var t,n="",i=";";for(t in e)e.hasOwnProperty(t)&&(n+=i+t+'="'+e[t]+'"',i=";");return n}(this.camParamsAsVersionPairs(e))},w.prototype.setCameraParams=function(e){this.animationRotate3DPreview(!1),this._cameraMover.setCameraParams(e);var t=this._cameraMover.getCameraParams();this._changeOption("cameraMode",t.camera)&&this._createCamera()},w.prototype.applyCssKeyValues=function(e){void 0!==e&&this._changeOption(null,e)},w.prototype.applyCSS=function(e){!function(e){if(""!==(e=e||"")){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.onreadystatechange=function(){if(4===t.readyState){var e=function(e){var t,n=/([^=]*)=(.*?)\r\n/g,i={};for(t=n.exec(e);t;t=n.exec(e))i[t[1]]=t[2];return i}(t.responseText);this.applyCssKeyValues(e)}}.bind(this),t.send(),!0}}(e)},w.prototype.setPropertiesJSON=function(e){this.applyCssKeyValues(e)},w.prototype.getUsedDimensions=function(){var e=0,t=this.getAxisOrientationMatrix(),n=["Z","-Z","X","-X","Y","-Y"],i=[0,1,2,3,4,5,6];if(this._axis.up.length>0)for(e=0;e<6;e++){var o=this._getStringFromVector(this._getVectorFromString(n[e]).applyMatrix4(t));i[n.indexOf(o)]=e}var r=[!1,!1,!1,!1,!1,!1],s=this._meshes_faces.getObjectByName("DimensionsGroup");if(s)for(e=0;e<6;e++)s.getObjectByName("DimensionGroup_"+i[e])&&(r[e]=!0);return r},w.prototype.getShowLabels=function(){return void 0===this._options.showLabels||!("0"===this._options.showLabels||"false"===this._options.showLabels||"FALSE"===this._options.showLabels||!1===this._options.showLabels)},w.prototype.setShowLabels=function(e){this._changeOption("showLabels",e)},w.prototype.canShowLabels=function(){return this.collectLabels().length>0},w.prototype.getRenderer=function(){return this._CNSrenderer},w.prototype.render=function(){void 0===this._CNSrenderer&&(this._CNSrenderer=new f,this._CNSrenderer.modified()),this._CNSrenderer._modified&&this._options&&this._CNSrenderer.initWithOptions(this._options,this),this._meshes_root.updateMatrixWorld(!1),this._CNSrenderer.render(this,this._meshes_root,this._scene_helper,this._camera),void 0!==this._stats&&this._stats.update()},w.prototype.show=function(){this._stopRequestAnimationFrame&&this._animate()},w.prototype.hide=function(){this.stopRender()},w.prototype.setupEnvironment=function(e){if(e){var t=i.extend(!0,{},this._options.environmentOptions);for(var n in t)t.hasOwnProperty(n)&&(t[n].id=t[n].lastActive);this.setEnvironmentOptions(t)}},w.prototype.removeEnvironment=function(e){var t=i.extend(!0,{},this._options.environmentOptions);for(var n in t)t.hasOwnProperty(n)&&(e&&t[n].id?t[n].lastActive=t[n].id:e||(t[n].lastActive=""),t[n].id="");this.setEnvironmentOptions(t)},w.prototype.setEnvironmentOptions=function(e,t){t?this._changeOption("environmentOptions",e):this._changeOption("environmentOptions",i.extend(!0,{},this._options.environmentOptions,e))},w.prototype.getEnvironmentOptions=function(){return i.extend(!0,{},this._options.environmentOptions)},w.prototype._removeObject=function(e){if(e){if(e.children&&e.children.length)for(var t=0,n=e.children.length;t<n;t++)this._removeObject(e.children[0]);e.geometry&&(e.geometry&&e.geometry.dispose&&e.geometry.dispose(),e.geometry=null),e.material&&(e.material&&e.material.dispose&&e.material.dispose(),e.material=null),e.texture&&(e.texture&&e.texture.dispose&&e.texture.dispose(),e.texture=null),e.parent&&e.parent.remove(e)}},w.prototype.cleanup=function(){this.stopRender(),this._unregisterAllControllers(),this.clearScene(),this._camera=null,this._orthographicCamera=null,this._perspectiveCamera=null,this._scene_helper=null,this._componentsScene=null,this._meshes_root=null,this._meshes_faces=null,this._environmentScene=null,this._backgroundScene=null,this._contentDIV=null,this._cubeTextureLoadedDef=null,this._mappedVarsArray=[],this.setDebugMode(!1),this._hideStatsjs(),this._hideDebugPanel(),this._wireCNSRendererDebug(c),this._debugPanel&&(this._debugPanel=null),this._renderer&&(this._renderer.dispose(),this._renderer.forceContextLoss(),this._renderer.context=null,this._renderer.domElement=null,this._renderer=null),this._CNSrenderer.dispose(),this._CNSrenderer=null,delete this._CNSrenderer,this._controls&&this._controls.dispose&&this._controls.dispose(),this._disposeTransformControls(),this._hotspotController&&(this._hotspotController.clearHotSpots(),this._hotspotController._options&&this._hotspotController._options.componentsToIntersect&&(this._hotspotController._options.componentsToIntersect=null),this._hotspotController.clear(),this._hotspotController=null),this._cameraMover=null,this._controls=null,this._options=null,this.signals=null,this._webviewer3d=null},w.prototype.handleEvents=function(e){if(e&&!this._dialogIsOpen&&this._animationRunning)for(var t,n=0;n<this._controllers.length;n++)(t=this._controllers[n])[e.type]instanceof Function&&t[e.type](e.originalEvent||e)},w.prototype._registerController=function(e){if(e){for(var t=!1,n=0;n<this._controllers.length;n++)if(this._controllers[n].getName()===e.getName()){t=!0;break}t||this._controllers.push(e)}},w.prototype._unregisterController=function(e){if(e)for(var t=0;t<this._controllers.length;t++)this._controllers[t].getName()===e.getName()&&(this._controllers.splice(t,1),t--)},w.prototype._unregisterAllControllers=function(){for(var e=this._controllers.length;e>=0;e--)this._controllers.pop()},w.prototype.setMatrixComponentsScene=function(e){var t=this._meshes_root.getObjectByName("ComponentsScene");t&&(t.rotation.set(0,0,0),t.position.set(0,0,0),t.matrix.identity(),t.applyMatrix(e)),this.needsredraw_flag()},w.prototype.onMappedVarClicked=function(){},w.prototype.onAfterParseMappedVars=function(e){},window.performance=window.performance||{},window.performance.now=window.performance.now||window.performance.webkitNow||window.performance.mozNow||window.performance.msNow||function(){return Date.now?Date.now():+new Date},t.exports=w},{"./cns_leapmotion":75,"./cnsthreeEnums":95,"./cnsthree_camera_control":97,"./cnsthree_loader":99,"./cnsthree_render":100,"./controllers/cnsthree_hotspotController":102,"./controllers/cnsthree_sceneController":103,"./controllers/cnsthree_showNBController":104,"./controllers/cnsthree_teleportController":105,"./loaders/pjvLoader/assemblyLoader":115,"./loaders/pjvLoader/pjvLoader":116,"./units":192,THREE:"THREE",THREE_Octree:"THREE_Octree",THREE_Stats:"THREE_Stats",THREE_TransformControls:"THREE_TransformControls","base/js/helpers":7,"base/js/logger":8,"es6-promise":"es6-promise","psol.math":202,"psol.translation":207,"settings-panel":"settings-panel","settings-panel-theme-dragon":"settings-panel-theme-dragon"}],95:[function(e,t,n){"use strict";var i,o,r,s,a,l,c,p;Object.defineProperty(n,"__esModule",{value:!0}),(o=i||(i={}))[o.Perspective=0]="Perspective",o[o.Orthographic=1]="Orthographic",n.CameraMode=i,(s=r||(r={}))[s.Camera=0]="Camera",s[s.Scene=1]="Scene",n.MovementMode=r,(l=a||(a={}))[l.Line=0]="Line",l[l.Shaded=1]="Shaded",l[l.ShadedEdges=2]="ShadedEdges",n.ShadeMode=a,(p=c||(c={})).HD3="HD3",p.MOBILE="MOBILE",n.DreamocType=c},{}],96:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE"),s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(r.Object3D);n.CNSObject3D=s;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.customLabelHeight=null,t}return o(t,e),t}(HTMLElement);n.CNSLabelHTMLElement=a;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.overrideMaterial=null,t}return o(t,e),t}(r.Scene);n.CNSScene=l;var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cns=null,t}return o(t,e),t}(r.Scene);n.CNSCmpScene=c},{THREE:"THREE"}],97:[function(e,t,n){"use strict";var i=e("viewBase/js/viewHelper"),o=e("inherits"),r=e("./cnsthreeEnums"),s=window.THREE||e("THREE");function a(){this.needsredraw=!0,this.rotationCenter=new s.Vector4,this.matrix=new s.Matrix4,this.cameraTiltMatrix=new s.Matrix4,this.distance=600,this.pan=new s.Vector4,this._cameraMode=r.CameraMode.Perspective,this.rotateAnimation=!1,this.rotateAnimationMode="globalY",this.rotateAnimationStep=new s.Vector3,this.rotateAnimationBegin=0,this.rotateAnimationLast=0,this._currenttimestamp=0,this._aspect=1,this._dreamocType="HD3",this.animationModes={globalY:function(e,t,n){var i=new s.Matrix4;i.makeRotationFromEuler(new s.Euler(0,.35*t*1e3/25*Math.PI/180,0)),n.multiplyMatrices(i,n)}.bind(this),localY:function(e,t,n){var i=new s.Matrix4;i.makeRotationFromEuler(new s.Euler(0,.35*t*1e3/25*Math.PI/180,0)),n.multiplyMatrices(n,i)}.bind(this),localXYZ:function(e,t,n){var i=new s.Matrix4,o=Math.sin(1.54+e/1.7)*t*1e3/25,r=Math.sin(.07+e/2.1)*t*1e3/25,a=Math.sin(e/1.3-1.54)*t*1e3/25;i.makeRotationFromEuler(new s.Euler(-o*Math.PI/180,r*Math.PI/180,-a*Math.PI/180,"ZYX")),n.multiplyMatrices(n,i)}.bind(this)}}function l(e){this._name=l.name,this.STATE={NONE:-1,ROTATE:0,ZOOM:2,PAN:1,TOUCH_ROTATE:3,TOUCH_ZOOM:4,TOUCH_PAN:5},this._uid=performance.now(),this.viewer=e.viewer,this._rotationDisabled=!1,this._panningDisabled=!1,this._cameraMover=this.viewer._cameraMover,this._cameraMover.onNeedsRedraw=this.setNeedsRedrawFlag.bind(this),this._camera=this.viewer._camera,this.eatEvents=this.viewer.eatEvents,this.domElement=e.domElement||document,this.enabled=!0,this.screen={left:0,top:0,width:0,height:0},this.intouch=!1,this.intouch_start=0,this.toolTipStartPos=new s.Vector2,this.toolTipStartPosTime=-1,this._state=this.STATE.NONE,this.startEvent={type:"start"},this.endEvent={type:"end"},this._pxLast=new s.Vector2,this._pxDown=new s.Vector2,this._pxNow=new s.Vector2,this._mouseMoved=!1,this.doubleClickCheck={time:0,x:0,y:0},this._pageLast=new s.Vector2,this.deviceIsCalibrated=!1,this.deviceCalibrationArray=[],this.measuresNeededForCalibration=10,this.updateOrientation=!1,this._lastMotionEvent=null,this.deviceOrientationEventsBound=!1,this.deviceOrientationIsFirstEvent=!0,this.deviceOrientation={alpha:0,beta:0,gamma:0,screenOrientation:0,initQuaternion:new s.Quaternion},this._boundDeviceOrientationHandler=void 0,this._boundDeviceMotionHandler=void 0,this.events={touches:[]},this.init()}window.THREE=s,a.prototype._getAndResetUpdateFlag=function(){if(this.rotateAnimation)return this.rotateAnimation;var e=this.needsredraw;return this.needsredraw=!1,e},a.prototype._setNeedsRedrawFlag=function(){this.needsredraw=!0,this.onNeedsRedraw()},a.prototype.dispose=function(){this.matrix=null},a.prototype.updateCamera=function(e,t,n,i){var o,r;if(this._currenttimestamp=e,this._aspect=t.aspect,this.isAnimationRotate3DPreview()){var a=new s.Matrix4;o=e,this.rotateAnimationBegin=this.rotateAnimationBegin||o,r=(this.rotateAnimationBegin-o)/1e4,this.rotateAnimationBegin=o,a.makeRotationFromEuler(new s.Euler(this.rotateAnimationStep.x*r,this.rotateAnimationStep.y*r,this.rotateAnimationStep.z*r)),this.matrix.multiplyMatrices(a,this.matrix)}else if(void 0!==this.animateInfo){o=e;var l=this.animateInfo;(r=(o-l.starttime)/(1e3*l.duration))>1&&(r=1,this.animateInfo=void 0),this.slerp(l.start,l.end,r)}var c=1,p=0;if(!0===i){var d=0;void 0!==this._dreamocType&&"HD3"!==this._dreamocType||(d=200),void 0!==this._dreamocType&&"MOBILE"!==this._dreamocType||(d=448);var h=d,u=Math.tan(Math.PI/8)*(960-h),m=u;void 0!==this._dreamocType&&"HD3"!==this._dreamocType||(m+=d),c=1/(c=2*u/960),p=(p=m/960-.5)*(this.distance*Math.tan(t.fov/180*3.1415/2)*this._aspect*2)*.5}var f=this.distance*c,g=new s.Matrix4,_=new s.Matrix4,v=new s.Matrix4;if(v.makeTranslation(-this.rotationCenter.x,-this.rotationCenter.y,-this.rotationCenter.z),_.multiplyMatrices(this.matrix,v),t.isPerspectiveCamera?_.elements[14]+=-f:_.elements[14]+=2*-n,_.elements[12]+=this.pan.x*c,_.elements[13]+=this.pan.y*c+p,g.getInverse(_),t.matrix.identity(),t.applyMatrix(g.multiply(this.cameraTiltMatrix)),t.updateMatrix(),t.maxZoom=15*n,t.updateProjectionMatrix(),t instanceof s.OrthographicCamera){var b=this.getCameraParams().frustum;t.far=f+2.3*n,t.left=b.width/-2,t.right=b.width/2,t.top=b.height/2,t.bottom=b.height/-2,t.updateProjectionMatrix()}else t.far=f+2*n;return t.near=.01*t.far,this._getAndResetUpdateFlag()},a.prototype.setFovTo=function(e,t){var n=Math.tan((90-e.fov/2)/180*Math.PI)/2;e.fov=t;var i=Math.tan((90-e.fov/2)/180*Math.PI)/2/n;this.distance*=i,this._setNeedsRedrawFlag()},a.prototype.animationRotate3DPreview=function(e){this.setRotateAnimation(e),this.rotateAnimationStep.y=-2*Math.PI,this.rotateAnimationBegin=0,this._setNeedsRedrawFlag()},a.prototype.isAnimationRotate3DPreview=function(){return this.rotateAnimation},a.prototype.setRotateAnimation=function(e){this.rotateAnimation!==e&&(this.rotateAnimation=e,this.rotateAnimationChanged(this.rotateAnimation))},a.prototype.rotateAnimationChanged=function(e){},a.prototype.setRotationMatrix=function(e){this.matrix.extractRotation(e),this.setRotateAnimation(!1),this.animateInfo=void 0,this._setNeedsRedrawFlag()},a.prototype.setCameraTiltMatrix=function(e){this.cameraTiltMatrix.copy(e),this._setNeedsRedrawFlag()},a.prototype.getCameraParams=function(){var e=2*this.distance*Math.tan(17.5*s.Math.DEG2RAD),t=this._aspect*e,n=new s.Euler,i=new s.Matrix4;i.copy(this.matrix),n.setFromRotationMatrix(i,"ZYX");var o={roll:-n.x/Math.PI*180,pitch:n.y/Math.PI*180,yaw:-n.z/Math.PI*180};return{camera:this._cameraMode,rotation:o,rotation_center:{x:this.rotationCenter.x,y:this.rotationCenter.y,z:-this.rotationCenter.z},focal_length:this.distance,pan:{x:this.pan.x,y:this.pan.y},frustum:{width:t,height:e}}},a.prototype.setCameraParams=function(e){if(void 0!==e){var t=new s.Euler(-e.rotation.roll*Math.PI/180,e.rotation.pitch*Math.PI/180,-e.rotation.yaw*Math.PI/180,"ZYX");this.matrix.makeRotationFromEuler(t),this.rotationCenter.x=e.rotation_center.x,this.rotationCenter.y=e.rotation_center.y,this.rotationCenter.z=-e.rotation_center.z,this.distance=e.focal_length,this.pan.x=e.pan.x,this.pan.y=e.pan.y,this._cameraMode=e.camera||this._cameraMode,this._setNeedsRedrawFlag()}},a.prototype.animateTo=function(e,t){this.setRotateAnimation(!1);var n=t;void 0===n&&(n=.5);var i=this.getCameraParams();this.animateInfo={start:i,end:e,starttime:window.performance.now(),duration:n},this.setCameraParams(e)},a.prototype.slerp=function(e,t,n){var i=new s.Euler(-t.rotation.roll*s.Math.DEG2RAD,t.rotation.pitch*s.Math.DEG2RAD,-t.rotation.yaw*s.Math.DEG2RAD,"ZYX"),o=new s.Euler(-e.rotation.roll*s.Math.DEG2RAD,e.rotation.pitch*s.Math.DEG2RAD,-e.rotation.yaw*s.Math.DEG2RAD,"ZYX"),r=(new s.Quaternion).setFromEuler(o,"ZYX"),a=(new s.Quaternion).setFromEuler(i,"ZYX"),l=new s.Quaternion;s.Quaternion.slerp(r,a,l,n);var c=(new s.Euler).setFromQuaternion(l,"ZYX");function p(e,t,n){return e+(t-e)*n}this.setCameraParams({rotation:{roll:-c.x*s.Math.RAD2DEG,pitch:c.y*s.Math.RAD2DEG,yaw:-c.z*s.Math.RAD2DEG},rotation_center:{x:p(e.rotation_center.x,t.rotation_center.x,n),y:p(e.rotation_center.y,t.rotation_center.y,n),z:p(e.rotation_center.z,t.rotation_center.z,n)},focal_length:p(e.focal_length,t.focal_length,n),pan:{x:p(e.pan.x,t.pan.x,n),y:p(e.pan.y,t.pan.y,n)}})},a.prototype.onNeedsRedraw=function(){},o(l,s.EventDispatcher),l.prototype.getName=function(){return this._name},l.prototype.pointerdown=function(e){if(!1!==this.enabled){e.isPrimary;var t=e.pointerId,n={id:t,clientX:e.clientX,clientY:e.clientY,lastSeen:window.performance.now()},o=[],r=0,s=window.performance.now()-50;for(r=0;r<this.events.touches.length;r++)this.events.touches[r].id!==t&&this.events.touches[r].lastSeen>s&&o.push(this.events.touches[r]);this.events.touches=o,this.events.touches.push(n),e.changedTouches=[],e.changedTouches.push(n),e.touches=this.events.touches,i.isMobile()||e.touches&&e.touches.length>=2?this.touchstart(e,!0):0!==e.button&&2!==e.button||(this._pageLast.x=e.pageX,this._pageLast.y=e.pageY,this.getMouseOnScreen(e.pageX,e.pageY,this._pxLast),this._pxDown.x=this._pxLast.x,this._pxDown.y=this._pxLast.y,this._mouseMoved=!1,this.dispatchEvent(this.startEvent),0===e.button?this._state===this.STATE.ZOOM?this._state=this.STATE.PAN:this._state=this.STATE.ROTATE:2===e.button&&(this._state===this.STATE.ROTATE?this._state=this.STATE.PAN:this._state=this.STATE.ZOOM)),this._cameraMover._setNeedsRedrawFlag()}},l.prototype.setPanningDisabled=function(e){this._panningDisabled=e},l.prototype.getPanningDisabled=function(){return this._panningDisabled},l.prototype.setRotationDisabled=function(e){this._rotationDisabled=e},l.prototype.getRotationDisabled=function(){return this._rotationDisabled},l.prototype.pointermove=function(e){if(!1!==this.enabled){e.isPrimary;var t,n=e.pointerId,o={id:n,clientX:e.clientX,clientY:e.clientY,lastSeen:window.performance.now()};for(t=0;t<this.events.touches.length;t++)this.events.touches[t].id===n&&(this.events.touches[t]=o);if(e.changedTouches=[],e.changedTouches.push(o),e.touches=this.events.touches,i.isMobile()||e.touches&&e.touches.length>=2)this.touchmove(e,!0);else{if(this.onMouseMove(e,e.pageX,e.pageY),this.getMouseOnScreen(e.pageX,e.pageY,this._pxNow),!1===this._mouseMoved&&Math.abs(this._pxNow.x-this._pxDown.x)<.01&&Math.abs(this._pxNow.y-this._pxDown.y)<.01)return;this._mouseMoved=!0,3===e.buttons&&(this._state=this.STATE.PAN),this._state===this.STATE.ROTATE&&(this._modifyRotate(),this._pxLast=this._pxNow.clone(),this._cameraMover._setNeedsRedrawFlag()),this._state===this.STATE.PAN&&(this._modifyPan(),this._pxLast=this._pxNow.clone(),this._cameraMover._setNeedsRedrawFlag()),this._state===this.STATE.ZOOM&&(this._modifyZoom(void 0,!1),this._pxLast=this._pxNow.clone(),this._cameraMover._setNeedsRedrawFlag())}}},l.prototype.pointerup=function(e){if(!1!==this.enabled){var t,n=[],o=!1,r=e.pointerId;for(t=0;t<this.events.touches.length;t++)this.events.touches[t].id!==r?n.push(this.events.touches[t]):o=!0;if(this.events.touches=n,!0===o){var s={id:r,clientX:e.clientX,clientY:e.clientY,lastSeen:window.performance.now()};e.changedTouches=[],e.changedTouches.push(s),e.touches=this.events.touches}if(this.viewer.isPseudoVRMode()&&this.viewer._webviewer3d.setActionState("actAnimate","active",!0),i.isMobile()||e.touches&&e.touches.length>=2)this.touchend(e,!0);else{if(!1===this._mouseMoved)return this.onClickEvent(e),this._cameraMover._setNeedsRedrawFlag(),void(this._state=this.STATE.NONE);this._state===this.STATE.PAN&&(this.getMouseOnScreen(e.pageX,e.pageY,this._pxLast),0===e.button?this._state=this.STATE.ZOOM:this._state=this.STATE.ROTATE),this._state=this.STATE.NONE,this.dispatchEvent(this.endEvent),this._cameraMover._setNeedsRedrawFlag()}}},l.prototype.pointercancel=function(e){},l.prototype.lostpointercapture=function(e){},l.prototype.pointerout=function(e){},l.prototype.mouseout=function(e){},l.prototype.enable=function(){this.enabled=!0},l.prototype.disable=function(){this.enabled=!1},l.prototype.onresize=function(){if(this.domElement===document)this.screen.left=0,this.screen.top=0,this.screen.width=window.innerWidth,this.screen.height=window.innerHeight;else if(this.domElement){var e=this.domElement.getBoundingClientRect(),t=this.domElement.ownerDocument.documentElement;this.screen.left=e.left+window.pageXOffset-t.clientLeft,this.screen.top=e.top+window.pageYOffset-t.clientTop,this.screen.width=e.width,this.screen.height=e.height}this._cameraMover._setNeedsRedrawFlag()},l.prototype.handleEvent=function(e){"function"==typeof this[e.type]&&this[e.type](e)},l.prototype.getMouseOnScreen=function(e,t,n){var i=1/this.screen.width,o=1/this.screen.height;return n.set((e-this.screen.left)*i,(t-this.screen.top)*o)},l.prototype.getContextMenuIntersectionTypes=function(){var e=[];return void 0!==this.viewer.signals&&"function"==typeof this.viewer.signals.getContextMenuIntersectionTypes&&(e=this.viewer.signals.getContextMenuIntersectionTypes(this.viewer)),e},l.prototype.getLeftClickIntersectionTypes=function(){var e=[];return void 0!==this.viewer.signals&&"function"==typeof this.viewer.signals.getLeftClickIntersectionTypes&&(e=this.viewer.signals.getLeftClickIntersectionTypes(this.viewer)),e},l.prototype.onMouseMove=function(e,t,n){this.viewer.signals&&this.viewer.signals.onMouseMove&&this.viewer.signals.onMouseMove(this.viewer,e,t,n)},l.prototype.onLeftClickObject=function(e,t,n,i){if(void 0!==this.viewer.signals){var o=0,r=!1;for(o=0;o<i.length&&!0!==(r=this.viewer.signals.onLeftClickObject(this.viewer,e,t,n,i[o]));o++);return!1===r&&(r=this.viewer.signals.onLeftClickObject(this.viewer,e,t,n,void 0)),r}return!1},l.prototype.onDoubleLeftClickObject=function(e,t,n,i){if(void 0!==this.viewer.signals){var o=0,r=!1;for(o=0;o<i.length&&!0!==(r=this.viewer.signals.onDoubleLeftClickObject(this.viewer,e,t,n,i[o]));o++);return!1===r&&(r=this.viewer.signals.onDoubleLeftClickObject(this.viewer,e,t,n,void 0)),r}return!1},l.prototype.onContextMenuObject=function(e,t,n,i){if(void 0!==this.viewer.signals){var o=0,r=!1;for(o=0;o<i.length&&!0!==(r=this.viewer.signals.onContextMenuObject(this.viewer,e,t,n,i[o]));o++);return!1===r&&(r=this.viewer.signals.onContextMenuObject(this.viewer,e,t,n,void 0)),r}return!1},l.prototype.onClickObject=function(e,t){var n=!0;return void 0!==t&&(n=t.object.visible),!0===n&&(2===e.button?this.onContextMenuObject(e,e.pageX,e.pageY,t):this.onLeftClickObject(e,e.pageX,e.pageY,t))},l.prototype.getHitInfosAtPos=function(e,t,n){var i=new s.Vector2;this.getMouseOnScreen(e,t,i),i.x=2*i.x-1,i.y=1-2*i.y,this.collectObject=function(){this.result=[],this.collect=function(e){if(e){!0===e.visible&&(e.updateMatrixWorld(!0),this.result.push(e));var t=e.children,n=0;if(void 0!==t)for(n=0;n<t.length;n++)this.collect(t[n])}},this.getFilteredResult=function(e){var t=[],n=0;for(n=0;n<this.result.length;n++)e.indexOf(this.result[n].userData.drawType)>=0&&t.push(this.result[n]);return t}};var o=new this.collectObject;o.collect(this.viewer._meshes_root);var r=new s.Raycaster;r.setFromCamera(i,this._camera);var a=r.intersectObjects(o.getFilteredResult(n)),l=[],c=0;for(c=0;c<a.length;c++)!0===a[c].object.visible&&l.push(a[c]);return l},l.prototype.onClickEvent=function(e){var t;return 2===e.button?(t=this.getHitInfosAtPos(e.pageX,e.pageY,this.getContextMenuIntersectionTypes()),this.onContextMenuObject(e,e.pageX,e.pageY,t)):(t=this.getHitInfosAtPos(e.pageX,e.pageY,this.getLeftClickIntersectionTypes()),this.onLeftClickObject(e,e.pageX,e.pageY,t))},l.prototype._modifyRotate=function(){if(!this._rotationDisabled){var e=new s.Matrix4,t=this._pxNow.y-this._pxLast.y,n=this._pxNow.x-this._pxLast.x,i=Math.max(this._cameraMover.distance/(100*this._camera.near),.25);i=i>1?1:i;var o=Math.max(this._camera.zoom,1)/i;n*=2*Math.PI/o,t*=2*Math.PI/o,e.makeRotationFromEuler(new s.Euler(t,n,0,"XYZ"));var r=new s.Matrix4;r.multiplyMatrices(e,this._cameraMover.matrix),this._cameraMover.setRotationMatrix(r)}},l.prototype._modifyPan=function(){if(!this._panningDisabled){var e=this._pxNow.y-this._pxLast.y,t=this._pxNow.x-this._pxLast.x,n=this._cameraMover.distance;if(this._camera instanceof s.OrthographicCamera)t*=2*this._camera.right/Math.max(this._camera.zoom,1),e*=2*this._camera.top/Math.max(this._camera.zoom,1);else{var i=n/(Math.tan((90-this._camera.fov/2)/180*Math.PI)/2);t*=i*this._camera.aspect/Math.max(this._camera.zoom,1),e*=i/Math.max(this._camera.zoom,1)}this._cameraMover.pan.x+=t,this._cameraMover.pan.y-=e}},l.prototype._modifyZoom=function(e,t){var n=this._pxNow.y-this._pxLast.y;e=e||1+n;var i=this._cameraMover.distance;if((e<1||this._cameraMover.distance/this._camera.zoom<this._camera.maxZoom)&&(this._cameraMover.distance=Math.min(this._camera.maxZoom||this._cameraMover.distance*e,this._cameraMover.distance*e),this._setOrthographicDistanceAccordingToPerspective()),!0===t){var o=Math.tan((90-this._camera.fov/2)/180*Math.PI)/2,r=2*this._pxDown.x-1,s=-1*(2*this._pxDown.y-1),a=o/this._camera.aspect/2*r,l=o/2*s;this._cameraMover.pan.x+=a*(this._cameraMover.distance-i),this._cameraMover.pan.y+=l*(this._cameraMover.distance-i)}},l.prototype.mousemove=function(e){window.PointerEvent||this.pointermove(e)},l.prototype.mouseup=function(e){window.PointerEvent||this.pointerup(e)},l.prototype.mousedown=function(e){window.PointerEvent||this.pointerdown(e)},l.prototype.dblclick=function(e){var t;if(!1!==this.enabled)return 0===e.button?(t=this.getHitInfosAtPos(e.pageX,e.pageY,this.getLeftClickIntersectionTypes()),this.onDoubleLeftClickObject(e,e.pageX,e.pageY,t)):void 0},l.prototype.DOMMouseScroll=function(e){this.mousewheel(e)},l.prototype.mousewheel=function(e){if(!1!==this.enabled){e.preventDefault(),this.eatEvents&&e.stopPropagation();var t=0;e.wheelDelta?t=e.wheelDelta/40:e.detail&&(t=-e.detail/3),this.getMouseOnScreen(e.pageX,e.pageY,this._pxNow),this._pxDown=this._pxNow.clone(),this._modifyZoom(1-t/30,!1),this.dispatchEvent(this.startEvent),this.dispatchEvent(this.endEvent),this.viewer.signals.onMouseWheel&&this.viewer.signals.onMouseWheel(this.viewer,e,e.pageX,e.pageY),this._cameraMover._setNeedsRedrawFlag()}},l.prototype.calcMouseHelper=function(e,t){var n=new s.Vector2,i=new s.Vector2;this.getMouseOnScreen(e.x,e.y,n),this.getMouseOnScreen(t.x,t.y,i);var o=i.x-n.x,r=i.y-n.y,a=Math.atan2(o,r),l=new s.Vector2;return l.set(n.x+.5*o,n.y+.5*r),{center:l,length:Math.sqrt(o*o+r*r),angle:a}},l.prototype.touchstart=function(e,t){if(!1!==this.enabled&&!("Android"===i.getMobileOS()&&e.touches instanceof TouchList)&&(t||!window.PointerEvent||i.isMobile()))if(this.intouch=!0,this._mouseMoved=!1,this.intouch_start=window.performance.now(),e.touches.length>1){this.lastMouse0=new s.Vector2(e.touches[0].clientX,e.touches[0].clientY),this.lastMouse1=new s.Vector2(e.touches[1].clientX,e.touches[1].clientY);var n=this.calcMouseHelper(this.lastMouse0,this.lastMouse1);this._pxDown=n.center,this.startDoubleTouch=!0}else e.touches.length>0&&(this.startDoubleTouch=!1,this.lastMouse0=new s.Vector2(e.changedTouches[0].clientX,e.changedTouches[0].clientY),this.getMouseOnScreen(this.lastMouse0.x,this.lastMouse0.y,this._pxDown),this.getMouseOnScreen(this.lastMouse0.x,this.lastMouse0.y,this._pxLast))},l.prototype.touchmove=function(e,t){if(!1!==this.enabled&&!0===this.intouch&&!("Android"===i.getMobileOS()&&e.touches instanceof TouchList)&&(t||!window.PointerEvent||i.isMobile()))if(e.touches&&e.touches.length>1){var n=this.calcMouseHelper(this.lastMouse0,this.lastMouse1);if(this.lastMouse0=new s.Vector2(e.touches[0].clientX,e.touches[0].clientY),this.lastMouse1=new s.Vector2(e.touches[1].clientX,e.touches[1].clientY),!0===this.startDoubleTouch){this._mouseMoved=!0;var o=this.calcMouseHelper(this.lastMouse0,this.lastMouse1);this._pxLast=n.center,this._pxNow=o.center,this._modifyPan(),this._modifyZoom(n.length/o.length,!1),this._cameraMover._setNeedsRedrawFlag();var r=new s.Matrix4;r.makeRotationZ(o.angle-n.angle);var a=new s.Matrix4;a.multiplyMatrices(r,this._cameraMover.matrix),this._cameraMover.setRotationMatrix(a),this._pxLast=this._pxNow.clone()}this.startDoubleTouch=!0}else if(e.touches.length>0){var l=new s.Vector2(e.touches[0].clientX,e.touches[0].clientY);if(this.getMouseOnScreen(l.x,l.y,this._pxNow),!0!==this.startDoubleTouch){if(!1===this._mouseMoved&&Math.abs(this._pxNow.x-this._pxDown.x)<.01&&Math.abs(this._pxNow.y-this._pxDown.y)<.01){if(window.performance.now()-this.intouch_start>500){var c=e.touches[0].clientX,p=e.touches[0].clientY,d=this.getHitInfosAtPos(c,p,this.getContextMenuIntersectionTypes());this.onContextMenuObject(e,c,p,d),this.intouch=!1}return}this._mouseMoved=!0,this._modifyRotate()}this._pxLast=this._pxNow.clone(),this._cameraMover._setNeedsRedrawFlag(),this.lastMouse0=l,this.startDoubleTouch=!1}},l.prototype.touchend=function(e,t){if(!1!==this.enabled&&!("Android"===i.getMobileOS()&&e.touches instanceof TouchList)&&(t||!window.PointerEvent||i.isMobile())&&e.touches&&0===e.touches.length&&(this.intouch=!1,this.startDoubleTouch=!1,!1===this._mouseMoved&&this.lastMouse0)){var n=this.lastMouse0.x,o=this.lastMouse0.y,r=window.performance.now();if(r-this.intouch_start<500){var s=this.getHitInfosAtPos(n,o,this.getLeftClickIntersectionTypes());r-this.doubleClickCheck.time<300&&Math.abs(n-this.doubleClickCheck.x)<20&&Math.abs(o-this.doubleClickCheck.y)<20?this.onDoubleLeftClickObject(e,n,o,s):this.onLeftClickObject(e,n,o,s),this.doubleClickCheck.time=r,this.doubleClickCheck.x=n,this.doubleClickCheck.y=o}this._cameraMover._setNeedsRedrawFlag()}},l.prototype.calibriateInitialOrientation=function(e){var t=i.getOrientation(),n=!0;this._lastMotionEvent&&(n="iOS"===i.getMobileOS()?90===t&&this._lastMotionEvent.accelerationIncludingGravity.y<this._lastMotionEvent.accelerationIncludingGravity.x||90!==t&&this._lastMotionEvent.accelerationIncludingGravity.y>this._lastMotionEvent.accelerationIncludingGravity.x:this._lastMotionEvent.accelerationIncludingGravity.y>this._lastMotionEvent.accelerationIncludingGravity.x),!this._lastMotionEvent||n||void 0!==t&&90!==t&&-90!==t&&270!==t?this.deviceCalibrationArray=[]:(this.deviceCalibrationArray.length===this.measuresNeededForCalibration&&(this.deviceIsCalibrated=!0,window.removeEventListener("devicemotion",this._boundDeviceMotionHandler,!1)),0===this.deviceCalibrationArray.length||Math.abs(e.alpha-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].alpha)<10&&Math.abs(e.beta-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].beta)<10&&Math.abs(e.gamma-this.deviceCalibrationArray[this.deviceCalibrationArray.length-1].gamma)<10?this.deviceCalibrationArray.push(e):this.deviceCalibrationArray=[])},l.prototype.deviceMotionHandler=function(e){this._lastMotionEvent=e},l.prototype.deviceOrientationHandler=function(e){this.updateOrientation=!0,this.deviceOrientation.alpha=s.Math.degToRad(e.alpha||0),this.deviceOrientation.beta=s.Math.degToRad(e.beta||0),this.deviceOrientation.gamma=s.Math.degToRad(e.gamma||0),this.deviceOrientation.screenOrientation=s.Math.degToRad(window.orientation||0),this.deviceIsCalibrated?(this.deviceOrientationIsFirstEvent&&(this.deviceOrientationIsFirstEvent=!1,e.gamma<0?this.deviceOrientation.initQuaternion.setFromEuler(new s.Euler(0,-this.deviceOrientation.alpha+.5*Math.PI,0,"YXZ")):this.deviceOrientation.initQuaternion.setFromEuler(new s.Euler(0,-this.deviceOrientation.alpha+1.5*Math.PI,0,"YXZ"))),this.setNeedsRedrawFlag()):this.calibriateInitialOrientation(e)},l.prototype.update=function(){if(this.deviceOrientationEventsBound&&this.updateOrientation){var e=new s.Quaternion,t=new s.Vector3(0,0,1),n=new s.Euler,i=new s.Quaternion,o=new s.Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));n.set(this.deviceOrientation.beta,this.deviceOrientation.alpha,-this.deviceOrientation.gamma,"YXZ"),e.setFromEuler(n),e.multiplyQuaternions(this.deviceOrientation.initQuaternion,e),e.multiply(o),e.multiply(i.setFromAxisAngle(t,-this.deviceOrientation.screenOrientation));var r=new s.Matrix4;r.makeRotationFromQuaternion(e),this._cameraMover.setCameraTiltMatrix(r),this.updateOrientation=!1}},l.prototype.bindDeviceOrientationEvents=function(){window.DeviceOrientationEvent&&(this._boundDeviceOrientationHandler=this._boundDeviceOrientationHandler||this.deviceOrientationHandler.bind(this),this._boundDeviceMotionHandler=this._boundDeviceMotionHandler||this.deviceMotionHandler.bind(this),window.addEventListener("deviceorientation",this._boundDeviceOrientationHandler),window.addEventListener("devicemotion",this._boundDeviceMotionHandler),this.deviceOrientationEventsBound=!0,this.deviceOrientationIsFirstEvent=!0,this.deviceIsCalibrated=!1)},l.prototype.unbindDeviceOrientationEvents=function(){this.deviceOrientationEventsBound&&(window.removeEventListener("deviceorientation",this._boundDeviceOrientationHandler),window.removeEventListener("devicemotion",this._boundDeviceMotionHandler),this.deviceOrientationEventsBound=!1),this.deviceCalibrationArray=[]},l.prototype.optionsChanged=function(e){e.useDeviceOrientationControl&&!this.deviceOrientationEventsBound?this.bindDeviceOrientationEvents():!1===e.useDeviceOrientationControl&&(this.unbindDeviceOrientationEvents(),this._cameraMover.setCameraTiltMatrix(new s.Matrix4)),this._cameraMover._dreamocType=e.dreamocType},l.prototype._setOrthographicDistanceAccordingToPerspective=function(){if(this._camera instanceof s.OrthographicCamera){var e=this._cameraMover.getCameraParams().frustum;this._camera.left=e.width/-2,this._camera.right=e.width/2,this._camera.top=e.height/2,this._camera.bottom=e.height/-2,this._camera.updateProjectionMatrix(),this.setNeedsRedrawFlag()}},l.prototype.setNeedsRedrawFlag=function(){this.viewer&&this.viewer.needsredraw_flag()},l.prototype.animateTo=function(e,t){this._cameraMover.animateTo(e,t),this._setOrthographicDistanceAccordingToPerspective()},l.prototype.setCamera=function(e){this._camera=e,this._setOrthographicDistanceAccordingToPerspective();var t=this._cameraMover.getCameraParams();this._camera instanceof s.OrthographicCamera?t.camera=r.CameraMode.Orthographic:t.camera=r.CameraMode.Perspective,this._cameraMover.setCameraParams(t)},l.prototype.getCamera=function(){return this._camera},l.prototype.init=function(){this.onresize(),this.update()},l.prototype.dispose=function(){this.unbindDeviceOrientationEvents(),this.events=null,this._cameraMover.dispose(),this._cameraMover=null,this._camera=null,this.viewer=null,this.domElement=null},window.performance=window.performance||{},window.performance.now=window.performance.now||window.performance.webkitNow||window.performance.mozNow||window.performance.msNow||function(){return Date.now?Date.now():+new Date},t.exports={CameraMover:a,CameraMoverControl:l}},{"./cnsthreeEnums":95,THREE:"THREE",inherits:208,"viewBase/js/viewHelper":59}],98:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("THREE"),o=jQuery,r=e("THREE_Font_droid_sans"),s=e("./fonts/view3d.typeface.json"),a=function(){function e(){}return e.createThreeVector4FromHexARGB=function(e){var t=0,n=0,o=0,r=1;return 9===e.length&&"#"===e.substr(0,1)&&(r=parseInt(e.substr(1,2),16)/255,t=parseInt(e.substr(3,2),16)/255,n=parseInt(e.substr(5,2),16)/255,o=parseInt(e.substr(7,2),16)/255),new i.Vector4(t,n,o,r)},e._loadFont=function(){var t=o.extend(!0,{},r,s);return e._font=new i.Font(t),e._font},e.create3DTextShapeGeometry=function(t,n,o){var r=(e._font||e._loadFont()).generateShapes(t,n);return new i.ShapeBufferGeometry(r,o)},e._font=null,e}();n.Helper=a},{"./fonts/view3d.typeface.json":106,THREE:"THREE",THREE_Font_droid_sans:"THREE_Font_droid_sans"}],99:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}},r=e("THREE"),s=e("base/js/helpers"),a=e("./loaders/convertLoader"),l=e("./loaders/daeLoader"),c=e("./loaders/fbxLoader"),p=e("./loaders/gltfLoader"),d=e("./loaders/loaderError"),h=e("./loaders/objmtlLoader"),u=e("./loaders/pjvLoader/assemblyLoader"),m=e("./loaders/pjvLoader/pjvLoader"),f=e("./loaders/plyLoader"),g=e("./loaders/pseudoFile"),_=e("./loaders/stlLoader"),v=e("./loaders/tdsLoader"),b=e("./loaders/zipLoader"),w=e("./loaders/zjvLoader"),y=function(){function e(){}return e.load=function(t,n){return i(this,void 0,void 0,function(){var i,r,s;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,5,,6]),i=[],t instanceof FileList)if(Array.from)i=Array.from(t);else for(r=void 0,r=0;r<t.length;r++)i.push(t[r]);else i=t instanceof Array?t:[t];return s=void 0,e.isCNSAssembly(i[0])?[4,e.loadGLTFCnsAssembly(i,n)]:[3,2];case 1:return s=[o.sent()],[3,4];case 2:return[4,e.loadList(i,n)];case 3:s=o.sent(),o.label=4;case 4:return[2,e.putObjectsTogether(s)];case 5:throw o.sent();case 6:return[2]}})})},e.loadList=function(t,n){var r=this;return new Promise(function(a,l){return i(r,void 0,void 0,function(){var i,r,c,p,h,u,m,f,_,v,b,w;return o(this,function(o){switch(o.label){case 0:for(i=[],r=[],c=0;c<t.length;c++)h=void 0,f=!1,u=e.unknownExtension,"string"==typeof(p=t[c])?h=p:(s.checkForClass(p,"File")||p instanceof g.PseudoFile)&&(h=p.name),h&&(u=e.getExtension(h),f=-1!==e.supportedFileExtensions.indexOf(u)),f||"string"==typeof p&&(u=e.checkForAsciiFile(p),f=-1!==e.supportedFileExtensions.indexOf(u)),f&&-1===i.indexOf(u)&&i.push(u);for(_=0,v=i;_<v.length;_++)m=v[_],r.push(e.mapping[m].load(t,n));o.label=1;case 1:return o.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return(b=o.sent()).length?a(b):l(new d.LoaderError(d.ErrorCodes.NoLoadableFiles)),[3,4];case 3:return w=o.sent(),l(w),[3,4];case 4:return[2]}})})})},e.putObjectsTogether=function(e){var t=new r.Group;if(e.length){var n=void 0;for(n=0;n<e.length;n++)t.add(e[n])}return t},e.checkForAsciiFile=function(t){for(var n in e.mapping)if(e.mapping.hasOwnProperty(n)&&e.mapping[n].checkForASCIIMagic(t))return n;return e.unknownExtension},e.loadZIP=function(t,n){return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,b.ZIPLoader.load(t)];case 1:return t=o.sent(),[4,e.loadList(t,n)];case 2:return i=o.sent(),[4,e.putObjectsTogether(i)];case 3:return[2,o.sent()]}})})},e.loadGLTFCnsAssembly=function(e,t){return u.AssemblyLoader.load(e,t)},e.getExtension=function(e){var t=e.split(".");return t[t.length-1].toLowerCase()},e.isCNSAssembly=function(t){return!!(e.isObject(t)&&e.isObject(t.response)&&e.isObject(t.response.assembly)&&e.isObject(t.response.version))},e.isObject=function(e){return!(!e||{}.constructor!==e.constructor)},e.ZIPLoaderWrapper={checkForASCIIMagic:function(){return!1},load:e.loadZIP},e.mapping={"3ds":v.TDSLoader,ase:a.ConvertLoader,blend:a.ConvertLoader,dae:l.DAELoader,fbx:c.FBXLoader,glb:p.GLTFLoader,gltf:p.GLTFLoader,ifc:a.ConvertLoader,lwo:a.ConvertLoader,lws:a.ConvertLoader,obj:h.MtlObjLoader,pjv:m.PJVLoader,ply:f.PLYLoader,step:a.ConvertLoader,stl:_.STLLoader,stp:a.ConvertLoader,zip:e.ZIPLoaderWrapper,zjv:w.ZJVLoader},e.unknownExtension="UNKNOWN",e.supportedFileExtensions=["ase","blend","ifc","lws","lwo","stl","pjv","zjv","stp","step","dae","obj","ply","3ds","fbx","zip","glb","gltf"],e}();t.exports=y},{"./loaders/convertLoader":108,"./loaders/daeLoader":109,"./loaders/fbxLoader":110,"./loaders/gltfLoader":111,"./loaders/loaderError":112,"./loaders/objmtlLoader":113,"./loaders/pjvLoader/assemblyLoader":115,"./loaders/pjvLoader/pjvLoader":116,"./loaders/plyLoader":133,"./loaders/pseudoFile":134,"./loaders/stlLoader":135,"./loaders/tdsLoader":136,"./loaders/zipLoader":137,"./loaders/zjvLoader":138,THREE:"THREE","base/js/helpers":7}],100:[function(e,t,n){"use strict";var i=jQuery,o=window.THREE||e("THREE");window.THREE=o,e("THREE_EffectComposer"),e("THREE_RenderPass"),e("THREE_ShaderPass"),e("THREE_SAOPass"),e("THREE_CopyShader"),e("THREE_SAOShader"),e("THREE_DepthLimitedBlurShader"),e("THREE_UnpackDepthRGBAShader"),e("THREE_SMAA"),e("THREE_SMAAShader"),e("THREE_MaskPass");var r=e("base/js/logger"),s=e("./cnsthreeEnums");t.exports=function(){this._DEBUG=!1,this._width=0,this._height=0,this._sphereRadius=0,this._target=void 0,this._targetByte=[],this._allTarget=void 0,this._writeTarget=void 0,this._usePostProcessing=!1,this._renderQueue=[],this._viewer=null,this._modified=!1,this._compartibleRendererForEffect=void 0,this._effect_renderer=void 0,this._options={},this._VREffect=null,this._effectComposer=null,this._saoPass=null,this._smaaPass=null,this._dreamocPass=null,this._getRenderInfoDeferred=null,this._collectRenderInfoData=!1,this._renderInfo={calls:0,faces:0,points:0,vertices:0},this.getRenderInfo=function(){return this._getRenderInfoDeferred=new i.Deferred,this._collectRenderInfoData=!0,this._getRenderInfoDeferred.done(function(){this._collectRenderInfoData=!1}.bind(this)),this._getRenderInfoDeferred.promise()},this._clearRenderInfo=function(){this._renderInfo.calls=0,this._renderInfo.faces=0,this._renderInfo.points=0,this._renderInfo.vertices=0},this._addTHREERendererInfoToRenderInfo=function(){var e=this._viewer._renderer.info.render;this._renderInfo.calls+=e.calls,this._renderInfo.faces+=e.faces,this._renderInfo.points+=e.points,this._renderInfo.vertices+=e.vertices},this.getOverlayDIV=function(){return this._viewer._contentDIV},this.clearTargets=function(){this._target&&this._target.dispose(),this._target=void 0;var e=0;for(e=0;e<this._targetByte.length;e++)this._targetByte[e]&&this._targetByte[e].dispose();this._targetByte=[],this._allTarget=void 0,this._writeTarget=void 0},this.setSize=function(e,t,n,i){(i||this._width!==e||this._height!==t||this._viewer._devicePixelRatio!==n)&&(this._width=e,this._height=t,this.clearTargets(),this._effect_renderer&&this._effect_renderer.setSize(e*this._viewer._devicePixelRatio,t*this._viewer._devicePixelRatio),this._VREffect&&this._VREffect.setSize(e,t),this._effectComposer&&this._effectComposer.setSize(e*this._viewer._devicePixelRatio,t*this._viewer._devicePixelRatio))},this.getFloatTarget=function(e,t){if(this._viewer._renderer.extensions.get("OES_texture_float")){var n=this._target;return void 0===n&&(e=e||this._width*this._viewer._devicePixelRatio,t=t||this._height*this._viewer._devicePixelRatio,n=new o.WebGLRenderTarget(e,t,{type:o.FloatType,minFilter:o.NearestFilter,magFilter:o.NearestFilter,wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,format:o.RGBAFormat})),this._target=n,n}},this.getByteTarget=function(e,t,n){var i=0;e&&(i=e);var r=this._targetByte[i];return void 0===r&&(t=t||this._width*this._viewer._devicePixelRatio,n=n||this._height*this._viewer._devicePixelRatio,r=new o.WebGLRenderTarget(t,n,{minFilter:o.NearestFilter,magFilter:o.NearestFilter,wrapS:o.ClampToEdgeWrapping,wrapT:o.ClampToEdgeWrapping,format:o.RGBAFormat})),this._targetByte[i]=r,r},this.requestVR=function(e){this._VREffect?e||!this._VREffect.isPresenting?this._VREffect.requestPresent():this._VREffect.isPresenting&&this._VREffect.exitPresent():r.error("VR renderer isn't initializied, can't present!")},this.initWithOptions=function(t,n){this._options=t,this._viewer=n,this._sphereRadius=n._sphereRadius,this._usePostProcessing=!1;var r=[];if(t.sao&&!t.isCutOn&&!t.dreamocHD&&!t.bluebox){this._usePostProcessing=!0,this._saoPass||(this._saoPass=new o.SAOPass(n.getScene(),n.getCamera(),!1,!0)),this._saoPass.scene=n.getScene(),this._saoPass.camera=n.getCamera(),r.push(this._saoPass);var a=1/n.getSphereRadius()*.5,l=.005*a,c=window.saoPass&&window.saoPass.params||{output:o.SAOPass.OUTPUT.Default,saoBias:l,saoIntensity:a,saoScale:1.35,saoKernelRadius:30,saoMinResolution:0,saoBlur:!0,saoBlurRadius:8,saoBlurStdDev:4,saoBlurDepthCutoff:.01};this._saoPass.params=c,this._DEBUG&&(window.saoPass=this._saoPass)}if(t.dreamocHD&&(this._usePostProcessing=!0,this._dreamocPass?this._dreamocPass.update(t,n):this._dreamocPass=new(e("./cns_renderer/dreamoc_pass").default)(t,n),r.push(this._dreamocPass)),this._usePostProcessing){var p,d;for(this._effectComposer||(this._effectComposer=new o.EffectComposer(n._renderer)),this._smaaPass||(this._smaaPass=new o.SMAAPass(n._viewerWidth*this._viewer._devicePixelRatio,n._viewerHeight*this._viewer._devicePixelRatio)),r.push(this._smaaPass),p=0;p<this._effectComposer.passes.length;p++)d=this._effectComposer.passes[p],-1===r.indexOf(d)&&d.dispose&&d.dispose();for(this._effectComposer.passes=r,p=0;p<this._effectComposer.passes.length;p++)d=this._effectComposer.passes[p],p===this._effectComposer.passes.length-1?d.renderToScreen=!0:d.renderToScreen=!1}!this._VREffect&&t.enableVR&&(window.WebVRConfig=i.extend(!0,window.WebVRConfig,{ROTATE_INSTRUCTIONS_DISABLED:!1,BUFFER_SCALE:1}),"function"!=typeof window.CustomEvent&&e("custom-event-polyfill"),e("webvr-polyfill"),e("THREE_VREffect"),this._compartibleRendererForEffect=this.createCompartibleRendererForEffects(),this._VREffect=new o.VREffect(this._compartibleRendererForEffect)),t.anaglyph?(this._compartibleRendererForEffect=this.createCompartibleRendererForEffects(),e("THREE_AnaglyphEffect"),this._effect_renderer=new o.AnaglyphEffect(this._compartibleRendererForEffect,this._width*this._viewer._devicePixelRatio,this._height*this._viewer._devicePixelRatio)):(this._effect_renderer&&this._effect_renderer.dispose(),this._effect_renderer=null);var h=[];t.dreamocHD||t.bluebox?this._viewer._renderer.setClearColor(0,1):(this._viewer._renderer.setClearColor(0,0),t.cameraBackground||(h.push({renderer:this.rendererBackground||(this.rendererBackground=new(e("./cns_renderer/cnsthree_background_gradient_render")))}),t.logoTexture&&h.push({renderer:this.rendererBackgroundImage||(this.rendererBackgroundImage=new(e("./cns_renderer/cnsthree_background_image_render")))})),!t.vr&&this._viewer.canShowLabels()&&h.push({renderer:this.renderLabel||(this.renderLabel=new(e("./cns_renderer/cnsthree_label_render")))}),(t.environmentOptions.skyboxes.id||t.environmentOptions.floors.id)&&h.push({renderer:this.renderEnvironment||(this.renderEnvironment=new(e("./cns_renderer/cnsthree_environment_render")))}),t.measureGrid.measuringGridOn&&h.push({renderer:this._rendererMeasuringGrid||(this._rendererMeasuringGrid=new(e("./cns_renderer/cnsthree_measureGrid_render")))})),t.showHotSpots&&h.push({renderer:this.renderHotSpot||(this.renderHotSpot=new(e("./cns_renderer/cnsthree_hotspot_render")))}),t.shadeMode!==s.ShadeMode.ShadedEdges&&t.shadeMode!==s.ShadeMode.Line||h.push({renderer:this.renderEdges||(this.renderEdges=new(e("./cns_renderer/cnsthree_edges_render"))),renderSettings:{drawHiddenLines:!1}}),t.shadeMode===s.ShadeMode.ShadedEdges||t.shadeMode===s.ShadeMode.Shaded?t.compareMode?t.compareMode&&(h.push({renderer:this.renderDepth||(this.renderDepth=new(e("./cns_renderer/cnsthree_depth_render")))}),h.push({renderer:this.renderCompareModeFaces||(this.renderCompareModeFaces=new(e("./cns_renderer/cnsthree_comparemode_render")))})):(h.push({renderer:this.renderFaces||(this.renderFaces=new(e("./cns_renderer/cnsthree_face_render")))}),t.isCutOn&&h.push({renderer:this.renderCutMode||(this.renderCutMode=new(e("./cns_renderer/cnsthree_cut_mode")))})):(h.push({renderer:this.renderDepth||(this.renderDepth=new(e("./cns_renderer/cnsthree_depth_render")))}),!t.compareMode&&t.isCutOn&&h.push({renderer:this.renderCutMode||(this.renderCutMode=new(e("./cns_renderer/cnsthree_cut_mode")))})),(t.shadeMode===s.ShadeMode.Line||t.compareMode)&&h.push({renderer:this.renderEdges||(this.renderEdges=new(e("./cns_renderer/cnsthree_edges_render"))),renderSettings:{drawHiddenLines:!0}}),t.outline&&h.push({renderer:this.renderoutline||(this.renderoutline=new(e("./cns_renderer/cnsthree_outline_render")))}),t.showCustomDimensions&&h.push({renderer:this.renderDimension||(this.renderDimension=new(e("./cns_renderer/cnsthree_dimensions_render")))}),t.renderCps&&h.push({renderer:this.renderCps||(this.renderCps=new(e("./cns_renderer/cnsthree_cp_render")))}),t.helperOptions.useHelper&&h.push({renderer:this.renderHelper||(this.renderHelper=new(e("./cns_renderer/cnsthree_helper_render")))});var u,m=0,f=0,g=!1;for(m=0;m<this._renderQueue.length;m++){for(g=!1,u=this._renderQueue[m].renderer,f=0;f<h.length;f++)if(h[f].renderer===u){g=!0;break}g||u.reset()}for(m=0;m<h.length;m++)h[m].renderer.initWithOptions(t,n);this._renderQueue=h,this.setSize(n._viewerWidth,n._viewerHeight,this._viewer._devicePixelRatio,!0),this._modified=!1},this._render=function(e,t,n,i,o){var r=i;this._collectRenderInfoData&&this._clearRenderInfo(),o&&(this._viewer._renderer.autoClear=!1,this._viewer._renderer.clearTarget(r,!0,!0,!0));var s=0;for(s=0;s<this._renderQueue.length;s++)this._renderQueue[s].renderer.render(this,e,t,n,r,this._renderQueue[s].renderSettings);this._viewer._drawType="face",t&&this._viewer._renderer.render(t,n,r),this._getRenderInfoDeferred&&"pending"===this._getRenderInfoDeferred.state()&&this._getRenderInfoDeferred.resolve(this._renderInfo)},this.render=function(e,t,n,i){this._viewer=e,this._height<=0||this._width<=0?this._viewer._renderer.clear():(t.userData.cnsMark=!0,this._sphereRadius=e._sphereRadius,this._usePostProcessing?(this._allTarget=this.getByteTarget(1),this._writeTarget=this.getByteTarget(2)):(this._allTarget=null,this._writeTarget=null),this._effect_renderer&&e.isAnaglyphMode()?(this._compartibleRendererForEffect&&(this._compartibleRendererForEffect._scene_helper=n),this._effect_renderer.render(t,i,this._allTarget)):this._VREffect&&this._options.vr?(this._compartibleRendererForEffect&&(this._compartibleRendererForEffect._scene_helper=n),this._VREffect.render(t,i,this._allTarget,!0)):this._render(t,n,i,this._allTarget,!0),this._effectComposer&&this._usePostProcessing&&(this._effectComposer.readBuffer=this._allTarget,this._effectComposer.writeBuffer=this._writeTarget,this._effectComposer.render()))},this.createCompartibleRendererForEffects=function(e){if(this._compartibleRendererForEffect)return this._compartibleRendererForEffect;var t=this;return{_scene_helper:e,render:function(e,n,i,o){e.userData.cnsMark?t._render(e,this._scene_helper,n,i,o):t._viewer._renderer.render(e,n,i,o)},setSize:function(e,n,i){t._viewer._renderer.setSize(e,n,i)},getClearColor:function(){return t._viewer._renderer.getClearColor()},getClearAlpha:function(){return t._viewer._renderer.getClearAlpha()},setClearColor:function(e,n){t._viewer._renderer.setClearColor(e,n)},clear:function(e,n,i){t._viewer._renderer.clear(e,n,i)},setViewport:function(e,n,i,o){t._viewer._renderer.setViewport(e,n,i,o)},getSize:function(){return t._viewer._renderer.getSize()},getPixelRatio:function(){return t._viewer._renderer.getPixelRatio()},setPixelRatio:function(e){t._viewer._renderer.setPixelRatio(e)},setRenderTarget:function(e){t._viewer._renderer.setRenderTarget(e)},setScissorTest:function(e){t._viewer._renderer.setScissorTest(e)},setScissor:function(e,n,i,o){t._viewer._renderer.setScissor(e,n,i,o)},dispose:function(){t._viewer._renderer.dispose()},domElement:t.getOverlayDIV().children[0]}},this.renderScene=function(e,t,n,o,r,s){if(void 0!==t)if(this._viewer._drawType=e,t instanceof Array){if(t.length){this._options.material&&((s=s||{}).uniforms=s.uniforms||{},i.extend(!0,s.uniforms,this._options.material.uniforms));for(var a=0;a<t.length;++a)this._renderObjectWithCustomSettings(t[a],n,o,r,s)}}else this._viewer._renderer.render(t,n,o,r),this._collectRenderInfoData&&this._addTHREERendererInfoToRenderInfo()},this._renderObjectWithCustomSettings=function(e,t,n,i,o){var r,s,a,l,c,p,d,h=[],u=!1,m={};o=o||{};for(d in e.userData.customUniforms)e.userData.customUniforms.hasOwnProperty(d)&&(m[d]=e.userData.customUniforms[d]);for(d in o.uniforms)o.uniforms.hasOwnProperty(d)&&(m[d]=o.uniforms[d]);if(o.material&&(p=e.material,e.material=o.material,u=!0),e.material&&e.material.uniforms&&m)for(var f in m)if(m.hasOwnProperty(f)){if(!(r=e.material.uniforms[f]))continue;if(l=m[f],c=r.value,void 0===l||null===l||l===c)continue;(s={})[f]=c,h.push(s),e.material.uniforms[f].value=l}this._viewer._renderer.render(e,t,n,i),this._collectRenderInfoData&&this._addTHREERendererInfoToRenderInfo();for(var g=0;g<h.length;++g)s=h[g],a=Object.keys(s)[0],e.material.uniforms[a].value=s[a];u&&(e.material=p)},this.modified=function(){this._modified=!0},this.updateHotspotlist=function(e){this._hotspotPass&&this._hotspotPass.updateHotspotlist(e),this.renderHotSpot&&this.renderHotSpot.updateHotspotlist(e)},this.setDebug=function(e){this._DEBUG=e,this._DEBUG?this._saoPass&&(window.saoPass=this._saoPass):window.saoPass=null},this.dispose=function(){if(this.clearTargets(),this._renderQueue=[],this.rendererBackgroundImage&&this.rendererBackgroundImage.reset(),this.renderCompareModeFaces&&this.renderCompareModeFaces.reset(),this.rendererBackground&&this.rendererBackground.reset(),this.renderDimension&&this.renderDimension.reset(),this.renderoutline&&this.renderoutline.reset(),this.renderCutMode&&this.renderCutMode.reset(),this.renderHotSpot&&this.renderHotSpot.reset(),this.renderHelper&&this.renderHelper.reset(),this.renderLabel&&this.renderLabel.reset(),this.renderFaces&&this.renderFaces.reset(),this.renderDepth&&this.renderDepth.reset(),this.renderEdges&&this.renderEdges.reset(),this.renderCps&&this.renderCps.reset(),this.rendererBackgroundImage=null,this.renderCompareModeFaces=null,this.rendererBackground=null,this.renderDimension=null,this.renderHotSpot=null,this.renderHelper=null,this.renderCutMode=null,this.renderLabel=null,this.renderFaces=null,this.renderDepth=null,this.renderEdges=null,this.renderCps=null,delete this.rendererBackgroundImage,delete this.renderCompareModeFaces,delete this.rendererBackground,delete this.renderDimension,delete this.renderHotSpot,delete this.renderHelper,delete this.renderCutMode,delete this.renderLabel,delete this.renderFaces,delete this.renderDepth,delete this.renderEdges,delete this.renderCps,this._effectComposer){var e,t=this._effectComposer.passes;for(e=0;e<t.lengt;e++)t[e].dispose&&t[e].dispose();this._effectComposer.passes.length=0}this._effectComposer=null,this._saoPass=null,this._smaaPass=null,this._dreamocPass=null,this._usePostProcessing=!1,this._VREffect&&this._VREffect.dispose&&this._VREffect.dispose(),this._VREffect=null,this._viewer=null}}},{"./cns_renderer/cnsthree_background_gradient_render":77,"./cns_renderer/cnsthree_background_image_render":78,"./cns_renderer/cnsthree_comparemode_render":80,"./cns_renderer/cnsthree_cp_render":81,"./cns_renderer/cnsthree_cut_mode":82,"./cns_renderer/cnsthree_depth_render":83,"./cns_renderer/cnsthree_dimensions_render":84,"./cns_renderer/cnsthree_edges_render":85,"./cns_renderer/cnsthree_environment_render":86,"./cns_renderer/cnsthree_face_render":87,"./cns_renderer/cnsthree_helper_render":88,"./cns_renderer/cnsthree_hotspot_render":89,"./cns_renderer/cnsthree_label_render":90,"./cns_renderer/cnsthree_measureGrid_render":91,"./cns_renderer/cnsthree_outline_render":92,"./cns_renderer/dreamoc_pass":93,"./cnsthreeEnums":95,THREE:"THREE",THREE_AnaglyphEffect:"THREE_AnaglyphEffect",THREE_CopyShader:"THREE_CopyShader",THREE_DepthLimitedBlurShader:"THREE_DepthLimitedBlurShader",THREE_EffectComposer:"THREE_EffectComposer",THREE_MaskPass:"THREE_MaskPass",THREE_RenderPass:"THREE_RenderPass",THREE_SAOPass:"THREE_SAOPass",THREE_SAOShader:"THREE_SAOShader",THREE_SMAA:"THREE_SMAA",THREE_SMAAShader:"THREE_SMAAShader",THREE_ShaderPass:"THREE_ShaderPass",THREE_UnpackDepthRGBAShader:"THREE_UnpackDepthRGBAShader",THREE_VREffect:"THREE_VREffect","base/js/logger":8,"custom-event-polyfill":"custom-event-polyfill","webvr-polyfill":"webvr-polyfill"}],101:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i,o,r=e("THREE"),s=jQuery,a=function(){function e(e,t){this._defaultOptions={name:"BaseController",screen:{height:window.innerHeight,left:0,top:0,width:window.innerWidth}},this._name=this.constructor.name,this._options={},this._enabled=!1,this._activePointers={},this._activePointerIDs=[],this._lastCenter=void 0,this._lastMouseDown={x:void 0,y:void 0},this._lastPosition={x:void 0,y:void 0},this._lastMovementDiff={x:void 0,y:void 0},this._pointingDown=!1,this._options=s.extend(!0,this._defaultOptions,t,e),this._name=this._options.name||this._name,this._enabled=this._options.enabled||!1}return e.prototype.getName=function(){return this._name},e.prototype.update=function(e){this._options=s.extend(!0,this._options,e),this._onUpdate(e)},e.prototype.enable=function(){this._enabled=!0,this._onEnable()},e.prototype.disable=function(){this._enabled=!1,this._onDisable()},e.prototype.setEnabled=function(e){e?this.enable():this.disable()},e.prototype._getMovementTwo=function(e,t,n,i){var o={x:0,y:0},s=this._calcMouseHelper(new r.Vector2(e,t),new r.Vector2(n,i)),a=s.center;void 0===this._lastCenter&&(this._lastCenter=(new r.Vector2).copy(s.center));var l=(new r.Vector2).subVectors(a,this._lastCenter);return this._lastCenter=a,o.x=l.x,o.y=l.y,o},e.prototype._getMovement=function(e,t){var n,i={x:void 0,y:void 0},o=1/this._options.screen.width,r=1/this._options.screen.height;if(void 0!==this._lastPosition.x&&void 0!==this._lastPosition.y||(this._lastPosition={x:(this._lastMouseDown.x-this._options.screen.left)*o,y:(this._lastMouseDown.y-this._options.screen.top)*r}),void 0===this._lastPosition.x||void 0===this._lastPosition.y)return i;n={x:this._lastPosition.x,y:this._lastPosition.y};var s={x:(e-this._options.screen.left)*o,y:(t-this._options.screen.top)*r};return i={x:s.x-n.x,y:s.y-n.y},this._lastPosition={x:s.x,y:s.y},i},e.prototype._calcMouseHelper=function(e,t){var n=new r.Vector2,i=new r.Vector2;this._setMouseOnScreenVector(e.x,e.y,n),this._setMouseOnScreenVector(t.x,t.y,i);var o=i.x-n.x,s=i.y-n.y,a=Math.atan2(o,s),l=new r.Vector2;return l.set(n.x+.5*o,n.y+.5*s),{angle:a,center:l,length:Math.sqrt(o*o+s*s)}},e.prototype._setMouseOnScreenVector=function(e,t,n){var i=1/this._options.screen.width,o=1/this._options.screen.height;n.set((e-this._options.screen.left)*i,(t-this._options.screen.top)*o)},e.prototype.mousedown=function(e){"PointerEvent"in window==!1&&this.pointerdown(e)},e.prototype.pointerdown=function(e){var t=e.pointerId;t&&(-1===this._activePointerIDs.indexOf(t)&&this._activePointerIDs.push(t),this._activePointers[t]=e),this._down(e,e.pageX,e.pageY)},e.prototype.touchstart=function(e){if("PointerEvent"in window==!1&&e.changedTouches.length){var t=e.changedTouches[0];this._down(e,t.pageX,t.pageY)}},e.prototype._down=function(e,t,n){this._pointingDown=!0,this._lastMouseDown={x:t,y:n}},e.prototype.mouseup=function(e){"PointerEvent"in window==!1&&this.pointerup(e)},e.prototype.pointerup=function(e){var t=e.pointerId;if(t){var n=this._activePointerIDs.indexOf(t);-1!==n&&this._activePointerIDs.splice(n,1),delete this._activePointers[t]}this._up(e,e.pageX,e.pageY)},e.prototype.touchend=function(e){if("PointerEvent"in window==!1){var t=void 0,n=void 0;if(e.changedTouches.length){var i=e.changedTouches[0];t=i.pageX,n=i.pageY}this._up(e,t,n)}},e.prototype._up=function(e,t,n){this._pointingDown=!1;void 0!==t&&void 0!==n&&Math.abs(t-this._lastMouseDown.x)<10&&Math.abs(n-this._lastMouseDown.y)<10&&this._onClick(e),this._lastMouseDown={x:void 0,y:void 0},this._lastPosition={x:void 0,y:void 0},this._lastMovementDiff={x:void 0,y:void 0},this._lastCenter=void 0},e.prototype.mousemove=function(e){"PointerEvent"in window==!1&&this.pointermove(e)},e.prototype.pointermove=function(e){var t=e.pointerId;t&&(-1===this._activePointerIDs.indexOf(t)&&this._activePointerIDs.push(t),this._activePointers[t]=e),this._move(e,e.pageX,e.pageY)},e.prototype.touchmove=function(e){if("PointerEvent"in window==!1&&e.targetTouches.length){var t=e.targetTouches[0];this._move(e,t.pageX,t.pageY)}},e.prototype._move=function(e,t,n){"TouchEvent"in window&&e instanceof TouchEvent?1===e.targetTouches.length?this._lastMovementDiff=this._getMovement(t,n):2===e.targetTouches.length&&(this._lastMovementDiff=this._getMovementTwo(e.targetTouches[0].pageX,e.targetTouches[0].pageY,e.targetTouches[1].pageX,e.targetTouches[1].pageY)):1===this._activePointerIDs.length?this._lastMovementDiff=this._getMovement(t,n):2===this._activePointerIDs.length&&(this._lastMovementDiff=this._getMovementTwo(this._activePointers[this._activePointerIDs[0]].pageX,this._activePointers[this._activePointerIDs[0]].pageY,this._activePointers[this._activePointerIDs[1]].pageX,this._activePointers[this._activePointerIDs[1]].pageY)),this._onMove(e)},e.prototype.DOMMouseScroll=function(e){this.mousewheel(e)},e.prototype.mousewheel=function(e){this._onScroll(e)},e.prototype._onClick=function(e){},e.prototype._onMove=function(e){},e.prototype._onScroll=function(e){},e.prototype._onEnable=function(){},e.prototype._onDisable=function(){},e.prototype._onUpdate=function(e){},e}();i=a||(a={}),(o=i.MouseButtons||(i.MouseButtons={}))[o.Left=1]="Left",o[o.Right=2]="Right",o[o.Middle=4]="Middle",o[o.Fourth=8]="Fourth",o[o.Fifth=16]="Fifth",n.default=a},{THREE:"THREE"}],102:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE"),s=e("psol.translation"),a=e("./cnsthree_baseController"),l=e("hotspot/js/hotspot"),c=e("hotspot/js/hotspotTypesConfig"),p=e("hotspotDialog/js/hotspotDialog"),d=jQuery,h=function(e){function t(t){var n=e.call(this,t,{name:"HotSpotController"})||this;return n._hotspotList=[],n._hotspotIDcounter=1,n._durationForSlerp=1,n._raycaster=new r.Raycaster,n._hotspotSize=n._options.viewer3D.getSphereRadius()/100,n._createHelper(),n}return o(t,e),t.prototype._createHelper=function(){if(this._options.scene){this._helperGroup=new r.Group,this._helperGroup.name="HotSpotController_HelperGroup",this._hideHelper();var e=new r.SphereBufferGeometry(this._hotspotSize,32,32);e.translate(0,0,0),this._helperSphere=new r.Mesh(e),this._helperSphere.userData.customUniforms={u_color:new r.Vector3(0,0,0),u_metallic:0,u_roughness:1},this._helperSphere.name="HotSpotController_HelperSphere",this._helperSphere.userData.drawType="face",this._helperSphere.visible=!1;var t=new r.LineBasicMaterial({color:2236962}),n=new r.Geometry;n.vertices.push(new r.Vector3(0,0,0),new r.Vector3(1,1,1)),this._helperNormal=new r.Line(n,t),this._helperNormal.name="HotSpotController_HelperNormal",this._helperNormal.userData.drawType="face",this._helperNormal.visible=!1;var i=new r.PlaneBufferGeometry(8*this._hotspotSize,2*this._hotspotSize);this._helperPlane=new r.Mesh(i),this._helperPlane.userData.customUniforms={u_color:new r.Vector3(0,0,0),u_metallic:0,u_roughness:1},this._helperPlane.userData.drawType="face",this._helperPlane.visible=!1,this._helperPlane.position.set(4*this._hotspotSize*this._helperPlane.scale.x,0,0),this._helperPlaneContainer=new r.Group,this._helperPlaneContainer.add(this._helperPlane);var o=this._options.scene.getObjectByName(this._helperGroup.name);o&&this._options.scene.remove(o),this._helperGroup.add(this._helperSphere),this._helperGroup.add(this._helperNormal),this._helperGroup.add(this._helperPlaneContainer),this._options.scene.add(this._helperGroup)}},t.prototype._removeHelper=function(){this.clear()},t.prototype._updateHelper=function(){this._hotspotSize=this._options.viewer3D.getSphereRadius()/100,this._removeHelper(),this._createHelper()},t.prototype._isHelperVisible=function(){return this._helperGroup&&this._helperGroup.visible},t.prototype._hideHelper=function(){this._helperGroup&&(this._helperGroup.visible=!1),this._helperSphere&&(this._helperSphere.visible=!1),this._helperPlane&&(this._helperPlane.visible=!1),this._helperNormal&&(this._helperNormal.visible=!1)},t.prototype._showHelper=function(){this._enabled&&(this._helperGroup.visible=!0,this._helperSphere.visible=!0,this._helperPlane.visible=!0,this._helperNormal.visible=!0)},t.prototype._checkIfHotSpotTypeIsValid=function(e){var t,n,i,o=!1;for(t in c.HotSpotTypes)if(c.HotSpotTypes[t].type===e.type){if(i=e.meta.subtype){for(n in c.HotSpotTypes[t].subtypes)if(c.HotSpotTypes[t].subtypes[n].type===i){o=!0;break}}else c.HotSpotTypes[t].subtypes||(o=!0);if(o)break}return o},t.prototype._getIntersected=function(e,t){var n={x:0,y:0};if(n.x=(e-this._options.contentRect.x)/this._options.contentRect.width*2-1,n.y=-(t-this._options.contentRect.y)/this._options.contentRect.height*2+1,this._raycaster.setFromCamera(n,this._options.camera),this._options.componentsToIntersect)return this._raycaster.intersectObjects(this._options.componentsToIntersect)},t.prototype._moveHelperByIntersected=function(e){if(this._helperGroup&&!this._hoveredHotSpot){var t=(new r.Matrix4).extractRotation(e.object.matrixWorld),n=(new r.Vector3).copy(e.face.normal);n.applyMatrix4(t),n.normalize();var i=new r.Vector3;this._options.camera.getWorldDirection(i),i.dot(n)>0&&n.negate(),this._helperSphere.position.set(0,0,0),this._helperSphere.lookAt(n),this._helperSphere.position.copy(e.point),this._helperNormal.position.set(0,0,0);var o=this._helperNormal.geometry;o.vertices[1].copy(n),o.vertices[1].multiplyScalar(10*this._hotspotSize),o.verticesNeedUpdate=!0,this._helperNormal.position.copy(e.point),this._helperPlaneContainer.matrix.copy(new r.Matrix4);var s=new r.Vector3;s.add(e.point).add((new r.Vector3).multiplyVectors(o.vertices[1],this._helperNormal.scale));var a=new r.Matrix4;a.setPosition(s);var l=new r.Matrix4;l.makeRotationFromEuler(this._options.camera.rotation),a.multiply(l),this._helperPlaneContainer.applyMatrix(a),this._helperPlane.position.set(4*this._hotspotSize*this._helperPlane.scale.x,0,0),this.scaleHotSpotHelper()}},t.prototype._clickedToAddHotSpot=function(e,t){if(this._enabled){var n=this._getIntersected(e,t)[0];if(n){var i=(new r.Vector3).copy(n.point);i.applyMatrix4((new r.Matrix4).getInverse(this._options.viewer3D._componentsScene.matrixWorld));var o=(new r.Matrix4).extractRotation(n.object.matrixWorld),s=(new r.Vector3).copy(n.face.normal);s.applyMatrix4(o),s.normalize();var a=new r.Vector3;this._options.camera.getWorldDirection(a),a.dot(s)>0&&s.negate(),s.applyMatrix4((new r.Matrix4).getInverse((new r.Matrix4).extractRotation(this._options.viewer3D._componentsScene.matrixWorld))),s.normalize(),this._addHotSpot(i,s)}else this._hideHelper()}},t.prototype._addHotSpot=function(e,t){var n={id:this._hotspotIDcounter,normal:{x:t.x,y:t.y,z:t.z},position:{x:e.x,y:e.y,z:e.z}};this._addHotSpotDialog(n)},t.prototype._hotspotClicked=function(e,t){var n=t.currentTarget;return this._enabled?(this._editHotSpotDialog(e),!0):"A"===n.nodeName&&n.hasAttribute("href")&&this._options.onLinkClickedCallback?this._options.onLinkClickedCallback(n.getAttribute("href"),e._info):(e.getCollapsed()&&this._slerpToHotSpot(e),!1)},t.prototype._slerpToHotSpot=function(e,t,n,i){var o,s=e.getComponentsSceneMatrix();s&&16===s.length&&(o=(new r.Matrix4).fromArray(s)),this._options.viewer3D.slerpToHotSpot(e.getCameraParams(),o,this._durationForSlerp,t,e.getNormal()),i&&this.closeHotSpots([e.getId()]),n&&e.expand()},t.prototype._editHotSpot=function(e,t,n){void 0===n&&(n=!1);for(var i=0,o=0,r=this._hotspotList;o<r.length;o++){var s=r[o];if(s.getId()===e){if(n){s.destroy();var a=s.getElement();a&&a.remove(),this._hotspotList.splice(i,1)}else s.editInfo(t);break}i++}},t.prototype._addHotSpotDialog=function(e){var t=this;e=e||{};var n=new p.HotSpotDialog({buttons:[{callback:function(){var i=n.getResult();d.isEmptyObject(i)||(e=d.extend(e,i),n.disableEnableButtons(!1),t.onAddHotSpot(e).done(function(e){return t.createHotSpotsByData([e]),t.updatedList(),t.onHotSpotDialogClosed(),n.hide()}).fail(function(e){e=s.zTR("Der Server antwortete mit einem Fehler:")+e,n.setErrorMessage(e),n.disableEnableButtons(!0)}))},label:s.zTR("Hinzufügen")}],getCameraParams:this._options.viewer3D.getCameraParams.bind(this._options.viewer3D),getComponentsSceneMatrix:this._options.viewer3D.getComponentsSceneMatrix.bind(this._options.viewer3D),onCloseButton:this.onHotSpotDialogClosed.bind(this),sphereRadius:this._options.viewer3D.getSphereRadius(),unitBase:this._options.viewer3D.getUnitBaseAsString()});n.show(),this.onHotSpotDialogOpened()},t.prototype._editHotSpotDialog=function(e){var t=this,n=e.getInfo(),i=new p.HotSpotDialog({action:p.HotSpotDialogActions.EDIT_HOTSPOT,buttons:[{callback:function(){var e=i.getEditedHotSpotData();d.isEmptyObject(e)||(n=d.extend(n,e),i.disableEnableButtons(!1),t.onEditHotSpot(n).done(function(e){return t._editHotSpot(n.id,e),t.updatedList(),t.onHotSpotDialogClosed(),i.hide()}).fail(function(e){e=s.zTR("Der Server antwortete mit einem Fehler:")+e,i.setErrorMessage(e),i.disableEnableButtons(!0)}))},label:s.zTR("Ok")},{callback:function(){i.disableEnableButtons(!1),t.onDeleteHotSpot(n).done(function(o){return t._editHotSpot(n.id,e,!0),t.updatedList(),t.onHotSpotDialogClosed(),i.hide()}).fail(function(e){e=s.zTR("Der Server antwortete mit einem Fehler:")+e,i.setErrorMessage(e),i.disableEnableButtons(!0)})},label:s.zTR("HotSpot löschen")}],getCameraParams:this._options.viewer3D.getCameraParams.bind(this._options.viewer3D),getComponentsSceneMatrix:this._options.viewer3D.getComponentsSceneMatrix.bind(this._options.viewer3D),hotspot:n,onCloseButton:this.onHotSpotDialogClosed.bind(this),sphereRadius:this._options.viewer3D.getSphereRadius(),unitBase:this._options.viewer3D.getUnitBaseAsString()});i.show(),this.onHotSpotDialogOpened()},t.prototype._hotspotMouseEnter=function(e){this._enabled&&(this._hoveredHotSpot=e,this._hideHelper(),e.highlight())},t.prototype._hotspotMouseLeave=function(e){this._hoveredHotSpot=null,e.clearHighlight()},t.prototype.clear=function(){this._helperGroup&&(this._helperGroup.traverse(function(e){e.geometry&&(e.geometry.dispose&&e.geometry.dispose(),e.geometry=null),e.material&&(e.material instanceof Array?e.material.forEach(function(e){e.dispose()}):e.material.dispose(),e.material=null)}),this._helperGroup.parent&&this._helperGroup.parent.remove(this._helperGroup),this._helperGroup=null)},t.prototype.getHotSpotList=function(){return this._hotspotList.slice()},t.prototype.clearHotSpots=function(){for(var e=0,t=this._hotspotList;e<t.length;e++){var n=t[e];n.destroy();var i=n.getElement();i&&i.remove()}this._hotspotList=[]},t.prototype.createHotSpots=function(){var e=this.getHotSpots();this.createHotSpotsByData(e)},t.prototype.createHotSpotsByData=function(e){for(var t,n=this.getHotSpotsConfig(),i=0,o=0,r=e;o<r.length;o++){var s=r[o];this._checkIfHotSpotTypeIsValid(s)&&(void 0===s.id&&(s.id=this._hotspotIDcounter++),(t=new l.HotSpot({$container:d(document.createElement("DIV")),onHotSpotClicked:this._hotspotClicked.bind(this),serviceBaseUrl:n.serviceBaseUrl||"",size:this._options.size},s)).show(),t.scrollEventOccured=this.scrollEventOccured,t.onMouseEnter=this._hotspotMouseEnter.bind(this),t.onMouseLeave=this._hotspotMouseLeave.bind(this),this._hotspotList.push(t),i<s.id&&(i=s.id))}this._hotspotIDcounter=++i},t.prototype.setMaxHotSpotSize=function(e,t){this._options.size={height:t,width:e};for(var n=0,i=this._hotspotList;n<i.length;n++){i[n].setMaxSize(e,t)}},t.prototype.scaleHotSpotHelper=function(){if(this._enabled){var e=(new r.Vector3).subVectors(this._helperSphere.position,this._options.camera.position).length()/this._options.viewer3D.getSphereRadius();this._helperSphere&&this._helperSphere.scale.set(e,e,e),this._helperNormal&&this._helperNormal.scale.set(e,e,e),this._helperPlane&&this._helperPlane.scale.set(e,e,e),this._options.viewer3D.needsredraw_flag()}},t.prototype.moveHotSpotHelper=function(e,t){if(this._enabled){var n=this._getIntersected(e,t);n.length&&n[0].face?(this._isHelperVisible()||this._hoveredHotSpot||this._showHelper(),this._moveHelperByIntersected(n[0])):this._hideHelper(),this._options.viewer3D.needsredraw_flag()}},t.prototype.closeHotSpots=function(e){for(var t,n=0,i=this._hotspotList;n<i.length;n++){var o=i[n];if(t=!1,e)for(var r=0,s=e;r<s.length;r++){var a=s[r];if(o.getId()===a){t=!0;break}}t||o.collapse()}},t.prototype.slerpToHotSpotByHotSpot=function(e,t,n,i){this._slerpToHotSpot(e,t,n,i)},t.prototype.slerpToHotSpotByHotSpotID=function(e,t,n,i){for(var o,r=0,s=this._hotspotList;r<s.length;r++)if((o=s[r]).getId()===e){this.slerpToHotSpotByHotSpot(o,t,n,i);break}},t.prototype._onClick=function(e){this._hoveredHotSpot?this._editHotSpotDialog(this._hoveredHotSpot):this._clickedToAddHotSpot(e.pageX,e.pageY)},t.prototype._onMove=function(e){this.moveHotSpotHelper(e.pageX,e.pageY)},t.prototype._onScroll=function(e){this.scaleHotSpotHelper(),this.moveHotSpotHelper(e.pageX,e.pageY)},t.prototype._onEnable=function(){},t.prototype._onDisable=function(){this._hideHelper()},t.prototype._onUpdate=function(e){this._options.componentsToIntersect=e.componentsToIntersect,this._updateHelper()},t.prototype.onAddHotSpot=function(e){return d.Deferred().resolve(e)},t.prototype.onEditHotSpot=function(e){return d.Deferred().resolve(e)},t.prototype.onDeleteHotSpot=function(e){return d.Deferred().resolve(e)},t.prototype.getHotSpots=function(){return[]},t.prototype.getHotSpotsConfig=function(){return{}},t.prototype.onHotSpotDialogOpened=function(){},t.prototype.onHotSpotDialogClosed=function(){},t.prototype.getHotSpotScaleFactor=function(){return 1},t.prototype.updatedList=function(){},t.prototype.scrollEventOccured=function(){},t.prototype.translateHotspots=function(e,t){var n=JSON.parse(JSON.stringify(e));if(n.length){var i=new r.Vector3,o=new r.Matrix4;o.extractRotation(t);var s=void 0,a=void 0;for(a=0;a<n.length;a++)s=n[a],i.set(s.position.x,s.position.y,s.position.z),i.applyMatrix4(t),s.position={x:i.x,y:i.y,z:i.z},i.set(s.normal.x,s.normal.y,s.normal.z),i.applyMatrix4(o),i.normalize(),s.normal={x:i.x,y:i.y,z:i.z}}return n},t}(a.default);n.default=h},{"./cnsthree_baseController":101,THREE:"THREE","hotspot/js/hotspot":24,"hotspot/js/hotspotTypesConfig":25,"hotspotDialog/js/hotspotDialog":23,"psol.translation":207}],103:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE"),s=e("./cnsthree_baseController"),a=function(e){function t(t){var n=e.call(this,t,{name:"SceneController"})||this;return n._animationStartTime=0,n._animationStep=2*Math.PI,n._animateScene=!1,n}return o(t,e),t.prototype._rotateScene=function(e){var t=this._options.scene,n=new r.Matrix4,i=(new r.Matrix4).extractRotation(this._options.camera.matrix),o=(new r.Matrix4).getInverse(i);t.matrixAutoUpdate=!1,n.copyPosition(t.matrix),n.multiply(i),n.multiply(e),n.multiply(o),n.multiply((new r.Matrix4).extractRotation(t.matrix)),t.matrix.copy(n),this._options.viewer3D.needsredraw_flag()},t.prototype._panScene=function(e,t){if(0!==e||0!==t){var n=this._options.camera,i=this._options.scene;if(i.matrixAutoUpdate=!1,n instanceof r.OrthographicCamera)e*=2*n.right/Math.max(n.zoom,1),e*=2*n.top/Math.max(n.zoom,1);else if(n instanceof r.PerspectiveCamera){var o=this._options.viewer3D.getCameraDistance()/(Math.tan((90-n.fov/2)/180*Math.PI)/2);e*=o*n.aspect/Math.max(n.zoom,1),t*=o/Math.max(n.zoom,1)}var s=new r.Matrix4,a=new r.Matrix4,l=i.matrix;a.extractRotation(n.matrix),s.multiply(a),a.makeTranslation(e,-t,0),s.multiply(a),a.identity(),a.extractRotation(n.matrix),a.getInverse(a),s.multiply(a),a.identity(),a.copyPosition(l),s.multiply(a),s.extractRotation(i.matrix),i.matrix.copy(s),this._options.viewer3D.needsredraw_flag()}},t.prototype.rotateBasedOnCamera=function(e,t){void 0===t&&(t=500);var n=(new r.Matrix4).extractRotation(this._options.camera.matrix);e&&n.multiply(e),this._options.viewer3D.rotateMesh(n,!0,t)},t.prototype.rotateSceneAnimation=function(){var e=(new Date).getTime();0===this._animationStartTime&&(this._animationStartTime=e);var t=e-this._animationStartTime;if(this._animationStartTime=e,t){var n=(new r.Matrix4).makeRotationY(this._animationStep/t/25);this._rotateScene(n)}},t.prototype.setSceneAnimation=function(e){this._animateScene=e,this._animateScene||(this._animationStartTime=0)},t.prototype.isSceneAnimating=function(){return this._animateScene},t.prototype.updateForFrame=function(){var e=!1;return this._animateScene&&(this.rotateSceneAnimation(),e=!0),e},t.prototype._onMove=function(e){if((e instanceof TouchEvent&&1===e.targetTouches.length||1===this._activePointerIDs.length&&(window.PointerEvent&&e instanceof PointerEvent||e instanceof MouseEvent)&&e.buttons===s.default.MouseButtons.Left)&&this._enabled&&this._pointingDown){var t=this._lastMovementDiff.x,n=this._lastMovementDiff.y;n*=2*Math.PI,t*=2*Math.PI;var i=(new r.Matrix4).makeRotationFromEuler(new r.Euler(n,t,0,"XYZ"));this._rotateScene(i)}(e instanceof TouchEvent&&2===e.targetTouches.length||2===this._activePointerIDs.length||(window.PointerEvent&&e instanceof PointerEvent||e instanceof MouseEvent)&&e.buttons===s.default.MouseButtons.Left+s.default.MouseButtons.Right)&&this._enabled&&this._pointingDown&&this._panScene(this._lastMovementDiff.x,this._lastMovementDiff.y)},t}(s.default);n.SceneController=a},{"./cnsthree_baseController":101,THREE:"THREE"}],104:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("./cnsthree_baseController"),s=jQuery,a=function(e){function t(t){var n=e.call(this,t,{interval:1e3,name:"ShowNBController",showTooltipFor:1e4})||this;return n._isShowingPartName=!1,n._lastPartName="",n._lastPartNameTime=0,n._lastTime=0,n._showPartNameDiv=void 0,n._lastPositionInPixels={x:0,y:0},n._containerOffset={x:0,y:0},n._update(),n}return o(t,e),t.prototype._showNameOfPart=function(){if(this._isShowingPartName=!0,!this._showPartNameDiv){var e=document.createElement("DIV");e.className="psol-comp-webviewer3d-webgl-tooltip",e.style.position="absolute",this._options.container.appendChild(e),this._showPartNameDiv=e}this._showPartNameDiv.innerHTML=this._lastPartName,this._options.container.style.display="block",this._updateContainerOffset();var t=this._lastPositionInPixels.x-this._containerOffset.x,n=this._lastPositionInPixels.y-this._containerOffset.y;this._showPartNameDiv.style.top=n+"px",this._showPartNameDiv.style.left=t+"px",this._showPartNameDiv.style.display="block"},t.prototype._hideNameOfPart=function(){this._isShowingPartName&&(this._showPartNameDiv&&(this._options.container.style.display="none",this._showPartNameDiv.style.display="none"),this._isShowingPartName=!1)},t.prototype._setLastPixelPosition=function(e){this._lastPositionInPixels={x:e.pageX,y:e.pageY}},t.prototype._updateContainerOffset=function(){var e=s(this._options.container).offset();this._containerOffset={x:e.left,y:e.top}},t.prototype._update=function(){this._updateContainerOffset()},t.prototype._resetStuff=function(){this._lastPartName="",this._lastPartNameTime=0,this._lastTime=0},t.prototype.rafTick=function(){if(this._enabled){var e=Date.now();if(e-this._lastTime>this._options.interval){if(!this._lastPositionInPixels||!this._lastPositionInPixels.x||!this._lastPositionInPixels.y)return;var t=this._options.viewer3D.getObjectOnMousePosition(this._lastPositionInPixels.x,this._lastPositionInPixels.y);t?t&&t.object.name!==this._lastPartName&&!this._pointingDown?(this._lastPartName=t.object.name,this._lastPartNameTime=e,this._showNameOfPart()):e-this._lastPartNameTime>this._options.showTooltipFor&&this._hideNameOfPart():(this._hideNameOfPart(),this._lastPartName=""),this._lastTime=e}}},t.prototype._onMove=function(e){this._setLastPixelPosition(e),this._pointingDown&&this._hideNameOfPart()},t.prototype._onDisable=function(){this._resetStuff()},t.prototype._onUpdate=function(e){this._update()},t}(r.default);n.default=a},{"./cnsthree_baseController":101}],105:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var r=e("THREE"),s=function(e){function t(t){var n=e.call(this,t,{factor:10,name:"TeleportController",teleportTime:.5})||this;return n._raycaster=void 0,n._helper=void 0,n._createHelper(),n}return o(t,e),t.prototype._hideHelper=function(){this._helper&&(this._helper.visible=!1)},t.prototype._showHelper=function(){this._helper&&(this._helper.visible=!0)},t.prototype._updateHelper=function(){this._removeHelper(),this._createHelper()},t.prototype._removeHelper=function(){this._helper&&(this._helper.parent.remove(this._helper),this._helper.traverse(function(e){e.geometry&&e.geometry.dispose&&e.geometry.dispose(),e.geometry=null,e.material&&(e.material instanceof Array?e.material.forEach(function(e){e.dispose()}):e.material.dispose()),e.material=null}),this._helper=null)},t.prototype._createHelper=function(){if(!this._helper){var e=new r.SphereBufferGeometry(this._options.viewer3D.getSphereRadius()/100,32,32),t=new r.MeshBasicMaterial({color:8769252,side:r.DoubleSide}),n=new r.Mesh(e,t);n.name="TeleportHelper",n.visible=!1,n.userData.drawType="face",n.userData.keepOriginalMaterial=!0,this._helper=n,this._options.viewer3D._meshes_root.add(this._helper)}},t.prototype._moveHelper=function(e,t){if(this._enabled&&this._options.componentsToIntersect&&this._options.camera&&this._options.viewer3D){this._helper||this._createHelper();var n=this._options.viewer3D.getObjectOnMousePosition(e,t);n?(this._showHelper(),this._helper.position.set(n.point.x,n.point.y,n.point.z),this._scaleHelper()):this._hideHelper(),this._options.viewer3D.needsredraw_flag()}},t.prototype._scaleHelper=function(){var e=(new r.Vector3).subVectors(this._helper.position,this._options.camera.position).length()/this._options.viewer3D.getSphereRadius();this._helper.scale.set(e,e,e)},t.prototype._teleport=function(e,t){if(this._enabled&&this._options.componentsToIntersect&&this._options.camera&&this._options.viewer3D){var n,i,o,s,a=this._options.viewer3D.getObjectOnMousePosition(e,t);if(a&&a.face){this._raycaster||(this._raycaster=new r.Raycaster),n=a.point,(o=(new r.Vector3).copy(a.face.normal)).applyMatrix4((new r.Matrix4).extractRotation(a.object.matrixWorld)),o.normalize();var l=new r.Vector3;this._options.camera.getWorldDirection(l),l.dot(o)>0&&o.negate(),this._raycaster.set(n,o),s=null;for(var c=0,p=this._raycaster.intersectObjects(this._options.componentsToIntersect);c<p.length;c++){var d=p[c];if(d.distance>=this._options.camera.near){s=(new r.Vector3).copy(d.point);break}}i=s?this._calculateDestinationBetweenTwoPoints(n,s):this._calculateDestinationWithOnePoint(n,o),this._teleportToDestination(i,n)}}},t.prototype._calculateDestinationWithOnePoint=function(e,t){var n,i=this._options.viewer3D.getSphereRadius();return(n=t.multiplyScalar(i/this._options.factor)).addVectors(e,n),n},t.prototype._calculateDestinationBetweenTwoPoints=function(e,t){var n=new r.Vector3,i=this._options.viewer3D.getSphereRadius()/this._options.factor,o=(new r.Vector3).subVectors(t,e);return o.divideScalar(2),o.length()>i&&(o.x=0===o.x?o.x:i*(o.x>0?1:-1),o.y=0===o.y?o.y:i*(o.y>0?1:-1),o.z=0===o.z?o.z:i*(o.z>0?1:-1)),n.addVectors(e,o),n},t.prototype._teleportToDestination=function(e,t){var n=this._options.viewer3D.getCameraParamsForPoint(e,t);this._options.viewer3D.animateTo(n)},t.prototype._onClick=function(e){this._teleport(e.pageX,e.pageY)},t.prototype._onMove=function(e){this._moveHelper(e.pageX,e.pageY)},t.prototype._onScroll=function(e){this._moveHelper(e.pageX,e.pageY)},t.prototype._onEnable=function(){this._showHelper()},t.prototype._onDisable=function(){this._hideHelper()},t.prototype._onUpdate=function(e){this._updateHelper()},t}(e("./cnsthree_baseController").default);n.default=s},{"./cnsthree_baseController":101,THREE:"THREE"}],106:[function(e,t,n){t.exports={glyphs:{"\0":{ha:1389,x_min:0,x_max:0,o:""},"⌀":{ha:1389,x_min:60,x_max:1329,o:"m 1093 1223 l 1242 1389 l 1329 1310 l 1172 1137 q 1275 939 1256 1009 q 1310 694 1310 808 q 1232 339 1310 488 q 1006 103 1158 190 q 694 27 865 27 q 477 60 556 27 q 304 165 388 92 l 146 0 l 60 79 l 217 252 q 103 477 138 366 q 79 694 79 567 q 157 1050 79 901 q 382 1286 231 1199 q 694 1362 524 1362 q 903 1329 819 1362 q 1093 1223 1001 1294 m 982 1101 q 833 1188 909 1158 q 694 1215 781 1215 q 374 1085 505 1215 q 252 694 252 963 q 269 513 252 616 q 331 363 279 456 l 982 1101 m 1058 1015 l 407 288 q 529 209 469 236 q 686 174 597 174 q 998 312 884 174 q 1128 694 1128 469 q 1058 1015 1128 860 z "},"✎":{ha:1389,x_min:0,x_max:1383,o:"m 689 220 l 779 309 l 659 426 l 570 336 l 570 293 l 646 293 l 646 220 l 689 220 m 1028 751 q 1028 776 1042 762 q 1004 776 1015 789 l 732 505 q 732 480 722 491 q 757 480 743 469 l 1028 751 m 1090 317 l 1090 168 q 1025 11 1090 76 q 868 -54 960 -54 l 222 -54 q 65 11 130 -54 q 0 168 0 76 l 0 814 q 65 971 0 906 q 222 1036 130 1036 l 868 1036 q 958 1017 920 1036 q 974 1001 971 1012 q 966 977 974 990 l 928 939 q 903 933 914 930 q 868 939 876 939 l 222 939 q 136 901 174 939 q 100 814 100 865 l 100 168 q 136 81 100 117 q 222 46 171 46 l 868 46 q 955 81 920 46 q 993 168 993 119 l 993 266 q 998 285 993 274 l 1050 334 q 1077 339 1058 347 q 1090 317 1090 331 m 1017 890 l 1240 665 l 719 144 l 496 144 l 496 369 l 1017 890 m 1362 787 l 1289 716 l 1066 939 l 1137 1009 q 1191 1031 1164 1031 q 1242 1009 1221 1031 l 1362 892 q 1383 838 1383 865 q 1362 787 1383 808 z "}},familyName:"viewer-3d",ascender:1389,descender:0,underlinePosition:0,underlineThickness:0,boundingBox:{yMin:-20,xMin:0,yMax:512,xMax:510},resolution:1e3,original_font_information:{format:0,fontFamily:"viewer-3d",fontSubfamily:"3d",uniqueID:"FontForge 2.0 : viewer-3d : 9-5-2017",fullName:"viewer-3d",version:"Version 1.0",postScriptName:"viewer-3d"},cssFontWeight:"normal",cssFontStyle:"normal"}},{}],107:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("base/js/globals"),s=e("base/js/helpers"),a=e("base/js/helpers"),l=e("base/js/logger"),c=e("psol.core"),p=e("THREE"),d=e("./pseudoFile"),h=jQuery,u=function(){function e(){}return e.load=function(e,t){return i(this,void 0,void 0,function(){return o(this,function(e){return[2,null]})})},e.checkForASCIIMagic=function(e){return!1},e.createTexturePromises=function(t){var n=this;return new Promise(function(r,s){return i(n,void 0,void 0,function(){var n,i,a,l,c,d;return o(this,function(o){switch(o.label){case 0:if(o.trys.push([0,3,,4]),n=[],!(t.material instanceof p.MeshPhongMaterial))return[3,2];for(i=void 0,a=0,l=["alphaMap","aoMap","bumpMap","displacementMap","emissiveMap","envMap","lightMap","map","normalMap","specularMap"];a<l.length;a++)c=l[a],t.material instanceof p.MeshPhongMaterial&&(i=t.material[c])&&n.push(e.waitForTextureLoaded(i));return[4,Promise.all(n)];case 1:o.sent(),o.label=2;case 2:return r(),[3,4];case 3:return d=o.sent(),s(d),[3,4];case 4:return[2]}})})})},e.waitForTextureLoaded=function(e){return new Promise(function(t,n){e.image&&!e.image.complete?(e.image.onload=function(){t()},e.image.onerror=function(){t()}):t()})},e.createLoadingManager=function(e){var t=new p.LoadingManager;return t.setURLModifier(function(t){return t=(t=t.replace("\\","/")).replace(/\/{2,}/g,"/"),void 0!==e[t]?URL.createObjectURL(e[t]):void 0!==e[t.replace("./","")]?URL.createObjectURL(e[t.replace("./","")]):t}),t},e.createExtraAndLoadableFiles=function(e,t){var n,i,o,r,s,l,c={},p={};for(i=0;i<e.length;i++)for(n=e[i],a.checkForClass(n,"File")?c[r=(n=n).webkitRelativePath||n.name]=n:n instanceof d.PseudoFile?c[r=n.name]=n.blob:"string"==typeof n&&(r=n),o=0;o<t.length;o++)l=(s=t[o]).length,r.substr(-l,l).toLowerCase()===s&&(p[s]=p[s]||[],p[s].push(r));return{extraFiles:c,names:p}},e.cleanupExtraFiles=function(e){for(var t in e)e.hasOwnProperty(t)&&(URL.revokeObjectURL(t),delete e[t])},e.getBlobContentFromUrl=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,c.ajax({dataType:"binary",url:e},{addApiKey:!1,addGlobalHttpHeader:!1,addGlobalHttpParameters:!1})]})})},e.getTextContentFromUrl=function(e){return i(this,void 0,void 0,function(){return o(this,function(t){return[2,c.ajax({dataType:"text",url:e},{addApiKey:!1,addGlobalHttpHeader:!1,addGlobalHttpParameters:!1})]})})},e.getArrayBufferContentFromFile=function(t){return i(this,void 0,void 0,function(){var n=this;return o(this,function(r){return[2,new Promise(function(r,s){return i(n,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,e.getContentFromFile(t,"ArrayBuffer")];case 1:return n=i.sent(),r(n),[2]}})})})]})})},e.getTextContentFromFile=function(t){return i(this,void 0,void 0,function(){var n=this;return o(this,function(r){return[2,new Promise(function(r,s){return i(n,void 0,void 0,function(){var n;return o(this,function(i){switch(i.label){case 0:return[4,e.getContentFromFile(t,"text")];case 1:return n=i.sent(),r(n),[2]}})})})]})})},e.getContentFromFile=function(e,t){return void 0===t&&(t="ArrayBuffer"),i(this,void 0,void 0,function(){return o(this,function(n){return[2,new Promise(function(n,i){var o=new FileReader;o.onload=function(e){var t=e.currentTarget.result;n(t)},"ArrayBuffer"===t?o.readAsArrayBuffer(e):"text"===t?o.readAsText(e):i()})]})})},e._loadCubeMap=function(t,n){if(t.userData.customUniforms=t.userData.customUniforms||{},e._textureCube&&(e._cubeMapUrl===n||!n))return t.userData.customUniforms.u_envMap=e._textureCube,e._cubeMapLoadedDef.promise();var i=new p.TextureLoader;e._cubeMapUrl=n||e._defaultCubeMapUrl;var o=s.getResourceUrl(e._cubeMapUrl);return t.userData.customUniforms.u_envMap=e._textureCube=i.load(o,function(t){t.magFilter=p.LinearFilter,t.minFilter=p.LinearFilter,t.generateMipmaps=!0,e._cubeMapLoadedDef.resolve()}),e._textureCube.mapping=p.CubeUVReflectionMapping,e._cubeMapLoadedDef.promise()},e._loadTextureForPart=function(e,t,n){if(e&&t&&n){e.userData.customUniforms=e.userData.customUniforms||{};var i=new p.TextureLoader;i.crossOrigin="Anonymous",e.userData.customUniforms["u_"+n+"Scale"]=new p.Vector3(t.scale[0],t.scale[1],t.scale[2]),e.userData.customUniforms["u_"+n+"Rotation"]=t.rotation,e.userData.customUniforms["u_"+n]=i.load(t.uri,function(e){e.minFilter=p.LinearMipMapLinearFilter,e.wrapS=p.RepeatWrapping,e.wrapT=p.RepeatWrapping},null,function(){l.error("Couldn't load texture from path '"+t.uri+"' as '"+n+"' for part with name: '"+e.name+"'")})}},e._defaultCubeMapUrl=r.getApiPath()+"img/webviewer3d/cubemap/cubemap.jpg",e._cubeMapLoadedDef=h.Deferred(),e}();n.BaseLoader=u},{"./pseudoFile":134,THREE:"THREE","base/js/globals":6,"base/js/helpers":7,"base/js/logger":8,"psol.core":196}],108:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("psol.exports"),c=e("./baseLoader"),p=e("./pjvLoader/pjvLoader"),d=e("./pseudoFile"),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n,i,o;return s(this,function(r){switch(r.label){case 0:return"string"!=typeof e[0]?[3,2]:[4,t.getBlobContentFromUrl(e[0])];case 1:return n=r.sent(),[3,3];case 2:a.checkForClass(e[0],"File")?(n=e[0],i=n.name):e[0]instanceof d.PseudoFile&&(n=e[0].blob,i=e[0].name),r.label=3;case 3:return[4,l.convertFileAsync({file:n,filename:i||"fakename.stp",format:"PARTJAVA3D"})];case 4:return o=r.sent(),[2,p.PJVLoader.load([o])]}})})},t}(c.BaseLoader);n.ConvertLoader=h},{"./baseLoader":107,"./pjvLoader/pjvLoader":116,"./pseudoFile":134,"base/js/helpers":7,"psol.exports":198}],109:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("THREE"),c=e("./baseLoader"),p=e("./pseudoFile");e("THREE_DAELoader");var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,c,d,h,u,m,f,g,_,v,b,w,y,x;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,3,,4]),(n=new l.Group).name="DAELoaders",r=void 0,c=void 0,d=[".dae"],h=t.createExtraAndLoadableFiles(e,d),c=h.names[".dae"],u=h.extraFiles,m=void 0,(a.checkForClass(e[0],"File")||e[0]instanceof p.PseudoFile)&&(m=t.createLoadingManager(u)),f=new l.ColladaLoader(m),g=void 0,_=[],r=0;r<c.length;r++)g=c[r],_.push(t.loadDeferredDAE(f,g));return[4,Promise.all(_)];case 1:for(v=s.sent(),b=[],w=void 0,y=void 0,r=0;r<v.length;r++)(y=new l.Group).name="DAELoader",(w=v[r].scene).traverse(function(e){if(e instanceof l.Mesh){if(e.userData.drawType="face",Array.isArray(e.material)){var n=0;for(n=0;n<e.material.length;n++)e.material[n].side=l.DoubleSide,e.material[n].map||(e.material[n].colorEncoding=l.GammaEncoding)}else e.material.side=l.DoubleSide,e.material.map||(e.material.colorEncoding=l.GammaEncoding);e.userData.keepOriginalMaterial=!0,b.push(t.createTexturePromises(e))}}),y.add(w),n.add(y);return t.cleanupExtraFiles(u),[4,Promise.all(b)];case 2:return s.sent(),i(n),[3,4];case 3:return x=s.sent(),o(x),[3,4];case 4:return[2]}})})})]})})},t.loadDeferredDAE=function(e,t){return new Promise(function(n,i){e.load(t,function(e){return n(e)},void 0,void 0)})},t}(c.BaseLoader);n.DAELoader=d},{"./baseLoader":107,"./pseudoFile":134,THREE:"THREE",THREE_DAELoader:"THREE_DAELoader","base/js/helpers":7}],110:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("THREE"),c=e("./baseLoader"),p=e("./pseudoFile");e("THREE_FBXLoader"),window.Zlib=e("THREE_zlib").Zlib;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,c,d,h,u,m,f,g,_,v,b,w;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,3,,4]),n=void 0,r=void 0,c=[".fbx"],d=t.createExtraAndLoadableFiles(e,c),r=d.names[".fbx"],h=d.extraFiles,u=void 0,(a.checkForClass(e[0],"File")||e[0]instanceof p.PseudoFile)&&(u=t.createLoadingManager(h)),m=new l.FBXLoader(u),f=[],n=0;n<r.length;n++)f.push(t.loadDeferred(m,r[n]));return[4,Promise.all(f)];case 1:for(g=s.sent(),_=[],(v=new l.Group).name="FBXLoaders",b=void 0,n=0;n<g.length;n++)(b=new l.Group).name="FBXLoader",g[n].traverse(function(e){if(e instanceof l.Mesh){if(e.userData.drawType="face",e.userData.keepOriginalMaterial=!0,Array.isArray(e.material)){var n=0;for(n=0;n<e.material.length;n++)e.material[n].side=l.DoubleSide,e.material[n].map||(e.material[n].colorEncoding=l.GammaEncoding)}else e.material.side=l.DoubleSide,e.material.map||(e.material.colorEncoding=l.GammaEncoding);e.material.alphaTest=.5,_.push(t.createTexturePromises(e))}}),b.add(g[n]),v.add(b);return t.cleanupExtraFiles(h),[4,Promise.all(_)];case 2:return s.sent(),i(v),[3,4];case 3:return w=s.sent(),o(w),[3,4];case 4:return[2]}})})})]})})},t.loadDeferred=function(e,t){return new Promise(function(n,i){e.load(t,function(e){return n(e)},null,function(e){return i(e)})})},t}(c.BaseLoader);n.FBXLoader=d},{"./baseLoader":107,"./pseudoFile":134,THREE:"THREE",THREE_FBXLoader:"THREE_FBXLoader",THREE_zlib:"THREE_zlib","base/js/helpers":7}],111:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=jQuery,l=e("base/js/helpers"),c=e("psol.core"),p=e("THREE"),d=e("urijs"),h=e("./baseLoader"),u=e("./pjvLoader/zjvObjects/ZJVObjects"),m=e("./pseudoFile");e("THREE_GLTFLoader");var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,h,f,g,_,v,b,w,y,x,C,S,A,T,M,k,D,E,B;return s(this,function(s){switch(s.label){case 0:if(s.trys.push([0,3,,4]),n=[".glb",".gltf"],r=void 0,h=[],f=void 0,g=void 0,!(_=e[0]instanceof ArrayBuffer)){for(v=t.createExtraAndLoadableFiles(e,n),b=void 0,w=0,y=n;w<y.length;w++)x=y[w],(b=v.names[x])&&(h=h.concat(b));g=v.extraFiles,(l.checkForClass(e[0],"File")||e[0]instanceof m.PseudoFile)&&(f=t.createLoadingManager(g))}if(C=new p.GLTFLoader(f),S=[],_)for(r=0;r<e.length;r++)S.push(t.parseDeferred(C,e[r]));else for(r=0;r<h.length;r++)S.push(t.loadDeferred(C,h[r]));return[4,Promise.all(S)];case 1:for(A=s.sent(),T=[],(M=new p.Group).name="GLBLoaders",D=void 0,E=void 0,r=0;r<A.length;r++)(E=new p.Group).name="GLBLoader",D=A[r],k=t.isCNSPart(D.asset),D.scene.traverse(function(e){if(e.userData||(e.userData={}),e.geometry&&e.geometry.userData&&(a.extend(e.userData,e.geometry.userData),a.extend(e.userData,{format:"gltf"})),e.userData.clone=function(){return a.extend({},e.userData)},e.userData.drawType||(e instanceof p.Line?e.userData.drawType="line":e instanceof p.Mesh?e.userData.drawType="face":e.userData.drawType=""),"face"===e.userData.drawType)if(k){if(e.material){var n;if(e.material=e.material,e.userData.customUniforms=e.material.userData.customUniforms,e.material.userData.NormalMap&&e.material.userData.NormalMap.uri)(n=new d(e.material.userData.NormalMap.uri)).is("relative")&&(n.origin(c.getServiceBaseUrl()),e.material.userData.NormalMap.uri=n.toString());if(e.material.userData.AlbedoMap&&e.material.userData.AlbedoMap.uri)(n=new d(e.material.userData.AlbedoMap.uri)).is("relative")&&(n.origin(c.getServiceBaseUrl()),e.material.userData.AlbedoMap.uri=n.toString());t._loadTextureForPart(e,e.material.userData.NormalMap,"NormalMap"),t._loadTextureForPart(e,e.material.userData.AlbedoMap,"AlbedoMap"),t._loadCubeMap(e)}var i=e.userData.threads||e.parent&&e.parent.userData.threads;if(i){var o=u.ZJVUtil.makeThreads_Lines(i),r=t.createThreadGeometry(o);e.add(t.createThreadNode(r))}}else{if(e.userData.keepOriginalMaterial=!0,Array.isArray(e.material)){var s=0;for(s=0;s<e.material.length;s++)e.material[s].side=p.DoubleSide}else e.material.side=p.DoubleSide;e.material.alphaTest=.5,T.push(t.createTexturePromises(e))}else if("silhuette"===e.userData.drawType&&k){var l=e.geometry;l.addAttribute("normalA",l.getAttribute("normal")),l.addAttribute("normalB",l.getAttribute("color"))}}),E.add(A[r].scene),M.add(E);return t.cleanupExtraFiles(g),[4,Promise.all(T)];case 2:return s.sent(),i(M),[3,4];case 3:return B=s.sent(),o(B),[3,4];case 4:return[2]}})})})]})})},t.isCNSPart=function(e){return!!(e&&e.extras&&e.extras.version&&"CADENAS_GLTF2"===e.extras.version.name)},t.loadDeferred=function(e,t){return new Promise(function(n,i){e.load(t,function(e){return n(e)},void 0,function(e){return i(e)})})},t.parseDeferred=function(e,t){return new Promise(function(n,i){e.parse(t,void 0,function(e){return n(e)},function(e){return i(e)})})},t.createThreadGeometry=function(e){var t=new p.Geometry;return t.colors=e.color,t.vertices=e.vertices,t},t.createThreadNode=function(e){var t=new p.LineSegments(e);return t.userData.drawType="thread",t},t}(h.BaseLoader);n.GLTFLoader=f},{"./baseLoader":107,"./pjvLoader/zjvObjects/ZJVObjects":128,"./pseudoFile":134,THREE:"THREE",THREE_GLTFLoader:"THREE_GLTFLoader","base/js/helpers":7,"psol.core":196,urijs:"urijs"}],112:[function(e,t,n){"use strict";var i,o,r,s=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0}),(r=o=n.ErrorCodes||(n.ErrorCodes={}))[r.NoLoadableFiles=0]="NoLoadableFiles",r[r.UNKNOWN=999]="UNKNOWN";var a=function(e){function t(n){void 0===n&&(n=o.UNKNOWN);var i,r=this;switch(n){case o.NoLoadableFiles:i="Error Code "+n+": No loadable files found!";break;default:i="Error Code "+n+": Unknown error!"}return r=e.call(this,i)||this,Error.captureStackTrace(r,t),r.errorCode=n,r}return s(t,e),t}(Error);n.LoaderError=a},{}],113:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("THREE"),c=e("./baseLoader"),p=e("./pseudoFile"),d=jQuery;e("THREE_MTLLoader"),e("THREE_OBJLoader");var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,c,h,u,m,f,g,_,v,b,w,y,x,C,S,A,T,M,k,D,E,B,P;return s(this,function(s){switch(s.label){case 0:if(s.trys.push([0,5,,6]),n=void 0,r=void 0,c=void 0,u=[".obj",".mtl"],m=t.createExtraAndLoadableFiles(e,u),r=m.names[".obj"],n=m.names[".mtl"],f=m.extraFiles,g=void 0,(a.checkForClass(e[0],"File")||e[0]instanceof p.PseudoFile)&&(g=t.createLoadingManager(f)),_=void 0,v=void 0,b=void 0,w=!1,y={},x=[],!n||!n.length)return[3,2];for(C=new l.MTLLoader(g),c=0;c<n.length;c++)_=n[c],x.push(t.loadDeferredMTL(C,_));return[4,Promise.all(x)];case 1:for(S=s.sent(),c=0;c<S.length;c++)b=S[c],d.extend(!0,y,b.materialsInfo),v=b;s.label=2;case 2:for(A=new l.OBJLoader(g),v&&(w=!0,v.materialsInfo=y,A.setMaterials(v)),T=void 0,x.length=0,c=0;c<r.length;c++)T=r[c],x.push(t.loadDeferredOBJ(A,T));return[4,Promise.all(x)];case 3:for(M=s.sent(),(k=new l.Group).name="OBJLoaders",D=[],E=void 0,B=void 0,c=0;c<M.length;c++)(B=new l.Group).name="OBJLoader",(E=M[c]).name="PartGroup",E.traverse(function(e){if(e instanceof l.Mesh){if(e.userData.drawType="face",w)if(e.userData.keepOriginalMaterial=!0,Array.isArray(e.material))for(h=0;h<e.material.length;h++)e.material[h].side=l.DoubleSide,e.material[h].map||(e.material[h].colorEncoding=l.GammaEncoding);else e.material.side=l.DoubleSide,e.material.map||(e.material.colorEncoding=l.GammaEncoding);else x.push(t._loadCubeMap(e));D.push(t.createTexturePromises(e))}}),B.add(E),k.add(B);return t.cleanupExtraFiles(f),[4,Promise.all(D)];case 4:return s.sent(),i(k),[3,6];case 5:return P=s.sent(),o(P),[3,6];case 6:return[2]}})})})]})})},t.loadDeferredOBJ=function(e,t){return new Promise(function(n,i){return e.load(t,function(e){return n(e)})})},t.loadDeferredMTL=function(e,t){return new Promise(function(n,i){var o=t.split("/");t=o.pop();var r=o.join("/");r=""===r?r:r+"/",e.setPath(r),e.load(t,function(e){n(e)})})},t}(c.BaseLoader);n.MtlObjLoader=h},{"./baseLoader":107,"./pseudoFile":134,THREE:"THREE",THREE_MTLLoader:"THREE_MTLLoader",THREE_OBJLoader:"THREE_OBJLoader","base/js/helpers":7}],114:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("THREE"),o=function(){function e(){this._cachedItems={}}return e.prototype.addItem=function(e,t){this._cachedItems[e]=t,t.userData.cacheID=e},e.prototype.getCachedItems=function(){return this._cachedItems},e.prototype.getItemForID=function(e){return this._cachedItems[e]},e.prototype.clearCache=function(){var e,t=this;for(var n in this._cachedItems)this._cachedItems.hasOwnProperty(n)&&((e=this._cachedItems[n]).traverse(function(e){t.destroyCachedObject(e)}),this.destroyCachedObject(e));this._cachedItems={}},e.prototype.clearCachedItem=function(e){var t,n=this;this._cachedItems.hasOwnProperty(e)&&((t=this._cachedItems[e]).traverse(function(e){n.destroyCachedObject(e)}),this.destroyCachedObject(t)),delete this._cachedItems[e]},e.prototype.destroyCachedObject=function(e){delete e.userData.cacheID;var t=e;if(t.geometry){t.geometry.dispose();var n=t.geometry;n._bufferGeometry&&(n._bufferGeometry.dispose&&n._bufferGeometry.dispose(),n._bufferGeometry.attributes&&(n._bufferGeometry.attributes=null,delete n._bufferGeometry.attributes),n._bufferGeometry=null,delete n._bufferGeometry),t.geometry=null,delete t.geometry}if(t.material&&(!function e(t){if(t){if(Array.isArray(t))for(;t.length>0;)e(t.pop());else{if(t instanceof i.ShaderMaterial&&t.uniforms)for(var n in t.uniforms)t.uniforms.hasOwnProperty(n)&&t.uniforms[n]&&t.uniforms[n].value&&(t.uniforms[n].value.dispose&&t.uniforms[n].value.dispose(),t.uniforms[n].value=null,delete t.uniforms[n]);t instanceof i.MeshPhongMaterial&&(t.map&&(t.map.dispose(),t.map=null),t.lightMap&&(t.lightMap.dispose(),t.lightMap=null),t.bumpMap&&(t.bumpMap.dispose(),t.bumpMap=null),t.normalMap&&(t.normalMap.dispose(),t.normalMap=null),t.specularMap&&(t.specularMap.dispose(),t.specularMap=null),t.envMap&&(t.envMap.dispose(),t.envMap=null)),t.dispose(),t=null}return!0}return!1}(t.material),t.material=null,delete t.material),e.userData&&e.userData.customUniforms)for(var o in e.userData.customUniforms)e.userData.customUniforms.hasOwnProperty(o)&&e.userData.customUniforms[o]&&e.userData.customUniforms[o].value&&(e.userData.customUniforms[o].value.dispose&&e.userData.customUniforms[o].value.dispose(),e.userData.customUniforms[o].value=null,delete e.userData.customUniforms[o])},e}();n.AssemblyCache=o},{THREE:"THREE"}],115:[function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var r=e("psol.preview"),s=e("THREE"),a=e("base/js/logger"),l=e("../gltfLoader"),c=e("./assemblyCache"),p=e("./pjvLoader"),d=e("./pjvParser"),h=function(){function e(){}return e.load=function(t,n){return i(this,void 0,void 0,function(){var r=this;return o(this,function(l){return[2,new Promise(function(l,c){return i(r,void 0,void 0,function(){var i,r,c,h,u,m,f,g,_,v,b,w,y,x,C,S,A,T,M,k,D,E,B,P,L,R,V,H,I,z;return o(this,function(o){switch(o.label){case 0:o.trys.push([0,5,,6]),(i=new s.Group).name="AssemblyLoader",r=0,c=0,h=t,o.label=1;case 1:if(!(c<h.length))return[3,4];if(u=h[c],m=u.response,!(f=m.assembly.parts))return[3,3];g=m.assembly.structure,(_=new s.Group).name="assembly_"+r,r++,v=[];for(L in f)f.hasOwnProperty(L)&&v.push(e.loadPartAndPlaceIt(_,L,f[L],g));return[4,Promise.all(v)];case 2:if(o.sent(),i.add(_),(b=m.assembly.info)&&(_.userData.cog=b.centerOfGravity,b.axis&&(i.userData.axis={front:b.axis.front,up:b.axis.up}),b.calcJoints&&e.calcJoints(g),b.geometryUnit&&(i.userData.unitBase=b.geometryUnit.unitScaleFactor)),m.assembly.dimensions&&(w=m.assembly.dimensions.list,y=[])){for(x=0,C=0,S=void 0,A=[],new s.Group,T=!1,x=0;x<w.length;x++){for(S=void 0,M=w[x].viewnr,C=0;C<y.length;C++)y[C].viewnr===M&&(S=y[C]);if(S){for(C=0;C<w[x].arrows.length;C++)S.arrows.push(w[x].arrows[C]);for(C=0;C<w[x].lines.length;C++)S.lines.push(w[x].lines[C]);for(C=0;C<w[x].texts.length;C++)S.texts.push(w[x].texts[C])}else y.push(w[x])}for(x=0;x<6;x++)k=void 0,A.push(k);for(x=0;x<y.length;x++){for(S=y[x],C=0;C<S.texts.length;C++)S.texts[C].fontsize<=0&&(T=!0);T||(D=d.PJVParser.generateDimArrows(S.arrows,S.viewnr),E=d.PJVParser.generateDimLines(S.lines,S.viewnr),B=d.PJVParser.generateDimTexts(S.texts),A[S.viewnr]={arrows:D,lines:E,texts:B})}w=null,P=p.PJVLoader.generateDimensions(A,n.enableEditableDimensions),i.add(P)}o.label=3;case 3:return c++,[3,1];case 4:for(L in e.cache.getCachedItems())if(e.cache.getCachedItems().hasOwnProperty(L)){if(R=!1,i.children[0])for(V=0,H=i.children[0].children;V<H.length;V++)I=H[V],L===I.userData.cacheID&&(R=!0);R||e.cache.clearCachedItem(L)}return l(i),[3,6];case 5:return z=o.sent(),a.error(z),[3,6];case 6:return[2]}})})})]})})},e.loadPartAndPlaceIt=function(t,n,r,s){return i(this,void 0,void 0,function(){var i;return o(this,function(o){switch(o.label){case 0:return[4,e.loadPart(n,r,s)];case 1:return i=o.sent(),e.placePart(t,n,i,s),[2]}})})},e.loadPart=function(t,n,a){return i(this,void 0,void 0,function(){var a=this;return o(this,function(c){return[2,new Promise(function(c,p){return i(a,void 0,void 0,function(){var i,a,p,d,h,u,m,f,g,_;return o(this,function(o){switch(o.label){case 0:return i=n.MIDENT||n.mident,(a=e.cache.getItemForID(t))?(p=a,[3,7]):[3,1];case 1:if(d=void 0,!n.content)return[3,3];for(h=JSON.stringify(n.content),u=new ArrayBuffer(h.length),m=new Uint8Array(u),f=0,g=h.length;f<g;f++)m[f]=h.charCodeAt(f);return[4,l.GLTFLoader.load([u])];case 2:return d=o.sent(),[3,6];case 3:return[4,r.get3dPreviewAssemblyPartAsync({mident:i})];case 4:return _=o.sent(),[4,l.GLTFLoader.load([_])];case 5:d=o.sent(),o.label=6;case 6:(p=d.children.length&&d.children[0].children.length?d.children[0].children[0]:d).parent=null,n.baseColor?p.traverse(function(e){if(e instanceof s.Mesh&&!0===e.userData.baseColor){e.material.color&&e.material.color.setRGB(Math.pow(n.baseColor[0],2),Math.pow(n.baseColor[1],2),Math.pow(n.baseColor[2],2)),e.userData.customUniforms=e.userData.customUniforms||{},e.userData.customUniforms.u_color=new s.Vector3(Math.pow(n.baseColor[0],2),Math.pow(n.baseColor[1],2),Math.pow(n.baseColor[2],2))}}):p.traverse(function(e){e instanceof s.Mesh&&e.userData.baseColor&&(e.userData.baseColor=!1)}),e.cache.addItem(t,p),o.label=7;case 7:return c(p),[2]}})})})]})})},e.placePart=function(t,n,i,o){for(var r=0,s=0,a=o;s<a.length;s++){var l=a[s];l.nb!==n&&l.NB!==n||(e.placeMeshOrCopy(t,i,l,r),r++)}},e.placeMeshOrCopy=function(t,n,i,o){o>0?n=e.cloneMesh(n):t.add(n);var r=new s.Matrix4,a=new s.Matrix4;16===i.matrix.length?r.fromArray(i.matrix):r.fromArray(i.matrix[0]),i.explosionMatrix&&16===i.explosionMatrix.length?a.fromArray(i.explosionMatrix):a=r,n.userData.cns={explosionmatrix:a,matrix:r},n.matrix.identity(),n.applyMatrix(r),n.matrixWorldNeedsUpdate=!0,i.mesh=n},e.cloneMesh=function(e){var t=e.parent,n=e.clone(!0);return n.traverse(function(e){e.userData.cacheID=void 0,e.userData.drawType||(e instanceof s.Line?e.userData.drawType="line":e instanceof s.Mesh?e.userData.drawType="face":e.userData.drawType="")}),t.add(n),n},e.getCP=function(e,t){var n,i=e.mesh.children[0].children[0].userData.ConnectionPoints[t];return i&&(n=new s.Matrix4).fromArray(i.matrix),n},e.getCPS=function(t,n){var i=[],o=function(e,t){if(i.push({matrix:e,part:t.group}),t.groups){var n=void 0;for(n=0;n<t.groups.length;n++)i.push({matrix:e,part:t.groups[n]})}},r=e.getCP(t,n);if(r)o(r,t);else{var s=void 0;for(s=1;s<100&&(r=e.getCP(t,n+" "+s));s++)o(r,t)}return i},e.calcJoint2=function(t,n,i,o,r,a){var l=t.group;0!==a&&(l=e.cloneMesh(t.group),t.groups.push(l));var c=new s.Group,p=new s.Group,d=new s.Group;c.name="OTHER"+t.joint.othercp+"---"+a,p.name="joint",d.name="THIS"+t.joint.cp,c.applyMatrix(r.matrix);var h=new s.Matrix4;h.fromArray(t.joint.matrix),p.applyMatrix(h),d.applyMatrix(i.getInverse(i)),r.part.add(c),c.add(p),p.add(d),d.add(l)},e.calcJoint=function(t,n){var i=e.getCP(t,t.joint.cp);if(i){var o=n[t.joint.otherpart];if(o){var r=e.getCPS(o,t.joint.othercp),s=void 0;for(s=0;s<r.length;s++)e.calcJoint2(t,n,i,o,r[s],s)}}},e.calcJoints=function(t){var n,i,o=t[0].mesh.parent,r={};for(n=0;n<t.length;n++)r[(i=t[n]).name]=i,i.group=new s.Group,i.groups=[],i.group.name="GROUP "+i.name,i.mesh.parent.add(i.group),i.group.add(i.mesh),i.mesh.matrixWorldNeedsUpdate=!0;for(n=0;n<t.length;n++)(i=t[n]).joint&&e.calcJoint(i,r);o.updateMatrixWorld(!0)},e.clearCache=function(){e.cache&&e.cache.clearCache()},e.cache=new c.AssemblyCache,e}();n.AssemblyLoader=h},{"../gltfLoader":111,"./assemblyCache":114,"./pjvLoader":116,"./pjvParser":117,THREE:"THREE","base/js/logger":8,"psol.preview":204}],116:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("THREE"),l=e("webworkify"),c=e("base/js/helpers"),p=e("base/js/logger"),d=e("bowser"),h=e("../../cnsthree_helper"),u=e("../baseLoader"),m=e("./pjvParser"),f=e("./zjvObjects/ZJVObjects"),g=jQuery,_=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return o(n,t),n.load=function(e,t){return r(this,void 0,void 0,function(){var i,o,l,p,d,h,u,m,f,_,v=this;return s(this,function(b){switch(b.label){case 0:g.extend(!0,n._settings,n._defaultSettings,t),i=[],o=0,l=e,b.label=1;case 1:return o<l.length?"string"!=typeof(p=l[o])?[3,5]:p.substr(0,n.PJV_MAGIC.length)!==n.PJV_MAGIC?[3,2]:(i.push(p),[3,4]):[3,10];case 2:return h=(d=i).push,[4,n.getTextContentFromUrl(p)];case 3:h.apply(d,[b.sent()]),b.label=4;case 4:return[3,9];case 5:return c.checkForClass(p,"File")?(m=(u=i).push,[4,n.getTextContentFromFile(p)]):[3,7];case 6:return m.apply(u,[b.sent()]),[3,9];case 7:return _=(f=i).push,[4,n.getTextContentFromFile(p.blob)];case 8:_.apply(f,[b.sent()]),b.label=9;case 9:return o++,[3,1];case 10:return[2,new Promise(function(e,o){return r(v,void 0,void 0,function(){var r,l,c,p,d,h,u,m,f,g,_;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,2,,3]),r=[],l=function(e){r.push(new Promise(function(i,o){try{i(n.generateObjects(e,t))}catch(e){o(e)}}))},c=0,p=i;c<p.length;c++)d=p[c],l(d);return[4,Promise.all(r)];case 1:for(h=s.sent(),(u=new a.Group).name="PJVLoaders",m=0,f=h;m<f.length;m++)g=f[m],u.add(g);return e(u),[3,3];case 2:return _=s.sent(),o(_),[3,3];case 3:return[2]}})})})]}})})},n.checkForASCIIMagic=function(e){return e.substr(0,n.PJV_MAGIC.length)===n.PJV_MAGIC},n.generateObjects=function(e,t){var i=n._loadingDefCounter,o=n._loadingDefs[i]=g.Deferred();return n.checkIfWeShouldUseSynchronousProcessing(e.length,t)?(e=m.PJVParser.parseTuppelData(e),e=m.PJVParser.readZjvData(e),e=m.PJVParser.generateStuff(e),e=n.generateMeshes(e),n._cubeMapLoadedDef.done(function(){e?n._loadingDefs[i].resolve(e):n._loadingDefs[i].reject(),delete n._loadingDefs[i]})):(n._worker||n._createWorker(),n._worker.postMessage({cmd:"generateStuff",data:e,defCounter:n._loadingDefCounter})),n._loadingDefCounter++,o.promise()},n.checkIfWeShouldUseSynchronousProcessing=function(e,t){return!!(t&&t.isStandalone&&"Internet Explorer"===d.name||e>4e7&&("Firefox"===d.name||"Internet Explorer"===d.name))},n._createWorker=function(){n._worker=l(e("./pjvWorker")),n._worker.addEventListener("message",n._onResult.bind(n))},n._onResult=function(e){var t=e.data,i=t.cmd,o=t.defCounter,r=t.ret;switch(i){case"generateStuff":var s=n.generateMeshes(r);n._cubeMapLoadedDef.done(function(){s?n._loadingDefs[o].resolve(s):n._loadingDefs[o].reject(),delete n._loadingDefs[o]})}},n.generateMeshes=function(e){var t,i="",o="",r=0,s=new a.Group,l=e.refParts;s.name="PJVLoader",t=n.generateGeometrieForPart(e.geometriesData);var c,p,d,h=n.generateMeshesForPart(t,l);for(s.add(h),i="",o="",r=0;r<t.length;r++)void 0!==t[r].axis&&(void 0!==t[r].axis.up&&t[r].axis.up.length&&(i=t[r].axis.up),void 0!==t[r].axis.front&&t[r].axis.front.length&&(o=t[r].axis.front));for(d=0;d<t.length&&(!(p=t[d].dimensions)||!(c=n.generateDimensions(p,n._settings.enableEditableDimensions)));d++);return c&&s.add(c),s.userData.axis={front:o,up:i},s},n.raycastspezial=function(e){var t=e,n=new a.Matrix4,i=new a.Ray;return function(e,o){var r=t.geometry;if(n.getInverse(t.matrixWorld),i.copy(e.ray).applyMatrix4(n),null!==r.boundingBox){var s=i.intersectBox(r.boundingBox,new a.Vector3);if(null!==s){s.applyMatrix4(t.matrixWorld);var l=e.ray.origin.distanceTo(s);o.push({distance:l,face:void 0,faceIndex:0,object:t,point:s})}}}},n.generateGeometrieForPart=function(e){var t,i,o,r,s,l,c,p,d,h,u,m,g=[],_=[];for(t=0;t<e.length;t++){if(g=[],r=void 0,(o=e[t]).geometry)for(i=0;i<o.geometry.vertexBuffer.data.length;i++)h=o.geometry.vertexBuffer.data[i],u=o.geometry.normalBuffer.data[i],h&&u&&(m=o.geometry.colors[i],(r=new a.BufferGeometry).addAttribute("position",new a.BufferAttribute(h,o.geometry.vertexBuffer.offset)),r.addAttribute("normal",new a.BufferAttribute(u,o.geometry.normalBuffer.offset)),r.computeBoundingSphere(),r.computeBoundingBox(),r.color=m,r.matIds=o.geometry.matIds,r.matid=o.geometry.matId,g.push(r));if(s=void 0,o.lines&&((s=new a.Geometry).vertices=n.convertXYZObjectArrayToTHREEVector3Array(o.lines.vertices)),l=void 0,o.silhuette&&((l=new a.BufferGeometry).addAttribute("position",new a.BufferAttribute(o.silhuette.vertexBuffer.data,o.silhuette.vertexBuffer.offset)),l.addAttribute("normalA",new a.BufferAttribute(o.silhuette.normalBufferA.data,o.silhuette.normalBufferA.offset)),l.addAttribute("normalB",new a.BufferAttribute(o.silhuette.normalBufferB.data,o.silhuette.normalBufferB.offset))),c=void 0,o.threads&&((c=new a.Geometry).vertices=n.convertXYZObjectArrayToTHREEVector3Array(o.threads.vertices)),p=void 0,o.labelsList)for(p=[],i=0;i<o.labelsList.length;i++)p.push(new f.ZJVLabel(o.labelsList[i]));if(d=void 0,o.hotspotList)for(d=[],i=0;i<o.hotspotList.length;i++)d.push(new f.ZJVHotSpot(o.hotspotList[i]));_[t]={albedoMap:o.albedoMap,axis:{front:o.geometry.axis&&o.geometry.axis.front||"",up:o.geometry.axis&&o.geometry.axis.up||""},colors:o.colors,dimensions:o.geometry?o.geometry.dimensions:void 0,faces:g,hotspotList:d,labelsList:p,lines:s,metallRoughnessMap:o.metallRoughnessMap,name:o.name,normalMap:o.normalMap,silhuette:l,threads:c,unitBase:o.unitBase}}return _},n.convertXYZObjectArrayToTHREEVector3Array=function(e){for(var t=[],n=0,i=e;n<i.length;n++){var o=i[n];t.push(new a.Vector3(o.x,o.y,o.z))}return t},n.generateMeshesForPart=function(e,t){var i,o,r,s,l,c,p,d,h,u=[],m=new a.Matrix4,f=new a.Group;for(f.name="PartGroup",i=0;i<t.matrixList.length;i++){if(s=o=l=c=r=r=p=void 0,u=[],m=new a.Matrix4,h=e[(o=t.matrixList[i]).partId],m.copy(o),o=t.explosionMatrixList[i],(s=new a.Matrix4).copy(o),void 0!==h.faces)for(d=0;d<h.faces.length;d++)(p=new a.Mesh(h.faces[d])).name=h.name,u.push(p);else p=new a.Mesh;var g=h.hotspotList;for(d=0;d<u.length;d++){(p=u[d]).userData.cns={explosionmatrix:s,matrix:m},p.userData.unitBase=h.unitBase,p.userData.customUniforms=p.userData.customUniforms||{};var _=h.faces[d].color;p.userData.customUniforms.u_metallic=_.metallic,p.userData.customUniforms.u_roughness=_.roughness,p.userData.customUniforms.u_color=new a.Vector3(_.r,_.g,_.b),p.userData.customUniforms.u_opacity=1-_.a,n._loadTextureForPart(p,h.normalMap,"NormalMap"),n._loadTextureForPart(p,h.albedoMap,"AlbedoMap"),n._loadTextureForPart(p,h.metallRoughnessMap,"MetallRoughnessMap"),n._loadCubeMap(p),p.applyMatrix(m),p.matrixWorldNeedsUpdate=!0,p.userData.drawType="face",0===d&&(void 0!==h.lines&&((r=new a.LineSegments(h.lines)).name="Lines",r.userData.drawType="line",p.add(r)),void 0!==h.silhuette&&((l=new a.LineSegments(h.silhuette)).name="Silhuettes",l.userData.drawType="silhuette",p.add(l)),void 0!==h.threads&&((c=new a.LineSegments(h.threads)).name="Threads",c.userData.drawType="thread",p.add(c)),p.userData.labelsList=h.labelsList,p.userData.hotspotList=g),void 0!==p.geometry&&p.geometry.computeBoundingBox(),f.add(p)}}return f},n.createDimensionText=function(e,t){var i,o,r,s,l,c,p,d,u,m=!(!t.useMappedVar||!e.mappedVar),f="";f=e.text,m&&(f+=" ✎"),(i=h.Helper.create3DTextShapeGeometry(f,e.fontsize,2)).computeBoundingBox();var g=new a.Vector3;i.boundingBox.getSize(g);var _=e.fontsize/g.y;return i.scale(_,_,1),(o=new a.Matrix4).makeTranslation(-i.boundingBox.max.x/2,-i.boundingBox.max.y/2,0),r=i.boundingBox.max.x,s=i.boundingBox.max.y,l=r/2,c=-i.boundingBox.min.y,2==(2&e.align)?l=-r/2:4==(4&e.align)&&(l=0),32==(32&e.align)?c=-s/2:128==(128&e.align)&&(c=0),(p=new a.Matrix4).setPosition(new a.Vector3(l,c,0)),(d=new a.Matrix4).copy(e.matrix),d.multiply(p),i.applyMatrix(o),(u=new a.Mesh(i)).name="DimensionText_"+e.viewnr+"_"+e.text,e.mappedVar&&(u.userData.mappedVar={enabled:m,name:e.mappedVar}),u.userData.geometryCreationSettings=e,u.applyMatrix(d),u.matrixWorldNeedsUpdate=!0,u.userData.drawType="dimensionstext",u.userData.drawTypeEx="dimensionstext"+e.viewnr,u.raycast=n.raycastspezial(u),u},n.generateDimensions=function(e,t){var i,o,r,s,l,c,d,h,u=new a.Group;for(u.name="DimensionsGroup",o=0;o<e.length;o++)if((s=e[o])&&(void 0!==s.lines||void 0!==s.texts||void 0!==s.arrows)){if((r=new a.Group).name="DimensionGroup_"+o,void 0!==s.lines&&((d=new a.BufferGeometry).addAttribute("position",new a.BufferAttribute(s.lines.vertexBuffer,3)),d.addAttribute("normal",new a.BufferAttribute(s.lines.normalBuffer,3)),(i=new a.LineSegments(d)).name="DimensionLine_"+o,i.userData.drawType="dimensions",i.userData.drawTypeEx="dimensions"+o,r.add(i)),void 0!==s.arrows&&((h=new a.BufferGeometry).addAttribute("position",new a.BufferAttribute(s.arrows.vertexBuffer,3)),h.addAttribute("normal",new a.BufferAttribute(s.arrows.normalBuffer,3)),(i=new a.Mesh(h)).name="DimensionArrow_"+o,i.userData.drawType="dimensions",i.userData.drawTypeEx="dimensions"+o,r.add(i)),void 0!==s.texts)for(l=0;l<s.texts.length;l++){c=s.texts[l];try{i=n.createDimensionText(c,{useMappedVar:t}),r.add(i)}catch(e){p.error('Failed to generate shape for dimension text (potential error in PJV/ZJV) with ID "'+c.id),p.error(e)}}r&&u.add(r)}return u.children.length?u:null},n.PJV_MAGIC="P{",n._defaultSettings={enableEditableDimensions:!0,isStandalone:!1},n._settings={enableEditableDimensions:!0,isStandalone:!1},n._loadingDefs={},n._loadingDefCounter=0,n}(u.BaseLoader);n.PJVLoader=_},{"../../cnsthree_helper":98,"../baseLoader":107,"./pjvParser":117,"./pjvWorker":118,"./zjvObjects/ZJVObjects":128,THREE:"THREE","base/js/helpers":7,"base/js/logger":8,bowser:"bowser",webworkify:210}],117:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./zjvObjects/ZJVObjects"),o=e("./tuppelFnc"),r=function(){function e(){}return e.parseTuppelData=function(t){var n,o,r=[],s=new i.TuppelData,a=0,l="",c=null,p=0;if(1===t.length)return r.push(s),r;for(;a<t.length-1;)if(n=t.indexOf("{",a),o=t.indexOf("}",a),-1!==n||-1!==o){if(-1===n)return l=t.substring(a,o),(s=new i.TuppelData).name=l,s.data=c,r.push(s),r;if(n>o){a++,p++;continue}l=t.substring(a,n).replace("\r","").replace("\n","").replace("\t","").replace(" ",""),a=n,n<o?(c=e.parseTuppelData(t.substring(n+1,o+1)),a=o+1,(s=new i.TuppelData).name=l,s.data=c,r.length-1===p?r[r.length-1].data.push(s):r.push(s)):n>o&&(c=t.substring(n+1,o))}else a++;return r},e.readZjvData=function(t){var n=new i.ZJVData,o=0;for(o=0;o<t.length;o++)"P"===t[o].name?n.part.push(e.readPart(t[o].data)):"S"===t[o].name&&(n.refParts=e.readRefParts(t[o].data));return n},e.readPart=function(e){var t,n=new i.ZJVPart,r=0,s="";for(r=0;r<e.length;r++)s=e[r].name,"function"==typeof(t=o.TuppelFnc[s])&&t(n,e[r].data);return n},e.readRefParts=function(e){var t,n,o=new i.ZJVRefParts,r=0,s=0;for(r=0;r<e.length;r++)if("N"===e[r].name)o.name=e[r].data[0].name;else if("M"===e[r].name||"ME"===e[r].name)for(t=e[r].data[0].name.split(" "),s=0;s+12<t.length;s+=13)(n=new i.ZJVMatrix).partId=parseInt(t[s],10),n.setElements(new Float32Array([parseFloat(t[s+1]),parseFloat(t[s+2]),parseFloat(t[s+3]),0,parseFloat(t[s+4]),parseFloat(t[s+5]),parseFloat(t[s+6]),0,parseFloat(t[s+7]),parseFloat(t[s+8]),parseFloat(t[s+9]),0,parseFloat(t[s+10]),parseFloat(t[s+11]),parseFloat(t[s+12]),1])),"M"===e[r].name?o.matrixList.push(n):o.explosionMatrixList.push(n);return o},e.generateStuff=function(t){var n,i,o={geometriesData:[],refParts:t.refParts};for(i=0;i<t.part.length;i++)n=e.generateStuffForPart(t.part[i]),o.geometriesData.push(n);return o},e.generateStuffForPart=function(t){var n,o,r,s,a,l,c,p,d,h,u,m,f,g,_,v,b=0,w=!1,y=!1,x=!1,C=!1,S=!1,A=0,T=0,M=t.pointList,k=t.partColor,D=t.normalList,E=t.faceList,B=t.normalFaceList,P=t.colorFaceList,L=t.colors,R=t.fixedLineList,V=t.roundLineList;if(E.length>2){y=!0,l=3*E.length,m=[],f=[],o=new i.ZJVColor(k.r,k.g,k.b,k.a,k.metallic,k.roughness),p=new i.ZJVMaterial(o,t.albedoMap,t.normalMap,t.metallRoughnessMap);var H={},I=void 0,z=void 0,O={},j=0;for(L.splice(0,0,o),r=0;r<P.length;r+=2)I=P[r],z=P[r+1]+1,H[I]=z,O[z]=O[z]?O[z]+9:9,j+=3;O[0]=3*(E.length-j);var F=void 0,N={};for(F in O)O.hasOwnProperty(F)&&(m[F=parseInt(F,10)]=new Float32Array(O[F]),f[F]=new Float32Array(O[F]),N[F]=0);for(b=0;b<E.length;b+=3)for(var U=0;U<3;U++)l=3*E[b+U],m[z=H[b/3]||0][N[z]]=M[l],m[z][N[z]+1]=M[l+1],m[z][N[z]+2]=M[l+2],g=3*B[b+U],f[z][N[z]]=D[g],f[z][N[z]+1]=D[g+1],f[z][N[z]+2]=D[g+2],N[z]+=3;for(_=e.getMaterialId(p),v={vertices:[]},R&&R.length&&(x=!0),A=0;A+1<R.length;A+=2)s={x:M[l=3*(T=R[A])],y:M[l+1],z:M[l+2]},a={x:M[l=3*(T=R[A+1])],y:M[l+1],z:M[l+2]},v.vertices.push(s),v.vertices.push(a);if(V.length>3){w=!0,l=V.length/4*6,d=new Float32Array(l),h=new Float32Array(l),u=new Float32Array(l);var Z=void 0,G=void 0,$=0;for(A=0;A+3<V.length;A+=4)l=6*$,c=3*(T=V[A]),d[l]=M[c],d[l+1]=M[c+1],d[l+2]=M[c+2],c=3*(T=V[A+1]),d[l+3]=M[c],d[l+4]=M[c+1],d[l+5]=M[c+2],T=V[A+2],Z=e.calcNormalOfFace(T,M,E),T=V[A+3],G=e.calcNormalOfFace(T,M,E),u[l]=G.x,u[l+1]=G.y,u[l+2]=G.z,u[l+3]=Z.x,u[l+4]=Z.y,u[l+5]=Z.z,h[l]=Z.x,h[l+1]=Z.y,h[l+2]=Z.z,h[l+3]=G.x,h[l+4]=G.y,h[l+5]=G.z,$++}var W=t.threadListExt;0===W.length&&(W=t.threadList),0!==W.length&&(C=!0,n=i.ZJVUtil.makeThreads_Lines(W))}var Y,X,K,J=0,q=[];if(void 0!==t.dimensions&&t.dimensions.length)for(S=!0,J=0;J<6;J++)K=void 0,X=void 0,Y=void 0,void 0!==t.dimensions[J].lines&&t.dimensions[J].lines.length&&(Y=e.generateDimLines(t.dimensions[J].lines,J)),void 0!==t.dimensions[J].texts&&t.dimensions[J].texts.length&&(X=e.generateDimTexts(t.dimensions[J].texts)),void 0!==t.dimensions[J].arrows&&t.dimensions[J].arrows.length&&(K=e.generateDimArrows(t.dimensions[J].arrows,J)),q.push({arrows:K,lines:Y,texts:X});return{geometry:y?{albedoMap:t.albedoMap||void 0,axis:t.axis,colors:L,dimensions:S?q:void 0,matId:e._matIds[_],matIds:e._matIds.slice(),normalBuffer:{data:f,offset:3},vertexBuffer:{data:m,offset:3}}:void 0,hotspotList:t.hotspotList,labelsList:t.labelsList,lines:x?v:void 0,metallRoughnessMap:t.metallRoughnessMap||void 0,name:t.name,normalMap:t.normalMap||void 0,silhuette:w?{normalBufferA:{data:h,offset:3},normalBufferB:{data:u,offset:3},vertexBuffer:{data:d,offset:3}}:void 0,threads:C?n:void 0,unitBase:t.unitBase}},e.makeThread_Lines=function(e,t){var n,o,r=0,s=e.radiusStart,a=0,l=Math.PI/180,c={x:0,y:0,z:0},p={x:0,y:0,z:0},d=new i.ZJVMatrix;o=i.Vectors.subVectors(e.end,e.start),n=i.Vectors.veclength(o),o=i.Vectors.normalize(o),i.Vectors.set(c,o.y,o.z,-o.x),p=i.Vectors.crossVectors(o,c),p=i.Vectors.normalize(p),c=i.Vectors.crossVectors(p,o),d.setElements(new Float32Array([p.x,p.y,p.z,0,c.x,c.y,c.z,0,o.x,o.y,o.z,0,e.start.x,e.start.y,e.start.z,1]));var h,u=24*n/e.pitch,m=15*u,f=(e.radiusEnd-e.radiusStart)/u;if(m>0){for(a=0;a<m;a+=15)h={x:s*Math.cos(a*l),y:s*Math.sin(a*l),z:r},h=i.Vectors.applyMatrix4(h,d),0!==a&&t.vertices.push(h),t.vertices.push(h),r+=n/m*15,s+=f;t.vertices.push(h)}},e.getMaterialId=function(t){var n=0;for(n=0;n<e._matIds.length;n++)if(e._matIds[n].isEqual(t))return n;return e._matIds.push(t),e._matIds.length-1},e.calcNormalOfFace=function(e,t,n){var o={x:0,y:0,z:0},r={x:0,y:0,z:0},s={x:0,y:0,z:0},a={x:0,y:0,z:0};return i.Vectors.set(o,t[3*n[3*e]],t[3*n[3*e]+1],t[3*n[3*e]+2]),i.Vectors.set(r,t[3*n[3*e+1]],t[3*n[3*e+1]+1],t[3*n[3*e+1]+2]),i.Vectors.set(s,t[3*n[3*e+2]],t[3*n[3*e+2]+1],t[3*n[3*e+2]+2]),r=i.Vectors.subVectors(r,o),s=i.Vectors.subVectors(s,o),a=i.Vectors.crossVectors(r,s),a=i.Vectors.normalize(a)},e.generateDimTexts=function(e){var t,n,o={x:0,y:0,z:0},r=new i.ZJVMatrix,s=[],a="droid sans";for(t=0;t<e.length;t++)(n=e[t]).font=a,o=i.Vectors.crossVectors(n.directionvector,n.normalvector),(r=new i.ZJVMatrix).set(n.directionvector.x,n.directionvector.y,n.directionvector.z,0,n.normalvector.x,n.normalvector.y,n.normalvector.z,0,o.x,o.y,o.z,0,0,0,0,1),r.transpose(),r.setPosition(n.position),n.matrix=r,0===n.unitScaleFactor&&(n.unitScaleFactor=2),n.text=n.text.replace(/[\n\r\t]+/g,"  "),s.push(n);return s},e.generateDimLines=function(e,t){var n,i,o;if(e.length>0){var r=[],s=[],a=void 0,l=[];switch(t){case 0:l=[0,0,1];break;case 1:l=[0,0,-1];break;case 2:l=[1,0,0];break;case 3:l=[-1,0,0];break;case 4:l=[0,1,0];break;case 5:default:l=[0,-1,0]}for(n=0;n<e.length;n++)a=e[n],r.push(a.p0.x),r.push(a.p0.y),r.push(a.p0.z),r.push(a.p1.x),r.push(a.p1.y),r.push(a.p1.z),s=(s=s.concat(l)).concat(l);i=new Float32Array(r),o=new Float32Array(s)}return{normalBuffer:o,vertexBuffer:i}},e.generateDimArrows=function(e,t){var n,o;if(e.length>0){var r=void 0,s=void 0,a={x:0,y:0,z:0},l=void 0,c=void 0,p=void 0,d=void 0,h=void 0,u=void 0,m=[],f=Math.sqrt(1-1/1.04),g=Math.sqrt(1/1.04),_={x:0,y:0,z:0},v={x:0,y:0,z:0},b=[];for(r=0;r<e.length;r++){switch(s=e[r],a=i.Vectors.subVectors(s.p1,s.p0),l=(a=i.Vectors.normalize(a)).x,c=a.y,p=a.z,h=[],t){case 0:h=[0,0,1];break;case 1:h=[0,0,-1];break;case 2:h=[1,0,0];break;case 3:h=[-1,0,0];break;case 4:h=[0,1,0];break;case 5:default:h=[0,-1,0]}switch(m=(m=(m=m.concat(h)).concat(h)).concat(h),t){case 0:case 1:i.Vectors.set(_,g*l-f*c,f*l+g*c,p),i.Vectors.set(v,g*l+f*c,-f*l+g*c,p);break;case 2:case 3:i.Vectors.set(_,l,g*c-f*p,f*c+g*p),i.Vectors.set(v,l,g*c+f*p,-f*c+g*p);break;case 4:case 5:i.Vectors.set(_,g*l+f*p,c,-f*l+g*p),i.Vectors.set(v,g*l-f*p,c,f*l+g*p)}d=s.isOuter?s.p1:s.p0,u=s.length/g*1.03,b.push(d.x+_.x*u),b.push(d.y+_.y*u),b.push(d.z+_.z*u),b.push(d.x),b.push(d.y),b.push(d.z),b.push(d.x+v.x*u),b.push(d.y+v.y*u),b.push(d.z+v.z*u)}n=new Float32Array(b),o=new Float32Array(m)}return{normalBuffer:o,vertexBuffer:n}},e._matIds=[],e}();n.PJVParser=r},{"./tuppelFnc":119,"./zjvObjects/ZJVObjects":128}],118:[function(e,t,n){"use strict";var i=e("./pjvParser");t.exports=function(e){e.addEventListener("message",function(t){var n,o=t.data,r=o.cmd,s=o.defCounter,a=!1;switch(r){case"generateStuff":n=o.data,n=i.PJVParser.parseTuppelData(n),n=i.PJVParser.readZjvData(n),n=i.PJVParser.generateStuff(n);break;default:a=!0,e.postMessage("Unknown Command!")}a||e.postMessage({cmd:r,defCounter:s,ret:n})})}},{"./pjvParser":117}],119:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./zjvObjects/ZJVObjects"),o=function(){function e(){}return e.content=function(e){return e[0].name.trim()},e.splitContent=function(e){var t=e[0].name.trim();return t.length>0?t.split(" "):[]},e.decodeURL=function(t){return e.decodeUrl(t)},e.getTuppels=function(e){return e},e.decodeUrl=function(e){var t=e;'"'===t.substring(0,1)&&'"'===t.substring(t.length-1,t.length)&&(t=t.substring(1,t.length-1));try{t=decodeURIComponent(t)}catch(e){var n=void 0;n=(n=(n=(n=t.replace("%A"," ")).replace("%D"," ")).replace("%9"," ")).replace(/\s{2,}/," "),t=n;try{t=decodeURIComponent(t)}catch(e){var i=t.replace(/%[0-9A-Fa-f][0-9A-Fa-f]?/gi,function(e){if(e.length>2){var t=parseInt(e.substring(1,3),16);return encodeURIComponent(String.fromCharCode(t))}return"%0"+e.substring(1,2)});try{t=decodeURIComponent(i)}catch(e){}}}return t},e.colorFromRGBA=function(e){var t=parseInt(e,10),n=new i.ZJVColor;return n.b=255&t,t>>=8,n.g=255&t,t>>=8,n.r=255&t,t>>=8,n.a=255&t,n.r/=255,n.b/=255,n.g/=255,n.a/=255,n},e.N=function(t,n){t.name=e.decodeURL(e.content(n))},e.NMP=function(t,n){var i=e.splitContent(n);t.normalMap={path:e.decodeURL(i[0]),rotation:parseFloat(i[4]||0),scale:{x:parseFloat(i[1]||1),y:parseFloat(i[2]||1),z:parseFloat(i[3]||1)}}},e.ALB=function(t,n){var i=e.splitContent(n);t.albedoMap={path:e.decodeURL(i[0]),rotation:parseFloat(i[4]||0),scale:{x:parseFloat(i[1]||1),y:parseFloat(i[2]||1),z:parseFloat(i[3]||1)}}},e.MRM=function(t,n){var i=e.splitContent(n);t.metallRoughnessMap={path:e.decodeURL(i[0]),rotation:parseFloat(i[4]||0),scale:{x:parseFloat(i[1]||1),y:parseFloat(i[2]||1),z:parseFloat(i[3]||1)}}},e.C=function(t,n){var o=e.splitContent(n);t.partColor=new i.ZJVColor(parseFloat(o[0])/255,parseFloat(o[1])/255,parseFloat(o[2])/255,parseFloat(o[3])/255)},e.PBRMATERIAL=function(t,n){var o=e.splitContent(n);t.partColor=new i.ZJVColor(parseFloat(o[0])/255,parseFloat(o[1])/255,parseFloat(o[2])/255,parseFloat(o[3])/255,parseFloat(o[4]),parseFloat(o[5]))},e.MID=function(t,n){t.mIdent=e.decodeURL(e.content(n))},e.U=function(t,n){t.unitBase=parseFloat(e.decodeURL(e.content(n)))},e.PL=function(t,n){t.pointList=new Float32Array(e.splitContent(n))},e.NL=function(t,n){t.normalList=new Float32Array(e.splitContent(n))},e.COLS=function(t,n){var i=0,o=e.splitContent(n);for(i=0;i<o.length;i++){var r=e.colorFromRGBA(o[i]);r.metallic=t.partColor.metallic,r.roughness=t.partColor.roughness,t.colors.push(r)}},e.PBRMATERIALS=function(t,n){var o=e.splitContent(n);if(o.length){t.colors=[];var r=0;for(r=0;r<o.length-5;r+=6)t.colors.push(new i.ZJVColor(parseFloat(o[r])/255,parseFloat(o[r+1])/255,parseFloat(o[r+2])/255,0,parseFloat(o[r+4]),parseFloat(o[r+5])))}},e.CF=function(t,n){t.colorFaceList=new Uint32Array(e.splitContent(n))},e.FL3=function(t,n){t.faceList=new Uint32Array(e.splitContent(n))},e.NL3=function(t,n){t.normalFaceList=new Uint32Array(e.splitContent(n))},e.LLF=function(t,n){t.fixedLineList=new Uint32Array(e.splitContent(n))},e.LLR=function(t,n){t.roundLineList=new Uint32Array(e.splitContent(n))},e.THRL=function(t,n){var o,r=0,s=e.splitContent(n);for(r=0;r+7<s.length;r+=8)(o=new i.ZJVThread).inner=parseInt(s[r],10),o.start={x:parseFloat(s[r+1]),y:parseFloat(s[r+2]),z:parseFloat(s[r+3])},o.end={x:parseFloat(s[r+4]),y:parseFloat(s[r+5]),z:parseFloat(s[r+6])},o.diameter=parseFloat(s[r+7]),o.radiusStart=o.diameter/2,o.radiusEnd=o.diameter/2,t.threadList.push(o)},e.THRLEXT=function(t,n){var o,r=0,s=e.splitContent(n);for(r=0;r+10<s.length;r+=11)(o=new i.ZJVThread).inner=parseInt(s[r],10),o.start={x:parseFloat(s[r+1]),y:parseFloat(s[r+2]),z:parseFloat(s[r+3])},o.end={x:parseFloat(s[r+4]),y:parseFloat(s[r+5]),z:parseFloat(s[r+6])},o.diameter=parseFloat(s[r+7]),o.pitch=parseFloat(s[r+8]),o.radiusStart=parseFloat(s[r+9]),o.radiusEnd=parseFloat(s[r+10]),t.threadListExt.push(o)},e.LABELS=function(t,n){for(var o,r,s,a,l,c=e.splitContent(n),p=0,d=0;p<c.length;){for((o=new i.ZJVLabel).pos={x:parseFloat(c[p]),y:parseFloat(c[p+1]),z:parseFloat(c[p+2])},p+=3,r=parseInt(c[p],10),p+=1,d=0;d<r;d++)o.dest.push({x:parseFloat(c[p]),y:parseFloat(c[p+1]),z:parseFloat(c[p+2])}),p+=3;for(r=parseInt(c[p],10),p+=1,d=0;d<r;d++)s=c[p],l=e.decodeURL(c[p+1]),a=e.decodeURL(c[p+2]),o.labelText[s]={big:a,small:l},p+=3;t.labelsList.push(o)}},e.HOTSPOT_HTML=function(t,n){for(var o,r,s,a,l,c,p=e.splitContent(n),d=0,h=0,u=[];d<p.length;){if(u.length=0,(o=new i.ZJVHotSpot).openOnStartup=!1,o.keepOpenOnHide=!0,o.type="psolhtml",d+=1,u.push({x:parseFloat(p[d]),y:parseFloat(p[d+1]),z:parseFloat(p[d+2])}),d+=3,r=parseInt(p[d],10),d+=1,r>=1)for(o.position={x:parseFloat(p[d]),y:parseFloat(p[d+1]),z:parseFloat(p[d+2])},h=0;h<r;h++)d+=3;else o.position=u[0],u.length=0;for(u.length?(c=i.Vectors.veclength(i.Vectors.subVectors(u[0],o.position)),o.line.length=c):o.line.length=0,o.line.relativeToPart=!1,o.normal={x:parseFloat(p[d]),y:parseFloat(p[d+1]),z:parseFloat(p[d+2])},d+=3,r=parseInt(p[d],10),d+=1,o.meta.content={},h=0;h<r;h++)s=p[d],a=e.decodeURL(p[d+1]),""===(l=e.decodeURL(p[d+2]))&&(l=a,a=""),o.title[s]=a,o.meta.content[s]=l,d+=3;t.hotspotList.push(o)}},e.CA=function(t,n){var i,o,r=0,s=e.splitContent(n),a=s.length;for(r=0;r+1<a;r+=2)i=e.decodeURL(s[r]),o=e.decodeURL(s[r+1]),t.customAttributes[i]=o},e.DIMLINE=function(t,n){var i,o=e.splitContent(n),r=o.length,s=0;for(s=0;s+7<r;s+=8)i={id:parseInt(o[s+0],10),p0:{x:parseFloat(o[s+2]),y:parseFloat(o[s+3]),z:parseFloat(o[s+4])},p1:{x:parseFloat(o[s+5]),y:parseFloat(o[s+6]),z:parseFloat(o[s+7])},viewnr:parseInt(o[s+1],10)},t.dimensions[i.viewnr].lines.push(i)},e.DIMTEXT=function(t,n){var i,o=e.splitContent(n),r=o.length,s=0;for(s=0;s+15<r;s+=16)(i={align:parseInt(o[s+3],10),directionvector:{x:parseFloat(o[s+5]),y:parseFloat(o[s+6]),z:parseFloat(o[s+7])},fontsize:parseFloat(o[s+2]),id:parseInt(o[s+0],10),mappedVar:e.decodeURL(o[s+14]),normalvector:{x:parseFloat(o[s+8]),y:parseFloat(o[s+9]),z:parseFloat(o[s+10])},position:{x:parseFloat(o[s+11]),y:parseFloat(o[s+12]),z:parseFloat(o[s+13])},text:e.decodeURL(o[s+15]),unitScaleFactor:parseFloat(o[s+4]),viewnr:parseInt(o[s+1],10)}).viewnr>=0&&i.viewnr<=5&&t.dimensions[i.viewnr].texts.push(i)},e.DIMARROW=function(t,n){var i,o=e.splitContent(n),r=o.length,s=0;for(s=0;s+9<r;s+=10)i={id:o[s+0],isOuter:parseInt(o[s+9],10),length:parseFloat(o[s+8]),p0:{x:parseFloat(o[s+2]),y:parseFloat(o[s+3]),z:parseFloat(o[s+4])},p1:{x:parseFloat(o[s+5]),y:parseFloat(o[s+6]),z:parseFloat(o[s+7])},viewnr:parseInt(o[s+1],10)},t.dimensions[i.viewnr].arrows.push(i)},e.AXISUP=function(t,n){t.axis.up=e.decodeURL(e.content(n)).toUpperCase()},e.AXISFRONT=function(t,n){t.axis.front=e.decodeURL(e.content(n)).toUpperCase()},e}();n.TuppelFnc=o},{"./zjvObjects/ZJVObjects":128}],120:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){this.name="",this.data=null}}();n.TuppelData=i},{}],121:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){}return e.compare=function(e,t){return e.x===t.x&&e.y===t.y&&e.z===t.z},e.set=function(e,t,n,i){e.x=t,e.y=n,e.z=i},e.subVectors=function(e,t){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}},e.veclength=function(e){return Math.sqrt(e.x*e.x+e.y*e.y+e.z*e.z)},e.divideScalar=function(t,n){return e.multiplyScalar(t,1/n)},e.multiplyScalar=function(e,t){return isFinite(t)?(e.x*=t,e.y*=t,e.z*=t):(e.x=0,e.y=0,e.z=0),e},e.normalize=function(t){return e.divideScalar(t,e.veclength(t))},e.crossVectors=function(e,t){var n=e.x,i=e.y,o=e.z,r=t.x,s=t.y,a=t.z;return{x:i*a-o*s,y:o*r-n*a,z:n*s-i*r}},e.applyMatrix4=function(e,t){var n=e.x,i=e.y,o=e.z,r=t.elements;return e.x=r[0]*n+r[4]*i+r[8]*o+r[12],e.y=r[1]*n+r[5]*i+r[9]*o+r[13],e.z=r[2]*n+r[6]*i+r[10]*o+r[14],e},e}();n.Vectors=i},{}],122:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e,t,n,i,o,r){this.r=0,this.g=0,this.b=0,this.a=0,this.metallic=0,this.roughness=0,this.r=e,this.g=t,this.b=n,this.a=i,this.metallic=o,this.roughness=r}return e.isEqual=function(e,t){return!(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||e.metallic!==t.metallic||e.roughness!==t.roughness)},e.prototype.isEqual=function(t){return e.isEqual(this,t)},e.prototype.getHex=function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},e}();n.ZJVColor=i},{}],123:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./ZJVRefParts"),o=function(){return function(){this.part=[],this.refParts=new i.ZJVRefParts}}();n.ZJVData=o},{"./ZJVRefParts":130}],124:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(e){this.type="",this.openOnStartup=!1,this.keepOpenOnHide=!1,e=e||{},this.cameraParams=e.cameraParams||{},this.componentsSceneMatrix=e.componentsSceneMatrix||[],this.id=e.id||void 0,this.line=e.line||{length:10,relativeToPart:!0},this.meta=e.meta||{},this.more=e.more||{default:""},this.normal=e.normal||{x:void 0,y:void 0,z:void 0},this.position=e.position||{x:void 0,y:void 0,z:void 0},this.title=e.title||{default:""},this.type=e.type||"",this.openOnStartup=e.openOnStartup||!1,this.keepOpenOnHide=e.keepOpenOnHide||!1}}();n.ZJVHotSpot=i},{}],125:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(e){this.dest=[],e=e||{},this.labelText=e.labelText||{},this.pos=e.pos||{x:void 0,y:void 0,z:void 0},this.dest=e.dest||[],this.id=e.id||void 0}return e.prototype.copy=function(e){var t=0;for(this.pos={x:e.pos.x,y:e.pos.y,z:e.pos.z},this.dest=[],t=0;t<e.dest.length;t++)this.dest.push({x:e.dest[t].x,y:e.dest[t].y,z:e.dest[t].z});this.labelText=e.labelText,this.id=e.id},e.prototype.clone=function(){var t=new e;return t.copy(this),t},e}();n.ZJVLabel=i},{}],126:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Vectors"),o=function(){function e(e,t,n,i){this.color=e,this.albedoMap=t||void 0,this.normalMap=n||void 0,this.metallRoughnessMap=i||void 0}return e.isMapDataEqual=function(e,t){return e===t||!(!e||!t)&&!(e.path!==t.path||!i.Vectors.compare(e.scale,t.scale)||e.rotation!==t.rotation)},e.isEqual=function(t,n){return!(!t.color.isEqual(n.color)||e.isMapDataEqual(t.albedoMap,n.albedoMap)||e.isMapDataEqual(t.normalMap,n.normalMap)||e.isMapDataEqual(t.metallRoughnessMap,n.metallRoughnessMap))},e.prototype.isEqual=function(t){return e.isEqual(this,t)},e}();n.ZJVMaterial=o},{"./Vectors":121}],127:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){function e(){this.partId=-1,this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return e.prototype.copy=function(e){return this.partId=e.partId,this.elements=e.elements,this},e.prototype.setElements=function(e){this.elements=e},e.prototype.makeTranslation=function(e,t,n){return this.set(1,0,0,e,0,1,0,t,0,0,1,n,0,0,0,1),this},e.prototype.set=function(e,t,n,i,o,r,s,a,l,c,p,d,h,u,m,f){var g=this.elements;return g[0]=e,g[4]=t,g[8]=n,g[12]=i,g[1]=o,g[5]=r,g[9]=s,g[13]=a,g[2]=l,g[6]=c,g[10]=p,g[14]=d,g[3]=h,g[7]=u,g[11]=m,g[15]=f,this},e.prototype.setPosition=function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},e.prototype.transpose=function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},e}();n.ZJVMatrix=i},{}],128:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./TuppelData");n.TuppelData=i.TuppelData;var o=e("./Vectors");n.Vectors=o.Vectors;var r=e("./ZJVColor");n.ZJVColor=r.ZJVColor;var s=e("./ZJVData");n.ZJVData=s.ZJVData;var a=e("./ZJVHotSpot");n.ZJVHotSpot=a.ZJVHotSpot;var l=e("./ZJVLabel");n.ZJVLabel=l.ZJVLabel;var c=e("./ZJVMaterial");n.ZJVMaterial=c.ZJVMaterial;var p=e("./ZJVMatrix");n.ZJVMatrix=p.ZJVMatrix;var d=e("./ZJVPart");n.ZJVPart=d.ZJVPart;var h=e("./ZJVRefParts");n.ZJVRefParts=h.ZJVRefParts;var u=e("./ZJVThread");n.ZJVThread=u.ZJVThread;var m=e("./ZJVUtil");n.ZJVUtil=m.ZJVUtil},{"./TuppelData":120,"./Vectors":121,"./ZJVColor":122,"./ZJVData":123,"./ZJVHotSpot":124,"./ZJVLabel":125,"./ZJVMaterial":126,"./ZJVMatrix":127,"./ZJVPart":129,"./ZJVRefParts":130,"./ZJVThread":131,"./ZJVUtil":132}],129:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./ZJVColor"),o=function(){function e(){this.name="",this.partColor=new i.ZJVColor(0,0,0,0),this.mIdent="",this.unitBase=1,this.pointList=[],this.normalList=[],this.colors=[],this.colorFaceList=[],this.faceList=[],this.normalFaceList=[],this.fixedLineList=[],this.roundLineList=[],this.threadList=[],this.threadListExt=[],this.labelsList=[],this.hotspotList=[],this.axis={front:"",up:""},this.customAttributes={},this.dimensions=[{arrows:[],lines:[],texts:[]},{arrows:[],lines:[],texts:[]},{arrows:[],lines:[],texts:[]},{arrows:[],lines:[],texts:[]},{arrows:[],lines:[],texts:[]},{arrows:[],lines:[],texts:[]}]}return e.prototype.copy=function(e){return this.name=e.name,this.partColor=e.partColor,this.mIdent=e.mIdent,this.unitBase=e.unitBase,this.pointList=e.pointList,this.normalList=e.normalList,this.colors=e.colors,this.colorFaceList=e.colorFaceList,this.faceList=e.faceList,this.normalFaceList=e.normalFaceList,this.fixedLineList=e.fixedLineList,this.roundLineList=e.roundLineList,this.threadList=e.threadList,this.threadListExt=e.threadListExt,this.labelsList=e.labelsList,this.hotspotList=e.hotspotList,this.axis=e.axis,this.customAttributes=e.customAttributes,this.dimensions=e.dimensions,this},e}();n.ZJVPart=o},{"./ZJVColor":122}],130:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){this.name="",this.matrixList=[],this.explosionMatrixList=[]}}();n.ZJVRefParts=i},{}],131:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(){this.inner=0,this.diameter=0,this.pitch=1,this.radiusStart=-1,this.radiusEnd=-1}}();n.ZJVThread=i},{}],132:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./Vectors"),o=e("./ZJVMatrix"),r=function(){function e(){}return e.makeThreads_Lines=function(t){var n,i,o={vertices:[]};for(n=0;n<t.length;n++)i=t[n],e.makeThread_Lines(i,o);return o},e.makeThread_Lines=function(e,t){var n,r=Math.PI/180,s=new o.ZJVMatrix,a={x:0,y:0,z:0},l={x:0,y:0,z:0},c={x:0,y:0,z:0};a=i.Vectors.subVectors(e.end,e.start),n=i.Vectors.veclength(a),a=i.Vectors.normalize(a),i.Vectors.set(l,a.y,a.z,-a.x),c=i.Vectors.crossVectors(a,l),c=i.Vectors.normalize(c),l=i.Vectors.crossVectors(c,a),s.setElements(new Float32Array([c.x,c.y,c.z,0,l.x,l.y,l.z,0,a.x,a.y,a.z,0,e.start.x,e.start.y,e.start.z,1]));var p,d=24*n/e.pitch,h=15*d,u=(e.radiusEnd-e.radiusStart)/d,m=e.radiusStart,f=0,g=0;if(h>0){for(g=0;g<h;g+=15)p={x:m*Math.cos(g*r),y:m*Math.sin(g*r),z:f},p=i.Vectors.applyMatrix4(p,s),0!==g&&t.vertices.push(p),t.vertices.push(p),f+=n/h*15,m+=u;t.vertices.push(p)}},e}();n.ZJVUtil=r},{"./Vectors":121,"./ZJVMatrix":127}],133:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("THREE"),c=e("./baseLoader"),p=e("./pseudoFile");e("THREE_PLYLoader");var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,c,d,h,u,m,f,g,_,v,b,w,y;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,3,,4]),n=void 0,r=void 0,c=[".ply"],d=t.createExtraAndLoadableFiles(e,c),r=d.names[".ply"],h=d.extraFiles,u=void 0,(a.checkForClass(e[0],"File")||e[0]instanceof p.PseudoFile)&&(u=t.createLoadingManager(h)),m=new l.PLYLoader(u),f=[],n=0;n<r.length;n++)f.push(t.loadDeferredPLY(m,r[n]));return[4,Promise.all(f)];case 1:for(g=s.sent(),_=new l.MeshPhongMaterial({vertexColors:l.VertexColors}),(v=new l.Group).name="PLYLoaders",f.length=0,b=void 0,w=void 0,n=0;n<g.length;n++)(w=new l.Group).name="PLYLoader",g[n].computeVertexNormals(),_.colorEncoding=l.GammaEncoding,(b=new l.Mesh(g[n],_)).userData.keepOriginalMaterial=!0,g[n].getAttribute("color")||(_.vertexColors=l.NoColors,b.userData.keepOriginalMaterial=!1),b.userData.drawType="face",f.push(t._loadCubeMap(b)),w.add(b),v.add(w);return t.cleanupExtraFiles(h),[4,Promise.all(f)];case 2:return s.sent(),i(v),[3,4];case 3:return y=s.sent(),o(y),[3,4];case 4:return[2]}})})})]})})},t.loadDeferredPLY=function(e,t){return new Promise(function(n,i){e.load(t,function(e){return n(e)})})},t}(c.BaseLoader);n.PLYLoader=d},{"./baseLoader":107,"./pseudoFile":134,THREE:"THREE",THREE_PLYLoader:"THREE_PLYLoader","base/js/helpers":7}],134:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=function(){return function(e,t){this.blob=e,this.name=t}}();n.PseudoFile=i},{}],135:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("THREE"),l=e("base/js/helpers"),c=e("base/js/logger"),p=e("./baseLoader"),d=jQuery;e("THREE_STLLoader");var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n,i,o,c,p,d,h,u,m,f,g,_=this;return s(this,function(v){switch(v.label){case 0:n=[],i=0,o=e,v.label=1;case 1:return i<o.length?"string"!=typeof(c=o[i])?[3,6]:c.substr(0,t.STL_MAGIC.length).toLowerCase()!==t.STL_MAGIC?[3,2]:(n.push(c),[3,5]):[3,11];case 2:return[4,t.getBlobContentFromUrl(c)];case 3:return p=v.sent(),h=(d=n).push,[4,t.getArrayBufferContentFromFile(p)];case 4:h.apply(d,[v.sent()]),v.label=5;case 5:return[3,10];case 6:return l.checkForClass(c,"File")?(m=(u=n).push,[4,t.getArrayBufferContentFromFile(c)]):[3,8];case 7:return m.apply(u,[v.sent()]),[3,10];case 8:return g=(f=n).push,[4,t.getArrayBufferContentFromFile(c.blob)];case 9:g.apply(f,[v.sent()]),v.label=10;case 10:return i++,[3,1];case 11:return[2,new Promise(function(e,i){return r(_,void 0,void 0,function(){var o,r,l,c,p,d,h,u,m,f,g;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,2,,3]),o=[],r=function(e){o.push(new Promise(function(n,i){try{n(t.generateObjects(e))}catch(e){i(e)}}))},l=0,c=n;l<c.length;l++)p=c[l],r(p);return[4,Promise.all(o)];case 1:for(d=s.sent(),(h=new a.Group).name="STLLoaders",u=0,m=d;u<m.length;u++)f=m[u],h.add(f);return e(h),[3,3];case 2:return g=s.sent(),i(g),[3,3];case 3:return[2]}})})})]}})})},t.checkForASCIIMagic=function(e){return e.substr(0,t.STL_MAGIC.length).toLowerCase()===t.STL_MAGIC},t.generateObjects=function(e,n){var i=d.Deferred(),o=new a.Group;o.name="STLLoader";var r,s=new a.Group;s.name="PartGroup",o.add(s);try{var l=(new a.STLLoader).parse(e);if(l instanceof a.BufferGeometry&&(l=t.convertToGeometry(l)),l instanceof a.Geometry){var p=[];t.smoothGeometryNormals(l,p);var h=void 0;if(p.length){var u=[],m=void 0;for(m=0;m<p.length;m++)u.push(p[m].x),u.push(p[m].y),u.push(p[m].z);var f=new a.BufferGeometry,g=new Float32Array(u);f.addAttribute("position",new a.BufferAttribute(g,3)),(h=new a.LineSegments(f,void 0)).name="Lines",h.userData.drawType="line"}(r=new a.Mesh(l)).name="Part",r.userData.drawType="face",r.userData.customUniforms=r.userData.customUniforms||{},r.userData.customUniforms.u_metallic=void 0,r.userData.customUniforms.u_roughness=void 0,h&&r.add(h),s.add(r),t._loadCubeMap(r).done(function(){i.resolve(o)})}}catch(e){c.error(e),i.reject()}return i.promise()},t.convertToGeometry=function(e){var t,n,i=e.getAttribute("position").array,o=[];for(t=0,n=i.length;t<n;t+=3)o.push(new a.Vector3(i[t],i[t+1],i[t+2]));var r=[];for(t=0,n=o.length;t<n;t+=3)r.push(new a.Face3(t,t+1,t+2));var s=new a.Geometry;return s.vertices=o,s.faces=r,s.computeFaceNormals(),s},t.smoothGeometryNormals=function(e,n){e.computeFaceNormals(),e.mergeVertices();var i,o,r,s,l,c,p=1-Math.sin(15*Math.PI/180),d=["a","b","c"],h=new Array(e.vertices.length),u=new a.Color("#AEAEAE"),m=0,f=0,g=0,_=0,v=0,b=!1,w=[[],[],[]],y=[];for(m=0;m<h.length;m++)h[m]=[];for(m=0;m<e.faces.length;m++){for(c=[(r=e.faces[m]).a,r.b,r.c],g=0;g<3;g++)h[c[g]].push(m);for(0===r.vertexColors.length&&(r.vertexColors=[new a.Color,new a.Color,new a.Color]),0===r.vertexNormals.length&&(r.vertexNormals=[new a.Vector3,new a.Vector3,new a.Vector3]),g=0;g<3;g++)r.vertexColors[g].copy(u),r.vertexNormals[g].copy(r.normal)}for(m=0;m<e.faces.length;m++){for(c=[(r=e.faces[m]).a,r.b,r.c],s=[],w=[[],[],[]],g=0;g<3;g++)t.idxMerge(s,h[c[g]]);for(f=0;f<s.length;f++)if((v=s[f])!==m&&(l=e.faces[v],r.a!==l.a||r.b!==l.b||r.c!==l.c)){b=(_=r.normal.dot(l.normal))<p,y=[];var x=[l.a,l.b,l.c];for(g=0;g<3;g++){var C=x.indexOf(c[g]);C>=0&&(y.push(g),b||w[g].push(l.vertexNormals[C]))}2===y.length&&(b?(i=r[d[y[0]]])<(o=r[d[y[1]]])?(n.push(e.vertices[i]),n.push(e.vertices[o])):(n.push(e.vertices[o]),n.push(e.vertices[i])):_<.99&&(r.vertexNormals[y[0]].add(l.normal),r.vertexNormals[y[1]].add(l.normal)))}for(g=0;g<3;g++)for(r.vertexNormals[g].normalize(),f=0;f<w[g].length;f++)w[g][f].copy(r.vertexNormals[g])}e.normalsNeedUpdate=!0,e.elementsNeedUpdate=!0},t.idxMerge=function(e,t){var n;for(n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n])},t.STL_MAGIC="solid",t}(p.BaseLoader);n.STLLoader=h},{"./baseLoader":107,THREE:"THREE",THREE_STLLoader:"THREE_STLLoader","base/js/helpers":7,"base/js/logger":8}],136:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("THREE"),c=e("./baseLoader"),p=e("./pseudoFile");e("THREE_TDSLoader");var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,r,c,d,h,u,m,f,g,_,v,b,w,y,x;return s(this,function(s){switch(s.label){case 0:for(s.trys.push([0,3,,4]),n=void 0,r=void 0,c=[".3ds"],d=t.createExtraAndLoadableFiles(e,c),r=d.names[".3ds"],h=d.extraFiles,u=void 0,(a.checkForClass(e[0],"File")||e[0]instanceof p.PseudoFile)&&(u=t.createLoadingManager(h)),m=new l.TDSLoader(u),f=void 0,g=[],n=0;n<r.length;n++)f=r[n],g.push(t.loadDeferredTDS(m,f));return[4,Promise.all(g)];case 1:for(_=s.sent(),v=[],b=void 0,w=void 0,(y=new l.Group).name="TDSLoaders",n=0;n<_.length;n++)(w=new l.Group).name="TDSLoader",(b=_[n]).traverse(function(e){if(e instanceof l.Mesh){if(e.geometry instanceof l.Geometry&&e.geometry.computeFaceNormals(),Array.isArray(e.material)){var n=0;for(n=0;n<e.material.length;n++)e.material[n].side=l.DoubleSide,e.material[n].map||(e.material[n].colorEncoding=l.GammaEncoding)}else e.material.side=l.DoubleSide,e.material.map||(e.material.colorEncoding=l.GammaEncoding);e.userData.drawType="face",e.userData.keepOriginalMaterial=!0,v.push(t.createTexturePromises(e))}}),w.add(b),y.add(w);return t.cleanupExtraFiles(h),[4,Promise.all(v)];case 2:return s.sent(),i(y),[3,4];case 3:return x=s.sent(),o(x),[3,4];case 4:return[2]}})})})]})})},t.loadDeferredTDS=function(e,t){return new Promise(function(n,i){var o=t.split("/");o.pop();var r=o.join("/");r=""===r?r:r+"/",e.setPath(r),e.load(t,function(e){return n(e)})})},t}(c.BaseLoader);n.TDSLoader=d},{"./baseLoader":107,"./pseudoFile":134,THREE:"THREE",THREE_TDSLoader:"THREE_TDSLoader","base/js/helpers":7}],137:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("JSZip"),c=e("./baseLoader"),p=e("./pseudoFile"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var n=this;return s(this,function(i){return[2,new Promise(function(i,o){return r(n,void 0,void 0,function(){var n,c,d,h,u,m,f,g,_,v,b,w,y,x=this;return s(this,function(C){switch(C.label){case 0:C.trys.push([0,9,,10]),n=void 0,c=new l,d=[],u=void 0,m={},f=void 0,g=void 0,_=0,v=e,C.label=1;case 1:return _<v.length?"string"!=typeof(n=v[_])?[3,3]:(g=n,[4,t.getBlobContentFromUrl(n)]):[3,7];case 2:return f=C.sent(),[3,4];case 3:a.checkForClass(e[0],"File")?(f=e[0],g=f.name):(f=e[0].blob,g=e[0].name),C.label=4;case 4:return null===g.split(".").pop().match(/^zip$/i)?[3,6]:(u=g.replace(".zip",""),[4,c.loadAsync(f)]);case 5:C.sent();for(b in c.files)c.files.hasOwnProperty(b)&&(m[u+"/"+b]=c.files[b],delete c.files[b]);C.label=6;case 6:return _++,[3,1];case 7:for(b in m)m.hasOwnProperty(b)&&((h=m[b]).dir||d.push(new Promise(function(e,t){return r(x,void 0,void 0,function(){var n,i,o;return s(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),n=h.name,[4,h.async("blob")];case 1:return i=r.sent(),e(new p.PseudoFile(i,n)),[3,3];case 2:return o=r.sent(),t(o),[3,3];case 3:return[2]}})})})));return[4,Promise.all(d)];case 8:return w=C.sent(),i(w),[3,10];case 9:return y=C.sent(),o(y),[3,10];case 10:return[2]}})})})]})})},t}(c.BaseLoader);n.ZIPLoader=d},{"./baseLoader":107,"./pseudoFile":134,JSZip:"JSZip","base/js/helpers":7}],138:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(o,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(o=i[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(i,r[1])).done)return o;switch(i=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,i=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){s=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){s.label=r[1];break}if(6===r[0]&&s.label<o[1]){s.label=o[1],o=r;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(r);break}o[2]&&s.ops.pop(),s.trys.pop();continue}r=t.call(e,s)}catch(e){r=[6,e],i=0}finally{n=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}};Object.defineProperty(n,"__esModule",{value:!0});var a=e("base/js/helpers"),l=e("JSZip"),c=e("./baseLoader"),p=e("./pjvLoader/pjvLoader"),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.load=function(e,n){return r(this,void 0,void 0,function(){var i,o;return s(this,function(r){switch(r.label){case 0:return"string"!=typeof e[0]?[3,2]:[4,t.getBlobContentFromUrl(e[0])];case 1:return i=r.sent(),[3,5];case 2:return a.checkForClass(e[0],"File")?[4,t.getArrayBufferContentFromFile(e[0])]:[3,4];case 3:return i=r.sent(),[3,5];case 4:i=e[0].blob,r.label=5;case 5:return[4,t.unzipZJV(i)];case 6:return o=r.sent(),[2,p.PJVLoader.load([o],n)]}})})},t.unzipZJV=function(e){return r(this,void 0,void 0,function(){return s(this,function(n){return[2,new Promise(function(n,i){t.jszip=t.jszip||new l,t.jszip.loadAsync(e).then(function(e){e.file("part1.pjv").async("text").then(function(e){n(e)})})})]})})},t}(c.BaseLoader);n.ZJVLoader=d},{"./baseLoader":107,"./pjvLoader/pjvLoader":116,JSZip:"JSZip","base/js/helpers":7}],139:[function(e,t,n){t.exports="// depth.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nvarying float v_cutPositionZ;\n\nuniform float u_opacity;\nuniform vec3 u_depthColor;\n\nvoid main() {\n#ifdef CUT_ACTIVE\n  if (v_cutPositionZ > 0.0) {\n    discard;\n  }\n#endif\n\n  gl_FragColor.rgba = vec4(u_depthColor, u_opacity);\n}\n"},{}],140:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./depth.vert"),fragment:e("./depth.frag")},defines:[],uniforms:{u_opacity:{type:"f",value:1},u_depthColor:{type:"vec3",value:new i.Vector3(1,1,1)},u_invertCut:{type:"m4",value:new i.Matrix4}},materialOptions:{transparent:!0,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="Depth",t.exports=r},{"../base":148,"./depth.frag":139,"./depth.vert":141,THREE:"THREE",inherits:208}],141:[function(e,t,n){t.exports="// depth.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying float v_cutPositionZ;\nuniform mat4 u_invertCut;\n\nvoid main() {\n  vec3 v_position = (modelViewMatrix * vec4(position, 1.0)).xyz;\n\n#ifdef CUT_ACTIVE\n  v_cutPositionZ = (u_invertCut * (modelMatrix * vec4(position, 1.0))).z;\n#endif\n\n  gl_Position = projectionMatrix * vec4(v_position, 1.0);\n}\n"},{}],142:[function(e,t,n){t.exports="// background.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform vec4 u_ColorTL;\nuniform vec4 u_ColorTR;\nuniform vec4 u_ColorBL;\nuniform vec4 u_ColorBR;\nuniform vec4 u_ColorML;\nuniform vec4  u_ColorMR;\nuniform float u_MixMiddle;\nvarying vec2 vUv;\n\nfloat when_lt(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\nfloat when_ge(float x, float y) {\n  return 1.0 - when_lt(x, y);\n}\n\nvoid main() {\n  vec4 colorTop    = mix(u_ColorTL, u_ColorTR, vUv.x);\n  vec4 colorMiddle = mix(u_ColorML, u_ColorMR, vUv.x);\n  vec4 colorBottom = mix(u_ColorBL, u_ColorBR, vUv.x);\n  colorMiddle      = mix(mix(colorTop, colorBottom, 0.5), colorMiddle, u_MixMiddle);\n  float y          = vUv.y * 2.0;\n\n  vec4 color = when_lt(y, 1.0) * mix(colorBottom, colorMiddle, y) + when_ge(y, 1.0) * mix(colorMiddle, colorTop, y - 1.0);\n\n  gl_FragColor   = color;\n  gl_FragColor.a = 1.0;\n}\n"},{}],143:[function(e,t,n){"use strict";var i=e("./base"),o=e("inherits"),r=window.THREE||e("THREE");function s(t){var n={shaders:{vertex:e("./background.vert"),fragment:e("./background.frag")},defines:[],uniforms:{u_ColorBL:{type:"v4",value:new r.Vector4(1,1,1,1)},u_ColorBR:{type:"v4",value:new r.Vector4(1,1,1,1)},u_ColorML:{type:"v4",value:new r.Vector4(1,1,1,1)},u_ColorMR:{type:"v4",value:new r.Vector4(1,1,1,1)},u_ColorTL:{type:"v4",value:new r.Vector4(1,1,1,1)},u_ColorTR:{type:"v4",value:new r.Vector4(1,1,1,1)},u_MixMiddle:{type:"f",value:0}},materialOptions:{depthTest:!1,depthWrite:!1,name:this._shaderName}};s.super_.call(this,n,t)}o(s,i),s.prototype._shaderName="Background",t.exports=s},{"./background.frag":142,"./background.vert":144,"./base":148,THREE:"THREE",inherits:208}],144:[function(e,t,n){t.exports="// background.vert\n\n// THREE.js stuff\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying vec2 vUv;\n\nvoid main() {\n  vUv         = position.xy * 0.5 + vec2(0.5);\n  gl_Position = vec4(position.xyz, 1.0);\n}\n"},{}],145:[function(e,t,n){t.exports="// background_image.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform sampler2D texture1;\nuniform float     logomixfactor;\nvarying vec2 vUv;\n\nvoid main() {\n  gl_FragColor = texture2D(texture1, vUv);\n  gl_FragColor.a *= logomixfactor;\n}\n"},{}],146:[function(e,t,n){"use strict";var i=e("./base"),o=e("inherits"),r=window.THREE||e("THREE");function s(t){var n={shaders:{vertex:e("./background_image.vert"),fragment:e("./background_image.frag")},defines:[],uniforms:{texture1:{type:"t",value:void 0},logomixfactor:{type:"f",value:.5},fillorfit:{type:"f",value:0},screenSize:{type:"v2",value:new r.Vector2(1,1)},imageSize:{type:"v2",value:new r.Vector2(1,1)},logoscalefactor:{type:"f",value:.5}},materialOptions:{transparent:!0,depthTest:!1,depthWrite:!1,name:this._shaderName}};s.super_.call(this,n,t)}o(s,i),s.prototype._shaderName="BackgroundImage",t.exports=s},{"./background_image.frag":145,"./background_image.vert":147,"./base":148,THREE:"THREE",inherits:208}],147:[function(e,t,n){t.exports="// background_image.vert\n\n// THREE.js stuff\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nfloat when_gt(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\nfloat when_lt(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\nfloat and (float a, float b) {\n  return a * b;\n}\nfloat or (float a, float b) {\n  return min(a + b, 1.0);\n}\nfloat not(float a) {\n  return 1.0 - a;\n}\n\nuniform float logoscalefactor;\nuniform vec2 imageSize;\nuniform vec2  screenSize;\nuniform float fillorfit;\n\nvarying vec2 vUv;\n\nvoid main() {\n  float as = screenSize.x / screenSize.y;\n  float ai = imageSize.x / imageSize.y;\n  vUv      = position.xy + vec2(0.5, 0.5);\n\n  gl_Position.zw = vec2(0.0, 1.0);\n  gl_Position.xy = position.xy * (logoscalefactor * 2.0);\n\n  float tmp = or (and(when_gt(as, ai), when_lt(fillorfit, 0.5)), and(when_lt(as, ai), when_gt(fillorfit, 0.5)));\n\n  gl_Position.x = gl_Position.x + (gl_Position.x * ((ai / as) - 1.0)) * tmp;\n  gl_Position.y = gl_Position.y + (gl_Position.y * ((as / ai) - 1.0)) * not(tmp);\n}\n"},{}],148:[function(e,t,n){"use strict";var i=e("THREE"),o=e("./shaderHelper"),r=jQuery,s=function(){function e(e,t){this._options={},this._uniforms={},this._materialOptions={},this._shaderName="Base",e=e||{},t=t||{},this._options={defines:[],materialOptions:{},shaders:{fragment:"",vertex:""},uniforms:{}},this._uniforms=this._uniforms||{},this._materialOptions=this._materialOptions||{},r.extend(!0,this._options,e,t),this._options.defines.length=0,this._options.defines=e.defines.concat(t.defines||[]),o.checkHighPrecisionSupport()&&this._options.defines.push("PRECISION_HIGH"),this._init(),this._material=this._createMaterial()}return e.prototype._init=function(){e._addDefinesToShader(this._options.shaders,this._options.defines.reverse()),e._setUniformValues(this._uniforms,this._options.uniforms),this._setMaterialOptions(this._materialOptions,this._options.materialOptions)},e._addDefinesToShader=function(e,t){var n,i;for(i=0;i<t.length;++i)n=t[i],e.vertex="#define "+n+"\n"+e.vertex,e.fragment="#define "+n+"\n"+e.fragment},e._setUniformValues=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e.prototype._createMaterial=function(){return new i.RawShaderMaterial(this._materialOptions)},e.prototype._setMaterialOptions=function(e,t){var n={blending:i.NormalBlending,depthTest:!0,depthWrite:!0,flatShading:!1,fragmentShader:this._options.shaders.fragment,name:this._shaderName,opacity:1,polygonOffset:!0,polygonOffsetFactor:2,polygonOffsetUnits:2,side:i.DoubleSide,transparent:!1,uniforms:i.UniformsUtils.clone(this._uniforms),vertexShader:this._options.shaders.vertex};r.extend(!0,e,n,e,t)},e.prototype.getMaterial=function(){return this._material},e}();t.exports=s},{"./shaderHelper":191,THREE:"THREE"}],149:[function(e,t,n){t.exports="//#extension GL_OES_standard_derivatives : enable\r\n\r\n// basic.frag\r\n\r\n#define PHYSICAL\r\n#define ENVMAP_MODE_REFLECTION\r\n#define STANDARD\r\n//#define PHYSICALLY_CORRECT_LIGHTS\r\n\r\nvec3          emissive        = vec3(0.0, 0.0, 0.0);\r\nfloat         u_textureLevels = 11.0;\r\nuniform float u_roughness;\r\nuniform float u_metallic;\r\n\r\n#ifdef PSOL\r\n\r\n#define USE_COLOR\r\nvarying float opacity;\r\nmat3          normalMatrix = mat3(gl_ModelViewMatrix);\r\nmat4          viewMatrix   = mat4(1.0);  // gl_ModelViewMatrix;\r\nPRE_DEF\r\nvec4 mapTexelToLinear(vec4 r) {\r\n  return vec4(r.xyz * r.xyz, r.w);\r\n}\r\nvec4 envMapTexelToLinear(vec4 r) {\r\n  return vec4(r.xyz * r.xyz, r.w);\r\n}\r\nvec4 linearToOutputTexel(vec4 r) {\r\n  return vec4(sqrt(r.xyz), r.w);\r\n}\r\n\r\n#else\r\n\r\nuniform mat3  normalMatrix;\r\nuniform float u_opacity;\r\n#define opacity u_opacity\r\n\r\n#endif\r\n\r\nvec3 diffuse = vec3(1.0);\r\n\r\n#define envMap u_envMap\r\n#ifdef LIGHT\r\n#ifdef ENVMAP_TYPE_CUBE\r\n#define USE_ENVMAP\r\n#endif\r\n#ifdef ENVMAP_TYPE_SPHERE\r\n#define USE_ENVMAP\r\n#endif\r\n#ifdef ENVMAP_TYPE_SINGLECUBE\r\n#define USE_ENVMAP\r\n#define ENVMAP_TYPE_CUBE_UV\r\n#endif\r\n#endif\r\n\r\n#ifndef STANDARD\r\nfloat clearCoat          = 1.0;\r\nfloat clearCoatRoughness = 0.1;\r\n#endif\r\n\r\nvarying vec3 vViewPosition;\r\n\r\n#ifndef FLAT_SHADED\r\n\r\nvarying vec3 vNormal;\r\n\r\n#endif\r\n\r\n#include <common>\r\n//#include <packing>\r\n//#include <dithering_pars_fragment>\r\n#include <cns_color_pars_fragment>\r\n//#include <uv_pars_fragment>\r\n#if defined(USE_TEXTURE)\r\nvarying vec2 vUv;\r\n#endif\r\n\r\n//#include <uv2_pars_fragment>\r\n#ifdef USE_TEXTURE\r\nuniform sampler2D Texture0;\r\n#endif\r\n#ifdef LIGHT\r\n#include <cns_albedo_pars_fragment>\r\n//#include <alphamap_pars_fragment>\r\n//#include <aomap_pars_fragment>\r\n//#include <lightmap_pars_fragment>\r\n//#include <emissivemap_pars_fragment>\r\n#include <envmap_pars_fragment>\r\n//#include <fog_pars_fragment>\r\n#include <bsdfs>\r\n#include <cns_cube_uv_reflection_fragment>\r\n#include <cns_lights_pars_begin>\r\n#include <cns_lights_pars_maps>\r\n#include <lights_physical_pars_fragment>\r\n//#include <shadowmap_pars_fragment>\r\n//#include <bumpmap_pars_fragment>\r\n#include <cns_normalmap_pars_fragment>\r\n//#include <roughnessmap_pars_fragment>\r\n//#include <metalnessmap_pars_fragment>\r\n//#include <logdepthbuf_pars_fragment>\r\n#endif\r\n\r\n#include <clipping_planes_pars_fragment>\r\n\r\nvoid main() {\r\n#include <clipping_planes_fragment>\r\n\r\n#ifdef SHADEMODEL_FLAT\r\n  gl_FragColor = vec4(color, opacity);\r\n  return;\r\n#else\r\n\r\n  vec3 normalT = vec3(0.0, 0.0, 1.0);\r\n\r\n  vec4           diffuseColor          = colorToLinear(vec4(diffuse, opacity));\r\n  ReflectedLight reflectedLight        = ReflectedLight(vec3(0.0), vec3(0.0), vec3(0.0), vec3(0.0));\r\n  vec3           totalEmissiveRadiance = emissive;\r\n\r\n//#include <logdepthbuf_fragment>\r\n//#include <map_fragment>\r\n#include <cns_color_fragment>\r\n#include <cns_map_fragment>\r\n\r\n#ifdef LIGHT\r\n#include <cns_albedo_fragment>\r\n#endif\r\n\r\n#ifndef LIGHT\r\n  gl_FragColor = diffuseColor.rgba;\r\n  return;\r\n#else\r\n  //#include <alphamap_fragment>\r\n  //#include <alphatest_fragment>\r\n\r\n  //#include <roughnessmap_fragment>\r\n  float roughnessFactor = u_roughness;\r\n  //#include <metalnessmap_fragment>\r\n  float metalnessFactor = u_metallic;\r\n#include <cns_normal_fragment_begin>\r\n  //#include <emissivemap_fragment>\r\n#include <lights_physical_fragment>\r\n#include <lights_fragment_begin>\r\n#include <lights_fragment_maps>\r\n#include <lights_fragment_end>\r\n\r\n  // modulation\r\n  //#include <aomap_fragment>\r\n\r\n  vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\r\n\r\n  gl_FragColor = vec4(outgoingLight, diffuseColor.a);\r\n\r\n  //#include <tonemapping_fragment>\r\n#include <encodings_fragment>\r\n//#include <fog_fragment>\r\n//#include <premultiplied_alpha_fragment>\r\n//#include <dithering_fragment>\r\n\r\n/*gl_FragColor.rgb=vec3(0.0);\r\nif ( normal.r>0.01)\r\n        gl_FragColor.r=normal.r;\r\nif ( normal.r<-0.51)\r\n        gl_FragColor.g=-normal.r;*/\r\n#endif\r\n#endif\r\n}\r\n"},{}],150:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("./base");function r(t){i.ShaderChunk.cns_albedo_fragment=e("./cnsThreeShaderChunk/albedo_fragment.glsl"),i.ShaderChunk.cns_albedo_pars_fragment=e("./cnsThreeShaderChunk/albedo_pars_fragment.glsl"),i.ShaderChunk.cns_cube_uv_reflection_fragment=e("./cnsThreeShaderChunk/cube_uv_reflection_fragment.glsl"),i.ShaderChunk.cns_map_fragment=e("./cnsThreeShaderChunk/map_fragment.glsl"),i.ShaderChunk.cns_normal_fragment_begin=e("./cnsThreeShaderChunk/normal_fragment_begin.glsl"),i.ShaderChunk.cns_normalmap_pars_fragment=e("./cnsThreeShaderChunk/normalmap_pars_fragment.glsl"),i.ShaderChunk.cns_color_pars_fragment=e("./cnsThreeShaderChunk/color_pars_fragment.glsl"),i.ShaderChunk.cns_color_fragment=e("./cnsThreeShaderChunk/color_fragment.glsl"),i.ShaderChunk.cns_lights_pars_begin=e("./cnsThreeShaderChunk/lights_pars_begin.glsl"),i.ShaderChunk.cns_lights_pars_maps=e("./cnsThreeShaderChunk/lights_pars_maps.glsl");var n={shaders:{vertex:e("./basic.vert"),fragment:e("./basic.frag")},defines:["LIGHT","USE_NORMAL","ENVMAP_TYPE_SINGLECUBE","USE_IDENTITY_VIEW_MATRIX"],uniforms:this._uniforms,materialOptions:{lights:!0,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._createMaterial=function(){return new i.ShaderMaterial(this._materialOptions)},r.prototype._shaderName="Basic",r.prototype._uniforms={ambientLightColor:{},directionalLights:{},spotLights:{},rectAreaLights:{},pointLights:{},hemisphereLights:{},directionalShadowMap:{},directionalShadowMatrix:{},spotShadowMap:{},spotShadowMatrix:{},pointShadowMap:{},pointShadowMatrix:{},envMapIntensity:{type:"f",value:1},reflectivity:{type:"f",value:1},flipEnvMap:{type:"f",value:1},maxMipLevel:{type:"i",value:8},u_opacity:{type:"f",value:1},u_color:{type:"v3",value:new i.Vector3(.686,.686,.686)},u_envMap:{type:"t"},u_textureLevels:{type:"f",value:11},u_invertCut:{type:"mat4",value:new i.Matrix4},u_metallic:{type:"f",value:1},u_roughness:{type:"f",value:.75},u_NormalMap:{type:"t"},u_NormalMapScale:{type:"v3",value:new i.Vector3(1,1,1)},u_NormalMapRotation:{type:"f",value:0},u_AlbedoMap:{type:"t"},u_AlbedoMapScale:{type:"v3",value:new i.Vector3(1,1,1)},u_AlbedoMapRotation:{type:"f",value:0},u_mixColors:{type:"f",value:0},u_mixAlpha:{type:"f",value:0},u_MetallRoughnessMap:{type:"t"},u_MetallRoughnessMapScale:{type:"v3",value:new i.Vector3(1,1,1)},u_MetallRoughnessMapRotation:{type:"f",value:0}},t.exports=r},{"./base":148,"./basic.frag":149,"./basic.vert":151,"./cnsThreeShaderChunk/albedo_fragment.glsl":152,"./cnsThreeShaderChunk/albedo_pars_fragment.glsl":153,"./cnsThreeShaderChunk/color_fragment.glsl":154,"./cnsThreeShaderChunk/color_pars_fragment.glsl":155,"./cnsThreeShaderChunk/cube_uv_reflection_fragment.glsl":156,"./cnsThreeShaderChunk/lights_pars_begin.glsl":157,"./cnsThreeShaderChunk/lights_pars_maps.glsl":158,"./cnsThreeShaderChunk/map_fragment.glsl":159,"./cnsThreeShaderChunk/normal_fragment_begin.glsl":160,"./cnsThreeShaderChunk/normalmap_pars_fragment.glsl":161,THREE:"THREE",inherits:208}],151:[function(e,t,n){t.exports="\r\n// basic.vert\r\n\r\n#define PHYSICAL\r\n#define ENVMAP_MODE_REFLECTION\r\n\r\n#ifdef PSOL\r\n\r\n#define USE_COLOR\r\nmat4          projectionMatrix = gl_ProjectionMatrix;\r\nmat4          modelViewMatrix  = gl_ModelViewMatrix;\r\nmat4          modelMatrix      = gl_ModelViewMatrix;\r\nmat3          normalMatrix     = mat3(gl_ModelViewMatrix);\r\nvec3          position         = gl_Vertex.xyz;\r\nvec3          normal           = gl_Normal;\r\nvec3          color            = gl_Color.rgb;\r\nvarying float opacity;\r\nvec2          uv = gl_MultiTexCoord0.xy;\r\n\r\nPRE_DEF\r\n\r\n#endif\r\n\r\n#define envMap u_envMap\r\n#ifdef LIGHT\r\n#ifdef ENVMAP_TYPE_CUBE\r\n#define USE_ENVMAP\r\n#endif\r\n#ifdef ENVMAP_TYPE_SPHERE\r\n#define USE_ENVMAP\r\n#endif\r\n#ifdef ENVMAP_TYPE_SINGLECUBE\r\n#define USE_ENVMAP\r\n#define ENVMAP_TYPE_CUBE_UV\r\n#endif\r\n#endif\r\n\r\nvarying vec3 vViewPosition;\r\n\r\n#ifndef FLAT_SHADED\r\n\r\nvarying vec3 vNormal;\r\n#if defined(USE_NORMALMAP) || defined(USE_ALBEDO) || defined(USE_METALLROUGHNESS)\r\nvarying vec3 v_model_normal;\r\nvarying vec3 v_model_position;\r\n#endif\r\n\r\n#endif\r\n\r\n#include <common>\r\n\r\n//#include <uv_pars_vertex>\r\n#if defined(USE_TEXTURE)\r\nvarying vec2 vUv;\r\n#endif\r\n//#include <uv2_pars_vertex>\r\n//#include <displacementmap_pars_vertex>\r\n#include <color_pars_vertex>\r\n//#include <fog_pars_vertex>\r\n//#include <morphtarget_pars_vertex>\r\n//#include <skinning_pars_vertex>\r\n//#include <shadowmap_pars_vertex>\r\n//#include <logdepthbuf_pars_vertex>\r\n#include <clipping_planes_pars_vertex>\r\n\r\nvoid main() {\r\n#ifdef PSOL\r\n  opacity = gl_Color.a;\r\n#endif\r\n  //#include <uv_vertex>\r\n#if defined(USE_TEXTURE)\r\n  vUv = uv;\r\n#endif\r\n//#include <uv2_vertex>\r\n#include <color_vertex>\r\n\r\n#include <beginnormal_vertex>\r\n//#include <morphnormal_vertex>\r\n//#include <skinbase_vertex>\r\n//#include <skinnormal_vertex>\r\n#include <defaultnormal_vertex>\r\n\r\n#ifndef FLAT_SHADED  // Normal computed with derivatives when FLAT_SHADED\r\n\r\n  vNormal = normalize(transformedNormal);\r\n\r\n#endif\r\n\r\n#include <begin_vertex>\r\n\r\n//#include <morphtarget_vertex>\r\n//#include <skinning_vertex>\r\n//#include <displacementmap_vertex>\r\n#include <project_vertex>\r\n//#include <logdepthbuf_vertex>\r\n#include <clipping_planes_vertex>\r\n\r\n  vViewPosition = -mvPosition.xyz;\r\n#ifndef FLAT_SHADED\r\n#if defined(USE_NORMAL)\r\n#if defined(USE_NORMALMAP) || defined(USE_ALBEDO) || defined(USE_METALLROUGHNESS)\r\n  v_model_normal   = normal;\r\n  v_model_position = transformed;\r\n#endif\r\n#endif\r\n#endif\r\n\r\n#include <worldpos_vertex>\r\n  //#include <shadowmap_vertex>\r\n  //#include <fog_vertex>\r\n}\r\n"},{}],152:[function(e,t,n){t.exports="\r\n#ifdef USE_ALBEDO\r\nvec4 droppedA    = calcFloating(v_model_normal, v_model_position);\r\nvec4 albedo_drop = calcDropped(droppedA, u_AlbedoMapRotation, u_AlbedoMapScale.xy);\r\nvec4 albedoA     = texture2D(u_AlbedoMap, albedo_drop.xy);\r\nalbedoA          = vec4(pow(albedoA.xyz, vec3(GAMMA_FACTOR)), albedoA.w);\r\n// diffuseColor.rgb=albedoA.rgb;\r\n// diffuseColor.rgb=vec3(1.0,1.0,0.0);\r\ndiffuseColor.rgb = mix(albedoA.rgb * diffuse, (albedoA.r + albedoA.g + albedoA.b) / 3.0 * diffuseColor.rgb, u_mixColors);\r\ndiffuseColor.a   = mix(diffuseColor.a, diffuseColor.a* albedoA.a, u_mixAlpha);\r\n#endif"},{}],153:[function(e,t,n){t.exports="\r\n#ifdef USE_ALBEDO\r\n\tuniform sampler2D u_AlbedoMap;\r\n\tuniform vec3  u_AlbedoMapScale;\r\n\tuniform float u_AlbedoMapRotation;\r\n\tuniform float u_mixColors;\r\n  uniform float u_mixAlpha;\r\n#endif\r\n"},{}],154:[function(e,t,n){t.exports="#ifdef USE_COLOR\n\ndiffuseColor.rgb *= vColor;\n\n#else\n\ndiffuseColor.rgb *= colorToLinear(vec4(u_color.rgb, 1.0)).rgb;\n\n#endif"},{}],155:[function(e,t,n){t.exports="#ifdef USE_COLOR\n\n\tvarying vec3 vColor;\n\n#else\n\n\tuniform vec3 u_color;\n\n#endif\n"},{}],156:[function(e,t,n){t.exports="#ifdef ENVMAP_TYPE_SINGLECUBE\r\n// float pxBorderW= 1.0/1224.0;\r\n// float pxBorderH= 1.0/544.0;\r\nfloat pxBorderW  = 1.0 / 2048.0;\r\nfloat pxBorderH  = 1.0 / 2048.0;\r\nfloat pxBorderW2 = 1.0 / (2.0 * (512.0 + 9.0 * 2.0) * 1.5);\r\nfloat pxBorderH2 = 1.0 / (3.0 * (512.0 + 9.0 * 2.0));\r\n\r\nvec2 mapUVtoRect(vec2 uv, vec4 rect)\r\n{\r\n  return rect.xy + uv * rect.zw;\r\n}\r\n\r\nvec4 removeBorder(vec4 rect, float b)\r\n{\r\n  rect.x += b * pxBorderW;\r\n  rect.y += b * pxBorderH;\r\n  rect.z -= 2.0 * b * pxBorderW;\r\n  rect.w -= 2.0 * b * pxBorderH;\r\n  return rect;\r\n}\r\n\r\nvec4 pixelToUV(vec4 rect)\r\n{\r\n  return vec4(rect.x * pxBorderW, rect.y * pxBorderH, rect.w * pxBorderW, rect.z * pxBorderH);\r\n}\r\n\r\nvec4 texture2DLod3(sampler2D lEnvMap, vec2 uv, vec4 rect, float lod)\r\n{\r\n  vec4  rectP;\r\n  float borderN   = u_textureLevels - 2.0;\r\n  float borderN2  = borderN * 2.0;\r\n  float fullsizeN = 512.0;  // pow(2.0,borderN);\r\n  float sizeN     = fullsizeN;\r\n\r\n  if (lod < 1.0) {\r\n    rectP.x = borderN;\r\n    rectP.y = borderN;\r\n    rectP.z = sizeN;\r\n    rectP.w = sizeN;\r\n  } else {\r\n    float row   = 0.0;\r\n    float baseS = 1.0;\r\n    if (lod < 2.0) {\r\n      row   = 0.0;\r\n      baseS = 1.0;\r\n    } else if (lod < 4.0) {\r\n      row   = 1.0;\r\n      baseS = 2.0;\r\n    } else if (lod < 8.0) {\r\n      row   = 2.0;\r\n      baseS = 4.0;\r\n    } else if (lod < 16.0) {\r\n      row   = 3.0;\r\n      baseS = 8.0;\r\n    }\r\n    sizeN /= (baseS * 2.0);\r\n    float s = floor(lod) - baseS;\r\n    rectP.x = fullsizeN + borderN2 + (1.0 + sizeN + 1.0) * s + 1.0;\r\n    rectP.y = borderN2 - 1.0 - row * 2.0 + sizeN;\r\n    rectP.z = sizeN;\r\n    rectP.w = sizeN;\r\n  }\r\n  rectP = pixelToUV(rectP);\r\n  rect.xy += rectP.xy;\r\n  rect.zw = rectP.zw;\r\n  return texture2D(lEnvMap, mapUVtoRect(uv, rect));\r\n}\r\n\r\nvec4 texture2DLod2(sampler2D lEnvMap, vec2 uv, vec4 rect, float lod)\r\n{\r\n  vec4 v1 = texture2DLod3(lEnvMap, uv, rect, floor(lod));\r\n  vec4 v2 = texture2DLod3(lEnvMap, uv, rect, floor(lod + 1.0));\r\n  return mix(v1, v2, lod - floor(lod));\r\n}\r\n\r\nvec4 textureCubeLod2(sampler2D lEnvMap, vec3 reflectionVector, float lod)\r\n{\r\n  float x    = reflectionVector.x;\r\n  float y    = reflectionVector.y;\r\n  float z    = reflectionVector.z;\r\n  float absX = abs(x);\r\n  float absY = abs(y);\r\n  float absZ = abs(z);\r\n  float indexU, indexV;\r\n\r\n  float isXPositive = x > 0.0 ? -1.0 : 1.0;\r\n  float isYPositive = y > 0.0 ? -1.0 : 1.0;\r\n  float isZPositive = z > 0.0 ? 1.0 : -1.0;\r\n\r\n  float maxAxis, u, v, uc, vc;\r\n\r\n  // X\r\n  if (absX >= absY && absX >= absZ) {\r\n    maxAxis = absX;\r\n    uc      = z * isXPositive;\r\n    vc      = y;\r\n    indexV  = 2.0 / 3.0;\r\n    if (isXPositive < 0.0) {\r\n      indexU = 0.0;\r\n    } else {\r\n      indexU = 1.0 / 2.0;\r\n    }\r\n  }\r\n  // Y\r\n  else if (absY >= absX && absY >= absZ) {\r\n    maxAxis = absY;\r\n    uc      = x;\r\n    vc      = z * isYPositive;\r\n    indexV  = 1.0 / 3.0;\r\n    if (isYPositive < 0.0) {\r\n      indexU = 0.0;\r\n    } else {\r\n      indexU = 1.0 / 2.0;\r\n    }\r\n  }\r\n  // Z\r\n  else if (absZ >= absX && absZ >= absY) {\r\n    maxAxis = absZ;\r\n    uc      = x * isZPositive;\r\n    vc      = y;\r\n    indexV  = 0.0 / 3.0;\r\n    if (isZPositive > 0.0) {\r\n      indexU = 0.0;\r\n    } else {\r\n      indexU = 1.0 / 2.0;\r\n    }\r\n  }\r\n\r\n  // Convert range from -1 to 1 to 0 to 1\r\n  u = 0.5 * (uc / maxAxis + 1.0);\r\n  v = 0.5 * (vc / maxAxis + 1.0);\r\n\r\n  float fw = pxBorderW / pxBorderW2;\r\n  float fh = pxBorderH / pxBorderH2;\r\n  // vec4 rect=vec4(2.0/3.0*fw, 0.5*fh+(((1.0/pxBorderH)-(1.0/pxBorderH2))*pxBorderH ) , 1.0/2.0*fw, 1.0/3.0*fh);\r\n\r\n  return texture2DLod2(lEnvMap, vec2(u, v), vec4(indexU * fw, indexV * fh + (((1.0 / pxBorderH) - (1.0 / pxBorderH2)) * pxBorderH), 1.0 / 2.0 * fw, 1.0 / 3.0 * fh), lod);\r\n}\r\n\r\n#endif\r\n\r\nvec4 textureCubeUV(vec3 reflectionVector, float roughness ) \r\n{\r\n  // 2048 =11\r\n  // 1024 =10\r\n  // 512= 9\r\n  // 256= 8\r\n#ifdef LIGHT\r\n#ifdef ENVMAP_TYPE_CUBE\r\n  float levels     = u_textureLevels - 1.0;\r\n  float roughness2 = (roughness);  //*levels;\r\n  vec4  v1         = textureCubeLod(u_envMap, vec3(reflectionVector.x, reflectionVector.y, reflectionVector.z), floor(roughness2) + 1.0).rgba;\r\n  vec4  v2         = textureCubeLod(u_envMap, vec3(reflectionVector.x, reflectionVector.y, reflectionVector.z), floor(roughness2)).rgba;\r\n  v1               = envMapTexelToLinear(v1);\r\n  v2               = envMapTexelToLinear(v2);\r\n  return mix(v2, v1, roughness2 - floor(roughness2));\r\n#endif\r\n#ifdef ENVMAP_TYPE_SPHERE\r\n  float levels     = u_textureLevels - 1.0;\r\n  float roughness2 = (roughness);  //*levels;\r\n  float m          = 2.0;          // 2.0 * sqrt( r.x*r.x + r.y*r.y + (r.z+1.0)*(r.z+1.0) );\r\n  vec2  sphere_map = vec2(reflectionVector.x / m + 0.5, reflectionVector.y / m + 0.5);\r\n  vec4  ret        = texture2D(u_envMap, sphere_map.xy, roughness2).rgba;\r\n  ret              = envMapTexelToLinear(ret);\r\n  return ret;\r\n#endif\r\n\r\n#ifdef ENVMAP_TYPE_SINGLECUBE\r\n  float levels     = u_textureLevels - 2.0;\r\n  float roughness2 = (roughness);  //*levels;\r\n  vec4  ret        = textureCubeLod2(u_envMap, reflectionVector, roughness2).rgba;\r\n  ret              = envMapTexelToLinear(ret);\r\n  return ret;\r\n#endif\r\n#endif\r\n  return vec4(1.0);\r\n}\r\n"},{}],157:[function(e,t,n){t.exports="#ifdef USE_IDENTITY_VIEW_MATRIX\r\nmat4 _viewMatrix = mat4(1.0);\r\n#else\r\n#define _viewMatrix viewMatrix\r\n#endif\r\n\r\nuniform vec3 ambientLightColor;\r\n\r\nvec3 getAmbientLightIrradiance(const in vec3 ambientLightColor) {\r\n  vec3 irradiance = ambientLightColor;\r\n\r\n#ifndef PHYSICALLY_CORRECT_LIGHTS\r\n\r\n  irradiance *= PI;\r\n\r\n#endif\r\n\r\n  return irradiance;\r\n}\r\n\r\n#if NUM_DIR_LIGHTS > 0\r\n\r\nstruct DirectionalLight {\r\n  vec3 direction;\r\n  vec3 color;\r\n\r\n  int   shadow;\r\n  float shadowBias;\r\n  float shadowRadius;\r\n  vec2  shadowMapSize;\r\n};\r\n\r\nuniform DirectionalLight directionalLights[NUM_DIR_LIGHTS];\r\n\r\nvoid getDirectionalDirectLightIrradiance(const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight) {\r\n  directLight.color     = directionalLight.color;\r\n  directLight.direction = directionalLight.direction;\r\n  directLight.visible   = true;\r\n}\r\n\r\n#endif\r\n\r\n#if NUM_POINT_LIGHTS > 0\r\n\r\nstruct PointLight {\r\n  vec3  position;\r\n  vec3  color;\r\n  float distance;\r\n  float decay;\r\n\r\n  int   shadow;\r\n  float shadowBias;\r\n  float shadowRadius;\r\n  vec2  shadowMapSize;\r\n  float shadowCameraNear;\r\n  float shadowCameraFar;\r\n};\r\n\r\nuniform PointLight pointLights[NUM_POINT_LIGHTS];\r\n\r\n// directLight is an out parameter as having it as a return value caused compiler errors on some devices\r\nvoid getPointDirectLightIrradiance(const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight) {\r\n  vec3 lVector          = pointLight.position - geometry.position;\r\n  directLight.direction = normalize(lVector);\r\n\r\n  float lightDistance = length(lVector);\r\n\r\n  directLight.color = pointLight.color;\r\n  directLight.color *= punctualLightIntensityToIrradianceFactor(lightDistance, pointLight.distance, pointLight.decay);\r\n  directLight.visible = (directLight.color != vec3(0.0));\r\n}\r\n\r\n#endif\r\n\r\n#if NUM_SPOT_LIGHTS > 0\r\n\r\nstruct SpotLight {\r\n  vec3  position;\r\n  vec3  direction;\r\n  vec3  color;\r\n  float distance;\r\n  float decay;\r\n  float coneCos;\r\n  float penumbraCos;\r\n\r\n  int   shadow;\r\n  float shadowBias;\r\n  float shadowRadius;\r\n  vec2  shadowMapSize;\r\n};\r\n\r\nuniform SpotLight spotLights[NUM_SPOT_LIGHTS];\r\n\r\n// directLight is an out parameter as having it as a return value caused compiler errors on some devices\r\nvoid getSpotDirectLightIrradiance(const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight) {\r\n  vec3 lVector          = spotLight.position - geometry.position;\r\n  directLight.direction = normalize(lVector);\r\n\r\n  float lightDistance = length(lVector);\r\n  float angleCos      = dot(directLight.direction, spotLight.direction);\r\n\r\n  if (angleCos > spotLight.coneCos) {\r\n    float spotEffect = smoothstep(spotLight.coneCos, spotLight.penumbraCos, angleCos);\r\n\r\n    directLight.color = spotLight.color;\r\n    directLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor(lightDistance, spotLight.distance, spotLight.decay);\r\n    directLight.visible = true;\r\n\r\n  } else {\r\n    directLight.color   = vec3(0.0);\r\n    directLight.visible = false;\r\n  }\r\n}\r\n\r\n#endif\r\n\r\n#if NUM_RECT_AREA_LIGHTS > 0\r\n\r\nstruct RectAreaLight {\r\n  vec3 color;\r\n  vec3 position;\r\n  vec3 halfWidth;\r\n  vec3 halfHeight;\r\n};\r\n\r\n// Pre-computed values of LinearTransformedCosine approximation of BRDF\r\n// BRDF approximation Texture is 64x64\r\nuniform sampler2D ltc_1;  // RGBA Float\r\nuniform sampler2D ltc_2;  // RGBA Float\r\n\r\nuniform RectAreaLight rectAreaLights[NUM_RECT_AREA_LIGHTS];\r\n\r\n#endif\r\n\r\n#if NUM_HEMI_LIGHTS > 0\r\n\r\nstruct HemisphereLight {\r\n  vec3 direction;\r\n  vec3 skyColor;\r\n  vec3 groundColor;\r\n};\r\n\r\nuniform HemisphereLight hemisphereLights[NUM_HEMI_LIGHTS];\r\n\r\nvec3 getHemisphereLightIrradiance(const in HemisphereLight hemiLight, const in GeometricContext geometry) {\r\n  float dotNL             = dot(geometry.normal, hemiLight.direction);\r\n  float hemiDiffuseWeight = 0.5 * dotNL + 0.5;\r\n\r\n  vec3 irradiance = mix(hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight);\r\n\r\n#ifndef PHYSICALLY_CORRECT_LIGHTS\r\n\r\n  irradiance *= PI;\r\n\r\n#endif\r\n\r\n  return irradiance;\r\n}\r\n\r\n#endif\r\n"},{}],158:[function(e,t,n){t.exports="#if defined(USE_ENVMAP) && defined(PHYSICAL)\r\n\r\nvec3 getLightProbeIndirectIrradiance(/*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in int maxMIPLevel) {\r\n  vec3 worldNormal = inverseTransformDirection(geometry.normal, _viewMatrix);\r\n\r\n#ifdef ENVMAP_TYPE_CUBE\r\n\r\n  vec3 queryVec = vec3(flipEnvMap * worldNormal.x, worldNormal.yz);\r\n\r\n  // TODO: replace with properly filtered cubemaps and access the irradiance LOD level, be it the last LOD level\r\n  // of a specular cubemap, or just the default level of a specially created irradiance cubemap.\r\n\r\n#ifdef TEXTURE_LOD_EXT\r\n\r\n  vec4 envMapColor = textureCubeLodEXT(envMap, queryVec, float(maxMIPLevel));\r\n\r\n#else\r\n\r\n  // force the bias high to get the last LOD level as it is the most blurred.\r\n  vec4 envMapColor = textureCube(envMap, queryVec, float(maxMIPLevel));\r\n\r\n#endif\r\n\r\n  envMapColor.rgb = envMapTexelToLinear(envMapColor).rgb;\r\n\r\n#elif defined(ENVMAP_TYPE_CUBE_UV)\r\n\r\n  vec3 queryVec    = vec3(flipEnvMap * worldNormal.x, worldNormal.yz);\r\n  vec4 envMapColor = textureCubeUV( queryVec, float( maxMIPLevel ) );\r\n\r\n#else\r\n\r\n  vec4 envMapColor = vec4(0.0);\r\n\r\n#endif\r\n\r\n  return PI * envMapColor.rgb * envMapIntensity;\r\n}\r\n\r\n// taken from here: http://casual-effects.blogspot.ca/2011/08/plausible-environment-lighting-in-two.html\r\nfloat getSpecularMIPLevel(const in float blinnShininessExponent, const in int maxMIPLevel) {\r\n  // float envMapWidth = pow( 2.0, maxMIPLevelScalar );\r\n  // float desiredMIPLevel = log2( envMapWidth * sqrt( 3.0 ) ) - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\r\n\r\n  float maxMIPLevelScalar = float(maxMIPLevel);\r\n  float desiredMIPLevel   = maxMIPLevelScalar + 0.79248 - 0.5 * log2(pow2(blinnShininessExponent) + 1.0);\r\n\r\n  // clamp to allowable LOD ranges.\r\n  return clamp(desiredMIPLevel, 0.0, maxMIPLevelScalar);\r\n}\r\n\r\nvec3 getLightProbeIndirectRadiance(/*const in SpecularLightProbe specularLightProbe,*/ const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel) {\r\n#ifdef ENVMAP_MODE_REFLECTION\r\n\r\n  vec3 reflectVec = reflect(-geometry.viewDir, geometry.normal);\r\n\r\n#else\r\n\r\n  vec3 reflectVec = refract(-geometry.viewDir, geometry.normal, refractionRatio);\r\n\r\n#endif\r\n\r\n  reflectVec = inverseTransformDirection(reflectVec, _viewMatrix);\r\n\r\n  float specularMIPLevel = getSpecularMIPLevel(blinnShininessExponent, maxMIPLevel);\r\n\r\n#ifdef ENVMAP_TYPE_CUBE\r\n\r\n  vec3 queryReflectVec = vec3(flipEnvMap * reflectVec.x, reflectVec.yz);\r\n\r\n#ifdef TEXTURE_LOD_EXT\r\n\r\n  vec4 envMapColor = textureCubeLodEXT(envMap, queryReflectVec, specularMIPLevel);\r\n\r\n#else\r\n\r\n  vec4 envMapColor = textureCube(envMap, queryReflectVec, specularMIPLevel);\r\n\r\n#endif\r\n\r\n  envMapColor.rgb = envMapTexelToLinear(envMapColor).rgb;\r\n\r\n#elif defined(ENVMAP_TYPE_CUBE_UV)\r\n\r\n  vec3 queryReflectVec = vec3(flipEnvMap * reflectVec.x, reflectVec.yz);\r\n  vec4 envMapColor = textureCubeUV(queryReflectVec, specularMIPLevel);\r\n\r\n#elif defined(ENVMAP_TYPE_EQUIREC)\r\n\r\n  vec2 sampleUV;\r\n  sampleUV.y = asin(clamp(reflectVec.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\r\n  sampleUV.x = atan(reflectVec.z, reflectVec.x) * RECIPROCAL_PI2 + 0.5;\r\n\r\n#ifdef TEXTURE_LOD_EXT\r\n\r\n  vec4 envMapColor = texture2DLodEXT(envMap, sampleUV, specularMIPLevel);\r\n\r\n#else\r\n\r\n  vec4 envMapColor = texture2D(envMap, sampleUV, specularMIPLevel);\r\n\r\n#endif\r\n\r\n  envMapColor.rgb = envMapTexelToLinear(envMapColor).rgb;\r\n\r\n#elif defined(ENVMAP_TYPE_SPHERE)\r\n\r\n  vec3 reflectView = normalize((_viewMatrix * vec4(reflectVec, 0.0)).xyz + vec3(0.0, 0.0, 1.0));\r\n\r\n#ifdef TEXTURE_LOD_EXT\r\n\r\n  vec4 envMapColor = texture2DLodEXT(envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel);\r\n\r\n#else\r\n\r\n  vec4 envMapColor = texture2D(envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel);\r\n\r\n#endif\r\n\r\n  envMapColor.rgb = envMapTexelToLinear(envMapColor).rgb;\r\n\r\n#endif\r\n\r\n  return envMapColor.rgb * envMapIntensity;\r\n}\r\n\r\n#endif\r\n"},{}],159:[function(e,t,n){t.exports="#ifdef USE_TEXTURE\r\n\r\n\tvec4 texelColor = texture2D( Texture0, vUv );\r\n\r\n\ttexelColor = mapTexelToLinear( texelColor );\r\n\tdiffuseColor *= texelColor;\r\n\r\n#endif"},{}],160:[function(e,t,n){t.exports="#ifdef FLAT_SHADED\n\n\t// Workaround for Adreno/Nexus5 not able able to do dFdx( vViewPosition ) ...\n\n\tvec3 fdx    = vec3(dFdx(vViewPosition.x), dFdx(vViewPosition.y), dFdx(vViewPosition.z));\n\tvec3 fdy    = vec3(dFdy(vViewPosition.x), dFdy(vViewPosition.y), dFdy(vViewPosition.z));\n\tvec3 normal = normalize(cross(fdx, fdy));\n\n#else\n\n\tvec3 normal = normalize(vNormal);\n\n\t#ifdef DOUBLE_SIDED\n\n\t\tnormal = normal * (float(gl_FrontFacing) * 2.0 - 1.0);\n\n\t#endif\n\n#endif\n\n#if defined(USE_NORMALMAP) || defined(USE_ALBEDO) || defined(USE_METALLROUGHNESS)\n\tvec4 dropped = calcFloating(v_model_normal, v_model_position);\n\n\t#if defined(USE_NORMALMAP)\n\n\tvec4 normal_drop = calcDropped(dropped, u_NormalMapRotation, u_NormalMapScale.xy);\n\tnormalT.rgb      = texture2D(u_NormalMap, normal_drop.xy).rgb;\n\n\tnormalT    = normalize(vec3(vec2(normalT.xy * 2.0 - vec2(1.0)), normalT.z));\n\tfloat a_pi = u_NormalMapRotation / 180.0 * PI;\n\tnormalT.xy *= normal_drop.zw;\n\tnormalT.xy = vec2(cos(a_pi) * normalT.x - sin(a_pi) * normalT.y, cos(a_pi) * normalT.y + sin(a_pi) * normalT.x);\n\n\tmat3 tsn = getTSN(v_model_normal, normalMatrix);\n\tnormal   = mapNormal(tsn, normalT, -u_NormalMapScale.z);\n\t// normal= normalT;\n\t//  color.rgb*= normal.z ;\n\t#endif\n#endif\n"},{}],161:[function(e,t,n){t.exports="\r\n#ifndef FLAT_SHADED \r\n\t#ifdef LIGHT\r\n\t\t#if defined(USE_NORMALMAP) || defined(USE_ALBEDO) || defined(USE_METALLROUGHNESS)\r\n\t\t\tvarying vec3 v_model_normal;\r\n\t\t\tvarying vec3 v_model_position;\r\n\r\n\t\t\t#if defined(USE_NORMALMAP) || defined(USE_METALLROUGHNESS)\r\n\r\n\t\t\t\tuniform sampler2D u_NormalMap;\r\n\t\t\t\tuniform vec3  u_NormalMapScale;\r\n\t\t\t\tuniform float u_NormalMapRotation;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tvec3 mapNormal(mat3 tsn, vec3 normal, float f)\r\n\t\t\t{\r\n\t\t\t\tnormal = normalize(vec3(normal.xy * f, normal.z));\r\n\t\t\t\treturn normalize( tsn * normal );\r\n\t\t\t}\r\n\t\t\t#endif\r\n\r\n\t\t\tvec4 calcFloating(vec3 viewDir, vec3 position2)\r\n\t\t\t{\r\n\t\t\t\tvec4 dropped  = vec4(0.0,0.0,1.0,1.0);\r\n\t\t\t\tvec3 viewDir2 = abs(viewDir);\r\n\t\t\t\tif (viewDir2.z > viewDir2.y && viewDir2.z > viewDir2.x) {\r\n\t\t\t\t\tdropped.xy                      = position2.yx;\r\n\t\t\t\t\tif (viewDir.z > 0.0) {\r\n\t\t\t\t\t\tdropped.y = -dropped.y;\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (viewDir2.y > viewDir2.z && viewDir2.y > viewDir2.x) {\r\n\t\t\t\t\tdropped.xy                      = position2.zx;\r\n\t\t\t\t\tif (viewDir.y < 0.0) {\r\n\t\t\t\t\t\tdropped.y = -dropped.y;\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if (viewDir2.x > viewDir2.z && viewDir2.x > viewDir2.y) {\r\n\t\t\t\t\tdropped.xy                      = position2.zy;\r\n\t\t\t\t\tif (viewDir.x > 0.0) {\r\n\t\t\t\t\t\tdropped.y = -dropped.y;\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}else\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdropped.w = -dropped.w;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn dropped;\r\n\t\t\t}\r\n\t\t\tvec3 getNormalFloatingY(vec3 viewDir)\r\n\t\t\t{\r\n\t\t\t\tvec3 ret=vec3(0.0);\r\n\t\t\t\tvec3 viewDir2 = abs(viewDir);\r\n\t\t\t\tif (viewDir2.z > viewDir2.y && viewDir2.z > viewDir2.x) {\r\n\t\t\t\t\tret.x=1.0; //                      = position2.yx;\r\n\t\t\t\t\tif (viewDir.z > 0.0) {      ret.x=-1.0;    }\r\n\t\t\t\t} else if (viewDir2.y > viewDir2.z && viewDir2.y > viewDir2.x) {\r\n\t\t\t\t\tret.x=1.0; //                      = position2.zx;\r\n\t\t\t\t\tif (viewDir.y < 0.0) {      ret.x=-1.0;    }\r\n\t\t\t\t} else if (viewDir2.x > viewDir2.z && viewDir2.x > viewDir2.y) {\r\n\t\t\t\t\tret.y=1.0; //                      = position2.zy;\r\n\t\t\t\t\tif (viewDir.x > 0.0) {      ret.y=-1.0;    }\r\n\t\t\t\t}\r\n\t\t\t\treturn ret;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmat3 getTSN( vec3 normal, mat3 normalMatrix )\r\n\t\t\t{\r\n\t\t\t\t\tvec3 vz = normal;\r\n\t\t\t\t\tvec3 vy = getNormalFloatingY(normal);\r\n\t\t\t\t\tvec3 vx = normalize(cross(vz, vy));\r\n\t\t\t\t\tvy      = normalize(cross(vx, vz));\r\n\t\t\t\t\treturn normalMatrix*mat3(vy,vx,vz);// wegen determinatne x und y tauschen\r\n\t\t\t}\r\n\r\n\t\t\tvec4 mapToRepeatUV(vec4 dropped)\r\n\t\t\t{\r\n\t\t\t\tdropped.x = dropped.x - floor(dropped.x);\r\n\t\t\t\tdropped.y = dropped.y - floor(dropped.y);\r\n\t\t\t\treturn dropped;\r\n\t\t\t}\r\n\r\n\t\t\tvec4 roatateUV(vec4 dropped, float a_deg)\r\n\t\t\t{\r\n\t\t\t\tfloat a_pi = a_deg / 180.0 * PI;\r\n\t\t\t\tdropped.xy    = vec2(dropped.x * sin(a_pi) - dropped.y * cos(a_pi), dropped.x * cos(a_pi) + dropped.y * sin(a_pi));\r\n\t\t\t\treturn dropped;\r\n\t\t\t}\r\n\r\n\t\t\tvec4 calcDropped(vec4 dropped, float a_deg, vec2 scale)\r\n\t\t\t{\r\n\t\t\t\tvec4 ret = roatateUV(dropped, a_deg);\r\n\t\t\t\treturn mapToRepeatUV(ret / vec4(scale.x,scale.y,1.0,1.0));\r\n\t\t\t}\r\n\r\n\t\t#endif\r\n\t#endif\r\n#endif\r\n"},{}],162:[function(e,t,n){t.exports="\n// measureGridDimensionText.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nvoid main() {\n  gl_FragColor.rgba = vec4(0, 0, 0, 1);\n}\n"},{}],163:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=function(t){function n(n){var i=t.call(this,{defines:[],materialOptions:{name:"MeasureGridDimensionText",polygonOffset:!1},shaders:{fragment:e("./measureGridDimensionText.frag"),vertex:e("./measureGridDimensionText.vert")},uniforms:{textHeight:{type:"f",value:1}}},n)||this;return i._shaderName="MeasureGridDimensionText",i}return o(n,t),n}(e("../base"));t.exports=r},{"../base":148,"./measureGridDimensionText.frag":162,"./measureGridDimensionText.vert":164}],164:[function(e,t,n){t.exports="// measureGridDimensionText.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\nattribute vec3 normal;\n\n// THREE.js stuff end\n\nuniform float textHeight;\n\nvoid main() {\n  vec3  pos = position;\n  float sx  = 1.0;\n  float sy  = 1.0;\n\n  if (modelViewMatrix[3].z >= 0.0) {\n    if (modelViewMatrix[0].x < 0.5) {\n      pos.x *= -1.0;\n      sx = -1.0;\n    }\n    if (modelViewMatrix[1].y < 0.5) {\n      pos.y *= -1.0;\n      sy = -1.0;\n    }\n  } else {\n    if (modelViewMatrix[0].x < -0.5) {\n      pos.x *= -1.0;\n      sx = -1.0;\n    }\n    if (modelViewMatrix[1].y < -0.0) {\n      pos.y *= -1.0;\n      pos.y -= textHeight;\n      sy = -1.0;\n    }\n  }\n\n  if (sx > 0.0 && sy < 0.0) {\n    pos.x *= -1.0;\n  }\n  if (sx < 0.0 && sy > 0.0) {\n    pos.y *= -1.0;\n  }\n\n  vec3 v_position = (modelViewMatrix * vec4(pos, 1.0)).xyz;\n\n  gl_Position = projectionMatrix * vec4(v_position, 1.0);\n}\n"},{}],165:[function(e,t,n){t.exports="// compare.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform sampler2D u_texturePart1;\nuniform sampler2D u_texturePart2;\nuniform vec4 u_color1;\nuniform vec4 u_color2;\n\nvarying vec2 vUv;\n\nconst float d_ocf = 32.000;\n\nvoid main() {\n  vec4 part1 = texture2D(u_texturePart1, vUv);\n  vec4 part2 = texture2D(u_texturePart2, vUv);\n\n  vec4  col = vec4(0.0, 0.0, 0.0, 0.0);\n  float cnt = 0.0;\n  if (part1.r > 0.0) {\n    col.rgb += u_color1.rgb;\n    cnt++;\n  }\n  if (part2.b > 0.0) {\n    col.rgb += u_color2.rgb;\n    cnt++;\n  }\n  if (cnt > 1.0) {\n    col.rgb /= cnt;\n  }\n\n  if (part1.r > 0.5 && part2.b < 0.5 || part1.r < 0.5 && part2.b > 0.5) {\n    col.a = 0.2;\n\n  } else if (part1.r > 0.25 || part2.b > 0.25) {\n    col.a = 0.65;\n  }\n\n  clamp(col.rgba, vec4(0.0), vec4(1.0));\n  gl_FragColor.rgba = col.rgba;\n\n  // OLD STUFF, keep it for now\n\n  // float n = item.a * d_ocf;\n  // if (n < 0.01) {\n  //   discard;\n  // }\n  // vec4 combinedcolor = u_color1 * (item.r) + u_color2 * (item.b);\n\n  // vec3  AvgColor = combinedcolor.rgb;  // / combinedcolor.a;\n  // float AvgAlpha = combinedcolor.a;    // / n;\n  // float T        = pow(1.0 - AvgAlpha, n);\n\n  // AvgColor *= (1.0 - T);\n\n  // gl_FragColor.rgb = AvgColor;\n\n  // gl_FragColor.a = 1.0 - T;\n  // if (AvgColor.r > 0.75 && AvgColor.b > 0.75) {  // Overlapping\n\n  //   gl_FragColor.rb += 0.20;  // make it a bit brighter\n  //   clamp(gl_FragColor.rb, 0.0, 1.0);\n  //   gl_FragColor.a = 1.0;\n  // }\n}\n"},{}],166:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./compare.vert"),fragment:e("./compare.frag")},defines:[],uniforms:{u_texturePart1:{type:"t",value:null},u_texturePart2:{type:"t",value:null},u_color1:{type:"v4",value:new i.Vector4},u_color2:{type:"v4",value:new i.Vector4}},materialOptions:{transparent:!0,depthTest:!1,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="Compare",t.exports=r},{"../base":148,"./compare.frag":165,"./compare.vert":167,THREE:"THREE",inherits:208}],167:[function(e,t,n){t.exports="// compare.vert\n\n// THREE.js stuff\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying vec2 vUv;\n\nvoid main() {\n  gl_Position = vec4(position.x * 2.0, position.y * 2.0, 1.0, 1.0);\n  vUv         = vec2((position.x + 0.5), (position.y + 0.5));\n}\n"},{}],168:[function(e,t,n){t.exports="// cut.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform sampler2D texture1;\nuniform sampler2D texture2;\n\nuniform bool u_renderCutLines;\nuniform vec2 u_px;\nuniform vec4 u_cutColor;\n\nvarying vec4 vUv;\nvarying vec4  vGridhelp;\nvarying float v_cutPositionZ;\n\nvoid main() {\n  if (v_cutPositionZ > 0.0) {\n    discard;\n  }\n  vec4  pos = vUv;\n  float f   = 255.0;\n  float mix = 0.0;\n  pos.xy /= pos.w;\n\n  vec4 col = texture2D(texture2, vec2(pos.x * 0.5 + 0.5, pos.y * 0.5 + 0.5)).rgba;\n\n  gl_FragColor.rgba = vec4(1.0, 1.0, 1.0, 0.0);\n\n  float n = texture2D(texture1, vec2(pos.x * 0.5 + 0.5, pos.y * 0.5 + 0.5)).r * f;\n  if (!(n < 0.1 || abs((n / 2.0) - floor((n / 2.0) + 0.5)) < 0.01)) {\n    // nebenpixel gucken => weil dann schwarz,\n    gl_FragColor.rgba = col.rgba;\n    if (u_renderCutLines) {\n      // gl_FragColor.rgb = u_cutColor.rgb;\n      float xf = -1.0;\n      float yf = -1.0;\n      for (int x = -1; x < 2; x += 1) {\n        for (int y = -1; y < 2; y += 1) {\n          n = texture2D(texture1, vec2(pos.x * 0.5 + 0.5 + u_px.x * xf, pos.y * 0.5 + 0.5 + u_px.y * yf)).r * f;\n          if (n < 0.1 || abs((n / 2.0) - floor(n / 2.0)) < 0.01) {\n            gl_FragColor.rgb = vec3(0);\n            break;\n          }\n          yf += 1.0;\n        }\n        xf += 1.0;\n        yf = -1.0;\n      }\n    }\n  } else {\n    discard;\n  }\n\n  //  gl_FragColor.a = u_cutColor.a;\n}\n"},{}],169:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./cut.vert"),fragment:e("./cut.frag")},defines:[],uniforms:{texture1:{type:"t",value:null},texture2:{type:"t",value:null},u_px:{type:"v2",value:new i.Vector2},u_cutColor:{type:"v4",value:new i.Vector4(.8,.4,.3,1)},u_invertCut:{type:"m4",value:new i.Matrix4},u_cut:{type:"m4",value:new i.Matrix4},u_renderCutLines:{type:"b",value:!1}},materialOptions:{transparent:!0,flatShading:!1,blending:i.NoBlending,side:i.BackSide,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="Cut",t.exports=r},{"../base":148,"./cut.frag":168,"./cut.vert":170,THREE:"THREE",inherits:208}],170:[function(e,t,n){t.exports="// cut.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 viewMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nuniform mat4 u_invertCut;\nuniform mat4 u_cut;\nvarying vec4  vUv;\nvarying float v_cutPositionZ;\nvarying vec4 vGridhelp;\n\nvoid main() {\n  vec4 vpos      = (modelMatrix * vec4(position, 1.0));\n  vpos           = u_invertCut * vpos;\n  v_cutPositionZ = vpos.z;\n  vpos /= vpos.w;\n  vpos.z = 0.0;\n\n  vpos = u_cut * vpos;\n\n  vec4 pos    = projectionMatrix * viewMatrix * vpos;\n  vGridhelp   = vpos;\n  gl_Position = pos;\n  vUv         = pos;\n}\n"},{}],171:[function(e,t,n){t.exports="// cutCP.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nvarying float v_cutPositionZ;\n\nvoid main() {\n  if (v_cutPositionZ > 0.0) {\n    discard;\n  }\n\n  gl_FragColor.rgba = vec4(vec3(1.0 / 255.0), 1.0);\n}\n"},{}],172:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./cutCP.vert"),fragment:e("./cutCP.frag")},defines:[],uniforms:{u_invertCut:{type:"m4",value:new i.Matrix4}},materialOptions:{transparent:!0,blending:i.AdditiveBlending,flatShading:!0,depthTest:!1,depthWrite:!1,side:i.DoubleSide,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="CutCP",t.exports=r},{"../base":148,"./cutCP.frag":171,"./cutCP.vert":173,THREE:"THREE",inherits:208}],173:[function(e,t,n){t.exports="// cutCP.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying float v_cutPositionZ;\nuniform mat4 u_invertCut;\n\nvoid main() {\n  vec3 v_position = (modelViewMatrix * vec4(position, 1.0)).xyz;\n\n  v_cutPositionZ = (u_invertCut * (modelMatrix * vec4(position, 1.0))).z;\n  gl_Position    = projectionMatrix * vec4(v_position, 1.0);\n}\n"},{}],174:[function(e,t,n){t.exports="// planeColor.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nvarying vec4 v_cutPosition;\nvarying vec4 v_position;\nuniform mat4 u_invertCut;\nuniform vec3  u_color;\nuniform float u_opacity;\n\nvoid main() {\n  if (v_cutPosition.z > 0.0) {\n    discard;\n  }\n\n  gl_FragColor.rgba = vec4(u_color, u_opacity);\n}\n"},{}],175:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./planeColor.vert"),fragment:e("./planeColor.frag")},defines:[],uniforms:{u_color:{type:"v3",value:new i.Vector4(.68,.68,.68)},u_invertCut:{type:"m4",value:new i.Matrix4},u_opacity:{type:"f",value:1}},materialOptions:{transparent:!0,side:i.BackSide,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0,blending:i.NoBlending,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="PlaneColorMaterial",t.exports=r},{"../base":148,"./planeColor.frag":174,"./planeColor.vert":176,THREE:"THREE",inherits:208}],176:[function(e,t,n){t.exports="// planeColor.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying vec4 v_cutPosition;\nvarying vec4 v_position;\nuniform mat4 u_invertCut;\n\nvoid main() {\n  v_position = (modelViewMatrix * vec4(position, 1.0));\n  v_position.xyz /= v_position.w;\n\n  v_cutPosition = u_invertCut * (modelMatrix * vec4(position, 1.0));\n\n  gl_Position = projectionMatrix * v_position;\n}\n"},{}],177:[function(e,t,n){t.exports="// dimensions.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nvarying float v_alpha;\nuniform float shinethrough;\nuniform vec3 u_color;\n\nvoid main() {\n  if (v_alpha <= 0.01) {\n    discard;\n  }\n  gl_FragColor.rgb = u_color;\n  gl_FragColor.a   = v_alpha * shinethrough;\n}\n"},{}],178:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./dimensions.vert"),fragment:e("./dimensions.frag")},defines:[],uniforms:{shinethrough:{type:"f",value:1},u_color:{type:"v3",value:new i.Vector3(0,0,0)},u_flip:{type:"f",value:0}},materialOptions:{transparent:!0,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="Dimensions",t.exports=r},{"../base":148,"./dimensions.frag":177,"./dimensions.vert":179,THREE:"THREE",inherits:208}],179:[function(e,t,n){t.exports="#define M_PI 3.1415926535897932384626433832795\n\n// dimensions.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\nattribute vec3 normal;\n\n// THREE.js stuff end\n\nuniform float u_flip;\nvarying float v_alpha;\n\nfloat when_gt(float x, float y) {\n  return max(sign(x - y), 0.0);\n}\nfloat when_lt(float x, float y) {\n  return max(sign(y - x), 0.0);\n}\nfloat when_ge(float x, float y) {\n  return 1.0 - when_lt(x, y);\n}\nfloat when_le(float x, float y) {\n  return 1.0 - when_gt(x, y);\n}\nfloat and (float a, float b) {\n  return a * b;\n}\nfloat not(float a) {\n  return 1.0 - a;\n}\n\nvoid main() {\n  vec3 pos = position;\n\n#ifdef FLIPABLE\n  float sx = 1.0, sy = 1.0;\n  // check if we see this from back\n  if (modelViewMatrix[2].z < 0.0) {\n    sx *= -1.0;  // so we have to mirror this any way\n  }\n  float w     = atan(modelViewMatrix[1].y, modelViewMatrix[1].x);  // get Angle or the Text Pointing up\n  float wtilt = M_PI / 8.0;                                        // don't flip on 0\n  if (w < wtilt && w > -M_PI + wtilt) {                            // full flip if Angle looks down\n    sx *= -1.0;\n    sy *= -1.0;\n  }\n  pos.x *= sx;\n  pos.y *= sy;\n#endif\n\n  pos.x = pos.x - 2.0 * pos.x * when_gt(u_flip, 0.5);\n  pos.y = pos.y - 2.0 * pos.y * when_gt(u_flip, 0.5);\n\n  vec3 v_position = (modelViewMatrix * vec4(pos, 1.0)).xyz;\n  gl_Position     = projectionMatrix * vec4(v_position, 1.0);\n\n  float threshold = 0.8660;  // sqrt(3.) / 2.0;\n  float factor    = 7.4641;  // 1.0 / (1.0 - threshold);\n  vec3  camv      = vec3(modelViewMatrix[0].z, modelViewMatrix[1].z, modelViewMatrix[2].z);\n\n  vec3 tnormal = vec4(normal, 1).rgb;\n\n  vec3  probev  = camv * tnormal;\n  float dottest = dot(camv, tnormal);\n\n  float cosa = (probev.x + probev.y + probev.z) / length(camv);\n\n  v_alpha = 0.0 + and(when_ge(dottest, 0.0), and(not(when_le(abs(cosa), (1.0 / sqrt(2.0)))), (1.0 + ((cosa - 1.0 / sqrt(2.0)) * factor - 1.0) * when_lt(cosa, threshold))));\n}\n"},{}],180:[function(e,t,n){t.exports="// dreamoc.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform sampler2D u_map;\n\nuniform float u_gravity;\nvarying vec2 v_uv;\n\nvoid main() {\n  vec2  uv  = v_uv;\n  vec2  uv2 = uv * vec2(1.0, 0.5) + vec2(-0.5, 0);\n  float r   = length(uv2);\n  if (u_gravity > 6.0) {\n    uv = vec2(1.0) - uv;\n  }\n\n  gl_FragColor   = texture2D(u_map, uv);\n  gl_FragColor.a = 1.0;\n\n  if (r < 0.0225) {\n    if (r > 0.020) {\n      gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n    } else if (abs(uv2.x) - uv2.y > -0.00225) {\n      gl_FragColor = vec4(1.0, 1.0, 1.0, 1.0);\n    }\n  }\n}\n"},{}],181:[function(e,t,n){"use strict";var i=e("../base");function o(t){var n={shaders:{vertex:e("./dreamoc.vert"),fragment:e("./dreamoc.frag")},defines:[],uniforms:{u_map:{type:"t",value:null},u_gravity:{type:"f",value:-9.81}},materialOptions:{name:this._shaderName}};o.super_.call(this,n,t)}e("inherits")(o,i),o.prototype._shaderName="Dreamoc",t.exports=o},{"../base":148,"./dreamoc.frag":180,"./dreamoc.vert":182,inherits:208}],182:[function(e,t,n){t.exports="// dreamoc.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\nattribute vec2 uv;\n\n// THREE.js stuff end\n\nvarying vec2 v_uv;\n\nvoid main() {\n  vec4 position = (modelViewMatrix * vec4(position, 1.0));\n  position.xyz /= position.w;\n  v_uv        = uv;\n  gl_Position = projectionMatrix * position;\n}\n"},{}],183:[function(e,t,n){t.exports="// edges.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform vec4 u_color;\n\nvarying float v_isInvalid;\nvarying float v_cutPositionZ;\n\nvoid main() {\n#ifdef CUT_MODE\n  if (v_cutPositionZ > 0.0) {\n    discard;\n  }\n#endif\n\n  if (v_isInvalid > 0.5) {\n    discard;\n  } else {\n    gl_FragColor.rgba = u_color;\n  }\n}\n"},{}],184:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base");function r(t){var n={shaders:{vertex:e("./edgesLine.vert"),fragment:e("./edges.frag")},defines:[],uniforms:{u_color:{type:"v4",value:new i.Vector4(0,0,0,1)},u_isOrthogonal:{type:"i",value:0},u_invertCut:{type:"m4",value:new i.Matrix4}},materialOptions:{transparent:!0,name:this._shaderName}};r.super_.call(this,n,t)}e("inherits")(r,o),r.prototype._shaderName="EdgeLine",t.exports=r},{"../base":148,"./edges.frag":183,"./edgesLine.vert":185,THREE:"THREE",inherits:208}],185:[function(e,t,n){t.exports="// edgesLine.vert\n\n// THREE.js stuff\nuniform mat4 modelViewMatrix;\nuniform mat4 modelMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nvarying float v_isInvalid;\nvarying float v_cutPositionZ;\n\nuniform mat4 u_invertCut;\n\nvoid main() {\n  v_isInvalid = 0.0;\n\n  vec3 v_position = (modelViewMatrix * vec4(position, 1.0)).xyz;\n\n#ifdef CUT_MODE\n  v_cutPositionZ = (u_invertCut * (modelMatrix * vec4(position, 1.0))).z;\n#endif\n\n  gl_Position = projectionMatrix * vec4(v_position, 1.0);\n}\n"},{}],186:[function(e,t,n){"use strict";var i=Window.THREE||e("THREE"),o=e("../base"),r=e("inherits");jQuery;function s(t){var n={shaders:{vertex:e("./edgesSilhuette.vert"),fragment:e("./edges.frag")},defines:[],uniforms:{u_color:{type:"v4",value:new i.Vector4(0,0,0,1)},u_isOrthogonal:{type:"i",value:0},u_invertCut:{type:"m4",value:new i.Matrix4}},materialOptions:{transparent:!0,name:this._shaderName}};s.super_.call(this,n,t)}r(s,o),s.prototype._shaderName="EdgeSilhuette",t.exports=s},{"../base":148,"./edges.frag":183,"./edgesSilhuette.vert":187,THREE:"THREE",inherits:208}],187:[function(e,t,n){t.exports="\n// edgesSilhuette.vert\n\n// THREE.js stuff\nuniform mat4 modelMatrix;\nuniform mat3 normalMatrix;\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\n\nattribute vec3 position;\n\n// THREE.js stuff end\n\nattribute vec3 normalA;\nattribute vec3 normalB;\n\nuniform mat4 u_invertCut;\n\nvarying float v_isInvalid;\nvarying float v_cutPositionZ;\n\nvoid main() {\n  v_isInvalid     = 0.0;\n  vec3 v_position = (modelViewMatrix * vec4(position, 1.0)).xyz;\n\n#ifdef CUT_MODE\n  v_cutPositionZ = (u_invertCut * (modelMatrix * vec4(position, 1.0))).z;\n#endif\n\n  gl_Position = projectionMatrix * vec4(v_position, 1.0);\n\n  vec3 viewdir;\n\n#ifdef IS_ORTHOGONAL\n  viewdir = vec3(0.0, 0.0, 1.0);\n#else\n  viewdir = normalize(v_position);\n#endif\n\n  float naz, nbz;\n  naz = dot(viewdir, normalMatrix * normalA);\n  nbz = dot(viewdir, normalMatrix * normalB);\n\n  v_isInvalid = 1.0 * max(0.0, sign(naz * nbz));  // both of them are either '+' or '-' signed\n}\n"},{}],188:[function(e,t,n){t.exports='// edgeDetection.frag\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\nuniform sampler2D u_srcTexture;\nuniform float     u_opacity;\nuniform bool      u_renderOriginal;\n\nuniform vec4 u_customColor;\nuniform vec3 u_edgeDetectionColor;\nuniform vec2 u_step;\nuniform int  u_cutModeOn;\n\nvarying float v_cutPositionZ;\nvarying vec4 vUv;\n\nvoid main() {\n  if ((u_cutModeOn == 1 && v_cutPositionZ > 0.0)) {\n    discard;\n  } else {\n    vec4 pos = vUv;\n    // vec2 step = vec2(1.0) / size;\n    pos.xy /= pos.w;\n\n    vec2 s        = u_step * 3.0;  // 3.0 => look at pixels in a 3 pixel distance => make lines thicker\n    vec2 texCoord = pos.xy * 0.5 + vec2(0.5);\n\n    vec4 top    = texture2D(u_srcTexture, vec2(texCoord.x, texCoord.y + s.y)).rgba;\n    vec4 bottom = texture2D(u_srcTexture, vec2(texCoord.x, texCoord.y - s.y)).rgba;\n    vec4 right  = texture2D(u_srcTexture, vec2(texCoord.x + s.x, texCoord.y)).rgba;\n    vec4 left   = texture2D(u_srcTexture, vec2(texCoord.x - s.x, texCoord.y)).rgba;\n\n    gl_FragColor.a = u_opacity;\n    if (left.a <= 0.0 || top.a <= 0.0 || right.a <= 0.0 || bottom.a <= 0.0) {\n      gl_FragColor.rgb = u_edgeDetectionColor;  // vec3(1.0, 0.0, 0.0);\n\n    } else {\n      if (u_renderOriginal) {\n        gl_FragColor.rgb = texture2D(u_srcTexture, vec2(texCoord.x, texCoord.y)).rgb;  // TODO: Darken a bit "-vec3(0.1)"\n      } else {\n        gl_FragColor.rgba = u_customColor;\n      }\n    }\n  }\n}\n'},{}],189:[function(e,t,n){"use strict";var i,o=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),r=e("THREE"),s=function(t){function n(n){var i=t.call(this,{defines:[],materialOptions:{depthTest:!1,depthWrite:!1,polygonOffset:!0,polygonOffsetFactor:-1,polygonOffsetUnits:-2,transparent:!0},shaders:{fragment:e("./edgeDetection.frag"),vertex:e("./edgeDetection.vert")},uniforms:{u_customColor:{type:"v4",value:new r.Vector4(.5,.5,.5,.15)},u_cutModeOn:{type:"i",value:0},u_edgeDetectionColor:{type:"v3",value:new r.Vector3(0,0,0)},u_invertCut:{type:"m4",value:new r.Matrix4},u_opacity:{type:"f",value:1},u_renderOriginal:{type:"b",value:!1},u_srcTexture:{type:"t",value:null},u_step:{type:"v2",value:new r.Vector2(1,1)}}},n)||this;return i._shaderName="EdgeDetection",i}return o(n,t),n}(e("../base"));t.exports=s},{"../base":148,"./edgeDetection.frag":188,"./edgeDetection.vert":190,THREE:"THREE"}],190:[function(e,t,n){t.exports="\n// edgeDetection.vert\n\n#ifdef PRECISION_HIGH\nprecision highp float;\nprecision highp int;\n#else\nprecision mediump float;\nprecision mediump int;\n#endif\n\n// THREE.js stuff\n\nuniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform mat4 modelMatrix;\n\nattribute vec3 position;\nattribute vec3 normal;\n\n// THREE.js stuff end\n\nuniform int u_cutModeOn;\nuniform mat4 u_invertCut;\n\nvarying float v_cutPositionZ;\nvarying vec4 vUv;\n\nvoid main() {\n  vec4 pos = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  if (u_cutModeOn == 1) {\n    v_cutPositionZ = (u_invertCut * (modelMatrix * vec4(position, 1.0))).z;\n  }\n\n  vUv         = pos;\n  gl_Position = pos;\n}\n"},{}],191:[function(e,t,n){"use strict";var i=function(){function e(){}return e.checkHighPrecisionSupport=function(){if(!e.checkedHighpSupport){var t=document.createElement("canvas"),n=t.getContext("webgl")||t.getContext("experimental-webgl"),i=0!==n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision;e.highpSupport=i,e.checkedHighpSupport=!0}return e.highpSupport},e.highpSupport=!1,e.checkedHighpSupport=!1,e}();t.exports=i},{}],192:[function(e,t,n){"use strict";t.exports={0:"",1:"mm",10:"cm",100:"dm",1e3:"m",25.4:"inch",304.8:"feet",2.54:"inch/10",.254:"inch/100",.001:"µm"}},{}],193:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("psol.core"),o=jQuery,r="/service/classsystems";n.list=function(e,t){t=t||{};var n={data:o.extend({action:"list",language:i.getLanguage(),path:""},e),url:i.getServiceBaseUrl()+i.getServicePrefix()+r};return o.extend(n,t),i.ajaxGetOrPost(n)}},{"psol.core":196}],194:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r=e("psol.translation"),s=e("psol.order"),a=function(){};a.RESULT_ORDER={NEWEST:"newest",MOST_LIKED:"most_liked",MOST_VIEWED:"most_viewed",MOST_DOWNLOADED:"most_downloaded"},a.RESULT_ORDER_NAME_MAP={NEWEST:r.zTR("Neueste zuerst"),MOST_LIKED:r.zTR("Am häufigsten favorisiert"),MOST_VIEWED:r.zTR("Am häufigsten angesehen"),MOST_DOWNLOADED:r.zTR("Am häufigsten heruntergeladen")};var l="b2b",c="Environments",p="Models",d="Images",h="Categories",u="Tags",m="Comments",f="Likes",g="Collections",_="Users",v="Licenses",b="Configurations",w="Manufacturers",y="/api.php",x="/",C=function(e,t,n,i){var r=o.getServiceBaseUrl()+o.getServicePrefix()+y;return r+="?controller="+e,r+="&action="+t,r+="&locale="+o.getShortIsoByLanguage(o.getLanguage()),i=i||"GET",o.ajax({url:r,data:n,type:i},{addGlobalHttpHeader:!1,addGlobalHttpParameters:!1,addApiKey:!1})};a.getServicePath=function(e){return(e||o.getServiceBaseUrl()+o.getServicePrefix())+x},a.setServicePath=function(e){x=e},(a.environments={}).getEnvironments=function(e){var t={floors:!0,skyboxes:!0,portal:l};return e=i.extend(t,e),C(c,"get",e)},(a.models={}).get=function(e){var t={search:void 0,limit:10,offset:0,order:a.RESULT_ORDER.NEWEST,where_category:void 0,where_tag:void 0,where_user:void 0,where_liker:void 0,where_collection:void 0,where_geosearch:void 0,where_geosearchfile:void 0,where_sketchsearch:void 0,user:!1,tags:!1,comments:!1,images:!1,likes:!1,portal:l,size_dependent_search:!1},n="GET";if(((e=i.extend(t,e)).where_geosearch||e.where_geosearchfile||e.where_sketchsearch)&&(n="POST"),e.where_geosearchfile){var r,s=new FormData;s.append("controller",p),s.append("action","get"),s.append("where_geosearchfile",e.where_geosearchfile,e.where_geosearchfile.name||""),delete e.where_geosearchfile;for(r in e)e.hasOwnProperty(r)&&void 0!==e[r]&&s.append(r,e[r]);return o.ajaxPost({url:o.getServiceBaseUrl()+o.getServicePrefix()+y,cache:!1,dataType:"",contentType:!1,processData:!1,data:s},{addGlobalHttpHeader:!1,addGlobalHttpParameters:!1,addApiKey:!1})}return C(p,"get",e,n)},a.models.getSingle=function(e){var t={model_id:void 0,user:!1,tags:!1,comments:!1,images:!1,likes:!1,hotspots:!1};return e=i.extend(t,e),C(p,"getSingle",e)},a.models.remove=function(e){var t={model_id:void 0};return e=i.extend(t,e),C(p,"delete",e,"POST")},a.models.edit=function(e){var t={model_id:void 0,name:"",description:"",category_id:void 0};return e=i.extend(t,e),C(p,"edit",e,"POST")},a.models.add=function(e){var t={category_id:void 0,name:"",description:"",file:void 0,license_id:void 0,remote_login:!1,email:void 0,password:void 0,portal:l};(e=i.extend(t,e)).file=e.file&&e.file.files?e.file.files[0]:[];var n,r,s=new FormData;s.append("controller",p),s.append("action","add");for(n in e)e.hasOwnProperty(n)&&void 0!==(r=e[n])&&s.append(n,r);var a=i.Deferred();return o.ajax({url:o.getServiceBaseUrl()+y,type:"POST",data:s,processData:!1,contentType:!1,dataType:"json",xhr:function(){var e=i.ajaxSettings.xhr();return e.upload.onprogress=function(e){a.notify(e)},e}}).done(function(e){a.resolve(e)}).fail(function(e){a.reject(e)}),a.promise()},a.models.search=function(e){var t={query:"",limit:10,offset:0,order:a.RESULT_ORDER.NEWEST,user:!1,tags:!1,comments:!1,images:!1,likes:!1,fulltext:!1,portal:l};return e=i.extend(t,e),C(p,"search",e)},a.models.increaseDownloadCount=function(e){var t={model_id:void 0};return e=i.extend(t,e),C(p,"increaseDownloadCount",e)},a.models.getDownloadFormats=function(e){var t={model_id:void 0};return e=i.extend(t,e),C(p,"getDownloadFormats",e)},(a.images={}).add=function(e){var t={model_id:void 0,made_id:void 0,description:"",file:void 0};return e=i.extend(t,e),C(d,"add",e,"POST")},a.images.edit=function(e){var t={image_id:void 0,description:""};return e=i.extend(t,e),C(d,"edit",e,"POST")},a.images.remove=function(e){var t={image_id:void 0};return e=i.extend(t,e),C(d,"delete",e,"POST")},a.images.setPreview=function(e){var t={model_id:void 0,image_id:void 0};return e=i.extend(t,e),C(d,"setPreview",e,"POST")},(a.categories={}).get=function(e){var t={children:!0,portal:l};return e=i.extend(t,e),C(h,"get",e)},a.categories.getChildren=function(e){var t={category_id:void 0};return e=i.extend(t,e),C(h,"getChildren",e)},(a.tags={}).get=function(e){return e=i.extend({limit:10,offset:0,like:""},e),C(u,"get",e)},a.tags.add=function(e){var t={model_id:void 0,name:""};return e=i.extend(t,e),C(u,"add",e,"POST")},a.tags.remove=function(e){var t={model_id:void 0,tag_id:""};return e=i.extend(t,e),C(u,"remove",e,"POST")},(a.comments={}).get=function(e){var t={model_id:void 0,limit:10,offset:0};return e=i.extend(t,e),C(m,"get",e)},a.comments.getSingle=function(e){var t={comment_id:void 0};return e=i.extend(t,e),C(m,"getSingle",e)},a.comments.remove=function(e){var t={comment_id:void 0};return e=i.extend(t,e),C(m,"delete",e,"POST")},a.comments.edit=function(e){var t={comment_id:void 0,comment_text:""};return e=i.extend(t,e),C(m,"edit",e,"POST")},a.comments.add=function(e){var t={comment_id:void 0,comment_text:""};return e=i.extend(t,e),C(m,"add",e,"POST")},(a.likes={}).get=function(e){var t={model_id:void 0,limit:10,offset:0};return e=i.extend(t,e),C(f,"get",e)},a.likes.like=function(e){var t={model_id:void 0};return e=i.extend(t,e),C(f,"like",e,"POST")},(a.collections={}).get=function(e){var t={limit:10,offset:0,order:a.RESULT_ORDER.NEWEST,where_user:void 0,user:!1,models:!1,portal:l};return e=i.extend(t,e),C(g,"get",e)},a.collections.getSingle=function(e){var t={collection_id:void 0,user:!1,models:!1};return e=i.extend(t,e),C(g,"getSingle",e)},a.collections.addModel=function(e){var t={collection_id:void 0,model_id:void 0};return e=i.extend(t,e),C(g,"addModel",e,"POST")},a.collections.removeModel=function(e){var t={model_id:void 0};return e=i.extend(t,e),C(g,"removeModel",e,"POST")},a.collections.add=function(e){var t={name:"",description:"",portal:l};return e=i.extend(t,e),C(g,"add",e,"POST")},a.collections.edit=function(e){var t={collection_id:void 0,name:"",description:""};return e=i.extend(t,e),C(g,"edit",e,"POST")},a.mades={},(a.users={}).loginStatus=function(){return C(_,"loginstatus")},(a.project={}).getExportFormats=function(e,t,n,o){var r=i.Deferred();return(void 0!==n?a.models.getDownloadFormats({model_id:n}):a.configurations.getPortalDownloadFormats({portal:t})).done(function(t){var n=Object.keys(t);if(n.forEach(function(e,t,n){n[t]=n[t].toUpperCase()}),o)s.getCadFormatListAsJsonAsync(e).done(function(e){var t=-1,i=e.filter(function(e){return-1!==(t=n.indexOf(e.qualifier.toUpperCase()))&&(n.splice(t,1),!0)});r.resolve(i)});else{var i,a,l=[];for(i in t)t.hasOwnProperty(i)&&(a=t[i],l.push({name:a.name,qualifier:a.format,visibleName:a.name,direct2cad:!1,cad:"3d"}));r.resolve(l)}}),r.promise()},(a.licenses={types:{shareAlike:1,noDerivates:2,nonCommercial:3,publicDomain:4,externalDownload:997,private:998,noDownload:999,seeDescription:1e3}}).get=function(){return C(v,"get")},(a.configurations={}).get=function(e){var t={portal:l};return e=i.extend(t,e),C(b,"get",e)},a.configurations.getPortalDownloadFormats=function(e){var t={portal:l};return e=i.extend(t,e),C(b,"getPortalDownloadFormats",e)},(a.manufacturers={}).get=function(e){var t={portal:l};return e=i.extend(t,e),C(w,"get",e)},t.exports=a},{"psol.core":196,"psol.order":203,"psol.translation":207}],195:[function(e,t,n){"use strict";function i(e){return this.r=0,this.g=0,this.b=0,this.a=0,3===arguments.length||4===arguments.length?this.setRGBA.apply(this,arguments):this.setStyle(e)}i.prototype.setStyle=function(e){return e.match(/^rgb/)?(e=(e=e.match(/rgba?\(([^)]+)\)/)[1]).split(/ *, */).map(Number),this.r=e[0],this.g=e[1],this.b=e[2],this.a=255,e.length>3&&(this.a=255*e[3])):"#"===e[0]&&7===e.length?(this.r=parseInt(e.slice(1,3),16),this.g=parseInt(e.slice(3,5),16),this.b=parseInt(e.slice(5,7),16),this.a=255):"#"===e[0]&&4===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=255):"#"===e[0]&&9===e.length?(this.r=parseInt(e.slice(1,3),16),this.g=parseInt(e.slice(3,5),16),this.b=parseInt(e.slice(5,7),16),this.a=parseInt(e.slice(7,9),16)):"#"===e[0]&&5===e.length?(this.r=parseInt(e[1]+e[1],16),this.g=parseInt(e[2]+e[2],16),this.b=parseInt(e[3]+e[3],16),this.a=parseInt(e[4]+e[4],16)):8===e.length&&(this.a=parseInt(e.slice(0,2),16),this.r=parseInt(e.slice(2,4),16),this.g=parseInt(e.slice(4,6),16),this.b=parseInt(e.slice(6,8),16)),this},i.prototype.setRGBA=function(e,t,n,i){return this.r=e,this.g=t,this.b=n,this.a=i||255,this},i.prototype.brightness=function(){return(299*this.r+587*this.g+114*this.b)/1e3},i.prototype.getHTML=function(){return"#"+("0"+this.r.toString(16)).slice(-2)+("0"+this.g.toString(16)).slice(-2)+("0"+this.b.toString(16)).slice(-2)},i.prototype.getRGB=function(){return"rgb("+this.r+","+this.g+","+this.b+")"},i.prototype.getRGBA=function(){return"rgba("+this.r+","+this.g+","+this.b+","+this.a/255+")"},i.prototype.getRGBAObject=function(){return{r:this.r,g:this.g,b:this.b,a:this.a/255}},i.prototype.clamp=function(){return this.r>255?this.r=255:this.r<0&&(this.r=0),this.g>255?this.g=255:this.g<0&&(this.g=0),this.b>255?this.b=255:this.b<0&&(this.b=0),this},i.prototype.lightenDarken=function(e){return e=255*e/100,this.r=Math.round(this.r+e),this.g=Math.round(this.g+e),this.b=Math.round(this.b+e),this.clamp()},t.exports=i},{}],196:[function(e,t,n){"use strict";var i=jQuery;e("jquery.binarytransport");var o=window.location.protocol+"//"+window.location.host,r="",s="english",a=[],l={},c={},p={},d=void 0;function h(){}function u(){var e=null;return navigator?((!(e=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.browserLanguage)||e.length<2)&&(e=navigator.language),(!e||e.length<2)&&(e=navigator.userLanguage),(!e||e.length<2)&&(e=navigator.systemLanguage),e):e}h.setServiceBaseUrl=function(e){o=e},h.setServicePrefix=function(e){r=e||""},h.getServicePrefix=function(){return r},h.getServiceBaseUrl=function(){return o},h.getLanguage=function(){return s},h.setLanguage=function(e){s=e},h.getLanguageByShortIso=function(e){if(null===e||""===e)return null;var t=0;for(t=0;t<a.length;++t)if(a[t].short_iso===e)return a[t];return null},h.getLanguageByLongIso=function(e){if(null===e||""===e)return null;var t=0;for(t=0;t<a.length;++t)if(a[t].long_iso===e)return a[t];return null},h.getLanguageByLanguage=function(e){if(null===e||""===e)return null;var t;for(t=0;t<a.length;++t)if(a[t].language===e)return a[t];return null},h.getShortIsoByLanguage=function(e){if(null===e||""===e)return null;var t;for(t=0;t<a.length;++t)if(a[t].language===e)return a[t].short_iso;return null},h.getLongIsoByLanguage=function(e){if(null===e||""===e)return null;var t=0;for(t=0;t<a.length;++t)if(a[t].language===e)return a[t].long_iso;return null},h.getBrowserLocaleLongIso=function(){var e=u();if(!e||5!==e.length)return null;var t=e.indexOf("-");return-1===t&&(t=e.indexOf("_")),e=e.substring(0,t)+"_"+e.substring(t+1).toUpperCase()},h.getBrowserLocaleShortIso=function(){var e=u();if(!e||e.length<2)return null;var t=e.indexOf("-");return-1===t&&(t=e.indexOf("_")),t>0&&(e=e.substring(0,t)),null!==e&&2===e.length&&(e=e.toLowerCase()),e},h.getParameter=function(e,t){var n=window.location.href,i=n.indexOf(e+"="),o="";if(-1!==i){var r=n.indexOf("#",i);-1===r&&(r=n.indexOf("&",i)),o=-1===r?n.substr(i+e.length+1):n.substr(i+e.length+1,r-(i+e.length+1))}return void 0!==o&&""!==o?decodeURIComponent(o):t},h.createUrlParameterString=function(e){var t="",n="";for(n in e)e.hasOwnProperty(n)&&(""!==t&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]));return t},h.getGlobalHttpHeaders=function(){return l},h.addGlobalHttpHeader=function(e,t){l[e]=t},h.ajax=function(e,t){var n={type:"GET",headers:{},data:{},dataType:"json",xhrFields:{withCredentials:!0}},o={addGlobalHttpHeader:!0,addGlobalHttpParameters:!0,addApiKey:!0};if(i.extend(n,e),i.extend(o,t),o.addGlobalHttpHeader&&i.extend(n.headers,l),n.data.append&&"function"==typeof n.data.append){var r;if(o.addGlobalHttpParameters)for(r in c)c.hasOwnProperty(r)&&n.data.append(r,c[r]);o.addApiKey&&n.data.append("apikey",h.getApiKey())}else o.addGlobalHttpParameters&&i.extend(n.data,c),o.addApiKey&&("object"==typeof n.data?n.data.apikey=n.data.apikey||h.getApiKey():n.url+="&apikey="+(n.data.apikey||h.getApiKey()));return o.getOrPost&&JSON.stringify(n.data).length>1024&&(n.type="POST"),i.ajax(n)},h.ajaxPost=function(e,t){return h.ajax(i.extend(e,{type:"POST"}),t)},h.ajaxGetOrPost=function(e,t){return(t=t||{}).getOrPost=!0,h.ajax(i.extend(e,{type:"GET"}),t)},h.injectFiles=function(e){var t=i.Deferred();if(e){0===e.files.length&&t.resolve();var n,o,r=[],s=[],a=[];for(n=0;n<e.files.length;++n)"style"===(o=e.files[n]).type?r.hasOwnProperty("path")?r.push(o.path):s.push(o.src):"script"===o.type&&a.push(o.path),o=null;var l=a.length,c=0;0===l&&t.resolve();var p,d=function(){++c===l&&t.resolve()};for(n=0;n<a.length;++n)(p=document.createElement("script")).setAttribute("type","text/javascript"),p.setAttribute("src",a[n]),p.onload=d,document.getElementsByTagName("head")[0].appendChild(p);var h=i("head");for(n=0;n<r.length;++n)h.append('<link rel="stylesheet" type="text/css" href="'+r[n]+'">');for(n=0;n<s.length;++n)h.append('<style type="text/css">'+s[n]+"</style>");a.length=0,r.length=0,e.files.length=0,e=null}else t.resolve();return t},h.getUserInfo=function(){return p},h.setUserInfo=function(e){p=e},h.getApiKey=function(){return d},h.setApiKey=function(e){d=e},h.getFirmByPath=function(e){var t="";return void 0!==e&&(t=e.split("/")[0]),t},h._setVirtPathForIndexNodes=function(e){return e.then(function(e){var t,n,o;if(e&&e.index&&e.index.nodes){for(n=e.index.nodes,t=0;t<n.length;++t)void 0!==(o=n[t]).virtpath&&""!==o.virtpath&&o.virtpath!==o.path&&(o.path=o.virtpath);return i.Deferred().resolve(e)}if(e)return i.Deferred().resolve(e)})},function(){a.push({short_iso:"en",long_iso:"en_GB",language:"english",name:"English",country:"United Kingdom"}),a.push({short_iso:"en",long_iso:"en_US",language:"english",name:"English",country:"United States"}),a.push({short_iso:"de",long_iso:"de_DE",language:"german",name:"Deutsch",country:"Deutschland"}),a.push({short_iso:"it",long_iso:"it_IT",language:"italian",name:"Italiano",country:"Italia"}),a.push({short_iso:"fr",long_iso:"fr_FR",language:"french",name:"Français",country:"France"}),a.push({short_iso:"es",long_iso:"es_ES",language:"spanish",name:"Español",country:"España"}),a.push({short_iso:"ja",long_iso:"ja_JP",language:"japanese",name:"日本語",country:"日本"}),a.push({short_iso:"zh",long_iso:"zh_CN",language:"chinese",name:"中文（简体）",country:"中国"}),a.push({short_iso:"zh",long_iso:"zh_TW",language:"chinese_traditional",name:"中文（傳統）",country:"中国"}),a.push({short_iso:"ru",long_iso:"ru_RU",language:"russian",name:"русский",country:"Русской Федерации"}),a.push({short_iso:"ko",long_iso:"ko_KR",language:"korean",name:"한국의",country:"한국"}),a.push({short_iso:"pt",long_iso:"pt_PT",language:"portuguese",name:"Português",country:"Portugal"}),a.push({short_iso:"cs",long_iso:"cs_CZ",language:"czech",name:"Čeština",country:"Česká republika"}),a.push({short_iso:"pl",long_iso:"pl_PL",language:"polish",name:"Polski",country:"Polska"}),a.push({short_iso:"ro",long_iso:"ro_RO",language:"romanian",name:"Român",country:"România"}),a.push({short_iso:"da",long_iso:"da_DK",language:"danish",name:"Dansk",country:"Danmark"}),a.push({short_iso:"nl",long_iso:"nl_NL",language:"dutch",name:"Nederlands",country:"Nederland"}),a.push({short_iso:"fi",long_iso:"fi_FL",language:"finnish",name:"Suomi",country:"Suomi"}),a.push({short_iso:"hu",long_iso:"hu_HU",language:"hungarian",name:"Magyar",country:"Magyarország"}),a.push({short_iso:"sk",long_iso:"sk_SK",language:"slovak",name:"Slovenčina",country:"Slovenská republika"}),a.push({short_iso:"sl",long_iso:"sl_SI",language:"slovenian",name:"Slovenščina",country:"Republika Slovenija"}),a.push({short_iso:"sv",long_iso:"sv_SE",language:"swedish",name:"Svenska",country:"Sverige"}),a.push({short_iso:"tr",long_iso:"tr_TR",language:"turkish",name:"Türkçe",country:"Türkiye"});var e=null;(e=h.getLanguageByLongIso(h.getBrowserLocaleLongIso()))||(e=h.getLanguageByShortIso(h.getBrowserLocaleShortIso())),null!==e&&(s=e.language)}(),t.exports=h},{"jquery.binarytransport":"jquery.binarytransport"}],197:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r="/service/login",s="",a="",l="";function c(){}function p(){if(window.PSolConnector||window.PsolConnector)return i.Deferred().resolve(!0);var e=i.Deferred();return o.ajax({url:o.getServiceBaseUrl()+r,data:{cmd:"sessionValid"}}).done(function(t){e.resolve(t.valid)}).fail(function(){e.reject(!1)}),e.promise()}function d(){var e=i.Deferred();return p().done(function(t){t?e.resolve():c.login().done(function(t){t?e.resolve():e.reject()}).fail(function(){e.reject()})}).fail(function(){e.reject()}),e.promise()}function h(e){var t=i.Deferred();return d().done(function(){var n=o.ajax({url:o.getServiceBaseUrl()+r,data:e});n.done(function(e){t.resolve(e)}),n.fail(function(){t.reject()})}).fail(function(){t.reject()}),t.promise()}function u(e){var t=i.Deferred(),n={cmd:"settings"};return i.extend(n,e),h(n).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()}c.setUserData=function(e,t){s=e,a=t},c.login=function(){var e=i.Deferred();if(0===s.length)return e.reject("no username given");var t={cmd:"login",user:s,pwd:a,language:o.getLanguage()},n=o.ajax({url:o.getServiceBaseUrl()+r,data:t});return n.done(function(t){t.valid?e.resolve("successfully connected"):e.reject("login data invalid")}),n.fail(function(){e.reject("error with ajax request")}),e.promise()},c.logout=function(){var e=i.Deferred();return h({cmd:"logout"}).done(function(){e.resolve()}).fail(function(){e.reject()}),e.promise()},c.getGroups=function(){var e=i.Deferred();return h({cmd:"listGroups"}).done(function(t){e.resolve(t)}).fail(function(){e.reject({})}),e.promise()},c.selectGroup=function(e){var t=i.Deferred();return l=e,h({cmd:"selectGroup",groupName:e}).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()},c.setPreferredRangeEnabled=function(e){var t=i.Deferred();return u({prefRangeEnabled:e}).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()},c.setIndexFilterEnabled=function(e){var t=i.Deferred();return u({indexFilterEnabled:e}).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()},c.setFiltersEnabled=function(e){var t=i.Deferred();return u({indexFilterEnabled:e,prefRangeEnabled:e}).done(function(){t.resolve()}).fail(function(){t.reject()}),t.promise()},c.tryReconnect=function(){var e=i.Deferred();return d().done(function(){l&&""!==l?c.selectGroup(l).done(function(){e.resolve()}).fail(function(){e.reject()}):e.resolve()}).fail(function(){e.reject()}),e.promise()},c.isErpEnabled=function(e){var t=i.Deferred();return o.ajax(i.extend(!0,{url:o.getServiceBaseUrl()+r,data:{cmd:"erpEnabled"}},e)).done(function(e){e.erpEnabled?t.resolve(!0):t.resolve(!1)}).fail(function(){t.reject()}),t.promise()},c.sessionValid=function(){var e=i.Deferred();return p().done(function(t){t?e.resolve():e.reject()}).fail(function(){e.reject()}),e.promise()},c.getSettings=function(){var e=i.Deferred();return h({cmd:"getSettings",indexFilterEnabled:!0,prefRangeEnabled:!0}).done(function(t){"true"===t.indexFilterEnabled?t.indexFilterEnabled=!0:t.indexFilterEnabled=!1,"true"===t.prefRangeEnabled?t.prefRangeEnabled=!0:t.prefRangeEnabled=!1,e.resolve(t)}).fail(function(t){e.reject(t)}),e.promise()},t.exports=c},{"psol.core":196}],198:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r="/service/export";function s(){}s.getExportFileUrl=function(e){void 0!==(e=e||{}).firm&&""!==e.firm||(e.firm=o.getFirmByPath(e.path));var t=o.createUrlParameterString(i.extend({mident:"",varsettransfer:"",path:"",language:o.getLanguage(),format:"",src:"",version:"",options:"",rt:"file"},e,o.getUserInfo()));return o.getServiceBaseUrl()+o.getServicePrefix()+r+"?"+t},s.getExportFileUrlAsync=function(e,t){t=t||{},void 0!==e.firm&&""!==e.firm||(e.firm=o.getFirmByPath(e.path));var n={url:o.getServiceBaseUrl()+o.getServicePrefix()+r,data:i.extend({mident:"",varsettransfer:"",path:"",language:o.getLanguage(),format:"",src:"",version:"",options:"",rt:"json"},e,o.getUserInfo())};return i.extend(n,t),o.ajaxGetOrPost(n)},s.getExportFileContentAsync=function(e,t){void 0!==(t=t||{}).firm&&""!==t.firm||(t.firm=o.getFirmByPath(t.path));var n={url:o.getServiceBaseUrl()+r,dataType:"",data:i.extend({mident:"",varsettransfer:"",path:"",language:o.getLanguage(),format:"",src:"",version:"",options:""},e,o.getUserInfo())};return i.extend(n,t),o.ajaxGetOrPost(n)},s.convertFileAsync=function(e,t){t=t||{};var n=new FormData;n.append("format",e.format||""),n.append("file",e.file,e.filename||""),n.append("language",o.getLanguage());var r,s=o.getUserInfo();for(r in s)s.hasOwnProperty(r)&&n.append(r,s[r]);var a={url:o.getServiceBaseUrl()+"/service/export/convert",cache:!1,dataType:"",contentType:!1,processData:!1,data:n,timeout:i.ajaxSetup().timeout||3e5};return i.extend(a,t),o.ajaxPost(a)},t.exports=s},{"psol.core":196}],199:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r="/service/geosearch";function s(){}s.startSketchSearchAsync=function(e){var t={top:"",side:"",front:"",catalogs:"",offset:0,num:10,language:o.getLanguage(),lines:0,israw:!1,eol:1};return i.extend(t,e),o._setVirtPathForIndexNodes(o.ajaxPost({url:o.getServiceBaseUrl()+r+"/sketchsearch",data:t}))},s.getSearchTemplatesAsync=function(){return o.ajax({url:o.getServiceBaseUrl()+r+"/templates"})},s.startGeoSearchByFileAsync=function(e){var t={catalogs:"",offset:0,num:10,language:o.getLanguage(),quality:90,details:!1};i.extend(t,e);var n,s=new FormData;s.append("file",e.file,e.filename||""),delete t.file,delete t.filename;for(n in t)t.hasOwnProperty(n)&&s.append(n,t[n]);var a,l=o.getUserInfo();for(a in l)l.hasOwnProperty(a)&&s.append(a,l[a]);return o._setVirtPathForIndexNodes(o.ajaxPost({url:o.getServiceBaseUrl()+r,cache:!1,dataType:"",contentType:!1,processData:!1,data:s}))},s.startGeoSearchByProjectAsync=function(e){var t={catalogs:"",offset:0,num:10,language:o.getLanguage(),quality:90,details:!1,eol:1};return i.extend(t,e),o._setVirtPathForIndexNodes(o.ajax({url:o.getServiceBaseUrl()+r+"/byproject",data:t}))},t.exports=s},{"psol.core":196}],200:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r=e("psol.preview"),s=e("psol.table"),a=!1;function l(){}l.AssistantType={CALC:"CALC",CALC_SEARCH:"CALC_SEARCH",FILTER_SEARCH:"FILTER_SEARCH"},l.setTableServicePath=function(e){console.warn('[DEPRECATED]: "psol.index.setTableServicePath", use "psol.table.setTableServicePath"'),s.setTableServicePath(e)},l.setIncludeDocuments=function(e){a=e},l.getNodeInfoAsync=function(e,t){t=t||{};var n={url:o.getServiceBaseUrl()+"/service/index",cache:!0,data:i.extend({type:"dir",response:"json",fast:"yes",language:e.language||o.getLanguage(),path:e.path||"",eol:0,includeDocs:e.includeDocuments||a?1:0},e)};return i.extend(n,t),o._setVirtPathForIndexNodes(o.ajax(n))},l.getTableInfoAsync=function(e,t){return console.warn('[DEPRECATED]: "psol.index.getTableInfoAsync", use "psol.table.getTableInfoAsync"'),s.getTableInfoAsync(e,t)},l.getMIdentAsync=function(e,t){return console.warn('[DEPRECATED]: "psol.index.getMIdentAsync", use "psol.table.getMIdentAsync"'),s.getMIdentAsync(e,t)},l.getTechViewsAsync=function(e,t){t=t||{},void 0!==e.firm&&""!==e.firm||(e.firm=o.getFirmByPath(e.path));var n={url:o.getServiceBaseUrl()+"/service/techviews",data:i.extend({path:"",language:o.getLanguage(),varsettransfer:"",mident:""},e,o.getUserInfo())};return i.extend(n,t),o.ajaxGetOrPost(n)},l.getDerivationViewsAsync=function(e,t){t=t||{},void 0!==e.firm&&""!==e.firm||(e.firm=o.getFirmByPath(e.path));var n={url:o.getServiceBaseUrl()+"/service/derivationviews",data:i.extend({path:"",language:o.getLanguage(),varsettransfer:"",mident:""},e,o.getUserInfo())};return i.extend(n,t),o.ajaxGetOrPost(n)},
/*
  Requests a license check for a specific key.

  \param params
    Keys: lic_key*, path

  \return Promise
*/
l.checkLicenseAsync=function(e,t){t=t||{};var n={url:o.getServiceBaseUrl()+"/service/license",data:i.extend({type:"license",lic_key:"",path:""},e)};return i.extend(n,t),o.ajaxGetOrPost(n)},l.getPreviewImageUrl=function(e,t,n){var r={PreviewPath:t};return i.extend(r,n),t&&-1===t.indexOf(o.getServiceBaseUrl())?o.getServiceBaseUrl()+"/FileService/CatalogImage?"+o.createUrlParameterString(r):t},l.getPregeneratedPreviewUrl=function(e){return console.warn('[DEPRECATED]: "psol.index.getPregeneratedPreviewUrl", use "psol.preview.getPregeneratedPreviewUrl"'),r.getPregeneratedPreviewUrl(e)},l.get3dPreviewAsync=function(e,t){return console.warn('[DEPRECATED]: "psol.index.get3dPreviewAsync", use "psol.preview.get3dPreviewAsync"'),r.get3dPreviewAsync(e,t)},l.get3dPreviewUrl=function(e,t){return console.warn('[DEPRECATED]: "psol.index.get3dPreviewAsync", use "psol.preview.get3dPreviewAsync"'),r.get3dPreviewUrl(e,t)},t.exports=l},{"psol.core":196,"psol.preview":204,"psol.table":206}],201:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("psol.classification"),o="countryconnection";function r(){return null!==navigator.geolocation&&void 0!==navigator.geolocation}n.isAvailable=r,n.getCurrentPosition=function(){return new Promise(function(e,t){r()?navigator.geolocation.getCurrentPosition(function(t){e(t)},function(e){t(e)}):t({code:0,message:"geolocation not available"})})},n.getLocationDataFromClassification=function(e){var t=[];return i.list({path:e}).then(function(e){if(e.classifications.nodes.length>=1)for(var n=0,i=e.classifications.nodes[0].classSystems;n<i.length;n++){var r=i[n];if(r.cSystem===o){for(var s=0,a=r.classinfos;s<a.length;s++){var l=a[s];if(void 0===l.visible||!1!==l.visible){var c={};c.iso=l.classId,c.country=l.shortdescription;for(var p=0,d=l.classvars;p<d.length;p++){var h=d[p];switch(h.varId){case"COMPANY":c.company=h.value;break;case"DESCRIPTION":c.description=h.value;break;case"STREET":c.street=h.value;break;case"ZIP":c.zip=h.value;break;case"LOCATION":c.location=h.value;break;case"DISTRICT":c.district=h.value;break;case"PHONE":c.phone=h.value;break;case"FAX":c.fax=h.value;break;case"EMAIL":c.email=h.value;break;case"URL":c.url=h.value;break;case"NAME":c.name=h.value}}t.push(c)}}break}}return t})}},{"psol.classification":193}],202:[function(e,t,n){"use strict";function i(){}i.compareFloatingNumbers=function(e,t,n){return n=n||1e-4,Math.abs(e-t)<n?0:e>t?1:-1},i.clamp=function(e,t,n){return Math.max(Math.min(e,n),t)},t.exports=i},{}],203:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r=e("psol.index"),s="/cgi-bin/cgi2pview.exe";function a(){}a.orderAsync=function(e,t,n,r,a){return a=a||{},o.ajaxGetOrPost({url:o.getServiceBaseUrl()+s,dataType:"html",data:i.extend({part:e,email:t,format:n,cgiaction:r,ccode:"utf8",partcode:"utf8",language:o.getLanguage()},a,o.getUserInfo(),{email:t})})},a.orderData=function(e,t,n,a,l,c,p,d){l=l||{},void 0===c&&(c=!0),p=p||1,d=d||"XML";var h=new i.Deferred,u={message:"",zipfile:""};return(e&&""!==e?(new i.Deferred).resolve(e):r.getMIdentAsync({path:t,language:"english",varsettransfer:n})).done(function(e){void 0!==l.firm&&""!==l.firm||(l.firm=o.getFirmByPath(t)),o.ajaxGetOrPost({url:o.getServiceBaseUrl()+s,dataType:"html",data:i.extend({cgiaction:"download",part:e,format:a,language:o.getLanguage(),downloadflags:d,ok_url:"<%download_xml%>",ok_url_type:"text"},l,o.getUserInfo())}).done(function(e){var t=new i.Deferred,n=function(e){return o.ajax({url:e,dataType:"xml",global:!1,error:null}).done(function(e){t.resolve(e)}).fail(function(t,i){setTimeout(function(){n(e)},1e3*p)}),t.promise()};n(e).done(function(t){var n=[];i(t).find("MESSAGE").contents().each(function(){n.push(i(this).text())}),u.message=n.join("\n"),u.parts=[],i(t).find("PART").each(function(t,n){var o=i(n),r={nb:o.find("NB").text(),cadformat:o.find("CADFORMAT").text(),view:o.find("VIEW").text(),files:[]};u.parts.push(r),o.find("FILENAME").each(function(t,n){var o=i(n).text();if(o&&""!==o){var s=encodeURI(e.replace("download.xml",o));r.files.push({downloadurl:s,content:""})}})});var r=i(t).find("ZIPFILE").text();if(r&&""!==r&&(u.zipfile=encodeURI(e.replace("download.xml",r))),c&&u.parts.length>0){var s=[];u.parts.forEach(function(e){e.files.forEach(function(e){s.push(o.ajax({url:e.downloadurl,dataType:"text"}).done(function(t){e.content=t}).fail(function(t,n){e.message="Status: "+t.status+" "+n}))})}),i.when.apply(i,s).done(function(){h.resolve(u)}).fail(function(){h.reject(u)})}else h.resolve(u)}).fail(function(e){u.message="failed to get download xml: "+e,h.reject(u)})}).fail(function(e){u.message=e,h.reject(u)})}),h.promise()},a.getCadFormatListAsync=function(e,t){var n={};return void 0!==e&&null!==e&&""!==e&&i.extend(n,{portal:e}),void 0!==t&&null!==t&&i.extend(n,t),o.ajax({url:o.getServiceBaseUrl()+"/cadqualifier.asp",dataType:"xml",data:n})},a.getCadFormatListAsJsonAsync=function(e,t){var n=new i.Deferred;return a.getCadFormatListAsync(e,t).done(function(e){var t=[];i(e).find("format").each(function(){var e=i(this).find("name").text();""!==i(this).find("version").text()&&(e+=" "+i(this).find("version").text()),e+=" ("+i(this).attr("cad").toUpperCase()+")",t.push({name:i(this).find("name").text(),qualifier:i(this).find("qualifier").text(),version:i(this).find("version").text(),direct2cad:"true"===i(this).find("directintocad").text(),cad:i(this).attr("cad"),type:i(this).attr("type"),visibleName:e})}),t.sort(function(e,t){return e.visibleName>t.visibleName?1:e.visibleName<t.visibleName?-1:0}),n.resolve(t)}).fail(function(e,t,i){n.reject(e,t,i)}),n.promise()},t.exports=a},{"psol.core":196,"psol.index":200}],204:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("psol.core"),o=jQuery,r="/service/preview3d",s="/23d-web";function a(e,t){t=t||{},void 0!==e.firm&&""!==e.firm||(e.firm=i.getFirmByPath(e.path));var n={data:o.extend({format:"",language:i.getLanguage(),options:"",path:"",varsettransfer:""},e,i.getUserInfo()),dataType:"",timeout:3e5,url:i.getServiceBaseUrl()+i.getServicePrefix()+r};return o.extend(n,t),i.ajaxGetOrPost(n)}n.getPregeneratedPreviewUrl=function(e){var t=e;return t=t.replace(/\.prj$/i,".gif"),i.getServiceBaseUrl()+s+"/"+t},n.get3dPreviewAsync=a,n.get3dPreviewAssemblyAsync=function(e,t){var n={url:i.getServiceBaseUrl()+i.getServicePrefix()+"/service/view3d/asm"};return a(e,t=o.extend({},n,t||{}))},n.get3dPreviewAssemblyPartAsync=function(e,t){var n={dataType:"binary",responseType:"arraybuffer",url:i.getServiceBaseUrl()+i.getServicePrefix()+"/service/view3d/part"};return a(e,t=o.extend({},n,t||{}))},n.get3dPreviewUrl=function(e,t){t=t||"";var n={options:""};"ANIMGIF"===e.format&&(n.options=JSON.stringify({height:300,sceneView:0,templateView:"blank",width:300})),void 0!==(e=o.extend(n,e)).firm&&""!==e.firm||(e.firm=i.getFirmByPath(e.path));var s=o.extend({format:"",language:i.getLanguage(),options:t,path:"",varsettransfer:""},e,i.getUserInfo());return i.getServiceBaseUrl()+r+"?"+i.createUrlParameterString(s)}},{"psol.core":196}],205:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core");function r(){}r.startFullTextSearchAsync=function(e,t){t=t||{};var n={query:"",catalogs:"",offset:0,num:10,language:o.getLanguage(),lines:0,pretty:0,pids:0,hl:0,hlpre:"",hlpost:"",resultType:"projects",eol:1};return i.extend(n,e),o._setVirtPathForIndexNodes(o.ajax(i.extend(!0,{url:o.getServiceBaseUrl()+"/service/fulltextsearch",data:n},t)))},r.startAutoCompletionSearchAsync=function(e){var t={query:"",max:10,catalogs:"",language:o.getLanguage()};return i.extend(t,e),o.ajax({url:o.getServiceBaseUrl()+"/service/auto-complete-v1",data:t})},r.getResponseData=function(e){var t={action:"resultdata",erp:0,eol:0,language:o.getLanguage(),apikey:o.getApiKey()};i.extend(!0,t,e);var n=o.getServiceBaseUrl()+"/service/resultdata";delete t.data;var r={query:e.data.query,results:[]};if(e&&e.data&&e.data.index&&e.data.index.nodes){var s,a,l,c=e.data.index.nodes;for(s=0;s<c.length;++s){if(l={path:"cat/"+c[s].path,lines:[]},c[s].lines)for(a=0;a<c[s].lines.length;++a)l.lines.push(c[s].lines[a]);r.results.push(l)}}var p,d,h=i.Deferred(),u=[];for(p in t)t.hasOwnProperty(p)&&(d=[p,t[p]],u.push(d.join("=")));return o.ajax({url:n+"?"+u.join("&"),contentType:"application/json",data:JSON.stringify(r),type:"POST",global:!1,error:function(e){h.reject(e)}}).done(function(e){h.resolve(e)}).fail(function(e){h.reject(e)}),h.promise()},t.exports=r},{"psol.core":196}],206:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("psol.core"),o=jQuery,r="/service/table";n.setTableServicePath=function(e){r=e},n.getTableInfoAsync=function(e,t){t=t||{};var n={data:o.extend({changeval:void 0===e.changeVarValue?e.changeVarValue:"",changevar:e.changeVarName||"",eol:1,fast:"yes",language:e.language||i.getLanguage(),mident:e.mident||"",path:e.path||"",response:"json",selectrowlineid:-1,selectrowlineidlow:-1,tabrestriction:e.tabrestriction,type:"tab",varsettransfer:e.varset||""},e),url:i.getServiceBaseUrl()+i.getServicePrefix()+r};return o.extend(n,t),i.ajaxGetOrPost(n).then(function(e){return e})};var s="/service/mident";n.getMIdentAsync=function(e,t){t=t||{};var n={data:o.extend({language:i.getLanguage(),maxlen:-1,path:"",type:"mident",varsettransfer:""},e),dataType:"html",url:i.getServiceBaseUrl()+i.getServicePrefix()+s};return o.extend(n,t),i.ajaxGetOrPost(n)}},{"psol.core":196}],207:[function(e,t,n){"use strict";var i=jQuery,o=e("psol.core"),r=e("psolcomponents.json");function s(){}s.getTranslationAsync=function(e){return o.ajax({url:o.getServiceBaseUrl()+"/service/translation",cache:!0,data:i.extend({module:"",language:o.getLanguage(),format:"json"},e)}).done(function(e){i.extend(!0,r,e)})},s.getTranslationByUrlAsync=function(e){return o.ajax({url:e,cache:!0}).done(function(e){i.extend(!0,r,e)})},s.addTranslation=function(e){i.extend(!0,r,e)},s.translate=function(e,t,n){n=n||o.getLanguage();var i,s=e;if(void 0!==r[n]&&void 0!==r[n][e]?s=r[n][e]:"english"!==n&&"german"!==n&&(s=r.english&&r.english[e]||e),void 0!==t)for(i=0;i<t.length;++i)s=s.replace("%"+(i+1),t[i]);return s},s.tr=s.translate,s.zTR=s.translate,t.exports=s},{"psol.core":196,"psolcomponents.json":2}],208:[function(e,t,n){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},{}],209:[function(e,t,n){var i,o;i=this,o=function(){"use strict";
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function e(e,t,n){this.ordinal_Renamed_Field=e,this.bits=t,this.name=n}e.prototype.ordinal=function(){return this.ordinal_Renamed_Field},e.forBits=function(e){if(e<0||e>=t.length)throw"ArgumentException";return t[e]};var t=[new e(1,0,"M"),new e(0,1,"L"),new e(3,2,"H"),new e(2,3,"Q")],n=[[21522,0],[20773,1],[24188,2],[23371,3],[17913,4],[16590,5],[20375,6],[19104,7],[30660,8],[29427,9],[32170,10],[30877,11],[26159,12],[25368,13],[27713,14],[26998,15],[5769,16],[5054,17],[7399,18],[6608,19],[1890,20],[597,21],[3340,22],[2107,23],[13663,24],[12392,25],[16177,26],[14854,27],[9396,28],[8579,29],[11994,30],[11245,31]],i=[0,1,1,2,1,2,2,3,1,2,2,3,2,3,3,4];
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/function o(t){this.errorCorrectionLevel=e.forBits(t>>3&3),this.dataMask=7&t}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function r(e,t){if(t||(t=e),e<1||t<1)throw"Both dimensions must be greater than 0";this.width=e,this.height=t;var n=e>>5;0!=(31&e)&&n++,this.rowSize=n,this.bits=new Array(n*t);for(var i=0;i<this.bits.length;i++)this.bits[i]=0}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function s(e,t){this.count=e,this.dataCodewords=t}function a(e,t,n){this.ecCodewordsPerBlock=e,this.ecBlocks=n?[t,n]:[t]}function l(e,t,n,i,o,r){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=[n,i,o,r];for(var s=0,a=n.ecCodewordsPerBlock,l=n.getECBlocks(),c=0;c<l.length;c++){var p=l[c];s+=p.count*(p.dataCodewords+a)}this.totalCodewords=s}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function c(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n}function p(e,t,n,i,o,r,s){this.image=e,this.possibleCenters=[],this.startX=t,this.startY=n,this.width=i,this.height=o,this.moduleSize=r,this.crossCheckStateCount=[0,0,0],this.resultPointCallback=s}o.prototype.GetHashCode=function(){return this.errorCorrectionLevel.ordinal()<<3|this.dataMask},o.prototype.Equals=function(e){var t=e;return this.errorCorrectionLevel==t.errorCorrectionLevel&&this.dataMask==t.dataMask},o.numBitsDiffering=function(e,t){return i[15&(e^=t)]+i[15&T(e,4)]+i[15&T(e,8)]+i[15&T(e,12)]+i[15&T(e,16)]+i[15&T(e,20)]+i[15&T(e,24)]+i[15&T(e,28)]},o.decodeFormatInformation=function(e){var t=o.doDecodeFormatInformation(e);return null!=t?t:o.doDecodeFormatInformation(21522^e)},o.doDecodeFormatInformation=function(e){for(var t=4294967295,i=0,r=0;r<n.length;r++){var s=n[r],a=s[0];if(a==e)return new o(s[1]);var l=this.numBitsDiffering(e,a);l<t&&(i=s[1],t=l)}return t<=3?new o(i):null},Object.defineProperty(r.prototype,"Dimension",{get:function(){if(this.width!=this.height)throw"Can't call getDimension() on a non-square matrix";return this.width}}),r.prototype.get_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);return 0!=(1&T(this.bits[n],31&e))},r.prototype.set_Renamed=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]|=1<<(31&e)},r.prototype.flip=function(e,t){var n=t*this.rowSize+(e>>5);this.bits[n]^=1<<(31&e)},r.prototype.clear=function(){for(var e=this.bits.length,t=0;t<e;t++)this.bits[t]=0},r.prototype.setRegion=function(e,t,n,i){if(t<0||e<0)throw"Left and top must be nonnegative";if(i<1||n<1)throw"Height and width must be at least 1";var o=e+n,r=t+i;if(r>this.height||o>this.width)throw"The region must fit inside the matrix";for(var s=t;s<r;s++)for(var a=s*this.rowSize,l=e;l<o;l++)this.bits[a+(l>>5)]|=1<<(31&l)},Object.defineProperty(a.prototype,"TotalECCodewords",{get:function(){return this.ecCodewordsPerBlock*this.NumBlocks}}),Object.defineProperty(a.prototype,"NumBlocks",{get:function(){for(var e=0,t=0;t<this.ecBlocks.length;t++)e+=this.ecBlocks[t].length;return e}}),a.prototype.getECBlocks=function(){return this.ecBlocks},Object.defineProperty(l.prototype,"DimensionForVersion",{get:function(){return 17+4*this.versionNumber}}),l.prototype.buildFunctionPattern=function(){var e=this.DimensionForVersion,t=new r(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);for(var n=this.alignmentPatternCenters.length,i=0;i<n;i++)for(var o=this.alignmentPatternCenters[i]-2,s=0;s<n;s++)0==i&&(0==s||s==n-1)||i==n-1&&0==s||t.setRegion(this.alignmentPatternCenters[s]-2,o,5,5);return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t},l.prototype.getECBlocksForLevel=function(e){return this.ecBlocks[e.ordinal()]},l.VERSION_DECODE_INFO=[31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017],l.VERSIONS=[new l(1,[],new a(7,new s(1,19)),new a(10,new s(1,16)),new a(13,new s(1,13)),new a(17,new s(1,9))),new l(2,[6,18],new a(10,new s(1,34)),new a(16,new s(1,28)),new a(22,new s(1,22)),new a(28,new s(1,16))),new l(3,[6,22],new a(15,new s(1,55)),new a(26,new s(1,44)),new a(18,new s(2,17)),new a(22,new s(2,13))),new l(4,[6,26],new a(20,new s(1,80)),new a(18,new s(2,32)),new a(26,new s(2,24)),new a(16,new s(4,9))),new l(5,[6,30],new a(26,new s(1,108)),new a(24,new s(2,43)),new a(18,new s(2,15),new s(2,16)),new a(22,new s(2,11),new s(2,12))),new l(6,[6,34],new a(18,new s(2,68)),new a(16,new s(4,27)),new a(24,new s(4,19)),new a(28,new s(4,15))),new l(7,[6,22,38],new a(20,new s(2,78)),new a(18,new s(4,31)),new a(18,new s(2,14),new s(4,15)),new a(26,new s(4,13),new s(1,14))),new l(8,[6,24,42],new a(24,new s(2,97)),new a(22,new s(2,38),new s(2,39)),new a(22,new s(4,18),new s(2,19)),new a(26,new s(4,14),new s(2,15))),new l(9,[6,26,46],new a(30,new s(2,116)),new a(22,new s(3,36),new s(2,37)),new a(20,new s(4,16),new s(4,17)),new a(24,new s(4,12),new s(4,13))),new l(10,[6,28,50],new a(18,new s(2,68),new s(2,69)),new a(26,new s(4,43),new s(1,44)),new a(24,new s(6,19),new s(2,20)),new a(28,new s(6,15),new s(2,16))),new l(11,[6,30,54],new a(20,new s(4,81)),new a(30,new s(1,50),new s(4,51)),new a(28,new s(4,22),new s(4,23)),new a(24,new s(3,12),new s(8,13))),new l(12,[6,32,58],new a(24,new s(2,92),new s(2,93)),new a(22,new s(6,36),new s(2,37)),new a(26,new s(4,20),new s(6,21)),new a(28,new s(7,14),new s(4,15))),new l(13,[6,34,62],new a(26,new s(4,107)),new a(22,new s(8,37),new s(1,38)),new a(24,new s(8,20),new s(4,21)),new a(22,new s(12,11),new s(4,12))),new l(14,[6,26,46,66],new a(30,new s(3,115),new s(1,116)),new a(24,new s(4,40),new s(5,41)),new a(20,new s(11,16),new s(5,17)),new a(24,new s(11,12),new s(5,13))),new l(15,[6,26,48,70],new a(22,new s(5,87),new s(1,88)),new a(24,new s(5,41),new s(5,42)),new a(30,new s(5,24),new s(7,25)),new a(24,new s(11,12),new s(7,13))),new l(16,[6,26,50,74],new a(24,new s(5,98),new s(1,99)),new a(28,new s(7,45),new s(3,46)),new a(24,new s(15,19),new s(2,20)),new a(30,new s(3,15),new s(13,16))),new l(17,[6,30,54,78],new a(28,new s(1,107),new s(5,108)),new a(28,new s(10,46),new s(1,47)),new a(28,new s(1,22),new s(15,23)),new a(28,new s(2,14),new s(17,15))),new l(18,[6,30,56,82],new a(30,new s(5,120),new s(1,121)),new a(26,new s(9,43),new s(4,44)),new a(28,new s(17,22),new s(1,23)),new a(28,new s(2,14),new s(19,15))),new l(19,[6,30,58,86],new a(28,new s(3,113),new s(4,114)),new a(26,new s(3,44),new s(11,45)),new a(26,new s(17,21),new s(4,22)),new a(26,new s(9,13),new s(16,14))),new l(20,[6,34,62,90],new a(28,new s(3,107),new s(5,108)),new a(26,new s(3,41),new s(13,42)),new a(30,new s(15,24),new s(5,25)),new a(28,new s(15,15),new s(10,16))),new l(21,[6,28,50,72,94],new a(28,new s(4,116),new s(4,117)),new a(26,new s(17,42)),new a(28,new s(17,22),new s(6,23)),new a(30,new s(19,16),new s(6,17))),new l(22,[6,26,50,74,98],new a(28,new s(2,111),new s(7,112)),new a(28,new s(17,46)),new a(30,new s(7,24),new s(16,25)),new a(24,new s(34,13))),new l(23,[6,30,54,74,102],new a(30,new s(4,121),new s(5,122)),new a(28,new s(4,47),new s(14,48)),new a(30,new s(11,24),new s(14,25)),new a(30,new s(16,15),new s(14,16))),new l(24,[6,28,54,80,106],new a(30,new s(6,117),new s(4,118)),new a(28,new s(6,45),new s(14,46)),new a(30,new s(11,24),new s(16,25)),new a(30,new s(30,16),new s(2,17))),new l(25,[6,32,58,84,110],new a(26,new s(8,106),new s(4,107)),new a(28,new s(8,47),new s(13,48)),new a(30,new s(7,24),new s(22,25)),new a(30,new s(22,15),new s(13,16))),new l(26,[6,30,58,86,114],new a(28,new s(10,114),new s(2,115)),new a(28,new s(19,46),new s(4,47)),new a(28,new s(28,22),new s(6,23)),new a(30,new s(33,16),new s(4,17))),new l(27,[6,34,62,90,118],new a(30,new s(8,122),new s(4,123)),new a(28,new s(22,45),new s(3,46)),new a(30,new s(8,23),new s(26,24)),new a(30,new s(12,15),new s(28,16))),new l(28,[6,26,50,74,98,122],new a(30,new s(3,117),new s(10,118)),new a(28,new s(3,45),new s(23,46)),new a(30,new s(4,24),new s(31,25)),new a(30,new s(11,15),new s(31,16))),new l(29,[6,30,54,78,102,126],new a(30,new s(7,116),new s(7,117)),new a(28,new s(21,45),new s(7,46)),new a(30,new s(1,23),new s(37,24)),new a(30,new s(19,15),new s(26,16))),new l(30,[6,26,52,78,104,130],new a(30,new s(5,115),new s(10,116)),new a(28,new s(19,47),new s(10,48)),new a(30,new s(15,24),new s(25,25)),new a(30,new s(23,15),new s(25,16))),new l(31,[6,30,56,82,108,134],new a(30,new s(13,115),new s(3,116)),new a(28,new s(2,46),new s(29,47)),new a(30,new s(42,24),new s(1,25)),new a(30,new s(23,15),new s(28,16))),new l(32,[6,34,60,86,112,138],new a(30,new s(17,115)),new a(28,new s(10,46),new s(23,47)),new a(30,new s(10,24),new s(35,25)),new a(30,new s(19,15),new s(35,16))),new l(33,[6,30,58,86,114,142],new a(30,new s(17,115),new s(1,116)),new a(28,new s(14,46),new s(21,47)),new a(30,new s(29,24),new s(19,25)),new a(30,new s(11,15),new s(46,16))),new l(34,[6,34,62,90,118,146],new a(30,new s(13,115),new s(6,116)),new a(28,new s(14,46),new s(23,47)),new a(30,new s(44,24),new s(7,25)),new a(30,new s(59,16),new s(1,17))),new l(35,[6,30,54,78,102,126,150],new a(30,new s(12,121),new s(7,122)),new a(28,new s(12,47),new s(26,48)),new a(30,new s(39,24),new s(14,25)),new a(30,new s(22,15),new s(41,16))),new l(36,[6,24,50,76,102,128,154],new a(30,new s(6,121),new s(14,122)),new a(28,new s(6,47),new s(34,48)),new a(30,new s(46,24),new s(10,25)),new a(30,new s(2,15),new s(64,16))),new l(37,[6,28,54,80,106,132,158],new a(30,new s(17,122),new s(4,123)),new a(28,new s(29,46),new s(14,47)),new a(30,new s(49,24),new s(10,25)),new a(30,new s(24,15),new s(46,16))),new l(38,[6,32,58,84,110,136,162],new a(30,new s(4,122),new s(18,123)),new a(28,new s(13,46),new s(32,47)),new a(30,new s(48,24),new s(14,25)),new a(30,new s(42,15),new s(32,16))),new l(39,[6,26,54,82,110,138,166],new a(30,new s(20,117),new s(4,118)),new a(28,new s(40,47),new s(7,48)),new a(30,new s(43,24),new s(22,25)),new a(30,new s(10,15),new s(67,16))),new l(40,[6,30,58,86,114,142,170],new a(30,new s(19,118),new s(6,119)),new a(28,new s(18,47),new s(31,48)),new a(30,new s(34,24),new s(34,25)),new a(30,new s(20,15),new s(61,16)))],l.getVersionForNumber=function(e){if(e<1||e>40)throw"ArgumentException";return l.VERSIONS[e-1]},l.getProvisionalVersionForDimension=function(e){if(e%4!=1)throw"Error getProvisionalVersionForDimension";try{return l.getVersionForNumber(e-17>>2)}catch(e){throw"Error getVersionForNumber"}},l.decodeVersionInformation=function(e){for(var t=4294967295,n=0,i=0;i<l.VERSION_DECODE_INFO.length;i++){var r=l.VERSION_DECODE_INFO[i];if(r==e)return this.getVersionForNumber(i+7);var s=o.numBitsDiffering(e,r);s<t&&(n=i+7,t=s)}return t<=3?this.getVersionForNumber(n):null},Object.defineProperty(c.prototype,"X",{get:function(){return Math.floor(this.x)}}),Object.defineProperty(c.prototype,"Y",{get:function(){return Math.floor(this.y)}}),c.prototype.incrementCount=function(){this.count++},c.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i/this.estimatedModuleSize<=1}return!1},p.prototype.centerFromEnd=function(e,t){return t-e[2]-e[1]/2},p.prototype.foundPatternCross=function(e){for(var t=this.moduleSize,n=t/2,i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0},p.prototype.crossCheckVertical=function(e,t,n,i){var o=this.image,r=o.height,s=this.crossCheckStateCount;s[0]=0,s[1]=0,s[2]=0;for(var a=e;a>=0&&o.data[t+a*o.width]&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&!o.data[t+a*o.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.data[t+a*o.width]&&s[1]<=n;)s[1]++,a++;if(a==r||s[1]>n)return NaN;for(;a<r&&!o.data[t+a*o.width]&&s[2]<=n;)s[2]++,a++;if(s[2]>n)return NaN;var l=s[0]+s[1]+s[2];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},p.prototype.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2],o=this.centerFromEnd(e,n),r=this.crossCheckVertical(t,Math.floor(o),2*e[1],i);if(!isNaN(r)){for(var s=(e[0]+e[1]+e[2])/3,a=this.possibleCenters.length,l=0;l<a;l++){if(this.possibleCenters[l].aboutEquals(s,r,o))return new c(o,r,s)}var p=new c(o,r,s);this.possibleCenters.push(p),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},p.prototype.find=function(){for(var e=this.image,t=this.startX,n=this.height,i=t+this.width,o=this.startY+(n>>1),r=[0,0,0],s=0;s<n;s++){var a=o+(0==(1&s)?s+1>>1:-(s+1>>1));r[0]=0,r[1]=0,r[2]=0;for(var l=t;l<i&&!e.data[l+e.width*a];)l++;for(var c=0;l<i;){if(e.data[l+a*e.width])if(1==c)r[c]++;else if(2==c){var p;if(this.foundPatternCross(r))if(null!=(p=this.handlePossibleCenter(r,a,l)))return p;r[0]=r[2],r[1]=1,r[2]=0,c=1}else r[++c]++;else 1==c&&c++,r[c]++;l++}if(this.foundPatternCross(r))if(null!=(p=this.handlePossibleCenter(r,a,i)))return p}if(0!=this.possibleCenters.length)return this.possibleCenters[0];throw"Couldn't find enough alignment patterns"};
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var d={checkAndNudgePoints:function(e,t){for(var n=e.width,i=e.height,o=!0,r=0;r<t.length&&o;r+=2){var s=Math.floor(t[r]),a=Math.floor(t[r+1]);if(s<-1||s>n||a<-1||a>i)throw"Error.checkAndNudgePoints ";o=!1,-1==s?(t[r]=0,o=!0):s==n&&(t[r]=n-1,o=!0),-1==a?(t[r+1]=0,o=!0):a==i&&(t[r+1]=i-1,o=!0)}o=!0;for(r=t.length-2;r>=0&&o;r-=2){s=Math.floor(t[r]),a=Math.floor(t[r+1]);if(s<-1||s>n||a<-1||a>i)throw"Error.checkAndNudgePoints ";o=!1,-1==s?(t[r]=0,o=!0):s==n&&(t[r]=n-1,o=!0),-1==a?(t[r+1]=0,o=!0):a==i&&(t[r+1]=i-1,o=!0)}},sampleGrid3:function(e,t,n){for(var i=new r(t),o=new Array(t<<1),s=0;s<t;s++){for(var a=o.length,l=s+.5,c=0;c<a;c+=2)o[c]=.5+(c>>1),o[c+1]=l;n.transformPoints1(o),d.checkAndNudgePoints(e,o);try{for(c=0;c<a;c+=2){e.data[Math.floor(o[c])+e.width*Math.floor(o[c+1])]&&i.set_Renamed(c>>1,s)}}catch(e){throw"Error.checkAndNudgePoints"}}return i}};function h(e,t,n){this.x=e,this.y=t,this.count=1,this.estimatedModuleSize=n}function u(){this.image=null,this.possibleCenters=[],this.hasSkipped=!1,this.crossCheckStateCount=[0,0,0,0,0],this.resultPointCallback=null}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function m(e,t,n,i,o,r,s,a,l){this.a11=e,this.a12=i,this.a13=s,this.a21=t,this.a22=o,this.a23=a,this.a31=n,this.a32=r,this.a33=l}function f(e){this.image=e,this.resultPointCallback=null}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function g(e,t){if(null==t||0==t.length)throw"System.ArgumentException";this.field=e;var n=t.length;if(n>1&&0==t[0]){for(var i=1;i<n&&0==t[i];)i++;if(i==n)this.coefficients=e.Zero.coefficients;else{this.coefficients=new Array(n-i);for(var o=0;o<this.coefficients.length;o++)this.coefficients[o]=0;for(var r=0;r<this.coefficients.length;r++)this.coefficients[r]=t[i+r]}}else this.coefficients=t}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function _(e){this.expTable=new Array(256),this.logTable=new Array(256);for(var t=1,n=0;n<256;n++)this.expTable[n]=t,(t<<=1)>=256&&(t^=e);for(n=0;n<255;n++)this.logTable[this.expTable[n]]=n;var i=new Array(1);i[0]=0,this.zero=new g(this,new Array(i));var o=new Array(1);o[0]=1,this.one=new g(this,new Array(o))}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function v(e){this.field=e}Object.defineProperty(h.prototype,"X",{get:function(){return this.x}}),Object.defineProperty(h.prototype,"Y",{get:function(){return this.y}}),h.prototype.incrementCount=function(){this.count++},h.prototype.aboutEquals=function(e,t,n){if(Math.abs(t-this.y)<=e&&Math.abs(n-this.x)<=e){var i=Math.abs(e-this.estimatedModuleSize);return i<=1||i/this.estimatedModuleSize<=1}return!1},Object.defineProperty(u.prototype,"CrossCheckStateCount",{get:function(){return this.crossCheckStateCount[0]=0,this.crossCheckStateCount[1]=0,this.crossCheckStateCount[2]=0,this.crossCheckStateCount[3]=0,this.crossCheckStateCount[4]=0,this.crossCheckStateCount}}),u.prototype.foundPatternCross=function(e){for(var t=0,n=0;n<5;n++){var i=e[n];if(0==i)return!1;t+=i}if(t<7)return!1;var o=Math.floor((t<<8)/7),r=Math.floor(o/2);return Math.abs(o-(e[0]<<8))<r&&Math.abs(o-(e[1]<<8))<r&&Math.abs(3*o-(e[2]<<8))<3*r&&Math.abs(o-(e[3]<<8))<r&&Math.abs(o-(e[4]<<8))<r},u.prototype.centerFromEnd=function(e,t){return t-e[4]-e[3]-e[2]/2},u.prototype.crossCheckVertical=function(e,t,n,i){for(var o=this.image,r=o.height,s=this.CrossCheckStateCount,a=e;a>=0&&o.data[t+a*o.width];)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!o.data[t+a*o.width]&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&o.data[t+a*o.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.data[t+a*o.width];)s[2]++,a++;if(a==r)return NaN;for(;a<r&&!o.data[t+a*o.width]&&s[3]<n;)s[3]++,a++;if(a==r||s[3]>=n)return NaN;for(;a<r&&o.data[t+a*o.width]&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=2*i?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},u.prototype.crossCheckHorizontal=function(e,t,n,i){for(var o=this.image,r=o.width,s=this.CrossCheckStateCount,a=e;a>=0&&o.data[a+t*o.width];)s[2]++,a--;if(a<0)return NaN;for(;a>=0&&!o.data[a+t*o.width]&&s[1]<=n;)s[1]++,a--;if(a<0||s[1]>n)return NaN;for(;a>=0&&o.data[a+t*o.width]&&s[0]<=n;)s[0]++,a--;if(s[0]>n)return NaN;for(a=e+1;a<r&&o.data[a+t*o.width];)s[2]++,a++;if(a==r)return NaN;for(;a<r&&!o.data[a+t*o.width]&&s[3]<n;)s[3]++,a++;if(a==r||s[3]>=n)return NaN;for(;a<r&&o.data[a+t*o.width]&&s[4]<n;)s[4]++,a++;if(s[4]>=n)return NaN;var l=s[0]+s[1]+s[2]+s[3]+s[4];return 5*Math.abs(l-i)>=i?NaN:this.foundPatternCross(s)?this.centerFromEnd(s,a):NaN},u.prototype.handlePossibleCenter=function(e,t,n){var i=e[0]+e[1]+e[2]+e[3]+e[4],o=this.centerFromEnd(e,n),r=this.crossCheckVertical(t,Math.floor(o),e[2],i);if(!isNaN(r)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(r),e[2],i),!isNaN(o))){for(var s=i/7,a=!1,l=this.possibleCenters.length,c=0;c<l;c++){var p=this.possibleCenters[c];if(p.aboutEquals(s,r,o)){p.incrementCount(),a=!0;break}}if(!a){var d=new h(o,r,s);this.possibleCenters.push(d),null!=this.resultPointCallback&&this.resultPointCallback.foundPossibleResultPoint(d)}return!0}return!1},u.prototype.selectBestPatterns=function(){var e=this.possibleCenters.length;if(e<3)throw"Couldn't find enough finder patterns:"+e+" patterns found";if(e>3){for(var t=0,n=0,i=0;i<e;i++){var o=this.possibleCenters[i].estimatedModuleSize;t+=o,n+=o*o}var r=t/e;this.possibleCenters.sort(function(e,t){var n=Math.abs(t.estimatedModuleSize-r),i=Math.abs(e.estimatedModuleSize-r);return n<i?-1:n==i?0:1});var s=Math.sqrt(n/e-r*r),a=Math.max(.2*r,s);for(i=this.possibleCenters-1;i>=0;i--){var l=this.possibleCenters[i];Math.abs(l.estimatedModuleSize-r)>a&&this.possibleCenters.splice(i,1)}}return this.possibleCenters.length>3&&this.possibleCenters.sort(function(e,t){return e.count>t.count?-1:e.count<t.count?1:0}),[this.possibleCenters[0],this.possibleCenters[1],this.possibleCenters[2]]},u.prototype.findRowSkip=function(){var e=this.possibleCenters.length;if(e<=1)return 0;for(var t=null,n=0;n<e;n++){var i=this.possibleCenters[n];if(i.count>=2){if(null!=t)return this.hasSkipped=!0,Math.floor((Math.abs(t.X-i.X)-Math.abs(t.Y-i.Y))/2);t=i}}return 0},u.prototype.haveMultiplyConfirmedCenters=function(){for(var e=0,t=0,n=this.possibleCenters.length,i=0;i<n;i++){var o=this.possibleCenters[i];o.count>=2&&(e++,t+=o.estimatedModuleSize)}if(e<3)return!1;var r=t/n,s=0;for(i=0;i<n;i++)o=this.possibleCenters[i],s+=Math.abs(o.estimatedModuleSize-r);return s<=.05*t},u.prototype.findFinderPattern=function(e){this.image=e;var t=e.height,n=e.width,i=Math.floor(3*t/228);i<3&&(i=3);for(var o=!1,r=new Array(5),s=i-1;s<t&&!o;s+=i){r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0;for(var a=0,l=0;l<n;l++)if(e.data[l+s*e.width])1==(1&a)&&a++,r[a]++;else if(0==(1&a))if(4==a)if(this.foundPatternCross(r)){if(this.handlePossibleCenter(r,s,l))if(i=2,this.hasSkipped)o=this.haveMultiplyConfirmedCenters();else{var c=this.findRowSkip();c>r[2]&&(s+=c-r[2]-i,l=n-1)}else{do{l++}while(l<n&&!e.data[l+s*e.width]);l--}a=0,r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0}else r[0]=r[2],r[1]=r[3],r[2]=r[4],r[3]=1,r[4]=0,a=3;else r[++a]++;else r[a]++;if(this.foundPatternCross(r))this.handlePossibleCenter(r,s,n)&&(i=r[0],this.hasSkipped&&(o=this.haveMultiplyConfirmedCenters()))}var p=this.selectBestPatterns();return function(e){function t(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)}var n,i,o,r,s,a,l,c,p=t(e[0],e[1]),d=t(e[1],e[2]),h=t(e[0],e[2]);if(d>=p&&d>=h?(i=e[0],n=e[1],o=e[2]):h>=d&&h>=p?(i=e[1],n=e[0],o=e[2]):(i=e[2],n=e[0],o=e[1]),r=n,a=o,l=(s=i).x,c=s.y,(a.x-l)*(r.y-c)-(a.y-c)*(r.x-l)<0){var u=n;n=o,o=u}e[0]=n,e[1]=i,e[2]=o}(p),new function(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}(p)},m.prototype.transformPoints1=function(e){for(var t=e.length,n=this.a11,i=this.a12,o=this.a13,r=this.a21,s=this.a22,a=this.a23,l=this.a31,c=this.a32,p=this.a33,d=0;d<t;d+=2){var h=e[d],u=e[d+1],m=o*h+a*u+p;e[d]=(n*h+r*u+l)/m,e[d+1]=(i*h+s*u+c)/m}},m.prototype.transformPoints2=function(e,t){for(var n=e.length,i=0;i<n;i++){var o=e[i],r=t[i],s=this.a13*o+this.a23*r+this.a33;e[i]=(this.a11*o+this.a21*r+this.a31)/s,t[i]=(this.a12*o+this.a22*r+this.a32)/s}},m.prototype.buildAdjoint=function(){return new m(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},m.prototype.times=function(e){return new m(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)},m.quadrilateralToQuadrilateral=function(e,t,n,i,o,r,s,a,l,c,p,d,h,u,m,f){var g=this.quadrilateralToSquare(e,t,n,i,o,r,s,a);return this.squareToQuadrilateral(l,c,p,d,h,u,m,f).times(g)},m.squareToQuadrilateral=function(e,t,n,i,o,r,s,a){var l=a-r,c=t-i+r-a;if(0==l&&0==c)return new m(n-e,o-n,e,i-t,r-i,t,0,0,1);var p=n-o,d=s-o,h=e-n+o-s,u=i-r,f=p*l-d*u,g=(h*l-d*c)/f,_=(p*c-h*u)/f;return new m(n-e+g*n,s-e+_*s,e,i-t+g*i,a-t+_*a,t,g,_,1)},m.quadrilateralToSquare=function(e,t,n,i,o,r,s,a){return this.squareToQuadrilateral(e,t,n,i,o,r,s,a).buildAdjoint()},f.prototype.sizeOfBlackWhiteBlackRun=function(e,t,n,i){var o=Math.abs(i-t)>Math.abs(n-e);if(o){var r=e;e=t,t=r,r=n,n=i,i=r}for(var s=Math.abs(n-e),a=Math.abs(i-t),l=-s>>1,c=t<i?1:-1,p=e<n?1:-1,d=0,h=e,u=t;h!=n;h+=p){var m=o?u:h,f=o?h:u;if(1==d?this.image.data[m+f*this.image.width]&&d++:this.image.data[m+f*this.image.width]||d++,3==d){var g=h-e,_=u-t;return Math.sqrt(g*g+_*_)}if((l+=a)>0){if(u==i)break;u+=c,l-=s}}var v=n-e,b=i-t;return Math.sqrt(v*v+b*b)},f.prototype.sizeOfBlackWhiteBlackRunBothWays=function(e,t,n,i){var o=this.sizeOfBlackWhiteBlackRun(e,t,n,i),r=1,s=e-(n-e);s<0?(r=e/(e-s),s=0):s>=this.image.width&&(r=(this.image.width-1-e)/(s-e),s=this.image.width-1);var a=Math.floor(t-(i-t)*r);return r=1,a<0?(r=t/(t-a),a=0):a>=this.image.height&&(r=(this.image.height-1-t)/(a-t),a=this.image.height-1),s=Math.floor(e+(s-e)*r),(o+=this.sizeOfBlackWhiteBlackRun(e,t,s,a))-1},f.prototype.calculateModuleSizeOneWay=function(e,t){var n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.X),Math.floor(e.Y),Math.floor(t.X),Math.floor(t.Y)),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.X),Math.floor(t.Y),Math.floor(e.X),Math.floor(e.Y));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14},f.prototype.calculateModuleSize=function(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2},f.prototype.distance=function(e,t){var n=e.X-t.X,i=e.Y-t.Y;return Math.sqrt(n*n+i*i)},f.prototype.computeDimension=function(e,t,n,i){var o=7+(Math.round(this.distance(e,t)/i)+Math.round(this.distance(e,n)/i)>>1);switch(3&o){case 0:o++;break;case 2:o--;break;case 3:throw"Error"}return o},f.prototype.findAlignmentInRegion=function(e,t,n,i){var o=Math.floor(i*e),r=Math.max(0,t-o),s=Math.min(this.image.width-1,t+o);if(s-r<3*e)throw"Error";var a=Math.max(0,n-o),l=Math.min(this.image.height-1,n+o);return new p(this.image,r,a,s-r,l-a,e,this.resultPointCallback).find()},f.prototype.createTransform=function(e,t,n,i,o){var r,s,a,l,c=o-3.5;return null!=i?(r=i.X,s=i.Y,a=l=c-3):(r=t.X-e.X+n.X,s=t.Y-e.Y+n.Y,a=l=c),m.quadrilateralToQuadrilateral(3.5,3.5,c,3.5,a,l,3.5,c,e.X,e.Y,t.X,t.Y,r,s,n.X,n.Y)},f.prototype.sampleGrid=function(e,t,n){return d.sampleGrid3(e,n,t)},f.prototype.processFinderPatternInfo=function(e){var t=e.topLeft,n=e.topRight,i=e.bottomLeft,o=this.calculateModuleSize(t,n,i);if(o<1)throw"Error";var r=this.computeDimension(t,n,i,o),s=l.getProvisionalVersionForDimension(r),a=s.DimensionForVersion-7,c=null;if(s.alignmentPatternCenters.length>0)for(var p=n.X-t.X+i.X,d=n.Y-t.Y+i.Y,h=1-3/a,u=Math.floor(t.X+h*(p-t.X)),m=Math.floor(t.Y+h*(d-t.Y)),f=4;f<=16;f<<=1){c=this.findAlignmentInRegion(o,u,m,f);break}var g=this.createTransform(t,n,i,c,r);return new function(e,t){this.bits=e,this.points=t}(this.sampleGrid(this.image,g,r),null==c?[i,t,n]:[i,t,n,c])},f.prototype.detect=function(){var e=(new u).findFinderPattern(this.image);return this.processFinderPatternInfo(e)},Object.defineProperty(g.prototype,"Zero",{get:function(){return 0==this.coefficients[0]}}),Object.defineProperty(g.prototype,"Degree",{get:function(){return this.coefficients.length-1}}),g.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},g.prototype.evaluateAt=function(e){if(0==e)return this.getCoefficient(0);var t=this.coefficients.length;if(1==e){for(var n=0,i=0;i<t;i++)n=this.field.addOrSubtract(n,this.coefficients[i]);return n}var o=this.coefficients[0];for(i=1;i<t;i++)o=this.field.addOrSubtract(this.field.multiply(e,o),this.coefficients[i]);return o},g.prototype.addOrSubtract=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero)return e;if(e.Zero)return this;var t=this.coefficients,n=e.coefficients;if(t.length>n.length){var i=t;t=n,n=i}for(var o=new Array(n.length),r=n.length-t.length,s=0;s<r;s++)o[s]=n[s];for(var a=r;a<n.length;a++)o[a]=this.field.addOrSubtract(t[a-r],n[a]);return new g(this.field,o)},g.prototype.multiply1=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(this.Zero||e.Zero)return this.field.Zero;for(var t=this.coefficients,n=t.length,i=e.coefficients,o=i.length,r=new Array(n+o-1),s=0;s<n;s++)for(var a=t[s],l=0;l<o;l++)r[s+l]=this.field.addOrSubtract(r[s+l],this.field.multiply(a,i[l]));return new g(this.field,r)},g.prototype.multiply2=function(e){if(0==e)return this.field.Zero;if(1==e)return this;for(var t=this.coefficients.length,n=new Array(t),i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new g(this.field,n)},g.prototype.multiplyByMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.field.Zero;for(var n=this.coefficients.length,i=new Array(n+e),o=0;o<i.length;o++)i[o]=0;for(o=0;o<n;o++)i[o]=this.field.multiply(this.coefficients[o],t);return new g(this.field,i)},g.prototype.divide=function(e){if(this.field!=e.field)throw"GF256Polys do not have same GF256 field";if(e.Zero)throw"Divide by 0";for(var t=this.field.Zero,n=this,i=e.getCoefficient(e.Degree),o=this.field.inverse(i);n.Degree>=e.Degree&&!n.Zero;){var r=n.Degree-e.Degree,s=this.field.multiply(n.getCoefficient(n.Degree),o),a=e.multiplyByMonomial(r,s),l=this.field.buildMonomial(r,s);t=t.addOrSubtract(l),n=n.addOrSubtract(a)}return[t,n]},Object.defineProperty(_.prototype,"Zero",{get:function(){return this.zero}}),Object.defineProperty(_.prototype,"One",{get:function(){return this.one}}),_.prototype.buildMonomial=function(e,t){if(e<0)throw"System.ArgumentException";if(0==t)return this.zero;for(var n=new Array(e+1),i=0;i<n.length;i++)n[i]=0;return n[0]=t,new g(this,n)},_.prototype.exp=function(e){return this.expTable[e]},_.prototype.log=function(e){if(0==e)throw"System.ArgumentException";return this.logTable[e]},_.prototype.inverse=function(e){if(0==e)throw"System.ArithmeticException";return this.expTable[255-this.logTable[e]]},_.prototype.addOrSubtract=function(e,t){return e^t},_.prototype.multiply=function(e,t){return 0==e||0==t?0:1==e?t:1==t?e:this.expTable[(this.logTable[e]+this.logTable[t])%255]},_.QR_CODE_FIELD=new _(285),_.DATA_MATRIX_FIELD=new _(301),v.prototype.decode=function(e,t){for(var n=new g(this.field,e),i=new Array(t),o=0;o<i.length;o++)i[o]=0;var r=!0;for(o=0;o<t;o++){var s=n.evaluateAt(this.field.exp(o));i[i.length-1-o]=s,0!=s&&(r=!1)}if(!r){var a=new g(this.field,i),l=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),a,t),c=l[0],p=l[1],d=this.findErrorLocations(c),h=this.findErrorMagnitudes(p,d,!1);for(o=0;o<d.length;o++){var u=e.length-1-this.field.log(d[o]);if(u<0)throw"ReedSolomonException Bad error location";e[u]=_.prototype.addOrSubtract(e[u],h[o])}}},v.prototype.runEuclideanAlgorithm=function(e,t,n){if(e.Degree<t.Degree){var i=e;e=t,t=i}for(var o=e,r=t,s=this.field.One,a=this.field.Zero,l=this.field.Zero,c=this.field.One;r.Degree>=Math.floor(n/2);){var p=o,d=s,h=l;if(s=a,l=c,(o=r).Zero)throw"r_{i-1} was zero";r=p;for(var u=this.field.Zero,m=o.getCoefficient(o.Degree),f=this.field.inverse(m);r.Degree>=o.Degree&&!r.Zero;){var g=r.Degree-o.Degree,_=this.field.multiply(r.getCoefficient(r.Degree),f);u=u.addOrSubtract(this.field.buildMonomial(g,_)),r=r.addOrSubtract(o.multiplyByMonomial(g,_))}a=u.multiply1(s).addOrSubtract(d),c=u.multiply1(l).addOrSubtract(h)}var v=c.getCoefficient(0);if(0==v)throw"ReedSolomonException sigmaTilde(0) was zero";var b=this.field.inverse(v);return[c.multiply2(b),r.multiply2(b)]},v.prototype.findErrorLocations=function(e){var t=e.Degree;if(1==t)return new Array(e.getCoefficient(1));for(var n=new Array(t),i=0,o=1;o<256&&i<t;o++)0==e.evaluateAt(o)&&(n[i]=this.field.inverse(o),i++);if(i!=t)throw"Error locator degree does not match number of roots";return n},v.prototype.findErrorMagnitudes=function(e,t,n){for(var i=t.length,o=new Array(i),r=0;r<i;r++){for(var s=this.field.inverse(t[r]),a=1,l=0;l<i;l++)r!=l&&(a=this.field.multiply(a,_.prototype.addOrSubtract(1,this.field.multiply(t[l],s))));o[r]=this.field.multiply(e.evaluateAt(s),this.field.inverse(a)),n&&(o[r]=this.field.multiply(o[r],s))}return o};
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var b={};
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function w(e){var t=e.Dimension;if(t<21||1!=(3&t))throw"Error BitMatrixParser";this.bitMatrix=e,this.parsedVersion=null,this.parsedFormatInfo=null}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function y(e,t){this.numDataCodewords=e,this.codewords=t}
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
function x(e,t,n){this.blockPointer=0,this.bitPointer=7,this.dataLength=0,this.blocks=e,this.numErrorCorrectionCode=n,t<=9?this.dataLengthMode=0:t>=10&&t<=26?this.dataLengthMode=1:t>=27&&t<=40&&(this.dataLengthMode=2)}b.forReference=function(e){if(e<0||e>7)throw"System.ArgumentException";return b.DATA_MASKS[e]},b.DATA_MASKS=[new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(e+t&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(1&e)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return t%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return(e+t)%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==(T(e,1)+t/3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return(1&n)+n%3==0}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){var n=e*t;return 0==((1&n)+n%3&1)}},new function(){this.unmaskBitMatrix=function(e,t){for(var n=0;n<t;n++)for(var i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)},this.isMasked=function(e,t){return 0==((e+t&1)+e*t%3&1)}}],w.prototype.copyBit=function(e,t,n){return this.bitMatrix.get_Renamed(e,t)?n<<1|1:n<<1},w.prototype.readFormatInformation=function(){if(null!=this.parsedFormatInfo)return this.parsedFormatInfo;for(var e=0,t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(var n=5;n>=0;n--)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=o.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;var i=this.bitMatrix.Dimension;e=0;var r=i-8;for(t=i-1;t>=r;t--)e=this.copyBit(t,8,e);for(n=i-7;n<i;n++)e=this.copyBit(8,n,e);if(this.parsedFormatInfo=o.decodeFormatInformation(e),null!=this.parsedFormatInfo)return this.parsedFormatInfo;throw"Error readFormatInformation"},w.prototype.readVersion=function(){if(null!=this.parsedVersion)return this.parsedVersion;var e=this.bitMatrix.Dimension,t=e-17>>2;if(t<=6)return l.getVersionForNumber(t);for(var n=0,i=e-11,o=5;o>=0;o--)for(var r=e-9;r>=i;r--)n=this.copyBit(r,o,n);if(this.parsedVersion=l.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;n=0;for(r=5;r>=0;r--)for(o=e-9;o>=i;o--)n=this.copyBit(r,o,n);if(this.parsedVersion=l.decodeVersionInformation(n),null!=this.parsedVersion&&this.parsedVersion.DimensionForVersion==e)return this.parsedVersion;throw"Error readVersion"},w.prototype.readCodewords=function(){var e=this.readFormatInformation(),t=this.readVersion(),n=b.forReference(e.dataMask),i=this.bitMatrix.Dimension;n.unmaskBitMatrix(this.bitMatrix,i);for(var o=t.buildFunctionPattern(),r=!0,s=new Array(t.totalCodewords),a=0,l=0,c=0,p=i-1;p>0;p-=2){6==p&&p--;for(var d=0;d<i;d++)for(var h=r?i-1-d:d,u=0;u<2;u++)o.get_Renamed(p-u,h)||(c++,l<<=1,this.bitMatrix.get_Renamed(p-u,h)&&(l|=1),8==c&&(s[a++]=l,c=0,l=0));r^=!0}if(a!=t.totalCodewords)throw"Error readCodewords";return s},y.getDataBlocks=function(e,t,n){if(e.length!=t.totalCodewords)throw"ArgumentException";for(var i=t.getECBlocksForLevel(n),o=0,r=i.getECBlocks(),s=0;s<r.length;s++)o+=r[s].count;for(var a=new Array(o),l=0,c=0;c<r.length;c++){var p=r[c];for(s=0;s<p.count;s++){var d=p.dataCodewords,h=i.ecCodewordsPerBlock+d;a[l++]=new y(d,new Array(h))}}for(var u=a[0].codewords.length,m=a.length-1;m>=0;){if(a[m].codewords.length==u)break;m--}m++;var f=u-i.ecCodewordsPerBlock,g=0;for(s=0;s<f;s++)for(c=0;c<l;c++)a[c].codewords[s]=e[g++];for(c=m;c<l;c++)a[c].codewords[f]=e[g++];var _=a[0].codewords.length;for(s=f;s<_;s++)for(c=0;c<l;c++){var v=c<m?s:s+1;a[c].codewords[v]=e[g++]}return a},x.prototype.getNextBits=function(e){var t=0;if(e<this.bitPointer+1){for(var n=0,i=0;i<e;i++)n+=1<<i;return n<<=this.bitPointer-e+1,t=(this.blocks[this.blockPointer]&n)>>this.bitPointer-e+1,this.bitPointer-=e,t}if(e<this.bitPointer+1+8){var o=0;for(i=0;i<this.bitPointer+1;i++)o+=1<<i;return t=(this.blocks[this.blockPointer]&o)<<e-(this.bitPointer+1),this.blockPointer++,t+=this.blocks[this.blockPointer]>>8-(e-(this.bitPointer+1)),this.bitPointer=this.bitPointer-e%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}if(e<this.bitPointer+1+16){o=0;var r=0;for(i=0;i<this.bitPointer+1;i++)o+=1<<i;var s=(this.blocks[this.blockPointer]&o)<<e-(this.bitPointer+1);this.blockPointer++;var a=this.blocks[this.blockPointer]<<e-(this.bitPointer+1+8);this.blockPointer++;for(i=0;i<e-(this.bitPointer+1+8);i++)r+=1<<i;return r<<=8-(e-(this.bitPointer+1+8)),t=s+a+((this.blocks[this.blockPointer]&r)>>8-(e-(this.bitPointer+1+8))),this.bitPointer=this.bitPointer-(e-8)%8,this.bitPointer<0&&(this.bitPointer=8+this.bitPointer),t}return 0},x.prototype.NextMode=function(){return this.blockPointer>this.blocks.length-this.numErrorCorrectionCode-2?0:this.getNextBits(4)},x.prototype.getDataLength=function(e){for(var t=0;e>>t!=1;)t++;return this.getNextBits(S.sizeOfDataLengthInfo[this.dataLengthMode][t])},x.prototype.getRomanAndFigureString=function(e){var t=e,n=0,i="",o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];do{if(t>1)n=this.getNextBits(11),i+=o[Math.floor(n/45)],i+=o[n%45],t-=2;else 1==t&&(i+=o[n=this.getNextBits(6)],t-=1)}while(t>0);return i},x.prototype.getFigureString=function(e){var t=e,n=0,i="";do{t>=3?((n=this.getNextBits(10))<100&&(i+="0"),n<10&&(i+="0"),t-=3):2==t?((n=this.getNextBits(7))<10&&(i+="0"),t-=2):1==t&&(n=this.getNextBits(4),t-=1),i+=n}while(t>0);return i},x.prototype.get8bitByteArray=function(e){var t=e,n=0,i=[];do{n=this.getNextBits(8),i.push(n),t--}while(t>0);return i},x.prototype.getKanjiString=function(e){var t=e,n=0,i="";do{var o=((n=this.getNextBits(13))/192<<8)+n%192,r=0;r=o+33088<=40956?o+33088:o+49472,i+=String.fromCharCode(r),t--}while(t>0);return i},Object.defineProperty(x.prototype,"DataByte",{get:function(){for(var e=[];;){var t=this.NextMode();if(0==t){if(e.length>0)break;throw"Empty data block"}if(1!=t&&2!=t&&4!=t&&8!=t&&7!=t)throw"Invalid mode: "+t+" in (block:"+this.blockPointer+" bit:"+this.bitPointer+")";var n=this.getDataLength(t);if(n<1)throw"Invalid data length: "+n;switch(t){case 1:for(var i=this.getFigureString(n),o=new Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);e.push(o);break;case 2:for(i=this.getRomanAndFigureString(n),o=new Array(i.length),r=0;r<i.length;r++)o[r]=i.charCodeAt(r);e.push(o);break;case 4:var s=this.get8bitByteArray(n);e.push(s);break;case 8:i=this.getKanjiString(n);e.push(i)}}return e}});
/*
*
* Copyright 2007 ZXing authors
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*      http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/
var C={};C.rsDecoder=new v(_.QR_CODE_FIELD),C.correctErrors=function(e,t){for(var n=e.length,i=new Array(n),o=0;o<n;o++)i[o]=255&e[o];var r=e.length-t;try{C.rsDecoder.decode(i,r)}catch(e){throw e}for(o=0;o<t;o++)e[o]=i[o]},C.decode=function(e){for(var t=new w(e),n=t.readVersion(),i=t.readFormatInformation().errorCorrectionLevel,o=t.readCodewords(),r=y.getDataBlocks(o,n,i),s=0,a=0;a<r.length;a++)s+=r[a].numDataCodewords;for(var l=new Array(s),c=0,p=0;p<r.length;p++){var d=r[p],h=d.codewords,u=d.numDataCodewords;C.correctErrors(h,u);for(a=0;a<u;a++)l[c++]=h[a]}return new x(l,n.versionNumber,i.bits)};
/*
   Copyright 2011 Lazar Laszlo (lazarsoft@gmail.com, www.lazarsoft.info)

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
*/
var S={};function A(){this.imagedata=null,this.width=0,this.height=0,this.qrCodeSymbol=null,this.debug=!1,this.callback=null}function T(e,t){return e>=0?e>>t:(e>>t)+(2<<~t)}return S.sizeOfDataLengthInfo=[[10,9,8,8],[12,11,16,10],[14,13,16,12]],A.prototype.decode=function(e,t){var n=function(){try{this.error=void 0,this.result=this.process(this.imagedata)}catch(e){this.error=e,this.result=void 0}return null!=this.callback&&this.callback(this.error,this.result),this.result}.bind(this);if(void 0!=e&&void 0!=e.width)this.width=e.width,this.height=e.height,this.imagedata={data:t||e.data},this.imagedata.width=e.width,this.imagedata.height=e.height,n();else{if("undefined"==typeof Image)throw new Error("This source format is not supported in your environment, you need to pass an image buffer with width and height (see https://github.com/edi9999/jsqrcode/blob/master/test/qrcode.js)");var i=new Image;i.crossOrigin="Anonymous",i.onload=function(){var e=document.createElement("canvas"),t=e.getContext("2d"),o=document.getElementById("out-canvas");if(null!=o){var r=o.getContext("2d");r.clearRect(0,0,320,240),r.drawImage(i,0,0,320,240)}e.width=i.width,e.height=i.height,t.drawImage(i,0,0),this.width=i.width,this.height=i.height;try{this.imagedata=t.getImageData(0,0,i.width,i.height)}catch(e){if(this.result="Cross domain image reading not supported in your browser! Save it to your computer then drag and drop the file!",null!=this.callback)return this.callback(null,this.result)}n()}.bind(this),i.src=e}},A.prototype.decode_utf8=function(e){return decodeURIComponent(escape(e))},A.prototype.process=function(e){for(var t=(new Date).getTime(),n=new f(this.grayScaleToBitmap(this.grayscale(e))).detect(),i=C.decode(n.bits).DataByte,o="",r=0;r<i.length;r++)for(var s=0;s<i[r].length;s++)o+=String.fromCharCode(i[r][s]);var a=(new Date).getTime()-t;return this.debug&&console.log("QR Code processing time (ms): "+a),{result:this.decode_utf8(o),points:n.points}},A.prototype.getPixel=function(e,t,n){if(e.width<t)throw"point error";if(e.height<n)throw"point error";var i=4*t+n*e.width*4;return(33*e.data[i]+34*e.data[i+1]+33*e.data[i+2])/100},A.prototype.binarize=function(e){for(var t=new Array(this.width*this.height),n=0;n<this.height;n++)for(var i=0;i<this.width;i++){var o=this.getPixel(i,n);t[i+n*this.width]=o<=e}return t},A.prototype.getMiddleBrightnessPerArea=function(e){for(var t=Math.floor(e.width/4),n=Math.floor(e.height/4),i=new Array(4),o=0;o<4;o++){i[o]=new Array(4);for(var r=0;r<4;r++)i[o][r]=[0,0]}for(var s=0;s<4;s++)for(var a=0;a<4;a++){i[a][s][0]=255;for(var l=0;l<n;l++)for(var c=0;c<t;c++){var p=e.data[t*a+c+(n*s+l)*e.width];p<i[a][s][0]&&(i[a][s][0]=p),p>i[a][s][1]&&(i[a][s][1]=p)}}for(var d=new Array(4),h=0;h<4;h++)d[h]=new Array(4);for(s=0;s<4;s++)for(a=0;a<4;a++)d[a][s]=Math.floor((i[a][s][0]+i[a][s][1])/2);return d},A.prototype.grayScaleToBitmap=function(e){for(var t=this.getMiddleBrightnessPerArea(e),n=t.length,i=Math.floor(e.width/n),o=Math.floor(e.height/n),r=0;r<n;r++)for(var s=0;s<n;s++)for(var a=0;a<o;a++)for(var l=0;l<i;l++)e.data[i*s+l+(o*r+a)*e.width]=e.data[i*s+l+(o*r+a)*e.width]<t[s][r];return e},A.prototype.grayscale=function(e){for(var t=new Array(e.width*e.height),n=0;n<e.height;n++)for(var i=0;i<e.width;i++){var o=this.getPixel(e,i,n);t[i+n*e.width]=o}return{height:e.height,width:e.width,data:t}},A},"object"==typeof n&&void 0!==t?t.exports=o():"function"==typeof define&&define.amd?define(o):i.QrCode=o()},{}],210:[function(e,t,n){var i=arguments[3],o=arguments[4],r=arguments[5],s=JSON.stringify;t.exports=function(e,t){for(var n,a=Object.keys(r),l=0,c=a.length;l<c;l++){var p=a[l],d=r[p].exports;if(d===e||d&&d.default===e){n=p;break}}if(!n){n=Math.floor(Math.pow(16,8)*Math.random()).toString(16);var h={};for(l=0,c=a.length;l<c;l++){h[p=a[l]]=p}o[n]=["function(require,module,exports){"+e+"(self); }",h]}var u=Math.floor(Math.pow(16,8)*Math.random()).toString(16),m={};m[n]=n,o[u]=["function(require,module,exports){var f = require("+s(n)+");(f.default ? f.default : f)(self);}",m];var f={};!function e(t){f[t]=!0;for(var n in o[t][1]){var i=o[t][1][n];f[i]||e(i)}}(u);var g="("+i+")({"+Object.keys(f).map(function(e){return s(e)+":["+o[e][0]+","+s(o[e][1])+"]"}).join(",")+"},{},["+s(u)+"])",_=window.URL||window.webkitURL||window.mozURL||window.msURL,v=new Blob([g],{type:"text/javascript"});if(t&&t.bare)return v;var b=_.createObjectURL(v),w=new Worker(b);return w.objectURL=b,w}},{}]},{},[13]);